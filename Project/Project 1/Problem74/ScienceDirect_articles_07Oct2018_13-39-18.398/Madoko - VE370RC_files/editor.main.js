/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";define("vs/base/common/strings",["require","exports","vs/nls!vs/editor/editor.main"],function(e,t,n){function o(e,t,n){void 0===n&&(n="0");for(var o=""+e,r=[o],i=o.length;t>i;i++)r.push(n);return r.reverse().join("")}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t.length?e:e.replace(j,function(e,n){var o=parseInt(n,10);return isNaN(o)||0>o||o>=t.length?e:t[o]})}function i(e){return void 0===e&&(e=new Date),n.localize("vs_base_common_strings",0,o(e.getMonth()+1,2),o(e.getDate(),2),o(e.getFullYear(),4),o(e.getHours(),2),o(e.getMinutes(),2),o(e.getSeconds(),2))}function s(e){return void 0===e&&(e=new Date),n.localize("vs_base_common_strings",1,o(e.getHours(),2),o(e.getMinutes(),2),o(e.getSeconds(),2))}function a(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function u(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function c(e,t,n){return e.replace(new RegExp(u(t.toString()),"g"),n)}function l(e,t){void 0===t&&(t=" ");var n=d(e,t);return h(n,t)}function d(e,t){if(!e||!t)return e;var n=t.length;if(0===n||0===e.length)return e;for(var o=0,r=-1;(r=e.indexOf(t,o))===o;)o+=n;return e.substring(o)}function h(e,t){if(!e||!t)return e;var n=t.length,o=e.length;if(0===n||0===o)return e;for(var r=o,i=-1;;){if(i=e.lastIndexOf(t,r-1),-1===i||i+n!==r)break;if(0===i)return"";r=i}return e.substring(0,r)}function p(e){return e.replace(/(^\s+|\s+$)/g,"")}function f(e){return e.replace(/\s+/g," ")}function m(e){var t=(new Date).getTime(),o=(t-e)/1e3;if(60>o)return n.localize("vs_base_common_strings",2,Math.floor(o));var r=o/60;if(60>r)return n.localize("vs_base_common_strings",3,Math.floor(r));var i=r/60;if(24>i)return n.localize("vs_base_common_strings",4,Math.floor(i));var s=i/24;return n.localize("vs_base_common_strings",5,Math.floor(s))}function g(e){var t=(new Date).getTime(),o=(t-e)/1e3;if(60>o)return n.localize("vs_base_common_strings",6);var r=o/60;if(60>r)return 1===Math.floor(r)?n.localize("vs_base_common_strings",7):n.localize("vs_base_common_strings",8,Math.floor(r));var i=r/60;if(24>i)return 1===Math.floor(i)?n.localize("vs_base_common_strings",9):n.localize("vs_base_common_strings",10,Math.floor(i));var s=i/24;return 1===Math.floor(s)?n.localize("vs_base_common_strings",11):s>6&&8>s?n.localize("vs_base_common_strings",12):s>30&&40>s?n.localize("vs_base_common_strings",13):n.localize("vs_base_common_strings",14,Math.floor(s))}function v(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function _(e){return c(e,"*","")}function y(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function b(e,t){var n=e.length-t.length;return n>0?e.lastIndexOf(t)===e.length-t.length:0===n?e===t:!1}function C(e,t,n,o){return void 0===o&&(o=""),e.substring(0,t)+o+e.substring(t+n)}function S(e,t,n,o){if(""===e)throw new Error("Cannot create regex from empty string");t||(e=e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")),o&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var r="g";return n||(r+="i"),new RegExp(e,r)}function w(e){var t=e.exec("");return t&&0===e.lastIndex}function E(e,t){if(!e)return e;if(t){for(var n=e.split("/"),o=0,r=n.length;r>o;o++)n[o]=encodeURIComponent(n[o]);return n.join("/")}return encodeURIComponent(e)}function T(e){return/^\w[\w.]*$/.test(e)}function x(e){return!e||!e.trim()}function M(e,t,n){return t&&(e="^"+e),n&&(e+="$"),e}function L(e,t){if(w(new RegExp(e,t)))throw new Error("Regular expression /"+e+"/g results in infinitive matches")}function k(e){return e?(0===e.indexOf("/")&&(e=e.substring(1)),E(e,!0)):""}function I(e,t){return"["+e+"m"+t+"[0m"}function N(e){for(var t=0,n=e.length;n>t;t++)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return t;return-1}function R(e){for(var t=0,n=e.length;n>t;t++)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return e.substring(0,t);return e}function O(e){for(var t=e.length-1;t>=0;t--)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return t;return-1}function D(e,t){return e.localeCompare(t)}function P(e){return e>=97&&122>=e||e>=65&&90>=e}function A(e,t){var n=e.length,o=t.length;if(n!==o)return!1;for(var r=0;n>r;r++){var i=e.charCodeAt(r),s=t.charCodeAt(r);if(i!==s)if(P(i)&&P(s)){var a=Math.abs(i-s);if(0!==a&&32!==a)return!1}else if(String.fromCharCode(i).toLocaleLowerCase()!==String.fromCharCode(s).toLocaleLowerCase())return!1}return!0}function W(e,t){var n,o=Math.min(e.length,t.length);for(n=0;o>n;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return o}function F(e,t){var n,o=Math.min(e.length,t.length),r=e.length-1,i=t.length-1;for(n=0;o>n;n++)if(e.charCodeAt(r-n)!==t.charCodeAt(i-n))return n;return o}function V(e,t,n){void 0===n&&(n=4);var o=Math.abs(e.length-t.length);if(o>n)return 0;var r,i,s=[],a=[];for(r=0;r<t.length+1;++r)a.push(0);for(r=0;r<e.length+1;++r)s.push(a);for(r=1;r<e.length+1;++r)for(i=1;i<t.length+1;++i)s[r][i]=e[r-1]===t[i-1]?s[r-1][i-1]+1:Math.max(s[r-1][i],s[r][i-1]);return s[e.length][t.length]-Math.sqrt(o)}function H(e){for(var t,n=/\r\n|\r|\n/g,o=[0];t=n.exec(e);)o.push(n.lastIndex);return o}function B(e,n){if(e.length<n)return e;for(var o=e.split(/\b/),r=0,i=o.length-1;i>=0;i--)if(r+=o[i].length,r>n){o.splice(0,i);break}return o.join(t.empty).replace(/^\s/,t.empty)}function U(e){return e&&(e=e.replace(q,""),e=e.replace(K,"\n"),e=e.replace(G,""),e=e.replace(X,"")),e}function z(e){return e&&e.length>0&&e.charCodeAt(0)===$}t.empty="",t.pad=o;var j=/{(\d+)}/g;t.format=r,t.formatDate=i,t.formatTime=s,t.escape=a,t.escapeRegExpCharacters=u,t.replaceAll=c,t.trim=l,t.ltrim=d,t.rtrim=h,t.trimWhitespace=p,t.normalize=f,t.conciseformatDiff=m,t.verboseformatDiff=g,t.convertSimple2RegExpPattern=v,t.stripWildcards=_,t.startsWith=y,t.endsWith=b,t.splice=C,t.createRegExp=S,t.regExpLeadsToEndlessLoop=w,t.encodeURIPart=E,t.isCamelCasePattern=T,t.isFalsyOrWhitespace=x,t.anchorPattern=M,t.assertRegExp=L,t.normalizePath=k,t.colorize=I,t.firstNonWhitespaceIndex=N,t.getLeadingWhitespace=R,t.lastNonWhitespaceIndex=O,t.localeCompare=D,t.equalsIgnoreCase=A,t.commonPrefixLength=W,t.commonSuffixLength=F,t.difference=V,t.computeLineStarts=H,t.lcut=B;var q=/\x1B\x5B[12]?K/g,K=/\xA/g,G=/\x1b\[\d+m/g,X=/\x1b\[0?m/g;t.removeAnsiEscapeCodes=U;var $=65279;t.UTF8_BOM_CHARACTER=String.fromCharCode($),t.startsWithUTF8BOM=z}),define("vs/base/common/types",["require","exports"],function(e,t){function n(e){return Array.isArray?Array.isArray(e):e&&"number"==typeof e.length&&e.constructor===Array?!0:!1}function o(e){return"string"==typeof e||e instanceof String?!0:!1}function r(e){return"undefined"==typeof e||null===e?!1:"[object Object]"===Object.prototype.toString.call(e)}function i(e){return("number"==typeof e||e instanceof Number)&&!isNaN(e)?!0:!1}function s(e){return e===!0||e===!1}function a(e){return"undefined"==typeof e}function u(e){return a(e)||null===e}function c(e){if(!r(e))return!1;for(var t in e)if(p.call(e,t))return!1;return!0}function l(e){return"[object Function]"===Object.prototype.toString.call(e)}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e&&e.length>0&&e.every(function(e){return l(e)})}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Object.create(e.prototype);return e.apply(o,t),o}t.isArray=n,t.isString=o,t.isObject=r,t.isNumber=i,t.isBoolean=s,t.isUndefined=a,t.isUndefinedOrNull=u;var p=Object.prototype.hasOwnProperty;t.isEmptyObject=c,t.isFunction=l,t.areFunctions=d,t.create=h}),define("vs/base/common/objects",["require","exports","vs/base/common/types"],function(e,t,n){function o(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]&&"object"==typeof e[n]?o(e[n]):e[n]}),t}function r(e){if(!e||"object"!=typeof e)return e;var t=Array.isArray(e)?[]:{};return Object.getOwnPropertyNames(e).forEach(function(n){t[n]=e[n]&&"object"==typeof e[n]?r(e[n]):e[n]}),t}function i(e,t){return s(e,t,[])}function s(e,t,o){if(n.isUndefinedOrNull(e))return e;var r=t(e);if("undefined"!=typeof r)return r;if(n.isArray(e)){for(var i=[],a=0;a<e.length;a++)i.push(s(e[a],t,o));return i}if(n.isObject(e)){if(o.indexOf(e)>=0)throw new Error("Cannot clone recursive data-structure");o.push(e);var u={};for(var c in e)v.call(e,c)&&(u[c]=s(e[c],t,o));return o.pop(),u}return e}function a(e,t,o){return void 0===o&&(o=!0),n.isObject(e)?(n.isObject(t)&&Object.keys(t).forEach(function(r){r in e?o&&(n.isObject(e[r])&&n.isObject(t[r])?a(e[r],t[r],o):e[r]=t[r]):e[r]=t[r]}),e):t}function u(e,t){return Object.keys(t).forEach(function(n){return e[n]=t[n]}),e}function c(e,t){return a(o(t),e||{})}function l(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var n,o;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!l(e[n],t[n]))return!1}else{var r=[];for(o in e)r.push(o);r.sort();var i=[];for(o in t)i.push(o);if(i.sort(),!l(r,i))return!1;for(n=0;n<r.length;n++)if(!l(e[r[n]],t[r[n]]))return!1}return!0}function d(e,t,n){"undefined"==typeof e[t]&&(e[t]=n)}function h(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function p(e,t){void 0===t&&(t=!1),t&&(e=e.map(function(e){return e.toLowerCase()}));var n=h(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function f(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t=t||function(){};var o=e.prototype,r=t.prototype;t.prototype=Object.create(o);for(var n in r)r.hasOwnProperty(n)&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r,n));Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0,enumerable:!0})}function m(e){var t=[];return JSON.stringify(e,function(e,o){if(n.isObject(o)||Array.isArray(o)){if(-1!==t.indexOf(o))return"[Circular]";t.push(o)}return o})}var g=function(){function e(e,t){this.first=e,this.second=t}return e}();t.Tuple=g,t.clone=o,t.deepClone=r;var v=Object.prototype.hasOwnProperty;t.cloneAndChange=i,t.mixin=a,t.assign=u,t.withDefaults=c,t.equals=l,t.ensureProperty=d,t.arrayToHash=h,t.createKeywordMatcher=p,t.derive=f,t.safeStringify=m}),define("vs/base/common/platform",["require","exports"],function(e,t){function n(){return"undefined"!=typeof d.Worker}var o=!1,r=!1,i=!1,s=!1,a=!1,u=!1;if("object"==typeof process)o="win32"===process.platform,r="darwin"===process.platform,i="linux"===process.platform,s=!0;else if("object"==typeof navigator){var c=navigator.userAgent;o=c.indexOf("Windows")>=0,r=c.indexOf("Macintosh")>=0,i=c.indexOf("Linux")>=0,a=!0,u=!!self.QUnit}!function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"}(t.Platform||(t.Platform={}));var l=t.Platform;t._platform=l.Web,s&&(r?t._platform=l.Mac:o?t._platform=l.Windows:i&&(t._platform=l.Linux)),t.isWindows=o,t.isMacintosh=r,t.isLinux=i,t.isNative=s,t.isWeb=a,t.isQunit=u,t.platform=t._platform;var d="object"==typeof self?self:global;t.globals=d,t.hasWebWorkerSupport=n,t.setTimeout=d.setTimeout.bind(d),t.clearTimeout=d.clearTimeout.bind(d),t.setInterval=d.setInterval.bind(d),t.clearInterval=d.clearInterval.bind(d)}),define("vs/base/common/errors",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/objects","vs/base/common/platform","vs/base/common/types","vs/base/common/strings"],function(e,t,n,o,r,i,s){function a(e){t.errorHandler.setUnexpectedErrorHandler(e)}function u(e){f(e)||t.errorHandler.onUnexpectedError(e)}function c(e){if(!(e instanceof Error))return e;var t={};return e.stacktrace?t.stack=e.stacktrace:e.stack&&(t.stack=e.stack),t.message=e.toString(),t}function l(e,t){var n=new S(e);return t?n.verboseMessage:n.message}function d(e,t){return t&&e.message&&(e.stack||e.stacktrace)?n.localize("vs_base_common_errors",7,e.message,e.stack||e.stacktrace):e.message?e.message:n.localize("vs_base_common_errors",8)}function h(e,t){if(void 0===e&&(e=null),void 0===t&&(t=!1),!e)return n.localize("vs_base_common_errors",9);if(i.isString(e))return e;if(!i.isUndefinedOrNull(e.status))return l(e,t);if(e.detail){var o=e.detail;if(o.error){if(o.error&&!i.isUndefinedOrNull(o.error.status))return l(o.error,t);if(!i.isArray(o.error))return d(o.error,t);for(var r=0;r<o.error.length;r++)if(o.error[r]&&!i.isUndefinedOrNull(o.error[r].status))return l(o.error[r],t)}if(o.exception)return i.isUndefinedOrNull(o.exception.status)?d(o.exception,t):l(o.exception,t)}return e.stack?d(e,t):e.message?e.message:n.localize("vs_base_common_errors",10)}function p(e){if(e)if(i.isArray(e)){for(var t=0;t<e.length;t++)if(e[t]&&e[t].status)return e[t].status}else if(e.status)return e.status;return-1}function f(e){return e instanceof Error&&e.name===w&&e.message===w}function m(){var e=new Error(w);return e.name=e.message,e}function g(){return new Error(n.localize("vs_base_common_errors",11))}function v(e){return e?new Error(n.localize("vs_base_common_errors",12,e)):new Error(n.localize("vs_base_common_errors",13))}function _(e){return e?new Error(n.localize("vs_base_common_errors",14,e)):new Error(n.localize("vs_base_common_errors",15))}function y(e){return r.isWeb?new Error(n.localize("vs_base_common_errors",16)):new Error(n.localize("vs_base_common_errors",17,JSON.stringify(e)))}function b(e,t){void 0===t&&(t=null);var n=new Error(e);return t&&(n.actions=t),n}var C=function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){r.setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}return e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}},e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e},e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e}();t.ErrorHandler=C,t.errorHandler=new C,t.setUnexpectedErrorHandler=a,t.onUnexpectedError=u,t.transformErrorForSerialization=c;var S=function(){function e(e){this.status=e.status,this.statusText=e.statusText,this.name="ConnectionError";try{this.responseText=e.responseText}catch(t){this.responseText=""}if(this.errorMessage=null,this.errorCode=null,this.errorObject=null,this.responseText)try{var n=JSON.parse(this.responseText);this.errorMessage=n.message,this.errorCode=n.code,this.errorObject=n}catch(o){}}return Object.defineProperty(e.prototype,"message",{get:function(){return this.connectionErrorToMessage(this,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verboseMessage",{get:function(){return this.connectionErrorToMessage(this,!0)},enumerable:!0,configurable:!0}),e.prototype.connectionErrorDetailsToMessage=function(e,t){var o=e.errorCode,r=e.errorMessage;return null!==o&&null!==r?n.localize("vs_base_common_errors",0,s.rtrim(r,"."),o):null!==r?r:t&&null!==e.responseText?e.responseText:null},e.prototype.connectionErrorToMessage=function(e,t){var o=this.connectionErrorDetailsToMessage(e,t);return 401===e.status?null!==o?n.localize("vs_base_common_errors",1,o):n.localize("vs_base_common_errors",2):o?o:e.status>0&&null!==e.statusText?t&&null!==e.responseText&&e.responseText.length>0?n.localize("vs_base_common_errors",3,e.statusText,e.status,e.responseText):n.localize("vs_base_common_errors",4,e.statusText,e.status):t&&null!==e.responseText&&e.responseText.length>0?n.localize("vs_base_common_errors",5,e.responseText):n.localize("vs_base_common_errors",6)},e}();t.ConnectionError=S,o.derive(Error,S),t.toErrorMessage=h,t.getHttpStatus=p;var w="Canceled";t.isPromiseCanceledError=f,t.canceled=m,t.notImplemented=g,t.illegalArgument=v,t.illegalState=_,t.loaderError=y,t.error=b}),define("vs/editor/common/model/tokensBinaryEncoding",["require","exports","vs/base/common/strings","vs/base/common/errors"],function(e,t,n,o){function r(e,n){if(0===n.length)return g;if(1===n.length&&0===n[0].startIndex&&!n[0].type&&!n[0].bracket)return _;var r,i,s,a,u,c,l=e._inflate,d=e._deflate,h=-1,p=new Array(n.length);for(r=0,i=n.length;i>r;r++)c=n[r],c.startIndex<=h&&(c.startIndex=h+1,o.onUnexpectedError({message:"Invalid tokens detected",tokens:n})),d.hasOwnProperty(c.type)?s=d[c.type]:(s=l.length,d[c.type]=s,l.push(c.type)),a=c.bracket,0>a&&(a=2),u=a*t.BRACKET_OFFSET+s*t.TYPE_OFFSET+c.startIndex*t.START_INDEX_OFFSET,p[r]=u,h=c.startIndex;return p}function i(e,n){if(0===n)return f;var o=n/t.START_INDEX_OFFSET&t.START_INDEX_MASK,r=n/t.TYPE_OFFSET&t.TYPE_MASK,i=n/t.BRACKET_OFFSET&t.BRACKET_MASK;return 2===i&&(i=-1),new p(o,e._inflate[r],i)}function s(e){return e/t.START_INDEX_OFFSET&t.START_INDEX_MASK}function a(e,o){var r=o/t.TYPE_OFFSET&t.TYPE_MASK;return 0===r?n.empty:e._inflate[r]}function u(e){var n=e/t.BRACKET_OFFSET&t.BRACKET_MASK;return 2===n&&(n=-1),n}function c(e,n){if(0===n.length)return m;if(1===n.length&&0===n[0])return v;var o,r,i,s,a,u,c=new Array(n.length),l=e._inflate;for(o=0,r=n.length;r>o;o++)i=n[o],s=i/t.START_INDEX_OFFSET&t.START_INDEX_MASK,u=i/t.TYPE_OFFSET&t.TYPE_MASK,a=i/t.BRACKET_OFFSET&t.BRACKET_MASK,2===a&&(a=-1),c[o]=new p(s,l[u],a);return c}function l(e,t){return h(e,t)}function d(e,n,o,r,i){if(0===n.length)return m;if(1===n.length&&0===n[0])return v;var s,a,u,c,l,d,f,g=h(n,o),_=[],y=e._inflate;for(u=n[g],d=u/t.TYPE_OFFSET&t.TYPE_MASK,f=u/t.BRACKET_OFFSET&t.BRACKET_MASK,l=0,_.push(new p(l,y[d],f)),s=g+1,a=n.length;a>s&&(u=n[s],c=u/t.START_INDEX_OFFSET&t.START_INDEX_MASK,!(c>=r));s++)d=u/t.TYPE_OFFSET&t.TYPE_MASK,f=u/t.BRACKET_OFFSET&t.BRACKET_MASK,l=c-o+i,_.push(new p(l,y[d],f));return _}function h(e,t){for(var n,o,r=0,i=e.length-1;i>r;)n=r+Math.ceil((i-r)/2),o=4294967295&e[n],o>t?i=n-1:r=n;return r}var p=function(){function e(e,t,n){this.startIndex=e,this.type=t,this.bracket=n}return e}();t.START_INDEX_MASK=4294967295,t.TYPE_MASK=65535,t.BRACKET_MASK=255,t.START_INDEX_OFFSET=1,t.TYPE_OFFSET=Math.pow(2,32),t.BRACKET_OFFSET=Math.pow(2,48);var f={startIndex:0,type:"",bracket:0},m=[],g=[],v=[f],_=[0];t.deflateArr=r,t.inflate=i,t.getStartIndex=s,t.getType=a,t.getBracket=u,t.inflateArr=c,t.findIndexOfOffset=l,t.sliceAndInflate=d,t.findIndexInSegmentsArray=h}),define("vs/editor/common/common",["require","exports","vs/editor/common/model/tokensBinaryEncoding"],function(e,t,n){function o(e){return"indent"===e?r.Indent:"same"===e?r.Same:r.None}!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(t.SelectionDirection||(t.SelectionDirection={}));t.SelectionDirection;!function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent"}(t.WrappingIndent||(t.WrappingIndent={}));var r=t.WrappingIndent;t.wrappingIndentFromString=o,function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(t.OverviewRulerLane||(t.OverviewRulerLane={}));t.OverviewRulerLane;!function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLinePreference||(t.EndOfLinePreference={}));t.EndOfLinePreference;!function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(t.EndOfLineSequence||(t.EndOfLineSequence={}));t.EndOfLineSequence;t.LineTokensBinaryEncoding=n,function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(t.TrackedRangeStickiness||(t.TrackedRangeStickiness={}));t.TrackedRangeStickiness;!function(e){e[e.Simple=0]="Simple",e[e.Center=1]="Center",e[e.CenterIfOutsideViewport=2]="CenterIfOutsideViewport"}(t.VerticalRevealType||(t.VerticalRevealType={}));t.VerticalRevealType;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET"}(t.MouseTargetType||(t.MouseTargetType={}));t.MouseTargetType;t.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS="editorTextFocus",t.KEYBINDING_CONTEXT_EDITOR_FOCUS="editorFocus",t.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS="editorTabMovesFocus",t.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS="editorHasMultipleSelections",t.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION="editorHasSelection",t.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID="editorLangId",t.ViewEventNames={ModelFlushedEvent:"modelFlushedEvent",LinesDeletedEvent:"linesDeletedEvent",LinesInsertedEvent:"linesInsertedEvent",LineChangedEvent:"lineChangedEvent",TokensChangedEvent:"tokensChangedEvent",DecorationsChangedEvent:"decorationsChangedEvent",CursorPositionChangedEvent:"cursorPositionChangedEvent",CursorSelectionChangedEvent:"cursorSelectionChangedEvent",RevealRangeEvent:"revealRangeEvent",LineMappingChangedEvent:"lineMappingChangedEvent"},function(e){e[e.Value=0]="Value",e[e.Selection=1]="Selection",e[e.Position=2]="Position",e[e.Scroll=3]="Scroll"}(t.CodeEditorStateFlag||(t.CodeEditorStateFlag={}));t.CodeEditorStateFlag;t.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},t.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"},t.EventType={Disposed:"disposed",ConfigurationChanged:"configurationChanged",ModelDispose:"modelDispose",ModelChanged:"modelChanged",ModelTokensChanged:"modelTokensChanged",ModelModeChanged:"modelsModeChanged",ModelModeSupportChanged:"modelsModeSupportChanged",ModelContentChanged:"contentChanged",ModelContentChanged2:"contentChanged2",ModelContentChangedFlush:"flush",ModelContentChangedLinesDeleted:"linesDeleted",ModelContentChangedLinesInserted:"linesInserted",ModelContentChangedLineChanged:"lineChanged",EditorTextBlur:"blur",EditorTextFocus:"focus",EditorFocus:"widgetFocus",EditorBlur:"widgetBlur",ModelPropertiesChanged:"propertiesChanged",ModelDecorationsChanged:"decorationsChanged",CursorPositionChanged:"positionChanged",CursorSelectionChanged:"selectionChanged",CursorRevealRange:"revealRange",ViewFocusGained:"focusGained",ViewFocusLost:"focusLost",ViewFocusChanged:"focusChanged",ViewScrollWidthChanged:"scrollWidthChanged",ViewScrollHeightChanged:"scrollHeightChanged",ViewScrollChanged:"scrollChanged",ViewZonesChanged:"zonesChanged",ViewLayoutChanged:"viewLayoutChanged",ContextMenu:"contextMenu",MouseDown:"mousedown",MouseUp:"mouseup",MouseMove:"mousemove",MouseLeave:"mouseleave",KeyDown:"keydown",KeyUp:"keyup",EditorLayout:"editorLayout",DiffUpdated:"diffUpdated"},t.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",CursorLeft:"cursorLeft",CursorLeftSelect:"cursorLeftSelect",CursorWordLeft:"cursorWordLeft",CursorWordLeftSelect:"cursorWordLeftSelect",CursorRight:"cursorRight",CursorRightSelect:"cursorRightSelect",CursorWordRight:"cursorWordRight",CursorWordRightSelect:"cursorWordRightSelect",CursorUp:"cursorUp",CursorUpSelect:"cursorUpSelect",CursorDown:"cursorDown",CursorDownSelect:"cursorDownSelect",CursorPageUp:"cursorPageUp",CursorPageUpSelect:"cursorPageUpSelect",CursorPageDown:"cursorPageDown",CursorPageDownSelect:"cursorPageDownSelect",CursorHome:"cursorHome",CursorHomeSelect:"cursorHomeSelect",CursorEnd:"cursorEnd",CursorEndSelect:"cursorEndSelect",CursorTop:"cursorTop",CursorTopSelect:"cursorTopSelect",CursorBottom:"cursorBottom",CursorBottomSelect:"cursorBottomSelect",AddCursorDown:"addCursorDown",AddCursorUp:"addCursorUp",CursorUndo:"cursorUndo",MoveTo:"moveTo",MoveToSelect:"moveToSelect",CreateCursor:"createCursor",LastCursorMoveToSelect:"lastCursorMoveToSelect",JumpToBracket:"jumpToBracket",Type:"type",ReplacePreviousChar:"replacePreviousChar",Paste:"paste",Tab:"tab",Indent:"indent",Outdent:"outdent",DeleteLeft:"deleteLeft",DeleteRight:"deleteRight",DeleteWordLeft:"deleteWordLeft",DeleteWordRight:"deleteWordRight",DeleteAllLeft:"deleteAllLeft",DeleteAllRight:"deleteAllRight",Enter:"enter",RemoveSecondaryCursors:"removeSecondaryCursors",CancelSelection:"cancelSelection",Cut:"cut",Undo:"undo",Redo:"redo",WordSelect:"wordSelect",WordSelectDrag:"wordSelectDrag",LastCursorWordSelect:"lastCursorWordSelect",LineSelect:"lineSelect",LineSelectDrag:"lineSelectDrag",LastCursorLineSelect:"lastCursorLineSelect",LastCursorLineSelectDrag:"lastCursorLineSelectDrag",LineInsertBefore:"lineInsertBefore",LineInsertAfter:"lineInsertAfter",LineBreakInsert:"lineBreakInsert",SelectAll:"selectAll"}}),define("vs/base/browser/browser",["require","exports","vs/base/common/types","vs/base/common/platform"],function(e,t,n,o){function r(){return!p&&d.history&&d.history.pushState}function i(){p=!0}function s(){if(this._hasCSSAnimationSupport===!0||this._hasCSSAnimationSupport===!1)return this._hasCSSAnimationSupport;if(!d.document)return!1;for(var e=!1,t=d.document.createElement("div"),o=["animationName","webkitAnimationName","msAnimationName","MozAnimationName","OAnimationName"],r=0;r<o.length;r++){var i=o[r];if(!n.isUndefinedOrNull(t.style[i])||t.style.hasOwnProperty(i)){e=!0;break}}return this._hasCSSAnimationSupport=e?!0:!1,this._hasCSSAnimationSupport}function a(e){if(!d.document)return!1;var t=d.document.createElement("video");if(t.canPlayType){var n=t.canPlayType(e);return"maybe"===n||"probably"===n}return!1}function u(e){if(!d.document)return!1;var t=d.document.createElement("audio");if(t.canPlayType){var n=t.canPlayType(e);return"maybe"===n||"probably"===n}return!1}function c(){return!d.document&&"undefined"!=typeof d.importScripts}function l(e){return(t.isIE11orEarlier||o.isNative)&&document.queryCommandSupported(e)}{var d="object"==typeof self?self:global,h=d.navigator?d.navigator.userAgent:"";!!d.isTest,d.document&&d.document.URL.match(/[^\?]*\?[^\#]*pseudo=true/)}t.isIE11=h.indexOf("Trident")>=0&&h.indexOf("MSIE")<0,t.isIE10=h.indexOf("MSIE 10")>=0,t.isIE9=h.indexOf("MSIE 9")>=0,t.isIE11orEarlier=t.isIE11||t.isIE10||t.isIE9,t.isIE10orEarlier=t.isIE10||t.isIE9,t.isIE10orLater=t.isIE11||t.isIE10,t.isOpera=h.indexOf("Opera")>=0,t.isFirefox=h.indexOf("Firefox")>=0,t.isWebKit=h.indexOf("AppleWebKit")>=0,t.isChrome=h.indexOf("Chrome")>=0,t.isSafari=-1===h.indexOf("Chrome")&&h.indexOf("Safari")>=0,t.isIPad=h.indexOf("iPad")>=0,t.canUseTranslate3d=!t.isIE9&&!t.isFirefox,t.enableEmptySelectionClipboard=t.isWebKit,t.canPushState=r;var p=!1;t.disablePushState=i,t.hasCSSAnimationSupport=s,t.canPlayVideo=a,t.canPlayAudio=u,t.isInWebWorker=c,t.supportsExecCommand=l}),/*!
  © Microsoft. All rights reserved.

  This library is supported for use in Windows Store apps only.

  Build: 1.0.9200.20602.win8_ldr.130108-1504
  
  Version: Microsoft.WinJS.1.0
*/
"undefined"==typeof WinJS&&(!function(e){e.setImmediate||(e.setImmediate="undefined"!=typeof process&&"function"==typeof process.nextTick?function(e){return process.nextTick(e)}:function(e){return setTimeout(e,0)})}(this),function(e,t){function n(e,n){var o,r,i,s=Object.keys(n);for(r=0,i=s.length;i>r;r++){var a=s[r],u=95!==a.charCodeAt(0),c=n[a];!c||"object"!=typeof c||c.value===t&&"function"!=typeof c.get&&"function"!=typeof c.set?u?e[a]=c:(o=o||{},o[a]={value:c,enumerable:u,configurable:!0,writable:!0}):(c.enumerable===t&&(c.enumerable=u),o=o||{},o[a]=c)}o&&Object.defineProperties(e,o)}!function(t){function o(e,t,o){for(var r=e,i=t.split("."),s=0,a=i.length;a>s;s++){var u=i[s];r[u]||Object.defineProperty(r,u,{value:{},writable:!1,enumerable:!0,configurable:!0}),r=r[u]}return o&&n(r,o),r}function r(t,n){return o(e,t,n)}e[t]||(e[t]=Object.create(Object.prototype));var i=e[t];i.Namespace||(i.Namespace=Object.create(Object.prototype)),Object.defineProperties(i.Namespace,{defineWithParent:{value:o,writable:!0,enumerable:!0,configurable:!0},define:{value:r,writable:!0,enumerable:!0,configurable:!0}})}("WinJS"),function(e){function t(t,o,r){return t=t||function(){},e.Utilities.markSupportedForProcessing(t),o&&n(t.prototype,o),r&&n(t,r),t}function o(o,r,i,s){if(o){r=r||function(){};var a=o.prototype;return r.prototype=Object.create(a),e.Utilities.markSupportedForProcessing(r),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0,enumerable:!0}),i&&n(r.prototype,i),s&&n(r,s),r}return t(r,i,s)}function r(e){e=e||function(){};var t,o;for(t=1,o=arguments.length;o>t;t++)n(e.prototype,arguments[t]);return e}e.Namespace.define("WinJS.Class",{define:t,derive:o,mix:r})}(e.WinJS)}(this),function(e,t){function n(e){return e}function o(e,t,n){return e.split(".").reduce(function(e,t){return e?n(e[t]):null},t)}var r=!!e.Windows,i={notSupportedForProcessing:"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"};t.Namespace.define("WinJS.Utilities",{_setHasWinRT:{value:function(e){r=e},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return r},configurable:!1,enumerable:!0},_getMemberFiltered:o,getMember:function(t,r){return t?o(t,r||e,n):null},ready:function(n,o){return new t.Promise(function(r,i){function s(){if(n)try{n(),r()}catch(e){i(e)}else r()}var a=t.Utilities.testReadyState;a||(a=e.document?document.readyState:"complete"),"complete"===a||e.document&&null!==document.body?o?e.setImmediate(s):s():e.addEventListener("DOMContentLoaded",s,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:function(e){return e.supportedForProcessing=!0,e},configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(n){var o=!0;switch(o=o&&!(n===e),o=o&&!(n===e.location),o=o&&!(n instanceof HTMLIFrameElement),o=o&&!("function"==typeof n&&!n.supportedForProcessing),e.frames.length){case 0:break;case 1:o=o&&!(n===e.frames[0]);break;default:for(var r=0,s=e.frames.length;o&&s>r;r++)o=o&&!(n===e.frames[r])}if(o)return n;throw new t.ErrorFromName("WinJS.Utilities.requireSupportedForProcessing",t.Resources._formatString(i.notSupportedForProcessing,n))},configurable:!1,writable:!1,enumerable:!0}}),t.Namespace.define("WinJS",{validation:!1,strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}(this,this.WinJS),function(e){function t(e,t,n){var o=e;return"function"==typeof o&&(o=o()),(n&&i.test(n)?"":n?n+": ":"")+(t?t.replace(r,":")+": ":"")+o}function n(t,n,o){var r=e.Utilities.formatLog(t,n,o);console[o&&i.test(o)?o:"log"](r)}function o(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var r=/\s+/g,i=/^(error|warn|info|log)$/;e.Namespace.define("WinJS.Utilities",{startLog:function(t){t=t||{},"string"==typeof t&&(t={tags:t});var i=t.type&&new RegExp("^("+o(t.type).replace(r," ").split(" ").join("|")+")$"),s=t.excludeTags&&new RegExp("(^|\\s)("+o(t.excludeTags).replace(r," ").split(" ").join("|")+")(\\s|$)","i"),a=t.tags&&new RegExp("(^|\\s)("+o(t.tags).replace(r," ").split(" ").join("|")+")(\\s|$)","i"),u=t.action||n;if(!(i||s||a||e.log))return e.log=u,void 0;var c=function(e,t,n){i&&!i.test(n)||s&&s.test(t)||a&&!a.test(t)||u(e,t,n),c.next&&c.next(e,t,n)};c.next=e.log,e.log=c},stopLog:function(){delete e.log},formatLog:t})}(this.WinJS),function(e){function t(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var o=this[t];n?(o||(o={wrapper:function(e){return o.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:o,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,o.wrapper,!1)),o.userHandler=n):o&&(this.removeEventListener(e,o.wrapper,!1),this[t]=null)},enumerable:!0}}function n(){for(var e={},n=0,o=arguments.length;o>n;n++){var r=arguments[n];e["on"+r]=t(r)}return e}var o=e.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),r={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var o=this._listeners[e]=this._listeners[e]||[],r=0,i=o.length;i>r;r++){var s=o[r];if(s.useCapture===n&&s.listener===t)return}o.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){var r=new o(e,t,this);n=n.slice(0,n.length);for(var i=0,s=n.length;s>i&&!r._stopImmediatePropagationCalled;i++)n[i].listener(r);return r.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var o=this._listeners&&this._listeners[e];if(o)for(var r=0,i=o.length;i>r;r++){var s=o[r];if(s.listener===t&&s.useCapture===n){o.splice(r,1),0===o.length&&delete this._listeners[e];break}}}};e.Namespace.define("WinJS.Utilities",{_createEventProperty:t,createEventProperties:n,eventMixin:r})}(this.WinJS),function(e,t,n){var o,r=!1,i="contextchanged",s=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),t.Utilities.eventMixin),a=new s,u={malformedFormatStringInput:"Malformed, did you mean to escape your '{0}'?"};t.Namespace.define("WinJS.Resources",{addEventListener:function(e,n,o){if(t.Utilities.hasWinRT&&!r&&e===i)try{Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(e){t.Resources.dispatchEvent(i,{qualifier:e.key,changed:e.target[e.key]})},!1),r=!0}catch(s){}a.addEventListener(e,n,o)},removeEventListener:a.removeEventListener.bind(a),dispatchEvent:a.dispatchEvent.bind(a),_formatString:function(e){var n=arguments;return n.length>1&&(e=e.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(e,o,r,i,s,a){if(s||a)throw t.Resources._formatString(u.malformedFormatStringInput,s||a);return o&&"{"||r&&"}"||n[(0|i)+1]})),e},_getStringWinRT:function(e){if(!o){var t=Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{o=t.getSubtree("Resources")}catch(r){}o||(o=t)}var i,s,a;try{a=o.getValue(e),a&&(i=a.valueAsString,i===n&&(i=a.toString()))}catch(r){}if(!i)return{value:e,empty:!0};try{s=a.getQualifierValue("Language")}catch(r){return{value:i}}return{value:i,lang:s}},_getStringJS:function(t){var n=e.strings&&e.strings[t];return"string"==typeof n&&(n={value:n}),n||{value:t,empty:!0}}}),Object.defineProperties(t.Resources,t.Utilities.createEventProperties(i));var c;t.Resources.getString=function(e){return(c=c||(t.Utilities.hasWinRT?t.Resources._getStringWinRT:t.Resources._getStringJS))(e)}}(this,this.WinJS),function(e,t,n){function o(){}function r(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?N:P,e._value=t,e._setState(n)}function i(e,t,n,o,r,i){return{exception:e,error:t,promise:n,handler:i,id:o,parent:r}}function s(e,t,n,o){var r=n._isException,s=n._errorId;return i(r?t:null,r?null:t,e,s,n,o)}function a(e,t,n){var o=n._isException,r=n._errorId;return v(e,r,o),i(o?t:null,o?null:t,e,r,n)}function u(e,t){var n=++V;return v(e,n),i(null,t,e,n)}function c(e,t){var n=++V;return v(e,n,!0),i(t,null,e,n)}function l(e,t,n,o){g(e,{c:t,e:n,p:o})}function d(e,t,n,o){e._value=t,f(e,t,n,o),e._setState(W)}function h(e,t){var n=e._value,o=e._listeners;if(o){e._listeners=null;var r,i;for(r=0,i=Array.isArray(o)?o.length:1;i>r;r++){var s=1===i?o:o[r],a=s.c,u=s.promise;if(u){try{u._setCompleteValue(a?a(n):n)}catch(c){u._setExceptionValue(c)}u._state!==N&&u._listeners&&t.push(u)}else q.prototype.done.call(e,a)}}}function p(e,t){var n=e._value,o=e._listeners;if(o){e._listeners=null;var r,i;for(r=0,i=Array.isArray(o)?o.length:1;i>r;r++){var a=1===i?o:o[r],u=a.e,c=a.promise;if(c){try{u?(u.handlesOnError||f(c,n,s,e,u),c._setCompleteValue(u(n))):c._setChainedErrorValue(n,e)}catch(l){c._setExceptionValue(l)}c._state!==N&&c._listeners&&t.push(c)}else z.prototype.done.call(e,null,u)}}}function f(e,t,n,o,r){if(E._listeners[T]){if(t instanceof Error&&t.message===x)return;E.dispatchEvent(T,n(e,t,o,r))}}function m(e,t){var n=e._listeners;if(n){var o,r;for(o=0,r=Array.isArray(n)?n.length:1;r>o;o++){var i=1===r?n:n[o],s=i.p;if(s)try{s(t)}catch(a){}i.c||i.e||!i.promise||i.promise._progress(t)}}}function g(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n],n.push(t)):n=t,e._listeners=n}function v(e,t,n){e._isException=n||!1,e._errorId=t}function _(e,t,n,o){e._value=t,f(e,t,n,o),e._setState(F)}function y(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?N:A,e._value=t,e._setState(n)}function b(e,t,n,o){var r=new U(e);return g(e,{promise:r,c:t,e:n,p:o}),r}function C(e){var n;return new t.Promise(function(t){e?n=setTimeout(t,e):setImmediate(t)},function(){n&&clearTimeout(n)})}function S(e,t){var n=function(){t.cancel()},o=function(){e.cancel()};return e.then(n),t.then(o,o),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var w=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),t.Utilities.eventMixin),E=new w;E._listeners={};var T="error",x="Canceled",M=!1,L={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};L.all=L.promise|L.thenPromise|L.errorPromise|L.exceptionPromise|L.completePromise;var k,I,N,R,O,D,P,A,W,F,V=1;k={name:"created",enter:function(e){e._setState(I)},cancel:o,done:o,then:o,_completed:o,_error:o,_notify:o,_progress:o,_setCompleteValue:o,_setErrorValue:o},I={name:"working",enter:o,cancel:function(e){e._setState(O)},done:l,then:b,_completed:r,_error:d,_notify:o,_progress:m,_setCompleteValue:y,_setErrorValue:_},N={name:"waiting",enter:function(e){var t=e._value,n=function(o){t._errorId?e._chainedError(o,t):(f(e,o,s,t,n),e._error(o))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))},cancel:function(e){e._setState(R)},done:l,then:b,_completed:r,_error:d,_notify:o,_progress:m,_setCompleteValue:y,_setErrorValue:_},R={name:"waiting_canceled",enter:function(e){e._setState(D);var t=e._value;t.cancel&&t.cancel()},cancel:o,done:l,then:b,_completed:r,_error:d,_notify:o,_progress:m,_setCompleteValue:y,_setErrorValue:_},O={name:"canceled",enter:function(e){e._setState(D),e._cancelAction()},cancel:o,done:l,then:b,_completed:r,_error:d,_notify:o,_progress:m,_setCompleteValue:y,_setErrorValue:_},D={name:"canceling",enter:function(e){var t=new Error(x);t.name=t.message,e._value=t,e._setState(W)},cancel:o,done:o,then:o,_completed:o,_error:o,_notify:o,_progress:o,_setCompleteValue:o,_setErrorValue:o},P={name:"complete_notify",enter:function(e){if(e.done=q.prototype.done,e.then=q.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.pop(),t._state._notify(t,n);e._setState(A)},cancel:o,done:null,then:null,_completed:o,_error:o,_notify:h,_progress:o,_setCompleteValue:o,_setErrorValue:o},A={name:"success",enter:function(e){e.done=q.prototype.done,e.then=q.prototype.then,e._cleanupAction()},cancel:o,done:null,then:null,_completed:o,_error:o,_notify:h,_progress:o,_setCompleteValue:o,_setErrorValue:o},W={name:"error_notify",enter:function(e){if(e.done=z.prototype.done,e.then=z.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.pop(),t._state._notify(t,n);e._setState(F)},cancel:o,done:null,then:null,_completed:o,_error:o,_notify:p,_progress:o,_setCompleteValue:o,_setErrorValue:o},F={name:"error",enter:function(e){e.done=z.prototype.done,e.then=z.prototype.then,e._cleanupAction()},cancel:o,done:null,then:null,_completed:o,_error:o,_notify:p,_progress:o,_setCompleteValue:o,_setErrorValue:o};var H,B=t.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,a,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,u);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,a,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,c);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),U=t.Class.derive(B,function(e){M&&(M===!0||M&L.thenPromise)&&(this._stack=t.Promise._getStack()),this._creator=e,this._setState(k),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),z=t.Class.define(function(e){M&&(M===!0||M&L.errorPromise)&&(this._stack=t.Promise._getStack()),this._value=e,f(this,e,u)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||f(null,n,s,this,t);var o=t(n);return o&&"object"==typeof o&&"function"==typeof o.done&&o.done(),void 0}catch(r){n=r}n instanceof Error&&n.message===x||setImmediate(function(){throw n})},then:function(e,t){if(!t)return this;var n,o=this._value;try{t.handlesOnError||f(null,o,s,this,t),n=new q(t(o))}catch(r){n=r===o?this:new j(r)}return n}},{supportedForProcessing:!1}),j=t.Class.derive(z,function(e){M&&(M===!0||M&L.exceptionPromise)&&(this._stack=t.Promise._getStack()),this._value=e,f(this,e,c)},{},{supportedForProcessing:!1}),q=t.Class.define(function(e){if(M&&(M===!0||M&L.completePromise)&&(this._stack=t.Promise._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var n=new U(null);return n._setCompleteValue(e),n}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(n){setImmediate(function(){throw n})}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new q(t)}catch(n){return new j(n)}}},{supportedForProcessing:!1}),K=t.Class.derive(B,function(e,n){M&&(M===!0||M&L.promise)&&(this._stack=t.Promise._getStack()),this._oncancel=n,this._setState(k),this._run();try{var o=this._completed.bind(this),r=this._error.bind(this),i=this._progress.bind(this);e(o,r,i)}catch(s){this._setExceptionValue(s)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(e){{e.message,e.stack}E.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){E.addEventListener(e,t,n)},any:function(e){return new K(function(n,o){{var r=Object.keys(e);Array.isArray(e)?[]:{}}0===r.length&&n();var i=0;r.forEach(function(s){K.as(e[s]).then(function(){n({key:s,value:e[s]})},function(a){return a instanceof Error&&a.name===x?(++i===r.length&&n(t.Promise.cancel),void 0):(o({key:s,value:e[s]}),void 0)})})},function(){var t=Object.keys(e);t.forEach(function(t){var n=K.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new q(e)},cancel:{get:function(){return H=H||new z(new t.ErrorFromName(x))}},dispatchEvent:function(e,t){return E.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new K(function(o,r,i){var s=Object.keys(e),a=Array.isArray(e)?[]:{},u=Array.isArray(e)?[]:{},c=0,l=s.length,d=function(e){if(0===--l){var n=Object.keys(a).length;if(0===n)o(u);else{var c=0;s.forEach(function(e){var t=a[e];t instanceof Error&&t.name===x&&c++}),c===n?o(t.Promise.cancel):r(a)}}else i({Key:e,Done:!0})};return s.forEach(function(t){var o=e[t];o===n?c++:K.then(o,function(e){u[t]=e,d(t)},function(e){a[t]=e,d(t)})}),l-=c,0===l?(o(u),void 0):void 0},function(){Object.keys(e).forEach(function(t){var n=K.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){E.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,o){return K.as(e).then(t,n,o)},thenEach:function(e,t,n,o){var r=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(i){r[i]=K.as(e[i]).then(t,n,o)}),K.join(r)},timeout:function(e,t){var n=C(e);return t?S(n,t):n},wrap:function(e){return new q(e)},wrapError:function(e){return new z(e)},_veryExpensiveTagWithStack:{get:function(){return M},set:function(e){M=e}},_veryExpensiveTagWithStack_tag:L,_getStack:function(){if(Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}}});Object.defineProperties(K,t.Utilities.createEventProperties(T));var G=t.Class.derive(B,function(e){this._oncancel=e,this._setState(k),this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),X=t.Class.define(function(e){this._promise=new G(e)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(e){this._promise._completed(e)},error:function(e){this._promise._error(e)},progress:function(e){this._promise._progress(e)}},{supportedForProcessing:!1});t.Namespace.define("WinJS",{Promise:K,_Signal:X})}(this,this.WinJS),function(e,t){t.Namespace.define("WinJS",{ErrorFromName:t.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1})})}(this,this.WinJS),function(e){e.Namespace.define("WinJS",{xhr:function(t){var n;return new e.Promise(function(e,o,r){n=new XMLHttpRequest,n.onreadystatechange=function(){n._canceled||(4===n.readyState?(n.status>=200&&n.status<300||1223===n.status?e(n):o(n),n.onreadystatechange=function(){}):r(n))},n.open(t.type||"GET",t.url,!0,t.user,t.password),n.responseType=t.responseType||"",Object.keys(t.headers||{}).forEach(function(e){n.setRequestHeader(e,t.headers[e])}),t.customRequestInitializer&&t.customRequestInitializer(n),n.send(t.data)},function(){n._canceled=!0,n.abort()})}})}(this.WinJS),function(e,t){var n,o,r,i,s,a,u={nonStaticHTML:"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."};n=o=function(e,t){e.innerHTML=t},r=i=function(e,t){e.outerHTML=t},s=a=function(e,t,n){e.insertAdjacentHTML(t,n)};var c=e.MSApp;if(c)o=function(e,t){c.execUnsafeLocalFunction(function(){e.innerHTML=t})},i=function(e,t){c.execUnsafeLocalFunction(function(){e.outerHTML=t})},a=function(e,t,n){c.execUnsafeLocalFunction(function(){e.insertAdjacentHTML(t,n)})};else if(e.msIsStaticHTML){var l=function(n){if(!e.msIsStaticHTML(n))throw new t.ErrorFromName("WinJS.Utitilies.NonStaticHTML",u.nonStaticHTML)};n=function(e,t){l(t),e.innerHTML=t},r=function(e,t){l(t),e.outerHTML=t},s=function(e,t,n){l(n),e.insertAdjacentHTML(t,n)}}t.Namespace.define("WinJS.Utilities",{setInnerHTML:n,setInnerHTMLUnsafe:o,setOuterHTML:r,setOuterHTMLUnsafe:i,insertAdjacentHTML:s,insertAdjacentHTMLUnsafe:a})}(this,this.WinJS)),function(e){"undefined"==typeof exports&&"function"==typeof define&&define.amd?define("vs/base/common/winjs.base.raw",e.WinJS):module.exports=e.WinJS}(this),define("vs/base/common/winjs.base",["./winjs.base.raw","vs/base/common/errors","vs/base/common/platform"],function(e,t,n){function o(e){if(!n.isNative){var o=e.detail,r=o.id;if(o.parent)return o.handler&&s&&delete s[r],void 0;s[r]=o,1===Object.keys(s).length&&setTimeout(function(){var e=s;s={},Object.keys(e).forEach(function(n){var o=e[n];o.exception?t.onUnexpectedError(o.exception):o.error&&t.onUnexpectedError(o.error),console.log("WARNING: Promise with no error callback:"+o.id),console.log(o),o.exception&&console.log(o.exception.stack)})},0)}}function r(e,t,n){var o,r,s,a=new i.Promise(function(e,t,n){o=e,r=t,s=n},function(){e.cancel()});return e.then(function(e){t&&t(e),o(e)},function(e){n&&n(e),r(e)},s),a}var i=e,s={};return i.Promise.addEventListener("error",o),{decoratePromise:r,Class:i.Class,xhr:i.xhr,Promise:i.Promise,TPromise:i.Promise,PPromise:i.Promise,Utilities:i.Utilities}});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/common/async",["require","exports","vs/base/common/errors","vs/base/common/winjs.base","vs/base/common/platform"],function(e,t,n,o,r){function i(e,t){return new o.TPromise(function(o,r,i){e.done(function(e){try{t(e)}catch(r){n.onUnexpectedError(r)}o(e)},function(e){try{t(e)}catch(o){n.onUnexpectedError(o)}r(e)},function(e){i(e)})},function(){e.cancel()})}function s(e){function t(){return e.length?e.pop()():null}function n(e){e&&r.push(e);var i=t();return i?i.then(n):o.TPromise.as(r)}var r=[];return e=e.reverse(),o.Promise.as(null).then(n)}function a(e){var t,n=this,o=!1;return function(){return o?t:(o=!0,t=e.apply(n,arguments))}}var u=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=new o.Promise(function(e,o,r){t.activePromise.then(n,n,r).done(e)},function(){t.activePromise.cancel()})}return new o.Promise(function(e,n,o){t.queuedPromise.then(e,n,o)},function(){})}return this.activePromise=e(),new o.Promise(function(e,n,o){t.activePromise.done(function(n){t.activePromise=null,e(n)},function(e){t.activePromise=null,n(e)},o)},function(){t.activePromise.cancel()})},e}();t.Throttler=u;var c=function(){function e(e){this.defaultDelay=e,this.timeoutPromise=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){var n=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new o.Promise(function(e){n.onSuccess=e},function(){}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task();return n.task=null,e})),this.timeoutPromise=o.Promise.timeout(t),this.timeoutPromise.then(function(){n.timeoutPromise=null,n.onSuccess(null)}),this.completionPromise},e.prototype.isTriggered=function(){return!!this.timeoutPromise},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null)},e}();t.Delayer=c;var l=function(e){function t(t){e.call(this,t),this.throttler=new u}return __extends(t,e),t.prototype.trigger=function(t,n){var o=this;return e.prototype.trigger.call(this,function(){return o.throttler.queue(t)},n)},t}(c);t.ThrottledDelayer=l;var d=function(e){function t(t,n){void 0===n&&(n=0),e.call(this,t),this.minimumPeriod=n,this.periodThrottler=new u}return __extends(t,e),t.prototype.trigger=function(t,n){var r=this;return e.prototype.trigger.call(this,function(){return r.periodThrottler.queue(function(){return o.Promise.join([o.Promise.timeout(r.minimumPeriod),t()]).then(function(e){return e[1]})})},n)},t}(l);t.PeriodThrottledDelayer=d;var h=function(){function e(){var e=this;this._value=new o.TPromise(function(t,n){e._completeCallback=t,e._errorCallback=n})}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.complete=function(e){this._completeCallback(e)},e.prototype.error=function(e){this._errorCallback(e)},e}();t.PromiseSource=h;var p=function(e){function t(t){var o,r,i;e.call(this,function(e,t,n){o=e,r=t,i=n},function(){r(n.canceled())}),t.then(o,r,i)}return __extends(t,e),t}(o.TPromise);t.ShallowCancelThenPromise=p,t.always=i,t.sequence=s,t.once=a;var f=function(){function e(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0}return e.prototype.queue=function(e){var t=this;return new o.TPromise(function(n,o,r){t.outstandingPromises.push({factory:e,c:n,e:o,p:r}),t.consume()})},e.prototype.consume=function(){for(var e=this;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){var t=this.outstandingPromises.shift();this.runningPromises++;var n=t.factory();n.done(t.c,t.e,t.p),n.done(function(){return e.consumed()},function(){return e.consumed()})}},e.prototype.consumed=function(){this.runningPromises--,this.consume()},e}();t.Limiter=f;var m=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){-1!==this.timeoutToken&&(r.clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.setRunner=function(e){this.runner=e},e.prototype.setTimeout=function(e){this.timeout=e},e.prototype.schedule=function(){this.cancel(),this.timeoutToken=r.setTimeout(this.timeoutHandler,this.timeout)},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.runner()},e}();t.RunOnceScheduler=m}),define("vs/base/common/eventEmitter",["require","exports","vs/base/common/errors"],function(e,t,n){var o=function(){function e(e,t,n){void 0===n&&(n=null),this._type=e,this._data=t,this._emitterType=n}return e.prototype.getType=function(){return this._type},e.prototype.getData=function(){return this._data},e.prototype.getEmitterType=function(){return this._emitterType},e}();t.EmitterEvent=o;var r=function(){function e(e){if(void 0===e&&(e=null),this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,e){this._allowedEventTypes={};for(var t=0;t<e.length;t++)this._allowedEventTypes[e[t]]=!0}else this._allowedEventTypes=null}return e.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,this._allowedEventTypes=null},e.prototype.addListener=function(e,t){if("*"===e)throw new Error("Use addBulkListener(listener) to register your listener!");if(this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("This object will never emit this event type!");this._listeners.hasOwnProperty(e)?this._listeners[e].push(t):this._listeners[e]=[t];var n=this;return function(){n&&(n._removeListener(e,t),n=null,t=null)}},e.prototype.addListener2=function(e,t){var n=this.addListener(e,t);return{dispose:n}},e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.addOneTimeListener=function(e,t){var n=this.addListener(e,function(e){n(),t(e)});return n},e.prototype.addOneTimeDisposableListener=function(e,t){var n=this.addOneTimeListener(e,t);return{dispose:n}},e.prototype.addBulkListener=function(e){var t=this;return this._bulkListeners.push(e),function(){t._removeBulkListener(e)}},e.prototype.addBulkListener2=function(e){var t=this.addBulkListener(e);return{dispose:t}},e.prototype.addEmitter=function(e,t){var n=this;return void 0===t&&(t=null),e.addBulkListener(function(e){var r=e;if(t){r=[];for(var i=0,s=e.length;s>i;i++)r.push(new o(e[i].getType(),e[i].getData(),t))}0===n._deferredCnt?n._emitEvents(r):n._collectedEvents.push.apply(n._collectedEvents,r)})},e.prototype.addEmitter2=function(e,t){var n=this.addEmitter(e,t);return{dispose:n}},e.prototype.addEmitterTypeListener=function(e,t,n){if(t){if("*"===e)throw new Error("Bulk listeners cannot specify an emitter type");return this.addListener(e+"/"+t,n)}return this.addListener(e,n)},e.prototype._removeListener=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e],o=0,r=n.length;r>o;o++)if(n[o]===t){n.splice(o,1);break}},e.prototype._removeBulkListener=function(e){for(var t=0,n=this._bulkListeners.length;n>t;t++)if(this._bulkListeners[t]===e){this._bulkListeners.splice(t,1);break}},e.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var o=this._listeners[e].slice(0),r=0,i=o.length;i>r;r++)try{o[r](t)}catch(s){n.onUnexpectedError(s)}},e.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners.slice(0),o=0,r=t.length;r>o;o++)try{t[o](e)}catch(i){n.onUnexpectedError(i)}},e.prototype._emitEvents=function(e){this._bulkListeners.length>0&&this._emitToBulkListeners(e);for(var t=0,n=e.length;n>t;t++){var o=e[t];this._emitToSpecificTypeListeners(o.getType(),o.getData()),o.getEmitterType()&&this._emitToSpecificTypeListeners(o.getType()+"/"+o.getEmitterType(),o.getData())}},e.prototype.emit=function(e,t){if(void 0===t&&(t={}),this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("Cannot emit this event type because it wasn't white-listed!");if(this._listeners.hasOwnProperty(e)||0!==this._bulkListeners.length){var n=new o(e,t);0===this._deferredCnt?this._emitEvents([n]):this._collectedEvents.push(n)}},e.prototype.deferredEmit=function(e){this._deferredCnt=this._deferredCnt+1;var t=null;try{t=e()}catch(o){n.onUnexpectedError(o)}return this._deferredCnt=this._deferredCnt-1,0===this._deferredCnt&&this._emitCollected(),t},e.prototype._emitCollected=function(){var e=this._collectedEvents;this._collectedEvents=[],e.length>0&&this._emitEvents(e)},e}();t.EventEmitter=r}),define("vs/base/browser/iframe",["require","exports"],function(e,t){function n(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,n=e.parent.location;if(t.protocol!==n.protocol||t.hostname!==n.hostname||t.port!==n.port)return a=!0,null}catch(o){return a=!0,null}return e.parent}function o(e,t){for(var n,o=e.document.getElementsByTagName("iframe"),r=0,i=o.length;i>r;r++)if(n=o[r],n.contentWindow===t)return n;return null}function r(){if(!u){u=[];var e,t=window;do e=n(t),e?u.push({window:t,iframeElement:o(e,t)}):u.push({window:t,iframeElement:null}),t=e;while(t)}return u.slice(0)}function i(){return u||r(),a}function s(e,t){if(!t||e===t)return{top:0,left:0};for(var n=0,o=0,i=r(),s=0;s<i.length;s++){var a=i[s];if(a.window===t)break;if(!a.iframeElement)break;var u=a.iframeElement.getBoundingClientRect();n+=u.top,o+=u.left}return{top:n,left:o}}var a=!1,u=null;t.getSameOriginWindowChain=r,t.hasDifferentOriginAncestor=i,t.getPositionOfChildWindowRelativeToAncestorWindow=s});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);
n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/mouseEvent",["require","exports","vs/base/common/platform","vs/base/browser/browser","vs/base/browser/iframe"],function(e,t,n,o,r){function i(e){var t=window.MonacoScrollDivisor||120;return e/t}var s=function(){function e(e){var t=this;this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.target=e.target||e.targetNode||e.srcElement,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.posx=0,this.posy=0,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var n=function(){return e.clientX||e.clientY?(t.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,!0):!1},i=function(){return e.pageX||e.pageY?(t.posx=e.pageX,t.posy=e.pageY,!0):!1},s=i,a=n;o.isIE10&&(s=n,a=i),s()||a();var u=r.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=u.left,this.posy-=u.top}return e.prototype.preventDefault=function(){this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1},e.prototype.stopPropagation=function(){this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0},e}();t.StandardMouseEvent=s;var a=function(e){function t(t){e.call(this,t),this.dataTransfer=t.dataTransfer}return __extends(t,e),t}(s);t.DragMouseEvent=a;var u=function(e){function t(t){e.call(this,t)}return __extends(t,e),t}(a);t.DropMouseEvent=u;var c=function(){function e(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t,e){var s=e,a=e;"undefined"!=typeof s.wheelDeltaY?this.deltaY=i(s.wheelDeltaY):"undefined"!=typeof a.VERTICAL_AXIS&&a.axis===a.VERTICAL_AXIS&&(this.deltaY=-a.detail/3),"undefined"!=typeof s.wheelDeltaX?this.deltaX=o.isSafari&&n.isWindows?-i(s.wheelDeltaX):i(s.wheelDeltaX):"undefined"!=typeof a.HORIZONTAL_AXIS&&a.axis===a.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=i(e.wheelDelta))}}return e.prototype.preventDefault=function(){this.browserEvent&&(this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1)},e.prototype.stopPropagation=function(){this.browserEvent&&(this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0)},e}();t.StandardMouseWheelEvent=c}),define("vs/base/browser/keyboardEvent",["require","vs/base/common/winjs.base","vs/base/common/platform","vs/base/browser/browser"],function(e,t,n,o){function r(e){var t=e.ctrlKey,n=e.shiftKey,o=e.altKey,r=e.metaKey,s=i.extractKey(e);t=t||"Ctrl"===s,o=o||"Alt"===s,n=n||"Shift"===s,r=r||"Meta"===s;var a="";return t&&(a+="Ctrl"),n&&(a+=(""===a?"":"-")+"Shift"),o&&(a+=(""===a?"":"-")+"Alt"),r&&(a+=(""===a?"":"-")+"Meta"),s&&"Ctrl"!==s&&"Shift"!==s&&"Alt"!==s&&"Meta"!==s&&(a+=(""===a?"":"-")+s),a}var i=function(){var e={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};o.isIE11orEarlier?e.Meta=91:o.isFirefox?(e["-"]=109,e["="]=107,e[";"]=59,n.isMacintosh&&(e.Meta=224)):o.isOpera?(e["-"]=109,e["="]=61,e[";"]=59,n.isMacintosh&&(e.Meta=57392)):o.isWebKit&&(e.Meta=91);var t={};!function(){for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n)}(),o.isOpera?(t[189]="-",t[187]="=",t[186]=";"):o.isWebKit&&(n.isMacintosh?t[93]="Meta":t[92]="Meta");var r=function(e,n){return t.hasOwnProperty(e)?t[e]:n},i=null;return i=o.isOpera?function(e){return"keypress"===e.type?e.which<=32?r(e.keyCode,String.fromCharCode(e.keyCode).toUpperCase()):String.fromCharCode(e.which).toUpperCase():r(e.keyCode,"unknown")}:function(e){return e.charCode?String.fromCharCode(e.charCode).toUpperCase():r(e.keyCode,"unknown")},{CHAR_TO_CODE:e,CODE_TO_CHAR:t,extractKey:i}}(),s=t.Class.define(function(e){if(this.browserEvent=e,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.target=e.target||e.targetNode,this.key=i.extractKey(e),this.ctrlKey=this.ctrlKey||"Ctrl"===this.key,this.altKey=this.altKey||"Alt"===this.key,this.shiftKey=this.shiftKey||"Shift"===this.key,this.metaKey=this.metaKey||"Meta"===this.key,o.isOpera&&n.isMacintosh){var t=this.metaKey;this.metaKey=this.ctrlKey,this.ctrlKey=t,"Ctrl"===this.key?this.key="Meta":"Meta"===this.key&&(this.key="Ctrl")}},{preventDefault:function(){this.browserEvent.preventDefault?this.browserEvent.preventDefault():this.browserEvent.returnValue=!1},stopPropagation:function(){this.browserEvent.stopPropagation?this.browserEvent.stopPropagation():this.browserEvent.cancelBubble=!0},clone:function(){var e=this.asString(),t=this.asKeybinding();return{ctrlKey:this.ctrlKey,shiftKey:this.shiftKey,altKey:this.altKey,metaKey:this.metaKey,target:this.target,key:this.key,preventDefault:function(){},stopPropagation:function(){},asString:function(){return e},asKeybinding:function(){return t}}},asString:function(){var e="";return this.ctrlKey&&(e+="Ctrl"),this.shiftKey&&(e+=(""===e?"":"-")+"Shift"),this.altKey&&(e+=(""===e?"":"-")+"Alt"),this.metaKey&&(e+=(""===e?"":"-")+"Meta"),this.key&&"Ctrl"!==this.key&&"Shift"!==this.key&&"Alt"!==this.key&&"Meta"!==this.key&&(e+=(""===e?"":"-")+this.key),e},asKeybinding:function(){var e=!1,t=!1,o=!1,r=!1,i="";return this.ctrlKey&&(n.isMacintosh?r=!0:e=!0),this.shiftKey&&(t=!0),this.altKey&&(o=!0),this.metaKey&&(n.isMacintosh?e=!0:r=!0),this.key&&"Ctrl"!==this.key&&"Shift"!==this.key&&"Alt"!==this.key&&"Meta"!==this.key&&(i=this.key),{ctrlCmd:e,shift:t,alt:o,winCtrl:r,key:i}}});return{KEYS:i.CHAR_TO_CODE,toString:r,KeyboardEvent:s}}),define("vs/base/browser/browserService",["require","exports","vs/base/browser/browser"],function(e,t,n){function o(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function r(){return s}t.regularIsHTMLElement=o;var i=function(){function e(){this.restore()}return e.prototype.mock=function(e){this.document=e.document,this.window=e.window,this.isHTMLElement=e.isHTMLElement},e.prototype.restore=function(){this.isHTMLElement=o,n.isInWebWorker()?(this.document=null,this.window=null):(this.document=window.document,this.window=window)},e}(),s=new i;t.getService=r}),define("vs/base/browser/dom",["require","exports","vs/base/browser/browser","vs/base/common/types","vs/base/common/eventEmitter","vs/base/browser/mouseEvent","vs/base/browser/keyboardEvent","vs/base/common/errors","vs/base/browser/browserService"],function(e,t,n,o,r,i,s,a,u){function c(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function l(e){var t=[];return JSON.stringify(e,function(e,n){if(n instanceof Element)return"[Element]";if(o.isObject(n)||Array.isArray(n)){if(-1!==t.indexOf(n))return"[Circular]";t.push(n)}return n})}function d(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1}function h(e,t){var n=e.className;if(!n)return tt=-1,void 0;t=t.trim();var o=n.length,r=t.length;if(0===r)return tt=-1,void 0;if(r>o)return tt=-1,void 0;if(n===t)return tt=0,nt=o,void 0;for(var i,s=-1;(s=n.indexOf(t,s+1))>=0;){if(i=s+r,(0===s||n.charCodeAt(s-1)===ot)&&n.charCodeAt(i)===ot)return tt=s,nt=i+1,void 0;if(s>0&&n.charCodeAt(s-1)===ot&&i===o)return tt=s-1,nt=i,void 0;if(0===s&&i===o)return tt=0,nt=i,void 0}tt=-1}function p(e,t){return h(e,t),-1!==tt}function f(e,t){e.className?(h(e,t),-1===tt&&(e.className=e.className+" "+t)):e.className=t}function m(e,t){h(e,t),-1!==tt&&(e.className=e.className.substring(0,tt)+e.className.substring(nt))}function g(e,t,n){h(e,t),-1===tt||n||m(e,t),-1===tt&&n&&f(e,t)}function v(e,t){e.getAttribute("data-transform")!==t&&(e.setAttribute("data-transform",t),e.style.webkitTransform=t)}function _(e,t){e.getAttribute("data-transform")!==t&&(e.setAttribute("data-transform",t),e.style.transform=t)}function y(e,t,n,r){var i=function(e){e=e||window.event,n(e)};return o.isFunction(e.addEventListener)?(e.addEventListener(t,i,r||!1),function(){i&&(e.removeEventListener(t,i,r||!1),i=null,e=null,n=null)}):(e.attachEvent("on"+t,i),function(){e.detachEvent("on"+t,i)})}function b(e,t,n,o){var r=y(e,t,n,o);return{dispose:r}}function C(e){return function(t){return e(new i.StandardMouseEvent(t))}}function S(e){return function(t){return e(new s.KeyboardEvent(t))}}function w(e,t){return y(e,"mouseout",function(n){for(var o=n.relatedTarget||n.toElement;o&&o!==e;)o=o.parentNode;o!==e&&t(n)})}function E(e,t){var n=w(e,t);return{dispose:n}}function T(e,t,n,o,r){function i(){u=-1,a=(new Date).getTime(),n(s),s=null}void 0===o&&(o=at),void 0===r&&(r=st);var s=null,a=0,u=-1,c=y(e,t,function(e){s=o(s,e);var t=(new Date).getTime()-a;t>=r?(-1!==u&&window.clearTimeout(u),i()):-1===u&&(u=window.setTimeout(i,r-t))});return function(){-1!==u&&window.clearTimeout(u),c()}}function x(e,t,n,o,r){return T(e,t,n,o,r)}function M(e,t,n,o,r){var i=x(e,t,n,o,r);return{dispose:i}}function L(e){return document.defaultView.getComputedStyle(e,null)}function k(e,t,n){var o=L(e),r="0";return o&&(r=o.getPropertyValue?o.getPropertyValue(t):o.getAttribute(n)),ut(e,r)}function I(e){for(var t=e.offsetParent,n=e.offsetTop,o=e.offsetLeft;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){n-=e.scrollTop;var r=L(e);r&&(o-="rtl"!==r.direction?e.scrollLeft:-e.scrollLeft),e===t&&(o+=ct.getBorderLeftWidth(e),n+=ct.getBorderTopWidth(e),n+=e.offsetTop,o+=e.offsetLeft,t=e.offsetParent)}return{left:o,top:n}}function N(e){var t=I(e);return{left:t.left,top:t.top,width:e.clientWidth,height:e.clientHeight}}function R(e){var t=ct.getBorderLeftWidth(e)+ct.getBorderRightWidth(e),n=ct.getPaddingLeft(e)+ct.getPaddingRight(e);return e.offsetWidth-t-n}function O(e){var t=ct.getMarginLeft(e)+ct.getMarginRight(e);return e.offsetWidth+t}function D(e){var t=ct.getBorderTopWidth(e)+ct.getBorderBottomWidth(e),n=ct.getPaddingTop(e)+ct.getPaddingBottom(e);return e.offsetHeight-t-n}function P(e){var t=ct.getMarginTop(e)+ct.getMarginBottom(e);return e.offsetHeight+t}function A(e,t){if(null===e)return 0;for(var n=e.offsetLeft,o=e.parentNode;null!==o&&(n-=o.offsetLeft,o!==t);)o=o.parentNode;return n}function W(e,t){if(null===e)return 0;for(var n=e.offsetTop,o=e.parentNode;null!==o&&(n-=o.offsetTop,o!==t);)o=o.parentNode;return n}function F(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function V(e,t,n){for(;e;){if(p(e,t))return e;if(n&&p(e,n))return null;e=e.parentNode}return null}function H(){var e=document.createElement("style");return e.type="text/css",e.media="screen",document.getElementsByTagName("head")[0].appendChild(e),e}function B(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}function U(e,t,n){void 0===n&&(n=lt),n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)}function z(e,t){if(void 0===t&&(t=lt),!t)return null;for(var n=B(t),o=0;o<n.length;o++){var r=n[o],i=r.selectorText.replace(/::/gi,":");if(i===e)return r}return null}function j(e,t){if(void 0===t&&(t=lt),t){for(var n=B(t),o=[],r=0;r<n.length;r++){var i=n[r],s=i.selectorText.replace(/::/gi,":");0===s.indexOf(e)&&o.push(r)}for(var r=o.length-1;r>=0;r--)t.sheet.deleteRule(o[r])}}function q(e){return u.getService().isHTMLElement(e)}function K(e){try{var t=G(e);e.select(),e.setSelectionRange&&e.setSelectionRange(0,9999),X(e,t)}catch(n){}}function G(e){for(var t=[],n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t}function X(e,t){for(var n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode}function $(e){var n=!1,o=!1,i=new r.EventEmitter,s=[],a=null;a={addFocusListener:function(e){var t=i.addListener("focus",e);return s.push(t),t},addBlurListener:function(e){var t=i.addListener("blur",e);return s.push(t),t},dispose:function(){for(;s.length>0;)s.pop()()}};var u=function(){o=!1,n||(n=!0,i.emit("focus",{}))},c=function(){n&&(o=!0,window.setTimeout(function(){o&&(o=!1,n=!1,i.emit("blur",{}))},0))};return s.push(y(e,t.EventType.FOCUS,u,!0)),s.push(y(e,t.EventType.BLUR,c,!0)),a}function Y(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),o=n.length;o--;)n[o].parentNode.removeChild(n[o]);return t.innerHTML}function Z(){var e={},t=window.location.search;if(t)for(var n=t.split(/[?&]/),o=0;o<n.length;o++){var r=n[o];if(r){var i=r.split("=");2===i.length&&(e[i[0]]=decodeURIComponent(i[1]))}}return e}function Q(t){var n=document.createElement("a");return n.href=e.toUrl(t),n.href}function J(e,t){return e.appendChild(t),t}function et(e){var t=dt.exec(e);if(!t)throw new Error("Bad use of emmet");var n=document.createElement(t[1]||"div");return t[3]&&(n.id=t[3]),t[4]&&(n.className=t[4].replace(/\./g," ").trim()),n}t.clearNode=c,t.safeStringifyDOMAware=l,t.isInDOM=d;var tt,nt,ot=" ".charCodeAt(0);t.hasClass=p,t.addClass=f,t.removeClass=m,t.toggleClass=g,t.StyleMutator={setMaxWidth:function(e,t){var n=t+"px";e.style.maxWidth!==n&&(e.style.maxWidth=n)},setWidth:function(e,t){var n=t+"px";e.style.width!==n&&(e.style.width=n)},setHeight:function(e,t){var n=t+"px";e.style.height!==n&&(e.style.height=n)},setTop:function(e,t){var n=t+"px";e.style.top!==n&&(e.style.top=n)},setLeft:function(e,t){var n=t+"px";e.style.left!==n&&(e.style.left=n)},setBottom:function(e,t){var n=t+"px";e.style.bottom!==n&&(e.style.bottom=n)},setRight:function(e,t){var n=t+"px";e.style.right!==n&&(e.style.right=n)},setFontSize:function(e,t){var n=t+"px";e.style.fontSize!==n&&(e.style.fontSize=n)},setLineHeight:function(e,t){var n=t+"px";e.style.lineHeight!==n&&(e.style.lineHeight=n)},setTransform:null,setDisplay:function(e,t){e.style.display!==t&&(e.style.display=t)},setVisibility:function(e,t){e.style.visibility!==t&&(e.style.visibility=t)}},function(){var e=document.createElement("div");t.StyleMutator.setTransform="undefined"!=typeof e.style.webkitTransform?v:_}(),t.addListener=y,t.addDisposableListener=b,t.addStandardDisposableListener=function(e,t,n,o){var r=n;return"click"===t?r=C(n):("keydown"===t||"keypress"===t||"keyup"===t)&&(r=S(n)),e.addEventListener(t,r,o||!1),{dispose:function(){r&&(e.removeEventListener(t,r,o||!1),r=null,e=null,n=null)}}},t.addNonBubblingMouseOutListener=w,t.addDisposableNonBubblingMouseOutListener=E;var rt=function(){var e=function(e){return setTimeout(function(){return e((new Date).getTime())},0)},t=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame,n=self.cancelAnimationFrame||self.cancelRequestAnimationFrame||self.msCancelAnimationFrame||self.msCancelRequestAnimationFrame||self.webkitCancelAnimationFrame||self.webkitCancelRequestAnimationFrame||self.mozCancelAnimationFrame||self.mozCancelRequestAnimationFrame||self.oCancelAnimationFrame||self.oCancelRequestAnimationFrame,o=!!t,r=t||e,i=n||n;return{isNative:o,request:function(e){return r(e)},cancel:function(e){return i(e)}}}();t.runAtThisOrScheduleAtNextAnimationFrame,t.scheduleAtNextAnimationFrame;var it=function(){function e(e,t){this._runner=e,this.priority=t,this._canceled=!1}return e.prototype.dispose=function(){this._canceled=!0},e.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){a.onUnexpectedError(e)}},e.sort=function(e,t){return t.priority-e.priority},e}();!function(){var e=[],o=null,r=!1,i=!1,s=function(){for(r=!1,o=e,e=[],i=!0;o.length>0;){o.sort(it.sort);var t=o.shift();t.execute()}i=!1};t.scheduleAtNextAnimationFrame=function(t,o){void 0===o&&(o=0);var i=new it(t,o);if(e.push(i),!r)if(r=!0,n.isChrome){var a;rt.request(function(){clearTimeout(a),s()}),a=setTimeout(s,1e3)}else rt.request(s);return i},t.runAtThisOrScheduleAtNextAnimationFrame=function(e,n){if(i){var r=new it(e,n);return o.push(r),r}return t.scheduleAtNextAnimationFrame(e,n)}}();var st=16,at=function(e,t){return t};t.addThrottledListener=x,t.addDisposableThrottledListener=M,t.getComputedStyle=L;var ut=function(){return function(e,t){return parseFloat(t)||0}}(),ct={getBorderLeftWidth:function(e){return k(e,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(e){return k(e,"border-top-width","borderTopWidth")},getBorderRightWidth:function(e){return k(e,"border-right-width","borderRightWidth")},getBorderBottomWidth:function(e){return k(e,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(e){return k(e,"padding-left","paddingLeft")},getPaddingTop:function(e){return k(e,"padding-top","paddingTop")},getPaddingRight:function(e){return k(e,"padding-right","paddingRight")},getPaddingBottom:function(e){return k(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return k(e,"margin-left","marginLeft")},getMarginTop:function(e){return k(e,"margin-top","marginTop")},getMarginRight:function(e){return k(e,"margin-right","marginRight")},getMarginBottom:function(e){return k(e,"margin-bottom","marginBottom")},__commaSentinel:!1};t.getTopLeftOffset=I,t.getDomNodePosition=N,t.getContentWidth=R,t.getTotalWidth=O,t.getContentHeight=D,t.getTotalHeight=P,t.getRelativeLeft=A,t.getRelativeTop=W,t.isAncestor=F,t.findParentWithClass=V,t.createStyleSheet=H;var lt=H();t.createCSSRule=U,t.getCSSRule=z,t.removeCSSRulesWithPrefix=j,t.isHTMLElement=q,t.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:n.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:n.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:n.isWebKit?"webkitAnimationIteration":"animationiteration"},t.EventHelper={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}},t.selectTextInInputElement=K,t.saveParentsScrollTop=G,t.restoreParentsScrollTop=X,t.trackFocus=$,t.UnitConverter={_emInPx:-1,emToPixel:function(e){if(this._emInPx<0){var t=document.createElement("div");t.style.position="absolute",t.style.top="10000px",t.style.left="10000px",t.style.fontSize="1em",t.innerHTML="AbcDef",document.body.appendChild(t);var n=P(t);document.body.removeChild(t),this._emInPx=n}var o=e*this._emInPx,r=Math.round(o);return r}},t.removeScriptTags=Y,t.parseSearch=Z,t.toContentLocation=Q,t.append=J;var dt=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.emmet=et}),define("vs/editor/common/core/arrays",["require","exports"],function(e,t){var n;!function(e){function t(e,t){for(var n,o=0,r=e.length-1;r>o;)n=o+Math.ceil((r-o)/2),e[n].startIndex>t?r=n-1:o=n;return o}e.findIndexInSegmentsArray=t}(n=t.Arrays||(t.Arrays={}))}),define("vs/editor/common/viewLayout/viewLineParts",["require","exports","vs/base/common/strings","vs/editor/common/core/arrays"],function(e,t,n,o){function r(e,t,n,o,r){return r&&(o=s(e,t,n.getFauxIndentLength(),o)),o.length>0?new u(e,n,t,o):new a(n,t)}function i(e,t){if(e.length<=1)return e;var n=e[e.length-1].startIndex;return n<t.length?e:e.slice(0,e.length-1)}function s(e,t,o,r){if(0===t.length)return r;var i=null,s=null,a=!0,u=n.firstNonWhitespaceIndex(t);if(0!==u&&(-1===u?(a=!1,i={startLineNumber:e,endLineNumber:e,startColumn:1,endColumn:t.length+1}):i={startLineNumber:e,endLineNumber:e,startColumn:1,endColumn:u+1}),i&&(o+1>=i.endColumn?i=null:i.startColumn=o+1),a){var c=n.lastNonWhitespaceIndex(t);c!==t.length-1&&(s={startLineNumber:e,endLineNumber:e,startColumn:c+2,endColumn:t.length+1})}if(i||s){var l=r.slice(0);return i&&l.unshift({options:{inlineClassName:"leading whitespace"},range:i}),s&&l.push({options:{inlineClassName:"trailing whitespace"},range:s}),l}return r}t.createLineParts=r;var a=function(){function e(e,t){this.lineTokens=e,this.parts=e.getTokens(),this.parts=i(this.parts,t)}return e.prototype.getParts=function(){return this.parts},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this.lineTokens.equals(n.lineTokens)}return!1},e.prototype.findIndexOfOffset=function(e){return o.Arrays.findIndexInSegmentsArray(this.parts,e)},e}();t.FastViewLineParts=a;var u=function(){function e(e,t,n,o){for(var r,i,s,a=h.normalize(e,o),u=0,l=a.length,d=t.getTokens(),p=[],f=0,m=d.length;m>f;f++){for(r=d[f].startIndex,i=m>f+1?d[f+1].startIndex:t.getTextLength(),s=d[f].type;l>u&&a[u].startOffset<i;){if(a[u].startOffset>r&&(p.push(new c(r,s)),r=a[u].startOffset),p.push(new c(r,s+" "+a[u].className)),a[u].endOffset>=i){r=i;break}r=a[u].endOffset+1,u++}i>r&&p.push(new c(r,s))}this.parts=p,this.lastPartIndex=p.length-1,this.lastEndOffset=i}return e.prototype.getParts=function(){return this.parts},e.prototype.equals=function(t){if(t instanceof e){var n=t;if(this.lastPartIndex!==n.lastPartIndex)return!1;if(this.lastEndOffset!==n.lastEndOffset)return!1;for(var o=0,r=this.parts.length;r>o;o++){if(this.parts[o].startIndex!==n.parts[o].startIndex)return!1;if(this.parts[o].type!==n.parts[o].type)return!1}return!0}return!1},e.prototype.findIndexOfOffset=function(e){return o.Arrays.findIndexInSegmentsArray(this.parts,e)},e}();t.ViewLineParts=u;var c=function(){function e(e,t){this.startIndex=e,this.type=t}return e}(),l=function(){function e(e,t,n){this.startOffset=e,this.endOffset=t,this.className=n}return e}();t.DecorationSegment=l;var d=function(){function e(){this.stopOffsets=[],this.classNames=[],this.count=0}return e.prototype.consumeLowerThan=function(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){for(var o=0;o+1<this.count&&this.stopOffsets[o]===this.stopOffsets[o+1];)o++;n.push(new l(t,this.stopOffsets[o],this.classNames.join(" "))),t=this.stopOffsets[o]+1,this.stopOffsets.splice(0,o+1),this.classNames.splice(0,o+1),this.count-=o+1}return this.count>0&&e>t&&(n.push(new l(t,e-1,this.classNames.join(" "))),t=e),t},e.prototype.insert=function(e,t){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t);break}this.count++},e}(),h=function(){function e(){}return e.normalize=function(t,n){var o=[];if(0===n.length)return o;var r,i,s,a,u,c=new d,l=0;for(a=0,u=n.length;u>a;a++)r=n[a],r.range.endLineNumber<t||r.range.startLineNumber>t||(r.range.startLineNumber!==r.range.endLineNumber||r.range.startColumn!==r.range.endColumn)&&(i=r.range.startLineNumber===t?r.range.startColumn-1:0,s=r.range.endLineNumber===t?r.range.endColumn-2:e.MAX_LINE_LENGTH-1,0>s||(l=c.consumeLowerThan(i,l,o),0===c.count&&(l=i),c.insert(s,r.options.inlineClassName)));return c.consumeLowerThan(e.MAX_LINE_LENGTH,l,o),o},e.MAX_LINE_LENGTH=1e7,e}();t.LineDecorationsNormalizer=h}),define("vs/editor/browser/editorBrowser",["require","exports"],function(e,t){t.ClassNames={TEXTAREA_COVER:"textAreaCover",TEXTAREA:"inputarea",LINES_CONTENT:"lines-content",OVERFLOW_GUARD:"overflow-guard",VIEW_LINES:"view-lines",VIEW_LINE:"view-line",SCROLLABLE_ELEMENT:"editor-scrollable",CONTENT_WIDGETS:"contentWidgets",OVERLAY_WIDGETS:"overlayWidgets",LINE_NUMBERS:"line-numbers",GLYPH_MARGIN:"glyph-margin",SCROLL_DECORATION:"scroll-decoration",VIEW_CURSORS_LAYER:"cursors-layer",VIEW_ZONES:"view-zones"},function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(t.ContentWidgetPositionPreference||(t.ContentWidgetPositionPreference={}));t.ContentWidgetPositionPreference;!function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(t.OverlayWidgetPositionPreference||(t.OverlayWidgetPositionPreference={}));t.OverlayWidgetPositionPreference});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/lines/viewLine",["require","exports","vs/base/browser/browser","vs/base/browser/dom","vs/editor/common/viewLayout/viewLineParts","vs/editor/browser/editorBrowser"],function(e,t,n,o,r,i){function s(e,t){return e.top===t.top?e.left-t.left:e.top-t.top}function a(e,t,n){var o=e.findIndexOfOffset(t);return n>=o?o:n}function u(e){return new f(e)}function c(e){return new m(e)}function l(e){return new p(e)}function d(e){var t=e.lineContent,n={charOffsetInPart:[],hasOverflowed:!1,lastRenderedPartIndex:0,partsCount:0,output:[]},o=0;if(n.output.push("<span>"),t.length>0){var r,i,s,a,u=t.length,c=-1,l=0,d=0,h=0,p="",f=e.tabSize,m=e.stopRenderingLineAfter,g=!1,x=e.parts;for(-1!==m&&u>m-1&&(p=t.substr(m-1,1),u=m-1,n.hasOverflowed=!0),i=0;u>i;i++){switch(i===l&&(c++,l=c+1<x.length?x[c+1].startIndex:Number.MAX_VALUE,i>0&&n.output.push("</span>"),o++,n.output.push('<span class="'),s="token "+x[c].type.replace(/[^a-z0-9\-]/gi," "),e.renderWhitespace&&(g=s.indexOf("whitespace")>=0),n.output.push(s),n.output.push('">'),h=0),n.charOffsetInPart[i]=h,r=t.charCodeAt(i)){case _:for(a=f-(i+d)%f,d+=a-1,h+=a-1,a>0&&(n.output.push(g?"&rarr;":"&nbsp;"),a--);a>0;)n.output.push("&nbsp;"),a--;break;case v:n.output.push(g?"&middot;":"&nbsp;");break;case y:n.output.push("&lt;");break;case b:n.output.push("&gt;");break;case C:n.output.push("&amp;");break;case 0:n.output.push("&#00;");break;case E:case w:n.output.push(T);break;case S:n.output.push("&#8203");break;default:n.output.push(t.charAt(i))}h++}n.output.push("</span>"),n.charOffsetInPart[u]=h,n.lastRenderedPartIndex=c,p.length>0&&(n.output.push('<span class="'),n.output.push(s),n.output.push('" style="color:grey">'),n.output.push(p),n.output.push("&hellip;</span>"))}else n.output.push("<span>&nbsp;</span>");return n.output.push("</span>"),n.partsCount=o,n}var h=function(){function e(e,t,n,o){this.top=e,this.left=t,this.width=n,this.height=o}return e}(),p=function(){function e(e){this._context=e,this._domNode=null,this._isInvalid=!0,this._isMaybeInvalid=!1,this._lineParts=null,this._charOffsetInPart=[],this._hasOverflowed=!1,this._lastRenderedPartIndex=0}return e.prototype.getDomNode=function(){return this._domNode},e.prototype.setDomNode=function(e){this._domNode=e},e.prototype.onContentChanged=function(){this._isInvalid=!0},e.prototype.onLinesInsertedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onLinesDeletedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onLineChangedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onModelDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onConfigurationChanged=function(){this._isInvalid=!0},e.prototype.shouldUpdateHTML=function(e,t){var n=null;return(this._isMaybeInvalid||this._isInvalid)&&(n=this._computeLineParts(e,t)),this._isMaybeInvalid&&(this._isInvalid||this._lineParts&&this._lineParts.equals(n)||(this._isInvalid=!0),this._isMaybeInvalid=!1),this._isInvalid&&(this._lineParts=n),this._isInvalid},e.prototype.getLineOuterHTML=function(e,t,n){e.push('<div lineNumber="'),e.push(t.toString()),e.push('" style="top:'),e.push(n.toString()),e.push("px;height:"),e.push(this._context.configuration.editor.lineHeight.toString()),e.push('px;" class="'),e.push(i.ClassNames.VIEW_LINE),e.push('">'),e.push(this.getLineInnerHTML(t)),e.push("</div>")},e.prototype.getLineInnerHTML=function(e){return this._isInvalid=!1,this._renderMyLine(e,this._lineParts).join("")},e.prototype.layoutLine=function(e,t){var n=this._domNode.getAttribute("lineNumber");n!==e.toString()&&this._domNode.setAttribute("lineNumber",e.toString()),o.StyleMutator.setTop(this._domNode,t),o.StyleMutator.setHeight(this._domNode,this._context.configuration.editor.lineHeight)},e.prototype._computeLineParts=function(e,t){return r.createLineParts(e,this._context.model.getLineContent(e),this._context.model.getLineTokens(e),t,this._context.configuration.editor.renderWhitespace)},e.prototype._renderMyLine=function(e,t){this._bustReadingCache();var n=d({lineContent:this._context.model.getLineContent(e),tabSize:this._context.configuration.getIndentationOptions().tabSize,stopRenderingLineAfter:this._context.configuration.editor.stopRenderingLineAfter,renderWhitespace:this._context.configuration.editor.renderWhitespace,parts:t.getParts()});return this._charOffsetInPart=n.charOffsetInPart,this._hasOverflowed=n.hasOverflowed,this._lastRenderedPartIndex=n.lastRenderedPartIndex,n.output},e.prototype._getReadingTarget=function(){return this._domNode.firstChild},e.prototype._bustReadingCache=function(){this._cachedWidth=-1},e.prototype.getHeight=function(){return this._domNode.offsetHeight},e.prototype.getWidth=function(){return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,n,o,r,i,s){var a=this._context.configuration.editor.stopRenderingLineAfter;return-1!==a&&t>a&&n>a?null:(-1!==a&&t>a&&(t=a),-1!==a&&n>a&&(n=a),this._readVisibleRangesForRange(e,t,n,o,r,i,s))},e.prototype._readVisibleRangesForRange=function(e,t,n,o,r,i,a){var u;if(u=t===n?this._readRawVisibleRangesForPosition(e,t,o,r,i,a):this._readRawVisibleRangesForRange(e,t,n,o,r,i,a),!u||u.length<=1)return u;u.sort(s);for(var c,l=[],d=u[0],h=1,p=u.length;p>h;h++)c=u[h],d.left+d.width+.3>=c.left?d.width=Math.max(d.width,c.left+c.width-d.left):(l.push(d),d=c);return l.push(d),l},e.prototype._readRawVisibleRangesForPosition=function(e,t,n,o,r,i){if(0===this._charOffsetInPart.length){var s=this._readRawVisibleRangesForEntireLine(n,o,r);return s[0].width=0,s}var u=a(this._lineParts,t-1,this._lastRenderedPartIndex),c=this._charOffsetInPart[t-1];return this._readRawVisibleRangesFrom(this._getReadingTarget(),u,c,u,c,n,o,r,i)},e.prototype._readRawVisibleRangesForRange=function(e,t,n,o,r,i,s){if(1===t&&n===this._charOffsetInPart.length)return this._readRawVisibleRangesForEntireLine(o,r,i);var u=a(this._lineParts,t-1,this._lastRenderedPartIndex),c=this._charOffsetInPart[t-1],l=a(this._lineParts,n-1,this._lastRenderedPartIndex),d=this._charOffsetInPart[n-1];return this._readRawVisibleRangesFrom(this._getReadingTarget(),u,c,l,d,o,r,i,s)},e.prototype._readRawVisibleRangesForEntireLine=function(e){var t=this._domNode.getBoundingClientRect();return[new h(t.top-e,0,this._getReadingTarget().offsetWidth,t.height)]},e.prototype._readRawVisibleRangesFrom=function(e,t,n,o,r,i,s,a,u){var c=g.createRange();try{var l=0,d=e.children.length-1;if(l>d)return null;t=Math.min(d,Math.max(l,t)),o=Math.min(d,Math.max(l,o)),t!==o&&o>0&&0===r&&(o--,r=Number.MAX_VALUE);var h=e.children[t].firstChild,p=e.children[o].firstChild;if(!h||!p)return null;n=Math.min(h.textContent.length,Math.max(0,n)),r=Math.min(p.textContent.length,Math.max(0,r)),c.setStart(h,n),c.setEnd(p,r);var f=c.getClientRects(),m=null;return f.length>0&&(m=this._createRawVisibleRangesFromClientRects(f,i,s,a)),m}catch(v){return null}finally{g.detachRange(c,u)}},e.prototype._createRawVisibleRangesFromClientRects=function(e,t,n,o){var r,i,s=e.length,a=[];for(i=0;s>i;i++)r=e[i],a.push(new h(r.top-t-n,Math.max(0,r.left-o),r.width,r.height));return a},e.prototype.getColumnOfNodeOffset=function(e,t,n){for(var o=-1;t;)t=t.previousSibling,o++;
var r=this._lineParts.getParts();if(o>=r.length)return this._context.configuration.editor.stopRenderingLineAfter;if(0===n)return r[o].startIndex+1;var i,s,a=r[o].startIndex;o+1<r.length?(i=r[o+1].startIndex,s=this._charOffsetInPart[i-1]+this._charOffsetInPart[i]):(i=this._context.model.getLineMaxColumn(e)-1,s=this._charOffsetInPart[i]);var u,c=a,l=i;-1!==this._context.configuration.editor.stopRenderingLineAfter&&(l=Math.min(this._context.configuration.editor.stopRenderingLineAfter-1,i));for(var d,h,p,f,m;l>c;){if(u=Math.floor((c+l)/2),d=this._charOffsetInPart[u],h=u===i?Number.MAX_VALUE:u+1===i?s:this._charOffsetInPart[u+1],p=u===a?Number.MIN_VALUE:this._charOffsetInPart[u-1],f=(p+d)/2,m=(d+h)/2,n>f&&m>=n)return u+1;f>=n?l=u-1:c=u+1}return c+1},e}(),f=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype._createRawVisibleRangesFromClientRects=function(e,t,n,o){var r,i,s=e.length,a=[],u=screen.logicalYDPI/screen.deviceYDPI,c=screen.logicalXDPI/screen.deviceXDPI;for(a=new Array(s),i=0;s>i;i++)r=e[i],a[i]=new h(r.top*u-t-n,Math.max(0,r.left*c-o),r.width*c,r.height*u);return a},t}(p),m=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype._readVisibleRangesForRange=function(t,n,o,r,i,s,a){var u=e.prototype._readVisibleRangesForRange.call(this,t,n,o,r,i,s,a);if(!u||0===u.length||n===o||1===n&&o===this._charOffsetInPart.length)return u;var c=this._readRawVisibleRangesForPosition(t,o-1,r,i,s,a),l=this._readRawVisibleRangesForPosition(t,o,r,i,s,a);if(c&&c.length>0&&l&&l.length>0){var d=c[0],h=l[0],p=!0;d.top===h.top&&(p=d.left<=h.left);var f=u[u.length-1];p&&f.top===h.top&&f.left<h.left?f.width=h.left-f.left:f.top>h.top&&u.splice(u.length-1,1)}return u},t}(p),g=function(){function e(){}return e.createRange=function(){return e._handyReadyRange||(e._handyReadyRange=document.createRange()),e._handyReadyRange},e.detachRange=function(e,t){e.selectNodeContents(t)},e}();t.createLine=function(){return window.screen&&window.screen.deviceXDPI&&(navigator.userAgent.indexOf("Trident/6.0")>=0||navigator.userAgent.indexOf("Trident/5.0")>=0)?u:n.isWebKit?c:l}();var v=" ".charCodeAt(0),_="	".charCodeAt(0),y="<".charCodeAt(0),b=">".charCodeAt(0),C="&".charCodeAt(0),S="\r".charCodeAt(0),w="\u2028".charCodeAt(0),E=65279,T="�";t.renderLine=d}),define("vs/editor/browser/standalone/colorizer",["require","exports","vs/base/common/winjs.base","vs/base/common/async","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/common"],function(e,t,n,o,r,i){function s(e,t,n){n=n||{};var o=n.theme||"vs",r=n.mimeType||t.getAttribute("lang")||t.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),void 0;var i=t.firstChild.nodeValue;t.className+="monaco-editor "+o;var s=function(e){t.innerHTML=e};return a(e,i,r,n).then(s,function(e){return console.error(e)},s)}function a(e,t,r,i){i=i||{},"undefined"==typeof i.tabSize&&(i.tabSize=4);var s,a,u,c,d=t.split("\n"),h=!1,p=new n.TPromise(function(e,t,n){s=e,a=t,u=n},function(){h=!0}),f=new o.RunOnceScheduler(function(){if(!h){var e=l(d,c,i.tabSize);e.retokenize.length>0?(e.retokenize.forEach(function(e){return e.then(m)}),u(e.result)):s(e.result)}},0),m=function(){return f.schedule()};return e.getOrCreateMode(r).then(function(e){return e?e.tokenizationSupport?(c=e,m(),void 0):(a('Mode found ("'+e.getId()+'"), but does not support tokenization.'),void 0):(a('Mode not found: "'+r+'".'),void 0)}),p}function u(e,t,n){void 0===n&&(n=4);var o=r.renderLine({lineContent:e,parts:t,stopRenderingLineAfter:-1,renderWhitespace:!1,tabSize:n});return o.output.join("")}function c(e,t,n){void 0===n&&(n=4);var o=e.getLineContent(t),r=e.getLineTokens(t,!1),s=i.LineTokensBinaryEncoding.inflateArr(r.getBinaryEncodedTokensMap(),r.getBinaryEncodedTokens());return u(o,s,n)}function l(e,t,n){var o,i,s,a,u,c=t.tokenizationSupport,l=[],d=c.getInitialState(),h=[];for(o=0,i=e.length;i>o;o++)s=e[o],a=c.tokenize(s,d),a.retokenize&&h.push(a.retokenize),u=r.renderLine({lineContent:s,parts:a.tokens,stopRenderingLineAfter:-1,renderWhitespace:!1,tabSize:n}),l=l.concat(u.output),l.push("<br/>"),d=a.endState;return{result:l.join(""),retokenize:h}}t.colorizeElement=s,t.colorize=a,t.colorizeLine=u,t.colorizeModelLine=c}),define("vs/editor/browser/config/elementSizeObserver",["require","exports"],function(e,t){var n=function(){function e(e,t){this.referenceDomElement=e,this.changeCallback=t,this.measureReferenceDomElementToken=-1,this.width=-1,this.height=-1,this.measureReferenceDomElement(!1)}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.dispose=function(){this.stopObserving()},e.prototype.startObserving=function(){var e=this;-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=window.setInterval(function(){return e.measureReferenceDomElement(!0)},100))},e.prototype.stopObserving=function(){-1!==this.measureReferenceDomElementToken&&(window.clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},e.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},e.prototype.measureReferenceDomElement=function(e,t){var n=0,o=0;t?(n=t.width,o=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,o=this.referenceDomElement.clientHeight),n=Math.max(5,n),o=Math.max(5,o),(this.width!==n||this.height!==o)&&(this.width=n,this.height=o,e&&this.changeCallback())},e}();t.ElementSizeObserver=n}),define("vs/base/common/assert",["require","exports"],function(e,t){function n(e,t){if(!e||null===e)throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}t.ok=n}),define("vs/platform/platform",["require","exports","vs/base/common/types","vs/base/common/assert"],function(e,t,n,o){var r=function(){function e(){this.data={}}return e.prototype.add=function(e,t){o.ok(n.isString(e)),o.ok(n.isObject(t)),o.ok(!this.data.hasOwnProperty(e),"There is already an extension with this id"),this.data[e]=t},e.prototype.knows=function(e){return this.data.hasOwnProperty(e)},e.prototype.as=function(e){return this.data[e]||null},e}();t.Registry=new r;var i=function(){function e(){this.toBeInstantiated=[],this.instances=[]}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.toBeInstantiated.length>0;){var t=this.toBeInstantiated.shift();this.instantiate(t)}},e.prototype.instantiate=function(e){var t=this.instantiationService.createInstance(e);this.instances.push(t)},e.prototype._register=function(e){this.instantiationService?this.instantiate(e):this.toBeInstantiated.push(e)},e.prototype._getInstances=function(){return this.instances.slice(0)},e.prototype._setInstances=function(e){this.instances=e},e}();t.BaseRegistry=i}),define("vs/base/common/flags",["require","exports","vs/base/common/platform"],function(e,t,n){function o(){var e=2,t=(n.globals.location?n.globals.location.search:"").match(/monaco-workers=(\d+)/i);return t&&(e=parseInt(t[1],10)),r("workersCount",e)}function r(e,t){return void 0===t&&(t=!1),n.globals.MonacoEnvironment&&n.globals.MonacoEnvironment.hasOwnProperty(e)?n.globals.MonacoEnvironment[e]:t}t.workersCount=o(),t.enableTasks=r("enableTasks"),t.enableTelemetry=r("enableTelemetry"),t.enablePrivateTelemetry=r("enablePrivateTelemetry"),t.enableJavaScriptRewriting=r("enableJavaScriptRewriting"),t.enableTypeScriptServiceMode=r("enableTypeScriptServiceMode"),t.enableTypeScriptServiceModeForJS=r("enableTypeScriptServiceModeForJS"),t.appRoot=r("appRoot",null),t.standaloneEditorTelemetryEndpoint=r("telemetryEndpoint",null),t.getCrossOriginWorkerScriptUrl=r("getWorkerUrl",null)}),define("vs/platform/plugins/common/pluginsRegistry",["require","exports","vs/platform/platform","vs/base/common/flags"],function(e,t,n,o){function r(e){if(!Array.isArray(e))return!1;for(var t=0,n=e.length;n>t;t++)if("string"!=typeof e[t])return!1;return!0}var i=this.MonacoPlugins||{},s=Object.hasOwnProperty,a=function(){function e(){this._MonacoPlugins=i;for(var e in this._MonacoPlugins)if(s.call(this._MonacoPlugins,e)){var t=this._isInvalidPluginDescription(this._MonacoPlugins[e]);if(t)throw new Error("Detected invalid plugin description: "+t)}this._pointListeners={}}return e.prototype.registerPointListener=function(e,t){this._pointListeners[e]=this._pointListeners[e]||[],this._pointListeners[e].push(t),this._triggerPointListeners(e,this._getAllPluginDescriptionsByPoint(e))},e.prototype._triggerPointListeners=function(e,t){if(t&&0!==t.length&&s.call(this._pointListeners,e))for(var n=this._pointListeners[e].slice(0),o=0;o<n.length;o++)n[o](t)},e.prototype._isInvalidPluginDescription=function(e){return"string"!=typeof e.pluginId?"Could not find property `pluginId`":"undefined"==typeof e.dependencies||r(e.dependencies)?"undefined"==typeof e.activationEvents||r(e.activationEvents)?"undefined"!=typeof e.mainModule&&"string"!=typeof e.mainModule?"Property `mainModule` is not a string":"undefined"==typeof e.mainModuleExtra||Array.isArray(e.mainModuleExtra)?void 0:"Property `mainModuleExtra` is not an array":"Property `activationEvents` is not a string array":"Property `dependencies` is not a string array"},e.prototype.registerPlugins=function(e){for(var t=0,n=e.length;n>t;t++)this.registerPlugin(e[t])},e.prototype.registerPlugin=function(e){if(!o.enableTypeScriptServiceModeForJS&&"vs.language.typescript"===e.pluginId){var t=e.contributes.language;if(Array.isArray(t)&&1===t.length){var n=t[0].extensions;if(Array.isArray(n)){var r=n.indexOf(".js");~r&&n.splice(r,1)}var i=t[0].mimetypes;if(Array.isArray(i)){var r=i.indexOf("text/javascript");~r&&i.splice(r,1)}}}var a=this._isInvalidPluginDescription(e);if(a)throw new Error("Invalid plugin description: "+a);if(s.call(this._MonacoPlugins,e.pluginId)&&console.warn("Plugin `"+e.pluginId+"` is already registered"),e.contributes)for(var u in e.contributes)s.call(e.contributes,u)&&this._triggerPointListeners(u,[e]);this._MonacoPlugins[e.pluginId]=e},e.prototype._getAllPluginDescriptionsByPoint=function(e){var t=[];for(var n in this._MonacoPlugins)if(s.call(this._MonacoPlugins,n)){var o=this._MonacoPlugins[n];o.contributes&&s.call(o.contributes,e)&&t.push(o)}return t},e.prototype.getAllPluginDescriptions=function(){var e=[];for(var t in this._MonacoPlugins)s.call(this._MonacoPlugins,t)&&e.push(this._MonacoPlugins[t]);return e},e.prototype.getPluginDescription=function(e){return s.call(this._MonacoPlugins,e)?this._MonacoPlugins[e]:null},e}(),u={PluginsRegistry:"PluginsRegistry"};n.Registry.add(u.PluginsRegistry,new a),t.PluginsRegistry=n.Registry.as(u.PluginsRegistry)}),define("vs/platform/configuration/common/configurationRegistry",["require","exports","vs/nls!vs/editor/editor.main","vs/platform/platform","vs/base/common/objects","vs/base/common/strings","vs/platform/plugins/common/pluginsRegistry"],function(e,t,n,o,r,i,s){t.Extensions={Configuration:"base.contributions.configuration"};var a=function(){function e(){this.configurationContributors=[]}return e.prototype.registerConfiguration=function(e){this.configurationContributors.push(e)},e.prototype.getConfigurations=function(){return this.configurationContributors.slice(0)},e.prototype.getConfigurationSchemas=function(){var e={id:"local://configuration/user/settings",description:n.localize("vs_platform_configuration_common_configurationRegistry",0),type:"object",allOf:[]},t={id:"local://configuration/workspace/settings",description:n.localize("vs_platform_configuration_common_configurationRegistry",1),type:"object",allOf:[]},o={id:"local://configuration/default/settings",description:n.localize("vs_platform_configuration_common_configurationRegistry",2),$ref:"local://configuration/user/settings"},s=[];return s.push(e),s.push(t),s.push(o),this.configurationContributors.forEach(function(n){var o=r.clone(n);o.id=i.format("local://configuration/{0}/{1}",n.container?n.workspace?"workspace":"user":"internal",n.id),n.container||(n.workspace||e.allOf.push({$ref:o.id}),t.allOf.push({$ref:o.id})),s.push(o)}),s},e}(),u=new a;o.Registry.add(t.Extensions.Configuration,u),s.PluginsRegistry.registerPointListener("configuration",function(e){for(var t=0;t<e.length;t++){var n=e[t].contributes.configuration,o=r.clone(n);o.id=e[t].pluginId,u.registerConfiguration(o)}})}),define("vs/editor/common/config/defaultConfig",["require","exports"],function(e,t){var n=function(){function e(){this.editor={fontFamily:"",fontSize:0,lineHeight:0,lineNumbers:!0,selectOnLineNumbers:!0,lineNumbersMinChars:5,glyphMargin:!1,lineDecorationsWidth:10,revealHorizontalRightPadding:30,tabSize:"auto",insertSpaces:"auto",roundedSelection:!0,theme:"vs",pageSize:1,readOnly:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,automaticLayout:!1,wrappingColumn:300,wrappingIndent:"same",wordWrapBreakBeforeCharacters:"{([+",wordWrapBreakAfterCharacters:" 	})]?|&,;",wordWrapBreakObtrusiveCharacters:".",tabFocusMode:!1,mouseWheelScrollSensitivity:1,forcedTokenizationBoundary:1e3,longLineBoundary:300,isDominatedByLongLines:!1,hover:!0,contextmenu:!0,quickSuggestions:!0,quickSuggestionsDelay:10,iconsInSuggestions:!0,autoClosingBrackets:!0,formatOnType:!1,suggestOnTriggerCharacters:!0,selectionHighlight:!0,outlineMarkers:!1,referenceInfos:!0}}return e}();t.DefaultConfig=new n}),define("vs/editor/common/controller/handlerDispatcher",["require","exports"],function(e,t){var n=function(){function e(e,t){this.source=e,this.data=t}return e.prototype.getSource=function(){return this.source},e.prototype.getData=function(){return this.data},e}();t.DispatcherEvent=n;var o=function(){function e(){this.registry={}}return e.prototype.setHandler=function(e,t){this.registry[e]=t},e.prototype.clearHandlers=function(){this.registry={}},e.prototype.getHandler=function(e){return this.registry.hasOwnProperty(e)?this.registry[e]:null},e.prototype.trigger=function(e,t,o){var r=this.getHandler(t),i=!1;if(r){var s=new n(e,o);i=r(s)}return i},e}();t.HandlerDispatcher=o});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/config/commonEditorConfig",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/objects","vs/base/common/eventEmitter","vs/base/common/strings","vs/platform/platform","vs/platform/configuration/common/configurationRegistry","vs/editor/common/common","vs/editor/common/config/defaultConfig","vs/editor/common/controller/handlerDispatcher"],function(e,t,n,o,r,i,s,a,u,c,l){function d(e){return"false"===e?!1:Boolean(e)}function h(e,t){var n=parseFloat(e);return isNaN(n)&&(n=t),n}function p(e,t,n){var o=parseInt(e,10);return isNaN(o)&&(o=0),"number"==typeof t&&(o=Math.max(t,o)),"number"==typeof n&&(o=Math.min(n,o)),o}var f=function(){function e(e){this._editor=o.clone(c.DefaultConfig.editor),this._mergeOptionsIn(e)}return e.prototype.getEditorOptions=function(){return this._editor},e.prototype._mergeOptionsIn=function(e){this._editor=o.mixin(this._editor,e||{})},e.prototype.updateOptions=function(e){this._mergeOptionsIn(e)},e}();t.ConfigurationWithDefaults=f;var m=function(e){function t(t,n){void 0===n&&(n=null),e.call(this,[u.EventType.ConfigurationChanged]),this._configWithDefaults=new f(t),this._indentationGuesser=n,this._computedIndentationOptions=null,this._isDominatedByLongLines=!1,this.handlerDispatcher=new l.HandlerDispatcher,this.editor=this._computeInternalOptions(0)}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getRawOptions=function(){return this._configWithDefaults.getEditorOptions()},t.prototype.getScrollbarOptions=function(){var e=o.clone(this.editor.scrollbar);return e.mouseWheelScrollSensitivity=this.editor.mouseWheelScrollSensitivity,e},t.prototype._computeInternalOptions=function(e){var t,n=this._configWithDefaults.getEditorOptions(),o=p(n.wrappingColumn,-1);t="undefined"!=typeof n.stopLineTokenizationAfter?p(n.stopLineTokenizationAfter,-1):o>=0?-1:1e4;var r;r="undefined"!=typeof n.stopRenderingLineAfter?p(n.stopRenderingLineAfter,-1):o>=0?-1:1e4;var i=this._getEditorClassName(n.theme),s=n.fontFamily||"",a=p(n.fontSize,0,100),u=p(n.lineHeight,0,150),c=u;a>0&&0===u&&(c=Math.round(1.3*a));var l=this.readConfiguration(i,s,a,c),f=this.getOuterWidth(),m=this.getOuterHeight();return{observedOuterWidth:f,observedOuterHeight:m,lineNumbers:n.lineNumbers,selectOnLineNumbers:d(n.selectOnLineNumbers),lineNumbersMinChars:p(n.lineNumbersMinChars,1),glyphMargin:d(n.glyphMargin),lineDecorationsWidth:p(n.lineDecorationsWidth,0),revealHorizontalRightPadding:p(n.revealHorizontalRightPadding,0),roundedSelection:d(n.roundedSelection),theme:n.theme,requestedFontFamily:s,requestedFontSize:a,requestedLineHeight:u,adjustedLineHeight:c,readOnly:d(n.readOnly),scrollbar:n.scrollbar,overviewRulerLanes:p(n.overviewRulerLanes,0,3),hideCursorInOverviewRuler:d(n.hideCursorInOverviewRuler),scrollBeyondLastLine:d(n.scrollBeyondLastLine),automaticLayout:d(n.automaticLayout),wrappingColumn:o,wrappingIndent:n.wrappingIndent,wordWrapBreakBeforeCharacters:n.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:n.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:n.wordWrapBreakObtrusiveCharacters,tabFocusMode:d(n.tabFocusMode),forcedTokenizationBoundary:p(n.forcedTokenizationBoundary),stopLineTokenizationAfter:t,stopRenderingLineAfter:r,renderWhitespace:d(n.renderWhitespace),longLineBoundary:p(n.longLineBoundary),hover:d(n.hover),contextmenu:d(n.contextmenu),mouseWheelScrollSensitivity:h(n.mouseWheelScrollSensitivity,1),quickSuggestions:d(n.quickSuggestions),quickSuggestionsDelay:p(n.quickSuggestionsDelay),iconsInSuggestions:d(n.iconsInSuggestions),autoClosingBrackets:d(n.autoClosingBrackets),formatOnType:d(n.formatOnType),suggestOnTriggerCharacters:d(n.suggestOnTriggerCharacters),selectionHighlight:d(n.selectionHighlight),outlineMarkers:d(n.outlineMarkers),referenceInfos:d(n.referenceInfos),lineHeight:l.lineHeight,pageSize:e,typicalHalfwidthCharacterWidth:l.typicalHalfwidthCharacterWidth,typicalFullwidthCharacterWidth:l.typicalFullwidthCharacterWidth,maxDigitWidth:l.maxDigitWidth,font:l.font,fontSize:l.fontSize,isDominatedByLongLines:this._isDominatedByLongLines}},t.prototype._createConfigurationChangedEvent=function(e){var t={observedOuterWidth:!1,observedOuterHeight:!1,lineHeight:!1,pageSize:!1,typicalHalfwidthCharacterWidth:!1,typicalFullwidthCharacterWidth:!1,maxDigitWidth:!1,font:!1,fontSize:!1,isDominatedByLongLines:!1,lineNumbers:!1,selectOnLineNumbers:!1,lineNumbersMinChars:!1,glyphMargin:!1,lineDecorationsWidth:!1,revealHorizontalRightPadding:!1,roundedSelection:!1,theme:!1,readOnly:!1,scrollbar:!1,overviewRulerLanes:!1,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!1,automaticLayout:!1,wrappingColumn:!1,wrappingIndent:!1,wordWrapBreakBeforeCharacters:!1,wordWrapBreakAfterCharacters:!1,wordWrapBreakObtrusiveCharacters:!1,tabFocusMode:!1,stopLineTokenizationAfter:!1,stopRenderingLineAfter:!1,longLineBoundary:!1,forcedTokenizationBoundary:!1,hover:!1,contextmenu:!1,mouseWheelScrollSensitivity:!1,quickSuggestions:!1,quickSuggestionsDelay:!1,iconsInSuggestions:!1,autoClosingBrackets:!1,formatOnType:!1,suggestOnTriggerCharacters:!1,selectionHighlight:!1,outlineMarkers:!1,referenceInfos:!1};if(e.length>0)for(var n=0;n<e.length;n++)t[e[n]]=!0;return t},t.prototype.updateOptions=function(e){var t=o.deepClone(this.editor);this._configWithDefaults.updateOptions(e),this.editor=this._computeInternalOptions(this.editor.pageSize);var n=this._changedKeys(t,this.editor);this._computedIndentationOptions=null,n.length>0&&this.emit(u.EventType.ConfigurationChanged,this._createConfigurationChangedEvent(n))},t.prototype._changedKeys=function(e,t){for(var n=Object.keys(e),r=[],i=0,s=n.length;s>i;i++){var a=e[n[i]],u=t[n[i]];o.equals(a,u)||r.push(n[i])}return r},t.prototype._getEditorClassName=function(){return"monaco-editor"},t.prototype.getEditorStyling=function(){return{editorClassName:this._getEditorClassName(this.editor.theme),fontFamily:this.editor.requestedFontFamily,fontSize:this.editor.requestedFontSize,lineHeight:this.editor.adjustedLineHeight}},t.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this.editor.isDominatedByLongLines=e},t.prototype.resetIndentationOptions=function(){this._computedIndentationOptions=null},t.prototype._getValidatedIndentationOptions=function(){var e=this._configWithDefaults.getEditorOptions(),t={tabSizeIsAuto:!1,tabSize:4,insertSpacesIsAuto:!1,insertSpaces:!1};return"auto"===e.tabSize?t.tabSizeIsAuto=!0:t.tabSize=p(e.tabSize,1,20),"auto"===e.insertSpaces?t.insertSpacesIsAuto=!0:t.insertSpaces=d(e.insertSpaces),t},t.prototype._computeIndentationOptions=function(){var e=this._getValidatedIndentationOptions(),t=null;(e.tabSizeIsAuto||e.insertSpacesIsAuto)&&this._indentationGuesser&&(t=this._indentationGuesser(e.tabSize));var n={insertSpaces:e.insertSpaces,tabSize:e.tabSize};return t&&e.tabSizeIsAuto&&(n.tabSize=t.tabSize),t&&e.insertSpacesIsAuto&&(n.insertSpaces=t.insertSpaces),n},t.prototype.getIndentationOptions=function(){return this._computedIndentationOptions||(this._computedIndentationOptions=this._computeIndentationOptions()),this._computedIndentationOptions},t.prototype.getWrappingColumn=function(){return this.editor.isDominatedByLongLines&&this.editor.wrappingColumn>0?0:this.editor.wrappingColumn},t.prototype._normalizeIndentationFromWhitespace=function(e){var t,n=this.getIndentationOptions(),o=0;for(t=0;t<e.length;t++)"	"===e.charAt(t)?o+=n.tabSize:o++;var r="";if(!n.insertSpaces){var i=Math.floor(o/n.tabSize);for(o%=n.tabSize,t=0;i>t;t++)r+="	"}for(t=0;o>t;t++)r+=" ";return r},t.prototype.normalizeIndentation=function(e){var t=i.firstNonWhitespaceIndex(e);return-1===t&&(t=e.length),this._normalizeIndentationFromWhitespace(e.substring(0,t))+e.substring(t)},t.prototype.getOneIndent=function(){var e=this.getIndentationOptions();if(e.insertSpaces){for(var t="",n=0;n<e.tabSize;n++)t+=" ";return t}return"	"},t.prototype.getOuterWidth=function(){throw new Error("Not implemented")},t.prototype.getOuterHeight=function(){throw new Error("Not implemented")},t.prototype.readConfiguration=function(){throw new Error("Not implemented")},t}(r.EventEmitter);t.CommonEditorConfiguration=m;var g=function(){function e(){}return e.apply=function(t,n){if(t){var o=n;Array.isArray(n)||(o=[n]);for(var r=0;r<o.length;r++){var i=o[r];if(i&&"function"==typeof i.updateOptions){var s=i.getEditorType();switch(s){case u.EditorType.ICodeEditor:case u.EditorType.IDiffEditor:var a=t[e.EDITOR_SECTION];a&&(delete a.readOnly,i.updateOptions(a))}}}}},e.EDITOR_SECTION="editor",e}();t.EditorConfiguration=g;var v=s.Registry.as(a.Extensions.Configuration);v.registerConfiguration({id:"editor",order:5,type:"object",title:n.localize("vs_editor_common_config_commonEditorConfig",0),properties:{"editor.fontFamily":{type:"string",default:c.DefaultConfig.editor.fontFamily,description:n.localize("vs_editor_common_config_commonEditorConfig",1)},"editor.fontSize":{type:"number",default:c.DefaultConfig.editor.fontSize,description:n.localize("vs_editor_common_config_commonEditorConfig",2)},"editor.lineHeight":{type:"number",default:c.DefaultConfig.editor.lineHeight,description:n.localize("vs_editor_common_config_commonEditorConfig",3)},"editor.lineNumbers":{type:"boolean",default:c.DefaultConfig.editor.lineNumbers,description:n.localize("vs_editor_common_config_commonEditorConfig",4)},"editor.glyphMargin":{type:"boolean",default:c.DefaultConfig.editor.glyphMargin,description:n.localize("vs_editor_common_config_commonEditorConfig",5)},"editor.tabSize":{oneOf:[{type:"number"},{type:"string",enum:["auto"]}],default:c.DefaultConfig.editor.tabSize,minimum:1,description:n.localize("vs_editor_common_config_commonEditorConfig",6)},"editor.insertSpaces":{oneOf:[{type:"boolean"},{type:"string",enum:["auto"]}],default:c.DefaultConfig.editor.insertSpaces,description:n.localize("vs_editor_common_config_commonEditorConfig",7)},"editor.roundedSelection":{type:"boolean",default:c.DefaultConfig.editor.roundedSelection,description:n.localize("vs_editor_common_config_commonEditorConfig",8)},"editor.scrollBeyondLastLine":{type:"boolean",default:c.DefaultConfig.editor.scrollBeyondLastLine,description:n.localize("vs_editor_common_config_commonEditorConfig",9)},"editor.wrappingColumn":{type:"integer",default:c.DefaultConfig.editor.wrappingColumn,minimum:-1,description:n.localize("vs_editor_common_config_commonEditorConfig",10)},"editor.wrappingIndent":{type:"string",enum:["none","same","indent"],default:c.DefaultConfig.editor.wrappingIndent,description:n.localize("vs_editor_common_config_commonEditorConfig",11)},"editor.mouseWheelScrollSensitivity":{type:"number",default:c.DefaultConfig.editor.mouseWheelScrollSensitivity,description:n.localize("vs_editor_common_config_commonEditorConfig",12)},"editor.quickSuggestions":{type:"boolean",default:c.DefaultConfig.editor.quickSuggestions,description:n.localize("vs_editor_common_config_commonEditorConfig",13)},"editor.quickSuggestionsDelay":{type:"integer",default:c.DefaultConfig.editor.quickSuggestionsDelay,minimum:0,description:n.localize("vs_editor_common_config_commonEditorConfig",14)},"editor.autoClosingBrackets":{type:"boolean",default:c.DefaultConfig.editor.autoClosingBrackets,description:n.localize("vs_editor_common_config_commonEditorConfig",15)},"editor.formatOnType":{type:"boolean",default:c.DefaultConfig.editor.formatOnType,description:n.localize("vs_editor_common_config_commonEditorConfig",16)},"editor.suggestOnTriggerCharacters":{type:"boolean",default:c.DefaultConfig.editor.suggestOnTriggerCharacters,description:n.localize("vs_editor_common_config_commonEditorConfig",17)},"editor.selectionHighlight":{type:"boolean",default:c.DefaultConfig.editor.selectionHighlight,description:n.localize("vs_editor_common_config_commonEditorConfig",18)},"editor.overviewRulerLanes":{type:"integer",default:3,description:n.localize("vs_editor_common_config_commonEditorConfig",19)},"editor.hideCursorInOverviewRuler":{type:"boolean",default:c.DefaultConfig.editor.hideCursorInOverviewRuler,description:n.localize("vs_editor_common_config_commonEditorConfig",20)},"editor.renderWhitespace":{type:"boolean",default:c.DefaultConfig.editor.renderWhitespace,description:n.localize("vs_editor_common_config_commonEditorConfig",21)},"editor.referenceInfos":{type:"boolean",default:c.DefaultConfig.editor.referenceInfos,description:n.localize("vs_editor_common_config_commonEditorConfig",22)}}})});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/config/configuration",["require","exports","vs/base/common/platform","vs/base/browser/browser","vs/base/browser/dom","vs/editor/common/common","vs/editor/browser/config/elementSizeObserver","vs/editor/common/config/commonEditorConfig"],function(e,t,n,o,r,i,s,a){var u=function(){function e(){this._keys={},this._values={}}return e.prototype.has=function(t){return this._values.hasOwnProperty(e.key(t))},e.prototype.get=function(t){return this._values[e.key(t)]},e.prototype.put=function(t,n){this._values[e.key(t)]=n},e.prototype.getKeys=function(){var e=[];for(var t in this._keys)e.push(this._keys[t]);return e},e.key=function(e){return e.editorClassName+"-"+e.fontFamily+"-"+e.fontSize+"-"+e.lineHeight},e}(),c=function(){function e(){}return e.readConfiguration=function(t,n,o,r){var i={editorClassName:t,fontFamily:n,fontSize:o,lineHeight:r};if(!e._CACHE.has(i)){var s=e._actualReadConfiguration(i);(s.lineHeight<=2||s.typicalHalfwidthCharacterWidth<=2||s.typicalFullwidthCharacterWidth<=2||s.maxDigitWidth<=2)&&(s.lineHeight=Math.max(s.lineHeight,s.fontSize,5),s.typicalHalfwidthCharacterWidth=Math.max(s.typicalHalfwidthCharacterWidth,s.fontSize,5),s.typicalFullwidthCharacterWidth=Math.max(s.typicalFullwidthCharacterWidth,s.fontSize,5),s.maxDigitWidth=Math.max(s.maxDigitWidth,s.fontSize,5),e._installChangeMonitor()),e._CACHE.put(i,s)}return e._CACHE.get(i)},e._installChangeMonitor=function(){-1===e._CHANGE_MONITOR_TIMEOUT&&(e._CHANGE_MONITOR_TIMEOUT=setTimeout(function(){e._CHANGE_MONITOR_TIMEOUT=-1,e._monitorForChanges()},500))},e._monitorForChanges=function(){for(var t=!1,n=e._CACHE.getKeys(),o=0;o<n.length;o++){var r=n[o],i=e._actualReadConfiguration(r);i.lineHeight<=2||i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.maxDigitWidth<=2?t=!0:(e._CACHE.put(r,i),e._invokeChangeListeners())}t&&e._installChangeMonitor()},e._invokeChangeListeners=function(){for(var t=e._CHANGE_LISTENERS.slice(0),n=0;n<t.length;n++)t[n]()},e.addChangeListener=function(t){e._CHANGE_LISTENERS.push(t)},e.removeChangeListener=function(t){for(var n=0;n<e._CHANGE_LISTENERS.length;n++)if(e._CHANGE_LISTENERS[n]===t){e._CHANGE_LISTENERS.splice(n,1);break}},e._testElementId=function(e){return"editorSizeProvider"+e},e._createTestElement=function(t,n){var o=document.createElement("span");o.id=e._testElementId(t);for(var r=" "===n?"&nbsp;":n,i=0;8>i;i++)r+=r;return o.textContent=r,o},e._createTestElements=function(t){var n=document.createElement("div");l.applyEditorStyling(n,t),n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";for(var o=0,r=e._USUAL_CHARS.length;r>o;o++)n.appendChild(document.createElement("br")),n.appendChild(e._createTestElement(o,e._USUAL_CHARS[o]));var i=e._testElementId(e._USUAL_CHARS.length),s=document.createElement("div");return s.id=i,s.appendChild(document.createTextNode("heightTestContent")),n.appendChild(document.createElement("br")),n.appendChild(s),n},e._readTestElementWidth=function(t){return document.getElementById(e._testElementId(t)).offsetWidth/256},e._readFromTestElements=function(){for(var t=[],n=0,o=e._USUAL_CHARS.length;o>n;n++)t.push(e._readTestElementWidth(n));return t},e._actualReadConfiguration=function(t){var n=e._createTestElements(t);document.body.appendChild(n);var o=e._readFromTestElements(),i=document.getElementById(e._testElementId(0)),s=r.getComputedStyle(i),a=e._getFontFromComputedStyle(s),u=s?parseInt(s.fontSize,10):0,c=document.getElementById(e._testElementId(e._USUAL_CHARS.length)),l=c.clientHeight;document.body.removeChild(n);for(var d=0,h=0,p=0,f=0,m=e._USUAL_CHARS.length;m>f;f++){var g=e._USUAL_CHARS.charAt(f);g>="0"&&"9">=g?d=Math.max(d,o[f]):g===e._HALF_WIDTH_TYPICAL?h=o[f]:g===e._FULL_WIDTH_TYPICAL&&(p=o[f])}return{typicalHalfwidthCharacterWidth:h,typicalFullwidthCharacterWidth:p,maxDigitWidth:d,lineHeight:l,font:a,fontSize:u}},e._getFontFromComputedStyle=function(e){return e?e.font?e.font:e.fontFamily+" "+e.fontSize+" "+e.fontSizeAdjust+" "+e.fontStretch+" "+e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" ":"unknown"},e._HALF_WIDTH_TYPICAL="n",e._FULL_WIDTH_TYPICAL="ｍ",e._USUAL_CHARS="0123456789"+e._HALF_WIDTH_TYPICAL+e._FULL_WIDTH_TYPICAL,e._CACHE=new u,e._CHANGE_LISTENERS=[],e._CHANGE_MONITOR_TIMEOUT=-1,e}(),l=function(e){function t(t,n,o){var r=this;void 0===n&&(n=null),void 0===o&&(o=null),this._elementSizeObserver=new s.ElementSizeObserver(n,function(){var e=r.editor;r.editor=r._computeInternalOptions(r.editor.pageSize);var t=r._createConfigurationChangedEvent([]);t.observedOuterWidth=r.editor.observedOuterWidth!==e.observedOuterWidth,t.observedOuterHeight=r.editor.observedOuterHeight!==e.observedOuterHeight,r.emit(i.EventType.ConfigurationChanged,t)}),e.call(this,t,o),this._cssBasedConfigurationChangeListener=function(){return r._onCSSBasedConfigurationChanged()},c.addChangeListener(this._cssBasedConfigurationChangeListener),this._configWithDefaults.getEditorOptions().automaticLayout&&this._elementSizeObserver.startObserving()}return __extends(t,e),t.applyEditorStyling=function(e,t){e.className=t.editorClassName,e.style.fontFamily=t.fontFamily&&t.fontFamily.length>0?t.fontFamily:"",e.style.fontSize=t.fontSize>0?t.fontSize+"px":"",e.style.lineHeight=t.lineHeight>0?t.lineHeight+"px":""
},t.prototype._onCSSBasedConfigurationChanged=function(){var e=this.editor;this.editor=this._computeInternalOptions(this.editor.pageSize);var t=this._createConfigurationChangedEvent([]);t.lineHeight=this.editor.lineHeight!==e.lineHeight,t.typicalHalfwidthCharacterWidth=this.editor.typicalHalfwidthCharacterWidth!==e.typicalHalfwidthCharacterWidth,t.typicalFullwidthCharacterWidth=this.editor.typicalFullwidthCharacterWidth!==e.typicalFullwidthCharacterWidth,t.maxDigitWidth=this.editor.maxDigitWidth!==e.maxDigitWidth,t.font=this.editor.font!==e.font,t.fontSize=this.editor.fontSize!==e.fontSize,this.emit(i.EventType.ConfigurationChanged,t)},t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){c.removeChangeListener(this._cssBasedConfigurationChangeListener),this._elementSizeObserver.dispose(),e.prototype.dispose.call(this)},t.prototype._getEditorClassName=function(e){var t="";return o.isIE11orEarlier?t+="ie ":o.isFirefox&&(t+="ff "),o.isIE9&&(t+="ie9 "),n.isMacintosh&&(t+="mac "),"monaco-editor "+t+e},t.prototype.getOuterWidth=function(){return this._elementSizeObserver.getWidth()},t.prototype.getOuterHeight=function(){return this._elementSizeObserver.getHeight()},t.prototype.readConfiguration=function(e,t,n,o){return c.readConfiguration(e,t,n,o)},t}(a.CommonEditorConfiguration);t.Configuration=l}),define("vs/editor/common/core/position",["require","exports"],function(e,t){var n=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(e){return!!e&&this.lineNumber===e.lineNumber&&this.column===e.column},e.prototype.isBefore=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<e.column},e.prototype.isBeforeOrEqual=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<=e.column},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.create=function(t,n){return new e(t,n)},e.lift=function(t){return new e(t.lineNumber,t.column)},e.isIPosition=function(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column},e.asEmptyRange=function(e){return{startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column}},e.startPosition=function(e){return{lineNumber:e.startLineNumber,column:e.startColumn}},e.endPosition=function(e){return{lineNumber:e.endLineNumber,column:e.endColumn}},e}();t.Position=n}),define("vs/editor/common/core/range",["require","exports","vs/editor/common/core/position"],function(e,t,n){var o=function(){function e(e,t,n,o){e>n||e===n&&t>o?(this.startLineNumber=n,this.startColumn=o,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=o)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.prototype.containsPosition=function(t){return e.containsPosition(this,t)},e.prototype.containsRange=function(t){return e.containsRange(this,t)},e.prototype.plusRange=function(t){return e.plusRange(this,t)},e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)},e.prototype.equalsRange=function(t){return e.equalsRange(this,t)},e.prototype.getEndPosition=function(){return new n.Position(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new n.Position(this.startLineNumber,this.startColumn)},e.prototype.cloneRange=function(){return new e(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return new e(this.startLineNumber,this.startColumn,this.startLineNumber,this.startColumn)},e.create=function(t,n,o,r){return new e(t,n,o,r)},e.lift=function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},e.isIRange=function(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.containsPosition=function(e,t){return t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber?!1:t.lineNumber===e.startLineNumber&&t.column<e.startColumn?!1:t.lineNumber===e.endLineNumber&&t.column>e.endColumn?!1:!0},e.containsRange=function(e,t){return t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber?!1:t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber?!1:t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn?!1:t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn?!1:!0},e.areIntersectingOrTouching=function(e,t){return e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn?!1:t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn?!1:!0},e.intersectRanges=function(t,n){var o=t.startLineNumber,r=t.startColumn,i=t.endLineNumber,s=t.endColumn,a=n.startLineNumber,u=n.startColumn,c=n.endLineNumber,l=n.endColumn;return a>o?(o=a,r=u):o===a&&(r=Math.max(r,u)),i>c?(i=c,s=l):i===c&&(s=Math.min(s,l)),o>i?null:o===i&&r>s?null:new e(o,r,i,s)},e.plusRange=function(t,n){var o,r,i,s;return n.startLineNumber<t.startLineNumber?(o=n.startLineNumber,r=n.startColumn):n.startLineNumber===t.startLineNumber?(o=n.startLineNumber,r=Math.min(n.startColumn,t.startColumn)):(o=t.startLineNumber,r=t.startColumn),n.endLineNumber>t.endLineNumber?(i=n.endLineNumber,s=n.endColumn):n.endLineNumber===t.endLineNumber?(i=n.endLineNumber,s=Math.max(n.endColumn,t.endColumn)):(i=t.endLineNumber,s=t.endColumn),new e(o,r,i,s)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.compareRangesUsingStarts=function(e,t){return e.startLineNumber===t.startLineNumber?e.startColumn===t.startColumn?e.endLineNumber===t.endLineNumber?e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber:e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e.hashCode=function(e){return 17*e.startLineNumber+23*e.startColumn+29*e.endLineNumber+37*e.endColumn},e.collapseToStart=function(e){return{startLineNumber:e.startLineNumber,startColumn:e.startColumn,endLineNumber:e.startLineNumber,endColumn:e.startColumn}},e}();t.Range=o});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/core/selection",["require","exports","vs/editor/common/core/range","vs/editor/common/common"],function(e,t,n,o){var r=function(e){function t(t,n,o,r){this.selectionStartLineNumber=t,this.selectionStartColumn=n,this.positionLineNumber=o,this.positionColumn=r,e.call(this,t,n,o,r)}return __extends(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.equalsSelection=function(e){return this.selectionStartLineNumber===e.selectionStartLineNumber&&this.selectionStartColumn===e.selectionStartColumn&&this.positionLineNumber===e.positionLineNumber&&this.positionColumn===e.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?o.SelectionDirection.LTR:o.SelectionDirection.RTL},t.prototype.setEndPosition=function(e,n){return this.getDirection()===o.SelectionDirection.LTR?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.setStartPosition=function(e,n){return this.getDirection()===o.SelectionDirection.LTR?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t.createSelection=function(e,n,o,r){return new t(e,n,o,r)},t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)},t.isISelection=function(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn},t.createWithDirection=function(e,n,r,i,s){return s===o.SelectionDirection.LTR?new t(e,n,r,i):new t(r,i,e,n)},t}(n.Range);t.Selection=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/commands/replaceCommand",["require","exports","vs/editor/common/core/selection"],function(e,t,n){var o=function(){function e(e,t){this._range=e,this._text=t}return e.prototype.getText=function(){return this._text},e.prototype.getRange=function(){return this._range},e.prototype.setRange=function(e){this._range=e},e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var o=t.getInverseEditOperations(),r=o[0].range;return new n.Selection(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn)},e}();t.ReplaceCommand=o;var r=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.computeCursorState=function(e,t){var o=t.getInverseEditOperations(),r=o[0].range;return new n.Selection(r.startLineNumber,r.startColumn,r.startLineNumber,r.startColumn)},t}(o);t.ReplaceCommandWithoutChangingPosition=r;var i=function(e){function t(t,n,o,r){e.call(this,t,n),this._columnDeltaOffset=r,this._lineNumberDeltaOffset=o}return __extends(t,e),t.prototype.computeCursorState=function(e,t){var o=t.getInverseEditOperations(),r=o[0].range;return new n.Selection(r.endLineNumber+this._lineNumberDeltaOffset,r.endColumn+this._columnDeltaOffset,r.endLineNumber+this._lineNumberDeltaOffset,r.endColumn+this._columnDeltaOffset)},t}(o);t.ReplaceCommandWithOffsetCursorState=i;var s=function(e){function t(t,n,o){e.call(this,t,n),this._initialSelection=o}return __extends(t,e),t.prototype.getEditOperations=function(t,n){e.prototype.getEditOperations.call(this,t,n),this._selectionId=n.trackSelection(this._initialSelection)},t.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},t}(o);t.ReplaceCommandThatPreservesSelection=s}),define("vs/editor/common/controller/cursorMoveHelper",["require","exports"],function(e,t){var n=function(){function e(e){this.configuration=e}return e.prototype.getLeftOfPosition=function(e,t,n){return n>e.getLineMinColumn(t)?n-=1:t>1&&(t-=1,n=e.getLineMaxColumn(t)),{lineNumber:t,column:n}},e.prototype.getRightOfPosition=function(e,t,n){return n<e.getLineMaxColumn(t)?n+=1:t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),{lineNumber:t,column:n}},e.prototype.getPositionUp=function(e,t,n,o,r){var i=this.visibleColumnFromColumn(e,t,n)+o;return t-=r,1>t?(t=1,n=e.getLineMinColumn(t)):n=this.columnFromVisibleColumn(e,t,i),o=i-this.visibleColumnFromColumn(e,t,n),{lineNumber:t,column:n,leftoverVisibleColumns:o}},e.prototype.getPositionDown=function(e,t,n,o,r){var i=this.visibleColumnFromColumn(e,t,n)+o;t+=r;var s=e.getLineCount();return t>s?(t=s,n=e.getLineMaxColumn(t)):n=this.columnFromVisibleColumn(e,t,i),o=i-this.visibleColumnFromColumn(e,t,n),{lineNumber:t,column:n,leftoverVisibleColumns:o}},e.prototype.getColumnAtBeginningOfLine=function(e,t,n){var o=e.getLineFirstNonWhitespaceColumn(t)||1,r=e.getLineMinColumn(t);return n=n!==r&&o>=n?r:o},e.prototype.getColumnAtEndOfLine=function(e,t,n){var o=e.getLineMaxColumn(t),r=e.getLineLastNonWhitespaceColumn(t)||o;return n=n!==o&&n>=r?o:r},e.prototype.visibleColumnFromColumn=function(t,n,o){return e.visibleColumnFromColumn(t,n,o,this.configuration.getIndentationOptions().tabSize)},e.visibleColumnFromColumn=function(t,n,o,r){for(var i=t.getLineContent(n),s=0,a=0;o-1>a;a++)s="	"===i.charAt(a)?e.nextTabColumn(s,r):s+1;return s},e.prototype.columnFromVisibleColumn=function(t,n,o){for(var r=t.getLineContent(n),i=-1,s=0,a=0;a<r.length&&o>=s;a++)i=s,s="	"===r.charAt(a)?e.nextTabColumn(s,this.configuration.getIndentationOptions().tabSize):s+1;s=Math.abs(o-s),i=Math.abs(o-i);var u;u=i>s?a+1:a;var c=t.getLineMinColumn(n);return c>u&&(u=c),u},e.nextTabColumn=function(e,t){return e+t-e%t},e.prevTabColumn=function(e,t){return e-1-(e-1)%t},e}();t.CursorMoveHelper=n}),define("vs/editor/common/commands/shiftCommand",["require","exports","vs/base/common/strings","vs/editor/common/core/range","vs/editor/common/core/selection","vs/editor/common/controller/cursorMoveHelper"],function(e,t,n,o,r,i){var s=function(){function e(e,t){this._opts=t,this._selection=e,this._useLastEditRangeForCursorEndPosition=!1}return e.prototype.getEditOperations=function(e,t){var r=this._selection.startLineNumber,s=this._selection.endLineNumber;1===this._selection.endColumn&&r!==s&&(s-=1);var a,u=this._opts.tabSize,c=this._opts.oneIndent,l=["",c];for(this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0),a=r;s>=a;a++){var d=e.getLineContent(a),h=n.firstNonWhitespaceIndex(d);if(!this._opts.isUnshift||0!==d.length&&0!==h){-1===h&&(h=d.length);var p,f=i.CursorMoveHelper.visibleColumnFromColumn(e,a,h+1,u);p=this._opts.isUnshift?i.CursorMoveHelper.prevTabColumn(f,u):i.CursorMoveHelper.nextTabColumn(f,u);for(var m=p/u,g=l.length;m>=g;g++)l[g]=l[g-1]+c;t.addEditOperation(new o.Range(a,1,a,h+1),l[m])}}this._selectionId=t.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var n=t.getInverseEditOperations()[0];return new r.Selection(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}return t.getTrackedSelection(this._selectionId)},e}();t.ShiftCommand=s}),define("vs/editor/common/commands/surroundSelectionCommand",["require","exports","vs/editor/common/core/range","vs/editor/common/core/selection"],function(e,t,n,o){var r=function(){function e(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(new n.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addEditOperation(new n.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),r=n[0].range,i=n[1].range;return new o.Selection(r.endLineNumber,r.endColumn,i.endLineNumber,i.endColumn-this._charAfterSelection.length)},e}();t.SurroundSelectionCommand=r}),define("vs/editor/common/modes",["require","exports"],function(e,t){function n(e){return null===e||"object"!=typeof e?!1:"string"!=typeof e.label||"string"!=typeof e.codeSnippet||"string"!=typeof e.type?!1:e.highlights&&!Array.isArray(e.highlights)?!1:e.typeLabel&&"string"!=typeof e.typeLabel?!1:e.documentationLabel&&"string"!=typeof e.documentationLabel?!1:!0}!function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Close=-1]="Close"}(t.Bracket||(t.Bracket={}));t.Bracket;t.isISuggestion=n,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent"}(t.IndentAction||(t.IndentAction={}));t.IndentAction}),define("vs/editor/common/controller/oneCursor",["require","exports","vs/base/common/strings","vs/editor/common/core/position","vs/editor/common/core/range","vs/editor/common/commands/shiftCommand","vs/editor/common/commands/replaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/core/selection","vs/editor/common/modes","vs/editor/common/controller/cursorMoveHelper","vs/editor/common/common","vs/base/common/errors"],function(e,t,n,o,r,i,s,a,u,c,l,d,h){var p=function(){function e(e,t,n,r,i,s){this.editorId=e,this.model=t,this.configuration=n,this.modeConfiguration=r,this.viewModelHelper=i,this.helper=new f(this.model,this.configuration),this.enableEmptySelectionClipboard=s,this.position=new o.Position(1,1),this.viewPosition=new o.Position(1,1),this.positionMarkerId=null,this.inSelectionMode=!1,this.selectionStart=null,this.viewSelectionStart=null,this.selStartMarkerId=null,this.selEndMarkerId=null,this.leftoverVisibleColumns=0,this.selectionStartLeftoverVisibleColumns=0,this.bracketDecorations=[],this._cachedSelection=null,this._cachedViewSelection=null,this._stopSelectionMode(),this._setPosition(1,1,1,1,0)}return e.prototype.saveState=function(){return{inSelectionMode:this.inSelectionMode,selectionStart:this.selectionStart,viewSelectionStart:this.viewSelectionStart,position:this.position,viewPosition:this.viewPosition,leftoverVisibleColumns:this.leftoverVisibleColumns,selectionStartLeftoverVisibleColumns:this.selectionStartLeftoverVisibleColumns}},e.prototype.restoreState=function(e){var t=e.selectionStart?this.model.validateRange(e.selectionStart):null,n=this.model.validatePosition(e.position);!t||t.isEmpty()&&t.getStartPosition().equals(n)?this._stopSelectionMode():this._startSelectionModeFromRange(t,e.viewSelectionStart),this.leftoverVisibleColumns=e.leftoverVisibleColumns,this.selectionStartLeftoverVisibleColumns=e.selectionStartLeftoverVisibleColumns,this._setPosition(n.lineNumber,n.column,e.viewPosition.lineNumber,e.viewPosition.column)},e.prototype.updateModeConfiguration=function(e){this.modeConfiguration=e},e.prototype.duplicate=function(){var t=new e(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper,this.enableEmptySelectionClipboard);return t.setSelection(this.getSelection()),t.leftoverVisibleColumns=this.leftoverVisibleColumns,t.selectionStartLeftoverVisibleColumns=this.selectionStartLeftoverVisibleColumns,t},e.prototype.dispose=function(){this.positionMarkerId&&(this.model._removeMarker(this.positionMarkerId),this.positionMarkerId=null),this.selStartMarkerId&&(this.model._removeMarker(this.selStartMarkerId),this.selStartMarkerId=null),this.selEndMarkerId&&(this.model._removeMarker(this.selEndMarkerId),this.selEndMarkerId=null),this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,[],this.editorId)},e.prototype.adjustBracketDecorations=function(){var e=null,t=this.getSelection();t.isEmpty()&&(e=this.model.matchBracket(this.position,!0));var n=[];if(e&&e.brackets){var o={stickiness:d.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!1,className:"bracket-match"};n.push({range:e.brackets[0],options:o}),n.push({range:e.brackets[1],options:o})}this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,n,this.editorId)},e.computeSelection=function(e,t,n){var o,r,i,s;return e?t.isEmpty()?(o=t.startLineNumber,r=t.startColumn,i=n.lineNumber,s=n.column):n.isBeforeOrEqual(t.getStartPosition())?(o=t.endLineNumber,r=t.endColumn,i=n.lineNumber,s=n.column):(o=t.startLineNumber,r=t.startColumn,i=n.lineNumber,s=n.column):(o=n.lineNumber,r=n.column,i=n.lineNumber,s=n.column),new u.Selection(o,r,i,s)},e.prototype.getSelection=function(){return this._cachedSelection||(this._cachedSelection=e.computeSelection(this.inSelectionMode,this.selectionStart,this.position)),this._cachedSelection},e.prototype.getViewSelection=function(){return this._cachedViewSelection||(this._cachedViewSelection=e.computeSelection(this.inSelectionMode,this.viewSelectionStart,this.viewPosition)),this._cachedViewSelection},e.prototype.setSelection=function(e){var t=this.model.validatePosition({lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn}),n=this.model.validatePosition({lineNumber:e.positionLineNumber,column:e.positionColumn});t.equals(n)?this._stopSelectionMode():this._startSelectionModeFromPosition(t,this.viewModelHelper.convertModelPositionToViewPosition(t.lineNumber,t.column));var o=this.viewModelHelper.convertModelPositionToViewPosition(n.lineNumber,n.column);this._setPosition(n.lineNumber,n.column,o.lineNumber,o.column)},e.prototype.getPosition=function(){return this.position},e.prototype.getViewPosition=function(){return this.viewPosition},e.prototype._getValidViewPosition=function(){return this.viewModelHelper.validateViewPosition(this.viewPosition.lineNumber,this.viewPosition.column,this.position)},e.prototype._setPosition=function(e,t,n,r,i){void 0===i&&(i=0),this.inSelectionMode&&this.viewSelectionStart.isEmpty()&&this.viewSelectionStart.startLineNumber===n&&this.viewSelectionStart.startColumn===r&&this._stopSelectionMode(),this.position=new o.Position(e,t),this.viewPosition=new o.Position(n,r),this.leftoverVisibleColumns=i,this.selectionStartLeftoverVisibleColumns=0,this._cachedSelection=null,this._cachedViewSelection=null,this.positionMarkerId?this.model._changeMarker(this.positionMarkerId,this.position.lineNumber,this.position.column):this.positionMarkerId=this.model._addMarker(this.position.lineNumber,this.position.column,!0)},e.prototype._startSelectionModeFromPosition=function(e,t){this.inSelectionMode=!0,this.selectionStart=new r.Range(e.lineNumber,e.column,e.lineNumber,e.column),this.viewSelectionStart=new r.Range(t.lineNumber,t.column,t.lineNumber,t.column),this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._startSelectionModeFromRange=function(e,t){this.inSelectionMode=!0,this.selectionStart=e,this.viewSelectionStart=t,this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._stopSelectionMode=function(){this.inSelectionMode=!1,this.selectionStart=null,this.viewSelectionStart=null,this._cachedSelection=null,this._cachedViewSelection=null,this._ensureSelectionMarkers()},e.prototype._ensureSelectionMarkers=function(){this.inSelectionMode?(this.selStartMarkerId?this.model._changeMarker(this.selStartMarkerId,this.selectionStart.startLineNumber,this.selectionStart.startColumn):this.selStartMarkerId=this.model._addMarker(this.selectionStart.startLineNumber,this.selectionStart.startColumn,!0),this.selEndMarkerId?this.model._changeMarker(this.selEndMarkerId,this.selectionStart.endLineNumber,this.selectionStart.endColumn):this.selEndMarkerId=this.model._addMarker(this.selectionStart.endLineNumber,this.selectionStart.endColumn,!0)):(this.selStartMarkerId&&(this.model._removeMarker(this.selStartMarkerId),this.selStartMarkerId=null),this.selEndMarkerId&&(this.model._removeMarker(this.selEndMarkerId),this.selEndMarkerId=null))},e.prototype._moveModelPosition=function(e,t,n,o,r,i,s){var a=this.viewModelHelper.convertModelPositionToViewPosition(o,r);this._actualMove(e,t,n,o,r,a.lineNumber,a.column,i,s)},e.prototype._moveViewPosition=function(e,t,n,o,r,i,s){var a=this.viewModelHelper.convertViewToModelPosition(o,r);this._actualMove(e,t,n,a.lineNumber,a.column,o,r,i,s)},e.prototype._actualMove=function(e,t,n,o,r,i,s,a,u){if(t&&(e.cursorPositionChangeReason=t),n&&!this.inSelectionMode?this._startSelectionModeFromPosition(this.position,this.viewPosition):!n&&this.inSelectionMode&&this._stopSelectionMode(),u){var c=this.model.getEditableRange();o<c.startLineNumber||o===c.startLineNumber&&r<c.startColumn?(o=c.startLineNumber,r=c.startColumn):(o>c.endLineNumber||o===c.endLineNumber&&r>c.endColumn)&&(o=c.endLineNumber,r=c.endColumn)}this._setPosition(o,r,i,s,a)},e.prototype.recoverSelectionFromMarkers=function(e){e.cursorPositionChangeReason="recoverFromMarkers",e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,e.shouldReveal=!1,e.shouldRevealHorizontal=!1;var t=this.model._getMarker(this.positionMarkerId),n=new o.Position(t.lineNumber,t.column),i=null,s=null,a=null,u=null;if(this.selStartMarkerId&&this.selEndMarkerId){var c=this.model._getMarker(this.selStartMarkerId),l=this.model._getMarker(this.selEndMarkerId);if(i=new r.Range(c.lineNumber,c.column,l.lineNumber,l.column),i.isEmpty())a=new o.Position(i.startLineNumber,i.startColumn),i=null,a.equals(n)?a=null:u=this.viewModelHelper.convertModelPositionToViewPosition(a.lineNumber,a.column);else{var d=this.viewModelHelper.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn),h=this.viewModelHelper.convertModelPositionToViewPosition(i.endLineNumber,i.endColumn);s=new r.Range(d.lineNumber,d.column,h.lineNumber,h.column)}}i?this._startSelectionModeFromRange(i,s):a?this._startSelectionModeFromPosition(a,u):this._stopSelectionMode();var p=this.viewModelHelper.convertModelPositionToViewPosition(n.lineNumber,n.column);return this._setPosition(n.lineNumber,n.column,p.lineNumber,p.column),!0},e.prototype.jumpToBracket=function(e){var t=this.bracketDecorations.length;if(2!==t)return!1;for(var n=0;2>n;n++){var o=this.model.getDecorationRange(this.bracketDecorations[n]),r=this.model.getDecorationRange(this.bracketDecorations[1-n]);if(m.isPositionAtRangeEdges(this.position,o)||m.isPositionInsideRange(this.position,o))return this._moveModelPosition(e,null,!1,r.startLineNumber,r.startColumn,0,!1),!0}return!1},e.prototype.moveTo=function(e,t,n,o,r){var i,s=this.model.validatePosition(t);i=n?this.viewModelHelper.validateViewPosition(n.lineNumber,n.column,s):this.viewModelHelper.convertModelPositionToViewPosition(s.lineNumber,s.column);var a="mouse"===o?"explicit":null;return"api"===o&&(r.shouldRevealVerticalInCenter=!0),this._moveViewPosition(r,a,e,i.lineNumber,i.column,0,!1),!0},e.prototype.moveLeft=function(e,t){var n,o;if(this.inSelectionMode&&!e){var r=this.getViewSelection(),i=this.viewModelHelper.validateViewPosition(r.startLineNumber,r.startColumn,this.getSelection().getStartPosition());n=i.lineNumber,o=i.column}else{var s=this._getValidViewPosition(),a=this.helper.getLeftOfPosition(this.viewModelHelper.viewModel,s.lineNumber,s.column);n=a.lineNumber,o=a.column}return this._moveViewPosition(t,"explicit",e,n,o,0,!0),!0},e.prototype.moveWordLeft=function(e,t){var n=this.position.lineNumber,r=this.position.column,i=!1;1===r&&n>1&&(i=!0,n-=1,r=this.model.getLineMaxColumn(n));var s=this.helper.findWord(new o.Position(n,r),"left",!0);return r=s?s.start+1:1,this._moveModelPosition(t,"explicit",e,n,r,0,!0),!0},e.prototype.moveRight=function(e,t){var n,o;if(this.inSelectionMode&&!e){var r=this.getViewSelection(),i=this.viewModelHelper.validateViewPosition(r.endLineNumber,r.endColumn,this.getSelection().getEndPosition());n=i.lineNumber,o=i.column}else{var s=this._getValidViewPosition(),a=this.helper.getRightOfPosition(this.viewModelHelper.viewModel,s.lineNumber,s.column);n=a.lineNumber,o=a.column}return this._moveViewPosition(t,"explicit",e,n,o,0,!0),!0},e.prototype.moveWordRight=function(e,t){var n=this.position.lineNumber,r=this.position.column,i=!1;r===this.model.getLineMaxColumn(n)&&n<this.model.getLineCount()&&(i=!0,n+=1,r=1);var s=this.helper.findWord(new o.Position(n,r),"right",!0);return r=s?s.end+1:this.model.getLineMaxColumn(n),this._moveModelPosition(t,"explicit",e,n,r,0,!0),!0},e.prototype.moveDown=function(e,t,n){var o,r,i=t?this.configuration.editor.pageSize:1;if(this.inSelectionMode&&!e){var s=this.getViewSelection(),a=this.viewModelHelper.validateViewPosition(s.endLineNumber,s.endColumn,this.getSelection().getEndPosition());o=a.lineNumber,r=a.column}else{var u=this._getValidViewPosition();o=u.lineNumber,r=u.column}var c=this.helper.getPositionDown(this.viewModelHelper.viewModel,o,r,this.leftoverVisibleColumns,i);return this._moveViewPosition(n,"explicit",e,c.lineNumber,c.column,c.leftoverVisibleColumns,!0),!0},e.prototype.translateDown=function(e){var t=this.getViewSelection(),n=this.helper.getPositionDown(this.viewModelHelper.viewModel,t.selectionStartLineNumber,t.selectionStartColumn,this.selectionStartLeftoverVisibleColumns,1);this._moveViewPosition(e,"explicit",!1,n.lineNumber,n.column,this.leftoverVisibleColumns,!0);var o=this.helper.getPositionDown(this.viewModelHelper.viewModel,t.positionLineNumber,t.positionColumn,this.leftoverVisibleColumns,1);return this._moveViewPosition(e,"explicit",!0,o.lineNumber,o.column,o.leftoverVisibleColumns,!0),this.selectionStartLeftoverVisibleColumns=n.leftoverVisibleColumns,!0},e.prototype.moveUp=function(e,t,n){var o,r,i=t?this.configuration.editor.pageSize:1;if(this.inSelectionMode&&!e){var s=this.getViewSelection(),a=this.viewModelHelper.validateViewPosition(s.startLineNumber,s.startColumn,this.getSelection().getStartPosition());o=a.lineNumber,r=a.column}else{var u=this._getValidViewPosition();o=u.lineNumber,r=u.column}var c=this.helper.getPositionUp(this.viewModelHelper.viewModel,o,r,this.leftoverVisibleColumns,i);return this._moveViewPosition(n,"explicit",e,c.lineNumber,c.column,c.leftoverVisibleColumns,!0),!0},e.prototype.translateUp=function(e){var t=this.getViewSelection(),n=this.helper.getPositionUp(this.viewModelHelper.viewModel,t.selectionStartLineNumber,t.selectionStartColumn,this.selectionStartLeftoverVisibleColumns,1);this._moveViewPosition(e,"explicit",!1,n.lineNumber,n.column,this.leftoverVisibleColumns,!0);var o=this.helper.getPositionUp(this.viewModelHelper.viewModel,t.positionLineNumber,t.positionColumn,this.leftoverVisibleColumns,1);return this._moveViewPosition(e,"explicit",!0,o.lineNumber,o.column,o.leftoverVisibleColumns,!0),this.selectionStartLeftoverVisibleColumns=n.leftoverVisibleColumns,!0},e.prototype.moveToBeginningOfLine=function(e,t){var n=this._getValidViewPosition(),o=n.lineNumber,r=n.column;return r=this.helper.getColumnAtBeginningOfLine(this.viewModelHelper.viewModel,o,r),this._moveViewPosition(t,"explicit",e,o,r,0,!0),!0},e.prototype.moveToEndOfLine=function(e,t){var n=this._getValidViewPosition(),o=n.lineNumber,r=n.column;return r=this.helper.getColumnAtEndOfLine(this.viewModelHelper.viewModel,o,r),this._moveViewPosition(t,"explicit",e,o,r,0,!0),!0},e.prototype.moveToBeginningOfBuffer=function(e,t){return this._moveModelPosition(t,"explicit",e,1,1,0,!0),!0},e.prototype.moveToEndOfBuffer=function(e,t){var n=this.model.getLineCount(),o=this.model.getLineMaxColumn(n);return this._moveModelPosition(t,"explicit",e,n,o,0,!0),!0},e.prototype.selectAll=function(e){var t,n,o,r,i=!0;if(this.model.hasEditableRange()){var s=this.model.getEditableRange(),a=this.getSelection();a.equalsRange(s)||(i=!1,t=s.startLineNumber,n=s.startColumn,o=s.endLineNumber,r=s.endColumn)}return i&&(t=1,n=1,o=this.model.getLineCount(),r=this.model.getLineMaxColumn(o)),this._moveModelPosition(e,null,!1,t,n,0,!1),this._moveModelPosition(e,null,!0,o,r,0,!1),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},e.prototype.line=function(e,t,n,o){var i,s=this.model.validatePosition(t);i=n?this.viewModelHelper.validateViewPosition(n.lineNumber,n.column,s):this.viewModelHelper.convertModelPositionToViewPosition(s.lineNumber,s.column);var a,u;if(e&&this.inSelectionMode)a=i.lineNumber,u=s.isBeforeOrEqual(this.selectionStart.getStartPosition())?1:this.viewModelHelper.viewModel.getLineMaxColumn(a);else{var c=new r.Range(i.lineNumber,1,i.lineNumber,this.viewModelHelper.viewModel.getLineMaxColumn(i.lineNumber)),l=this.viewModelHelper.convertViewToModelPosition(c.startLineNumber,c.startColumn),d=this.viewModelHelper.convertViewToModelPosition(c.endLineNumber,c.endColumn);this._startSelectionModeFromRange(new r.Range(l.lineNumber,l.column,d.lineNumber,d.column),c),a=c.endLineNumber,u=c.endColumn}o.cursorPositionChangeReason="explicit",o.shouldRevealHorizontal=!1;var h=this.viewModelHelper.convertViewToModelPosition(a,u);return this._setPosition(h.lineNumber,h.column,a,u,0),!0},e.prototype.word=function(e,t,n,o){var i,s,a,u,c=this.model.validatePosition(t),l=this.helper.findWord(c,n);
if(e&&this.inSelectionMode)i=l?l.start+1:c.column,s=l?l.end+1:c.column,a=c.lineNumber,u=c.isBeforeOrEqual(this.selectionStart.getStartPosition())?i:s;else{if(l)i=l.start+1,s=l.end+1;else{var d=this.model.getLineMaxColumn(c.lineNumber);c.column===d||"left"===n?(i=c.column-1,s=c.column):(i=c.column,s=c.column+1),1>=i&&(i=1),s>=d&&(s=d)}var h=new r.Range(c.lineNumber,i,c.lineNumber,s),p=this.viewModelHelper.convertModelPositionToViewPosition(c.lineNumber,i),f=this.viewModelHelper.convertModelPositionToViewPosition(c.lineNumber,s);this._startSelectionModeFromRange(h,new r.Range(p.lineNumber,p.column,f.lineNumber,f.column)),a=h.endLineNumber,u=h.endColumn}o.cursorPositionChangeReason="explicit";var m=this.viewModelHelper.convertModelPositionToViewPosition(a,u);return this._setPosition(a,u,m.lineNumber,m.column,0),!0},e.prototype.cancelSelection=function(){return this.inSelectionMode?(this._stopSelectionMode(),!0):!1},e.prototype._typeInterceptorEnter=function(e,t){return"\n"!==e?!1:this._enter(!1,t)},e.prototype.lineInsertBefore=function(e){var t=this.position.lineNumber;if(1===t)return e.executeCommand=new s.ReplaceCommandWithoutChangingPosition(new r.Range(1,1,1,1),"\n"),!0;t--;var n=this.model.getLineMaxColumn(t);return this._enter(!1,e,new o.Position(t,n),new r.Range(t,n,t,n))},e.prototype.lineInsertAfter=function(e){var t=this.model.getLineMaxColumn(this.position.lineNumber);return this._enter(!1,e,new o.Position(this.position.lineNumber,t),new r.Range(this.position.lineNumber,t,this.position.lineNumber,t))},e.prototype.lineBreakInsert=function(e){return this._enter(!0,e)},e.prototype._getEnterActionAtPosition=function(e,t){var o,r=this.model.getLineContent(e),i=this.model.getLineContext(e);if(this.model.getMode().electricCharacterSupport)try{o=this.model.getMode().electricCharacterSupport.onEnter(i,t-1)}catch(s){h.onUnexpectedError(s)}var a=n.getLeadingWhitespace(r);return a.length>t-1&&(a=a.substring(0,t-1)),o?o.appendText||(o.appendText=o.indentAction===c.IndentAction.None?"":"	"):o={indentAction:c.IndentAction.None,appendText:""},{enterAction:o,indentation:a}},e.prototype._enter=function(e,t,n,o){void 0===n&&(n=this.position),void 0===o&&(o=this.getSelection()),t.shouldPushStackElementBefore=!0;var r=this._getEnterActionAtPosition(n.lineNumber,n.column),i=r.enterAction,a=r.indentation;if(i.indentAction===c.IndentAction.None)this.actualType("\n"+this.helper.normalizeIndentation(a+i.appendText),e,t,o);else if(i.indentAction===c.IndentAction.Indent)this.actualType("\n"+this.helper.normalizeIndentation(a+i.appendText),e,t,o);else if(i.indentAction===c.IndentAction.IndentOutdent){var u=this.helper.normalizeIndentation(a),l=this.helper.normalizeIndentation(a+i.appendText),d="\n"+l+"\n"+u;t.executeCommand=e?new s.ReplaceCommandWithoutChangingPosition(o,d):new s.ReplaceCommandWithOffsetCursorState(o,d,-1,l.length-u.length)}return!0},e.prototype._typeInterceptorAutoClosingCloseChar=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(!n.isEmpty()||!this.modeConfiguration.autoClosingPairsClose.hasOwnProperty(e))return!1;var o=this.model.getLineContent(this.position.lineNumber),i=o[this.position.column-1];if(i!==e)return!1;var a=new r.Range(this.position.lineNumber,this.position.column,this.position.lineNumber,this.position.column+1);return t.executeCommand=new s.ReplaceCommand(a,e),!0},e.prototype._typeInterceptorAutoClosingOpenChar=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(!n.isEmpty()||!this.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(e))return!1;if(!this.model.getMode().characterPairSupport)return!1;var o=this.model.getLineContent(this.position.lineNumber),r=o[this.position.column-1];if(r){var i=!1;for(var a in this.modeConfiguration.autoClosingPairsClose)if(r===a){i=!0;break}if(!i&&!/\s/.test(r))return!1}var u=this.model.getLineContext(this.position.lineNumber),c=!1;try{c=this.model.getMode().characterPairSupport.shouldAutoClosePair(e,u,this.position.column-1)}catch(l){h.onUnexpectedError(l)}if(!c)return!1;t.shouldPushStackElementBefore=!0;var d=this.modeConfiguration.autoClosingPairsOpen[e];return t.executeCommand=new s.ReplaceCommandWithOffsetCursorState(n,e+d,0,-d.length),!0},e.prototype._typeInterceptorSurroundSelection=function(e,t){if(!this.configuration.editor.autoClosingBrackets)return!1;var n=this.getSelection();if(n.isEmpty()||!this.modeConfiguration.surroundingPairs.hasOwnProperty(e))return!1;var o,r,i,s,u,c,l=!0,d="	".charCodeAt(0),h=" ".charCodeAt(0);for(o=n.startLineNumber;o<=n.endLineNumber;o++)for(c=this.model.getLineContent(o),r=o===n.startLineNumber?n.startColumn-1:0,i=o===n.endLineNumber?n.endColumn-1:c.length,s=r;i>s;s++)u=c.charCodeAt(s),u!==d&&u!==h&&(l=!1,o=n.endLineNumber+1,s=i);if(l)return!1;var p=this.modeConfiguration.surroundingPairs[e];return t.shouldPushStackElementBefore=!0,t.shouldPushStackElementAfter=!0,t.executeCommand=new a.SurroundSelectionCommand(n,e,p),!0},e.prototype._typeInterceptorElectricChar=function(e,t){var n=this;return this.modeConfiguration.electricChars.hasOwnProperty(e)?(t.postOperationRunnable=function(e){return n._typeInterceptorElectricCharRunnable(e)},this.actualType(e,!1,t)):!1},e.prototype._typeInterceptorElectricCharRunnable=function(e){var t,o=this.model.getLineContent(this.position.lineNumber),i=this.model.getLineContext(this.position.lineNumber);if(this.model.getMode().electricCharacterSupport)try{t=this.model.getMode().electricCharacterSupport.onElectricCharacter(i,this.position.column-2)}catch(a){h.onUnexpectedError(a)}if(t){var u=t.matchBracketType,c=t.appendText;if(u){var l=null;if(u&&(l=this.model.findMatchingBracketUp(u,this.position)),l){var d=l.startLineNumber,p=this.model.getLineContent(d),f=n.getLeadingWhitespace(p),m=this.helper.normalizeIndentation(f),g=this.model.getLineFirstNonWhitespaceColumn(this.position.lineNumber)||this.position.column,v=o.substring(0,g-1);if(v!==m){var _=o.substring(g-1,this.position.column-1),y=m+_,b=new r.Range(this.position.lineNumber,1,this.position.lineNumber,this.position.column);e.shouldPushStackElementAfter=!0,e.executeCommand=new s.ReplaceCommand(b,y)}}}else if(c){var C=-c.length;t.advanceCount&&(C+=t.advanceCount),e.shouldPushStackElementAfter=!0,e.executeCommand=new s.ReplaceCommandWithOffsetCursorState(this.getSelection(),c,0,C)}}},e.prototype.actualType=function(e,t,n,o){return void 0===o&&(o=this.getSelection()),n.executeCommand=t?new s.ReplaceCommandWithoutChangingPosition(o,e):new s.ReplaceCommand(o,e),!0},e.prototype.type=function(e,t){return this._typeInterceptorEnter(e,t)?!0:this._typeInterceptorAutoClosingCloseChar(e,t)?!0:this._typeInterceptorAutoClosingOpenChar(e,t)?!0:this._typeInterceptorSurroundSelection(e,t)?!0:this._typeInterceptorElectricChar(e,t)?!0:this.actualType(e,!1,t)},e.prototype.replacePreviousChar=function(e,t){var n,o=this.getPosition();return n=o.column>1?new r.Range(o.lineNumber,o.column-1,o.lineNumber,o.column):new r.Range(o.lineNumber,o.column,o.lineNumber,o.column),t.executeCommand=new s.ReplaceCommand(n,e),!0},e.prototype._goodIndentForLine=function(e,t){var o=t-1;for(o=t-1;o>=1;o--){var r=this.model.getLineContent(o),i=n.lastNonWhitespaceIndex(r);if(i>=0)break}if(1>o)return"	";var s=this._getEnterActionAtPosition(o,this.model.getLineMaxColumn(o)),a=s.indentation+s.enterAction.appendText;return 0===a.length?"	":a},e.prototype.tab=function(e){var t=this.getSelection();if(t.isEmpty()){var n="";if(1===this.model.getLineMaxColumn(t.startLineNumber))n=this.configuration.normalizeIndentation(this._goodIndentForLine(e,t.startLineNumber));else if(this.configuration.getIndentationOptions().insertSpaces)for(var o=this.helper.nextTabColumn(this.position.column-1),r=this.position.column;o>=r;r++)n+=" ";else n="	";return e.executeCommand=new s.ReplaceCommand(t,n),!0}return this.indent(e)},e.prototype.indent=function(e){var t=this.getSelection();return e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,e.executeCommand=new i.ShiftCommand(t,{isUnshift:!1,tabSize:this.configuration.getIndentationOptions().tabSize,oneIndent:this.configuration.getOneIndent()}),e.shouldRevealHorizontal=!1,!0},e.prototype.outdent=function(e){var t=this.getSelection();return e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,e.executeCommand=new i.ShiftCommand(t,{isUnshift:!0,tabSize:this.configuration.getIndentationOptions().tabSize,oneIndent:this.configuration.getOneIndent()}),e.shouldRevealHorizontal=!1,!0},e.prototype.paste=function(e,t,n){if(n.cursorPositionChangeReason="paste",t&&"\n"===e.charAt(e.length-1)&&e.indexOf("\n")===e.length-1){var o=new r.Range(this.position.lineNumber,1,this.position.lineNumber,1);return n.executeCommand=new s.ReplaceCommand(o,e),!0}return n.executeCommand=new s.ReplaceCommand(this.getSelection(),e),!0},e.prototype._autoClosingPairDelete=function(e){if(!this.configuration.editor.autoClosingBrackets)return!1;var t=this.model.getLineContent(this.position.lineNumber),n=t[this.position.column-2];if(!this.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(n))return!1;var o=t[this.position.column-1],i=this.modeConfiguration.autoClosingPairsOpen[n];if(o!==i)return!1;var a=new r.Range(this.position.lineNumber,this.position.column-1,this.position.lineNumber,this.position.column+1);return e.executeCommand=new s.ReplaceCommand(a,""),!0},e.prototype.deleteLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.helper.getLeftOfPosition(this.model,this.position.lineNumber,this.position.column);t=new r.Range(n.lineNumber,n.column,this.position.lineNumber,this.position.column)}return t.isEmpty()?!0:(t.startLineNumber!==t.endLineNumber&&(e.shouldPushStackElementBefore=!0),e.executeCommand=new s.ReplaceCommand(t,""),!0)},e.prototype.deleteWordLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,o=this.position.column;if(1===n&&1===o)return!0;var i=this.helper.findWord(this.position,"left",!0);o=i?i.end+1<o?i.end+1:i.start+1:1;var a=new r.Range(n,o,n,this.position.column);if(!a.isEmpty())return e.executeCommand=new s.ReplaceCommand(a,""),!0}return this.deleteLeft(e)},e.prototype.deleteRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.helper.getRightOfPosition(this.model,this.position.lineNumber,this.position.column);t=new r.Range(n.lineNumber,n.column,this.position.lineNumber,this.position.column)}return t.isEmpty()?!0:(t.startLineNumber!==t.endLineNumber&&(e.shouldPushStackElementBefore=!0),e.executeCommand=new s.ReplaceCommand(t,""),!0)},e.prototype.deleteWordRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,i=this.position.column,a=this.model.getLineCount(),u=this.model.getLineMaxColumn(n);if(n===a&&i===u)return!0;var c=this.helper.findWord(new o.Position(n,i),"right",!0);i=c?c.start+1>i?c.start+1:c.end+1:u;var l=new r.Range(n,i,n,this.position.column);if(!l.isEmpty())return e.executeCommand=new s.ReplaceCommand(l,""),!0}return this.deleteRight(e)},e.prototype.deleteAllLeft=function(e){if(this._autoClosingPairDelete(e))return!0;var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,o=this.position.column;if(1===o)return!0;var i=new r.Range(n,1,n,o);if(!i.isEmpty())return e.executeCommand=new s.ReplaceCommand(i,""),!0}return this.deleteLeft(e)},e.prototype.deleteAllRight=function(e){var t=this.getSelection();if(t.isEmpty()){var n=this.position.lineNumber,o=this.position.column,i=this.model.getLineMaxColumn(n);if(o===i)return!0;var a=new r.Range(n,o,n,i);if(!a.isEmpty())return e.executeCommand=new s.ReplaceCommand(a,""),!0}return this.deleteRight(e)},e.prototype.cut=function(e){var t=this.getSelection();if(t.isEmpty()){if(!this.enableEmptySelectionClipboard)return!1;var n,o,i,a;this.position.lineNumber<this.model.getLineCount()?(n=this.position.lineNumber,o=1,i=this.position.lineNumber+1,a=1):this.position.lineNumber>1?(n=this.position.lineNumber-1,o=this.model.getLineMaxColumn(this.position.lineNumber-1),i=this.position.lineNumber,a=this.model.getLineMaxColumn(this.position.lineNumber)):(n=this.position.lineNumber,o=1,i=this.position.lineNumber,a=this.model.getLineMaxColumn(this.position.lineNumber));var u=new r.Range(n,o,i,a);u.isEmpty()||(e.executeCommand=new s.ReplaceCommand(u,""))}else this.deleteRight(e);return!0},e}();t.OneCursor=p;var f=function(){function e(e,t){this.model=e,this.configuration=t,this.moveHelper=new l.CursorMoveHelper(this.configuration)}return e.prototype.getLeftOfPosition=function(e,t,n){return this.moveHelper.getLeftOfPosition(e,t,n)},e.prototype.getRightOfPosition=function(e,t,n){return this.moveHelper.getRightOfPosition(e,t,n)},e.prototype.getPositionUp=function(e,t,n,o,r){return this.moveHelper.getPositionUp(e,t,n,o,r)},e.prototype.getPositionDown=function(e,t,n,o,r){return this.moveHelper.getPositionDown(e,t,n,o,r)},e.prototype.getColumnAtBeginningOfLine=function(e,t,n){return this.moveHelper.getColumnAtBeginningOfLine(e,t,n)},e.prototype.getColumnAtEndOfLine=function(e,t,n){return this.moveHelper.getColumnAtEndOfLine(e,t,n)},e.prototype.normalizeIndentation=function(e){return this.configuration.normalizeIndentation(e)},e.prototype.nextTabColumn=function(e){return l.CursorMoveHelper.nextTabColumn(e,this.configuration.getIndentationOptions().tabSize)},e.prototype.prevTabColumn=function(e){return l.CursorMoveHelper.prevTabColumn(e,this.configuration.getIndentationOptions().tabSize)},e.prototype.findWord=function(e,t,n){void 0===n&&(n=!1);var o,r,i,s=this.model.getWords(e.lineNumber);if(n){if(o=e.column-1,"left"===t){for(r=s.length-1;r>=0;r--)if(!(s[r].start>=o))return s[r]}else for(r=0,i=s.length;i>r;r++)if(!(s[r].end<=o))return s[r]}else for(o=e.column,"left"===t?1!==o&&(o-=.1):o!==this.model.getLineMaxColumn(e.lineNumber)&&(o+=.1),o-=1,r=0,i=s.length;i>r;r++)if(s[r].start<=o&&o<=s[r].end)return s[r];return null},e}(),m=function(){function e(){}return e.rangeContainsPosition=function(e,t){return t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber?!1:t.lineNumber===e.startLineNumber&&t.column<e.startColumn?!1:t.lineNumber===e.endLineNumber&&t.column>e.endColumn?!1:!0},e.isPositionInsideRange=function(e,t){return e.lineNumber<t.startLineNumber?!1:e.lineNumber>t.endLineNumber?!1:e.lineNumber===t.startLineNumber&&e.column<t.startColumn?!1:e.lineNumber===t.endLineNumber&&e.column>t.endColumn?!1:!0},e.isPositionAtRangeEdges=function(e,t){return e.lineNumber===t.startLineNumber&&e.column===t.startColumn?!0:e.lineNumber===t.endLineNumber&&e.column===t.endColumn?!0:!1},e}()}),define("vs/editor/common/controller/cursorCollection",["require","exports","vs/editor/common/core/selection","vs/editor/common/controller/oneCursor","vs/base/common/errors"],function(e,t,n,o,r){var i=function(){function e(e,t,n,r,i){this.editorId=e,this.model=t,this.configuration=n,this.viewModelHelper=r,this.modeConfiguration=this.getModeConfiguration(),this.enableEmptySelectionClipboard=i,this.primaryCursor=new o.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper,this.enableEmptySelectionClipboard),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return e.prototype.dispose=function(){this.primaryCursor.dispose(),this.killSecondaryCursors()},e.prototype.saveState=function(){return{primary:this.primaryCursor.saveState(),secondary:this.secondaryCursors.map(function(e){return e.saveState()})}},e.prototype.restoreState=function(e){this.primaryCursor.restoreState(e.primary),this.killSecondaryCursors();for(var t=0;t<e.secondary.length;t++)this.addSecondaryCursor(null),this.secondaryCursors[t].restoreState(e.secondary[t])},e.prototype.updateMode=function(){var e=this;this.modeConfiguration=this.getModeConfiguration(),this.getAll().forEach(function(t){t.updateModeConfiguration(e.modeConfiguration)})},e.prototype.getAll=function(){var e=[];return e.push(this.primaryCursor),e=e.concat(this.secondaryCursors)},e.prototype.getPosition=function(e){return 0===e?this.primaryCursor.getPosition():this.secondaryCursors[e-1].getPosition()},e.prototype.getViewPosition=function(e){return 0===e?this.primaryCursor.getViewPosition():this.secondaryCursors[e-1].getViewPosition()},e.prototype.getPositions=function(){var e=[];e.push(this.primaryCursor.getPosition());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getPosition());return e},e.prototype.getViewPositions=function(){var e=[];e.push(this.primaryCursor.getViewPosition());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getViewPosition());return e},e.prototype.getSelection=function(e){return 0===e?this.primaryCursor.getSelection():this.secondaryCursors[e-1].getSelection()},e.prototype.getSelections=function(){var e=[];e.push(this.primaryCursor.getSelection());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getSelection());return e},e.prototype.getViewSelections=function(){var e=[];e.push(this.primaryCursor.getViewSelection());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].getViewSelection());return e},e.prototype.setSelections=function(e){this.primaryCursor.setSelection(e[0]),this._setSecondarySelections(e.slice(1))},e.prototype.killSecondaryCursors=function(){return this._setSecondarySelections([])>0},e.prototype.normalize=function(){this._mergeCursorsIfNecessary(),this.primaryCursor.adjustBracketDecorations();for(var e=0,t=this.secondaryCursors.length;t>e;e++)this.secondaryCursors[e].adjustBracketDecorations()},e.prototype.addSecondaryCursor=function(e){var t=new o.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper,this.enableEmptySelectionClipboard);e&&t.setSelection(e),this.secondaryCursors.push(t),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.duplicateCursors=function(){var e=[];e.push(this.primaryCursor.duplicate());for(var t=0,n=this.secondaryCursors.length;n>t;t++)e.push(this.secondaryCursors[t].duplicate());this.secondaryCursors=this.secondaryCursors.concat(e),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.getLastAddedCursor=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?this.primaryCursor:this.secondaryCursors[this.lastAddedCursorIndex-1]},e.prototype._setSecondarySelections=function(e){var t=this.secondaryCursors.length,n=e.length,o=n-t;if(n>t)for(var r=n-t,i=0;r>i;i++)this.addSecondaryCursor(null);else if(t>n)for(var s=t-n,i=0;s>i;i++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var i=0;n>i;i++)e[i]&&this.secondaryCursors[i].setSelection(e[i]);return o},e.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(),this.secondaryCursors.splice(e,1)},e.prototype._mergeCursorsIfNecessary=function(){if(0!==this.secondaryCursors.length){for(var e=this.getAll(),t=[],o=0;o<e.length;o++)t.push({index:o,selection:e[o].getSelection()});t.sort(function(e,t){return e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber});for(var r=0;r<t.length-1;r++){var i=t[r],s=t[r+1],a=i.selection,u=s.selection;if(u.getStartPosition().isBeforeOrEqual(a.getEndPosition())){var c=i.index<s.index?r:r+1,l=i.index<s.index?r+1:r,d=t[l].index,h=t[c].index,p=t[l].selection,f=t[c].selection;if(!p.equalsSelection(f)){var m,g=p.plusRange(f),v=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,_=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn;d===this.lastAddedCursorIndex?(m=v,this.lastAddedCursorIndex=h):m=_;var y;y=m?new n.Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn):new n.Selection(g.endLineNumber,g.endColumn,g.startLineNumber,g.startColumn),t[c].selection=y,e[h].setSelection(y)}for(var b=0;b<t.length;b++)t[b].index>d&&t[b].index--;e.splice(d,1),t.splice(l,1),this._removeSecondaryCursor(d-1),r--}}}},e.prototype.getModeConfiguration=function(){var e,t,n={electricChars:{},autoClosingPairsOpen:{},autoClosingPairsClose:{},surroundingPairs:{}};if(this.model.getMode().electricCharacterSupport)try{t=this.model.getMode().electricCharacterSupport.getElectricCharacters()}catch(o){r.onUnexpectedError(o),t=null}if(t)for(e=0;e<t.length;e++)n.electricChars[t[e]]=!0;var i;if(this.model.getMode().characterPairSupport)try{i=this.model.getMode().characterPairSupport.getAutoClosingPairs()}catch(o){r.onUnexpectedError(o),i=null}if(i)for(e=0;e<i.length;e++)n.autoClosingPairsOpen[i[e].open]=i[e].close,n.autoClosingPairsClose[i[e].close]=i[e].open;var s;if(this.model.getMode().characterPairSupport)try{s=this.model.getMode().characterPairSupport.getSurroundingPairs()}catch(o){r.onUnexpectedError(o),s=null}if(s)for(e=0;e<s.length;e++)n.surroundingPairs[s[e].open]=s[e].close;return n},e}();t.CursorCollection=i}),define("vs/base/common/lifecycle",["require","exports"],function(e,t){function n(e){for(var t=0,n=e.length;n>t;t++)e[t]&&e[t].dispose();return[]}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return{dispose:function(){return n(e)}}}function r(e){return{dispose:function(){return n(e)}}}function i(e){return{dispose:function(){return e()}}}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r(e.map(i))}function a(e){if(e){if("function"==typeof e)return e(),null;if(Array.isArray(e)){for(;e.length>0;)e.pop()();return e}return null}return null}t.disposeAll=n,t.combinedDispose=o,t.combinedDispose2=r,t.fnToDisposable=i,t.toDisposable=s,t.cAll=a});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/controller/cursor",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/eventEmitter","vs/editor/common/core/range","vs/editor/common/core/selection","vs/editor/common/core/position","vs/editor/common/commands/replaceCommand","vs/editor/common/controller/handlerDispatcher","vs/editor/common/controller/cursorCollection","vs/editor/common/common","vs/base/common/errors","vs/base/common/lifecycle"],function(e,t,n,o,r,i,s,a,u,c,l,d,h){var p;!function(e){e[e.Primary=0]="Primary",e[e.TopMost=1]="TopMost",e[e.BottomMost=2]="BottomMost"}(p||(p={}));var f=function(e){function t(t,n,o,r,i){var a=this;e.call(this,[l.EventType.CursorPositionChanged,l.EventType.CursorSelectionChanged,l.EventType.CursorRevealRange]),this.editorId=t,this.configuration=n,this.model=o,this.viewModelHelper=r,this.enableEmptySelectionClipboard=i,this.viewModelHelper||(this.viewModelHelper={viewModel:this.model,convertModelPositionToViewPosition:function(e,t){return new s.Position(e,t)},convertViewToModelPosition:function(e,t){return new s.Position(e,t)},validateViewPosition:function(e,t,n){return n}}),this.cursors=new c.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper,this.enableEmptySelectionClipboard),this.cursorUndoStack=[],this.typingListeners={},this._isHandling=!1,this.modelUnbinds=[],this.modelUnbinds.push(this.model.addListener2(l.EventType.ModelContentChanged,function(e){a._onModelContentChanged(e)})),this.modelUnbinds.push(this.model.addListener2(l.EventType.ModelModeChanged,function(){a._onModelModeChanged()})),this.modelUnbinds.push(this.model.addListener2(l.EventType.ModelModeSupportChanged,function(){a._onModelModeChanged()})),this._registerHandlers()}return __extends(t,e),t.prototype.dispose=function(){this.modelUnbinds=h.disposeAll(this.modelUnbinds),this.model=null,this.cursors.dispose(),this.cursors=null,this.configuration.handlerDispatcher.clearHandlers(),this.configuration=null,this.viewModelHelper=null,e.prototype.dispose.call(this)},t.prototype.saveState=function(){for(var e,t=this.cursors.getSelections(),n=[],o=0;o<t.length;o++)e=t[o],n.push({inSelectionMode:!e.isEmpty(),selectionStart:{lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn},position:{lineNumber:e.positionLineNumber,column:e.positionColumn}});return n},t.prototype.restoreState=function(e){for(var t,n=this,o=[],r=0;r<e.length;r++){t=e[r];var i=1,s=1;t.position&&t.position.lineNumber&&(i=t.position.lineNumber),t.position&&t.position.column&&(s=t.position.column);var a=i,c=s;t.selectionStart&&t.selectionStart.lineNumber&&(a=t.selectionStart.lineNumber),t.selectionStart&&t.selectionStart.column&&(c=t.selectionStart.column),o.push({selectionStartLineNumber:a,selectionStartColumn:c,positionLineNumber:i,positionColumn:s})}this._onHandler("restoreState",function(){return n.cursors.setSelections(o),!1},new u.DispatcherEvent("restoreState",null))},t.prototype.setEditableRange=function(e){this.model.setEditableRange(e)},t.prototype.getEditableRange=function(){return this.model.getEditableRange()},t.prototype.addTypingListener=function(e,t){this.typingListeners.hasOwnProperty(e)||(this.typingListeners[e]=[]),this.typingListeners[e].push(t)},t.prototype.removeTypingListener=function(e,t){if(this.typingListeners.hasOwnProperty(e))for(var n=this.typingListeners[e],o=0;o<n.length;o++)if(n[o]===t)return n.splice(o,1),void 0},t.prototype._onModelModeChanged=function(){this.cursors.updateMode(),this.emitCursorPositionChanged("model","modeChanged"),this.emitCursorSelectionChanged("model","modeChanged")},t.prototype._onModelContentChanged=function(e){var t=this;e.changeType===l.EventType.ModelContentChangedFlush?(this.cursors.dispose(),this.cursors=new c.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper,this.enableEmptySelectionClipboard),this.emitCursorPositionChanged("model","contentFlush"),this.emitCursorSelectionChanged("model","contentFlush")):this._isHandling||this._onHandler("recoverSelectionFromMarkers",function(e){var n=t._invokeForAll(e,function(e,t,n){return t.recoverSelectionFromMarkers(n)});return e.shouldPushStackElementBefore=!1,e.shouldPushStackElementAfter=!1,n},new u.DispatcherEvent("modelChange",null))},t.prototype.getSelection=function(){return this.cursors.getSelection(0)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.getPosition=function(){return this.cursors.getPosition(0)},t.prototype.setSelections=function(e,t){var n=this;this._onHandler("setSelections",function(e){return e.shouldReveal=!1,n.cursors.setSelections(t),!1},new u.DispatcherEvent(e,null))},t.prototype._createAndInterpretHandlerCtx=function(e,t,n){var o={cursorPositionChangeReason:"",shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,shouldRevealTarget:p.Primary,eventSource:e,eventData:t,executeCommands:[],hasExecutedCommands:!1,isCursorUndo:!1,postOperationRunnables:[],shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1};return n(o),this._interpretHandlerContext(o),this.cursors.normalize(),o.hasExecutedCommands},t.prototype._onHandler=function(e,t,n){this._isHandling=!0,this.charactersTyped="";var o=!1;try{var r,i,s,a,u,c,h=this.cursors.getSelections(),p=this.cursors.getViewSelections(),f=this.cursors.saveState(),m=n.getSource(),g=this._createAndInterpretHandlerCtx(m,n.getData(),function(e){o=t(e),r=e.cursorPositionChangeReason,i=e.shouldReveal,u=e.shouldRevealTarget,s=e.shouldRevealVerticalInCenter,a=e.shouldRevealHorizontal,c=e.isCursorUndo});g&&(this.cursorUndoStack=[]);for(var v=0;v<this.charactersTyped.length;v++){var _=this.charactersTyped.charAt(v);if(this.typingListeners.hasOwnProperty(_))for(var y=this.typingListeners[_].slice(0),b=0,C=y.length;C>b;b++)try{y[b]()}catch(n){d.onUnexpectedError(n)}}var S=this.cursors.getSelections(),w=this.cursors.getViewSelections(),E=!1;if(h.length!==S.length)E=!0;else{for(var v=0,T=h.length;!E&&T>v;v++)h[v].equalsSelection(S[v])||(E=!0);for(var v=0,T=p.length;!E&&T>v;v++)p[v].equalsSelection(w[v])||(E=!0)}E&&(g||c||this.cursorUndoStack.push(f),this.emitCursorPositionChanged(m,r),i&&this.emitCursorRevealRange(u,s?l.VerticalRevealType.Center:l.VerticalRevealType.Simple,a),this.emitCursorSelectionChanged(m,r))}catch(x){d.onUnexpectedError(x)}return this._isHandling=!1,o},t.prototype._interpretHandlerContext=function(e){e.shouldPushStackElementBefore&&(this.model.pushStackElement(),e.shouldPushStackElementBefore=!1),e.hasExecutedCommands=this._internalExecuteCommands(e.executeCommands,e.postOperationRunnables)||e.hasExecutedCommands,e.executeCommands=[],e.shouldPushStackElementAfter&&(this.model.pushStackElement(),e.shouldPushStackElementAfter=!1);for(var t=!1,n=0,o=e.postOperationRunnables.length;o>n;n++)if(e.postOperationRunnables[n]){t=!0;break}if(t){var r=e.postOperationRunnables.slice(0);e.postOperationRunnables=[],this._invokeForAll(e,function(e,t,n){return r[e]&&r[e](n),!1}),this._interpretHandlerContext(e)}},t.prototype._interpretCommandResult=function(e){return e?(this.cursors.setSelections(e),!0):!1},t.prototype._getEditOperationsFromCommand=function(e,t,o){var r=this,i=[],s=0,a=function(e,n){e.isEmpty()&&""===n||i.push({identifier:{major:t,minor:s++},range:e,text:n})},u=!1,c=function(t,n){var o,i;if(t.isEmpty())if("boolean"==typeof n)o=n,i=n;else{var s=r.model.getLineMaxColumn(t.startLineNumber);t.startColumn===s?(o=!0,i=!0):(o=!1,i=!1)}else t.getDirection()===l.SelectionDirection.LTR?(o=!1,i=!0):(o=!0,i=!1);var a=e.selectionStartMarkers.length;return e.selectionStartMarkers[a]=r.model._addMarker(t.selectionStartLineNumber,t.selectionStartColumn,o),e.positionMarkers[a]=r.model._addMarker(t.positionLineNumber,t.positionColumn,i),a.toString()},h={addEditOperation:a,trackSelection:c};try{o.getEditOperations(this.model,h)}catch(p){return p.friendlyMessage=n.localize("vs_editor_common_controller_cursor",0),d.onUnexpectedError(p),{operations:[],hadTrackedRange:!1}}return{operations:i,hadTrackedRange:u}},t.prototype._getEditOperations=function(e,t){for(var n,o,r=[],i=[],s=0;s<t.length;s++)t[s]?(n=this._getEditOperationsFromCommand(e,s,t[s]),r=r.concat(n.operations),i[s]=n.hadTrackedRange,o=o||i[s]):i[s]=!1;return{operations:r,hadTrackedRanges:i,anyoneHadTrackedRange:o}},t.prototype._getLoserCursorMap=function(e){e=e.slice(0),e.sort(function(e,t){return-r.Range.compareRangesUsingEnds(e.range,t.range)});for(var t,n,o,i={},s=1;s<e.length;s++)if(t=e[s-1],n=e[s],t.range.getStartPosition().isBeforeOrEqual(n.range.getEndPosition())){o=t.identifier.major>n.identifier.major?t.identifier.major:n.identifier.major,i[o.toString()]=!0;for(var a=0;a<e.length;a++)e[a].identifier.major===o&&(e.splice(a,1),s>a&&s--,a--);s>0&&s--}return i},t.prototype._collapseDeleteCommands=function(e,t){if(1!==e.length){var n=e.every(function(e){if(!(e instanceof a.ReplaceCommand))return!1;var t=e;return t.getText().length>0?!1:!0});if(n){var o=e,i=o.map(function(e,n){return{range:o[n].getRange(),postOperationRunnable:t[n],order:n}});i.sort(function(e,t){return r.Range.compareRangesUsingStarts(e.range,t.range)});for(var s=i[0],u=1;u<i.length;u++)if(s.range.endLineNumber===i[u].range.startLineNumber&&s.range.endColumn===i[u].range.startColumn){var c=new r.Range(s.range.startLineNumber,s.range.startColumn,i[u].range.endLineNumber,i[u].range.endColumn);s.range=c,o[i[u].order].setRange(c),o[s.order].setRange(c)}else s=i[u]}}},t.prototype._internalExecuteCommands=function(e,t){var n={selectionStartMarkers:[],positionMarkers:[]};this._collapseDeleteCommands(e,t);for(var o=this._innerExecuteCommands(n,e,t),r=0;r<n.selectionStartMarkers.length;r++)this.model._removeMarker(n.selectionStartMarkers[r]),this.model._removeMarker(n.positionMarkers[r]);return o},t.prototype._arrayIsEmpty=function(e){var t,n;for(t=0,n=e.length;n>t;t++)if(e[t])return!1;return!0},t.prototype._innerExecuteCommands=function(e,t,n){var o=this;if(this.configuration.editor.readOnly)return!1;if(this._arrayIsEmpty(t))return!1;var r=this.cursors.getSelections(),s=this._getEditOperations(e,t);
if(0===s.operations.length&&!s.anyoneHadTrackedRange)return!1;for(var a=s.operations,u=this.model.getEditableRange(),c=u.getStartPosition(),l=u.getEndPosition(),d=0;d<a.length;d++){var h=a[d].range;if(!c.isBeforeOrEqual(h.getStartPosition())||!h.getEndPosition().isBeforeOrEqual(l))return!1}var p=this._getLoserCursorMap(a);if(p.hasOwnProperty("0"))return console.warn("Ignoring commands"),!1;for(var f=[],d=0;d<a.length;d++)p.hasOwnProperty(a[d].identifier.major.toString())||f.push(a[d]);var m,g=this.model.pushEditOperations(r,f,function(n){for(var a=[],u=0;u<r.length;u++)a[u]=[];for(var u=0;u<n.length;u++){var c=n[u];a[c.identifier.major].push(c)}for(var l=function(e,t){return e.identifier.minor-t.identifier.minor},d=[],u=0;u<r.length;u++)a[u].length>0||s.hadTrackedRanges[u]?(a[u].sort(l),d[u]=t[u].computeCursorState(o.model,{getInverseEditOperations:function(){return a[u]},getTrackedSelection:function(t){var n=parseInt(t,10),r=o.model._getMarker(e.selectionStartMarkers[n]),s=o.model._getMarker(e.positionMarkers[n]);return new i.Selection(r.lineNumber,r.column,s.lineNumber,s.column)}})):d[u]=r[u];return d}),v=[];for(m in p)p.hasOwnProperty(m)&&v.push(parseInt(m,10));v.sort(function(e,t){return t-e});for(var d=0;d<v.length;d++)g.splice(v[d],1),n.splice(v[d],1);return this._interpretCommandResult(g)},t.prototype.emitCursorPositionChanged=function(e,t){var n=this.cursors.getPositions(),o=n[0],r=n.slice(1),i=this.cursors.getViewPositions(),s=i[0],a=i.slice(1),u=!0;if(this.model.hasEditableRange()){var c=this.model.getEditableRange();c.containsPosition(o)||(u=!1)}var d={position:o,viewPosition:s,secondaryPositions:r,secondaryViewPositions:a,reason:t,source:e,isInEditableRange:u};this.emit(l.EventType.CursorPositionChanged,d)},t.prototype.emitCursorSelectionChanged=function(e,t){var n=this.cursors.getSelections(),o=n[0],r=n.slice(1),i={selection:o,secondarySelections:r,source:e,reason:t};this.emit(l.EventType.CursorSelectionChanged,i)},t.prototype.emitCursorRevealRange=function(e,t,n){var o=this.cursors.getPositions(),i=this.cursors.getViewPositions(),s=o[0],a=i[0];if(e===p.TopMost)for(var u=1;u<o.length;u++)o[u].isBefore(s)&&(s=o[u],a=i[u]);else if(e===p.BottomMost)for(var u=1;u<o.length;u++)s.isBeforeOrEqual(o[u])&&(s=o[u],a=i[u]);else if(o.length>1)return;var c=new r.Range(s.lineNumber,s.column,s.lineNumber,s.column),d=new r.Range(a.lineNumber,a.column,a.lineNumber,a.column),h={range:c,viewRange:d,verticalType:t,revealHorizontal:n};this.emit(l.EventType.CursorRevealRange,h)},t.prototype._registerHandlers=function(){var e=this,t=l.Handler,n={};n[t.JumpToBracket]=function(t){return e._jumpToBracket(t)},n[t.MoveTo]=function(t){return e._moveTo(!1,t)},n[t.MoveToSelect]=function(t){return e._moveTo(!0,t)},n[t.AddCursorUp]=function(t){return e._addCursorUp(t)},n[t.AddCursorDown]=function(t){return e._addCursorDown(t)},n[t.CreateCursor]=function(t){return e._createCursor(t)},n[t.LastCursorMoveToSelect]=function(t){return e._lastCursorMoveTo(t)},n[t.CursorLeft]=function(t){return e._moveLeft(!1,t)},n[t.CursorLeftSelect]=function(t){return e._moveLeft(!0,t)},n[t.CursorWordLeft]=function(t){return e._moveWordLeft(!1,t)},n[t.CursorWordLeftSelect]=function(t){return e._moveWordLeft(!0,t)},n[t.CursorRight]=function(t){return e._moveRight(!1,t)},n[t.CursorRightSelect]=function(t){return e._moveRight(!0,t)},n[t.CursorWordRight]=function(t){return e._moveWordRight(!1,t)},n[t.CursorWordRightSelect]=function(t){return e._moveWordRight(!0,t)},n[t.CursorUp]=function(t){return e._moveUp(!1,!1,t)},n[t.CursorUpSelect]=function(t){return e._moveUp(!0,!1,t)},n[t.CursorDown]=function(t){return e._moveDown(!1,!1,t)},n[t.CursorDownSelect]=function(t){return e._moveDown(!0,!1,t)},n[t.CursorPageUp]=function(t){return e._moveUp(!1,!0,t)},n[t.CursorPageUpSelect]=function(t){return e._moveUp(!0,!0,t)},n[t.CursorPageDown]=function(t){return e._moveDown(!1,!0,t)},n[t.CursorPageDownSelect]=function(t){return e._moveDown(!0,!0,t)},n[t.CursorHome]=function(t){return e._moveToBeginningOfLine(!1,t)},n[t.CursorHomeSelect]=function(t){return e._moveToBeginningOfLine(!0,t)},n[t.CursorEnd]=function(t){return e._moveToEndOfLine(!1,t)},n[t.CursorEndSelect]=function(t){return e._moveToEndOfLine(!0,t)},n[t.CursorTop]=function(t){return e._moveToBeginningOfBuffer(!1,t)},n[t.CursorTopSelect]=function(t){return e._moveToBeginningOfBuffer(!0,t)},n[t.CursorBottom]=function(t){return e._moveToEndOfBuffer(!1,t)},n[t.CursorBottomSelect]=function(t){return e._moveToEndOfBuffer(!0,t)},n[t.SelectAll]=function(t){return e._selectAll(t)},n[t.LineSelect]=function(t){return e._line(!1,t)},n[t.LineSelectDrag]=function(t){return e._line(!0,t)},n[t.LastCursorLineSelect]=function(t){return e._lastCursorLine(!1,t)},n[t.LastCursorLineSelectDrag]=function(t){return e._lastCursorLine(!0,t)},n[t.LineInsertBefore]=function(t){return e._lineInsertBefore(t)},n[t.LineInsertAfter]=function(t){return e._lineInsertAfter(t)},n[t.LineBreakInsert]=function(t){return e._lineBreakInsert(t)},n[t.WordSelect]=function(t){return e._word(!1,t)},n[t.WordSelectDrag]=function(t){return e._word(!0,t)},n[t.LastCursorWordSelect]=function(t){return e._lastCursorWord(t)},n[t.CancelSelection]=function(t){return e._cancelSelection(t)},n[t.RemoveSecondaryCursors]=function(t){return e._removeSecondaryCursors(t)},n[t.Type]=function(t){return e._type(t)},n[t.ReplacePreviousChar]=function(t){return e._replacePreviousChar(t)},n[t.Tab]=function(t){return e._tab(t)},n[t.Indent]=function(t){return e._indent(t)},n[t.Outdent]=function(t){return e._outdent(t)},n[t.Paste]=function(t){return e._paste(t)},n[t.DeleteLeft]=function(t){return e._deleteLeft(t)},n[t.DeleteWordLeft]=function(t){return e._deleteWordLeft(t)},n[t.DeleteRight]=function(t){return e._deleteRight(t)},n[t.DeleteWordRight]=function(t){return e._deleteWordRight(t)},n[t.DeleteAllLeft]=function(t){return e._deleteAllLeft(t)},n[t.DeleteAllRight]=function(t){return e._deleteAllRight(t)},n[t.Cut]=function(t){return e._cut(t)},n[t.Undo]=function(t){return e._undo(t)},n[t.CursorUndo]=function(t){return e._cursorUndo(t)},n[t.Redo]=function(t){return e._redo(t)},n[t.ExecuteCommand]=function(t){return e._externalExecuteCommand(t)},n[t.ExecuteCommands]=function(t){return e._externalExecuteCommands(t)};var o,r=function(t,n){return function(o){return e._onHandler(t,n,o)}};for(o in n)n.hasOwnProperty(o)&&this.configuration.handlerDispatcher.setHandler(o,r(o,n[o]))},t.prototype._invokeForAll=function(e,t,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0);var r,i=!1,s=this.cursors.getAll();e.shouldPushStackElementBefore=n,e.shouldPushStackElementAfter=o;for(var a=0;a<s.length;a++)r={cursorPositionChangeReason:"",cursorPositionChangeSource:"",shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,executeCommand:null,postOperationRunnable:null,shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1},i=t(a,s[a],r)||i,0===a&&(e.cursorPositionChangeReason=r.cursorPositionChangeReason,e.shouldRevealHorizontal=r.shouldRevealHorizontal,e.shouldReveal=r.shouldReveal,e.shouldRevealVerticalInCenter=r.shouldRevealVerticalInCenter),e.shouldPushStackElementBefore=e.shouldPushStackElementBefore||r.shouldPushStackElementBefore,e.shouldPushStackElementAfter=e.shouldPushStackElementAfter||r.shouldPushStackElementAfter,e.executeCommands[a]=r.executeCommand,e.postOperationRunnables[a]=r.postOperationRunnable;return i},t.prototype._jumpToBracket=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,n){return t.jumpToBracket(n)})},t.prototype._moveTo=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,o,r){return o.moveTo(e,t.eventData.position,t.eventData.viewPosition,t.eventSource,r)})},t.prototype._createCursor=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;this.cursors.addSecondaryCursor({selectionStartLineNumber:1,selectionStartColumn:1,positionLineNumber:1,positionColumn:1});var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,o,r){return o===t?e.eventData.wholeLine?o.line(!1,e.eventData.position,e.eventData.viewPosition,r):o.moveTo(!1,e.eventData.position,e.eventData.viewPosition,e.eventSource,r):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._lastCursorMoveTo=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,o,r){return o===t?o.moveTo(!0,e.eventData.position,e.eventData.viewPosition,e.eventSource,r):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._addCursorUp=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),e.shouldRevealTarget=p.TopMost,this._invokeForAll(e,function(e,n,o){return e>=t?n.translateUp(o):!1})},t.prototype._addCursorDown=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),e.shouldRevealTarget=p.BottomMost,this._invokeForAll(e,function(e,n,o){return e>=t?n.translateDown(o):!1})},t.prototype._moveLeft=function(e,t){return this._invokeForAll(t,function(t,n,o){return n.moveLeft(e,o)})},t.prototype._moveWordLeft=function(e,t){return this._invokeForAll(t,function(t,n,o){return n.moveWordLeft(e,o)})},t.prototype._moveRight=function(e,t){return this._invokeForAll(t,function(t,n,o){return n.moveRight(e,o)})},t.prototype._moveWordRight=function(e,t){return this._invokeForAll(t,function(t,n,o){return n.moveWordRight(e,o)})},t.prototype._moveDown=function(e,t,n){return this._invokeForAll(n,function(n,o,r){return o.moveDown(e,t,r)})},t.prototype._moveUp=function(e,t,n){return this._invokeForAll(n,function(n,o,r){return o.moveUp(e,t,r)})},t.prototype._moveToBeginningOfLine=function(e,t){return this._invokeForAll(t,function(t,n,o){return n.moveToBeginningOfLine(e,o)})},t.prototype._moveToEndOfLine=function(e,t){return this._invokeForAll(t,function(t,n,o){return n.moveToEndOfLine(e,o)})},t.prototype._moveToBeginningOfBuffer=function(e,t){return this._invokeForAll(t,function(t,n,o){return n.moveToBeginningOfBuffer(e,o)})},t.prototype._moveToEndOfBuffer=function(e,t){return this._invokeForAll(t,function(t,n,o){return n.moveToEndOfBuffer(e,o)})},t.prototype._selectAll=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,n){return t.selectAll(n)})},t.prototype._line=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,o,r){return o.line(e,t.eventData.position,t.eventData.viewPosition,r)})},t.prototype._lastCursorLine=function(e,t){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var n=this.cursors.getLastAddedCursor();return this._invokeForAll(t,function(o,r,i){return r===n?r.line(e,t.eventData.position,t.eventData.viewPosition,i):!1}),t.shouldReveal=!1,t.shouldRevealHorizontal=!1,!0},t.prototype._lineInsertBefore=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineInsertBefore(n)})},t.prototype._lineInsertAfter=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineInsertAfter(n)})},t.prototype._lineBreakInsert=function(e){return this._invokeForAll(e,function(e,t,n){return t.lineBreakInsert(n)})},t.prototype._word=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,o,r){return o.word(e,t.eventData.position,t.eventData.preference||"none",r)})},t.prototype._lastCursorWord=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,o,r){return o===t?o.word(!0,e.eventData.position,e.eventData.preference||"none",r):!1}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._removeSecondaryCursors=function(){return this.cursors.killSecondaryCursors(),!0},t.prototype._cancelSelection=function(e){return this._invokeForAll(e,function(e,t,n){return t.cancelSelection(n)})},t.prototype._type=function(e){var t=this,n=e.eventData.text;if("keyboard"===e.eventSource){var o,r,i;for(o=0,r=n.length;r>o;o++)i=n.charAt(o),this.charactersTyped+=i,e.hasExecutedCommands=this._createAndInterpretHandlerCtx(e.eventSource,e.eventData,function(n){t._invokeForAll(n,function(e,t,n){return t.type(i,n)},!1,!1),e.cursorPositionChangeReason=n.cursorPositionChangeReason,e.shouldReveal=n.shouldReveal,e.shouldRevealVerticalInCenter=n.shouldRevealVerticalInCenter,e.shouldRevealHorizontal=n.shouldRevealHorizontal})||e.hasExecutedCommands}else this._invokeForAll(e,function(e,t,o){return t.actualType(n,!1,o)});return!0},t.prototype._replacePreviousChar=function(e){var t=e.eventData.text;return this._invokeForAll(e,function(e,n,o){return n.replacePreviousChar(t,o)})},t.prototype._tab=function(e){return this._invokeForAll(e,function(e,t,n){return t.tab(n)},!1,!1)},t.prototype._indent=function(e){return this._invokeForAll(e,function(e,t,n){return t.indent(n)})},t.prototype._outdent=function(e){return this._invokeForAll(e,function(e,t,n){return t.outdent(n)})},t.prototype._paste=function(e){var t=this._distributePasteToCursors(e);return t?this._invokeForAll(e,function(e,n,o){return n.paste(t[e],!1,o)}):this._invokeForAll(e,function(t,n,o){return n.paste(e.eventData.text,e.eventData.pasteOnNewLine,o)})},t.prototype._distributePasteToCursors=function(e){if(e.eventData.pasteOnNewLine)return null;var t=this.cursors.getSelections();if(1===t.length)return null;for(var n=0;n<t.length;n++)if(t[n].startLineNumber!==t[n].endLineNumber)return null;var o=e.eventData.text.split(/\r\n|\r|\n/);return o.length!==t.length?null:o},t.prototype._deleteLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteLeft(n)},!1,!1)},t.prototype._deleteWordLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteWordLeft(n)},!1,!1)},t.prototype._deleteRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteRight(n)},!1,!1)},t.prototype._deleteWordRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteWordRight(n)},!1,!1)},t.prototype._deleteAllLeft=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteAllLeft(n)},!1,!1)},t.prototype._deleteAllRight=function(e){return this._invokeForAll(e,function(e,t,n){return t.deleteAllRight(n)},!1,!1)},t.prototype._cut=function(e){return this._invokeForAll(e,function(e,t,n){return t.cut(n)})},t.prototype._undo=function(e){return e.cursorPositionChangeReason="undo",e.hasExecutedCommands=!0,this._interpretCommandResult(this.model.undo()),!0},t.prototype._cursorUndo=function(e){return 0===this.cursorUndoStack.length?!1:(e.cursorPositionChangeReason="undo",e.isCursorUndo=!0,this.cursors.restoreState(this.cursorUndoStack.pop()),!0)},t.prototype._redo=function(e){return e.cursorPositionChangeReason="redo",e.hasExecutedCommands=!0,this._interpretCommandResult(this.model.redo()),!0},t.prototype._externalExecuteCommand=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(t,n,o){return o.shouldPushStackElementBefore=!0,o.shouldPushStackElementAfter=!0,o.executeCommand=e.eventData,!1})},t.prototype._externalExecuteCommands=function(e){return this._invokeForAll(e,function(t,n,o){return o.shouldPushStackElementBefore=!0,o.shouldPushStackElementAfter=!0,o.executeCommand=e.eventData[t],!1})},t}(o.EventEmitter);t.Cursor=f}),define("vs/base/common/stopwatch",["require","exports","vs/base/common/platform"],function(e,t,n){var o=n.globals.performance&&"function"==typeof n.globals.performance.now,r=function(){function e(e){this._startTime=e,this._stopTime=-1}return e.create=function(){return new e(o?n.globals.performance.now():(new Date).getTime())},e.prototype.stop=function(){this._stopTime=o?n.globals.performance.now():(new Date).getTime()},e.prototype.elapsed=function(){if(-1!==this._stopTime)return this._stopTime-this._startTime;var e=o?n.globals.performance.now():(new Date).getTime();return e-this._startTime},e}();t.StopWatch=r}),define("vs/base/common/timer",["require","exports","vs/base/common/platform","vs/base/common/errors","vs/base/common/stopwatch"],function(e,t,n,o,r){function i(e,t,n,o){return h.start(e,t,n,o)}function s(){return h}t.ENABLE_TIMER=!1;var a=n.globals.msWriteProfilerMark;!function(e){e[e.EDITOR=0]="EDITOR",e[e.LANGUAGES=1]="LANGUAGES",e[e.WORKER=2]="WORKER",e[e.WORKBENCH=3]="WORKBENCH",e[e.STARTUP=4]="STARTUP"}(t.Topic||(t.Topic={}));var u=t.Topic,c=function(){function e(){}return e.prototype.stop=function(){},e.prototype.timeTaken=function(){return-1},e}(),l=function(){function e(e,t,n,o,i){if(this.timeKeeper=e,this.name=t,this.description=i,this.topic=n,this.stopTime=null,o)return this.startTime=o,void 0;if(this.startTime=new Date,this.sw=r.StopWatch.create(),a){var s=["Monaco",this.topic,this.name,"start"];a(s.join("|"))}}return e.prototype.stop=function(e){if(null===this.stopTime){if(e)return this.stopTime=e,this.sw=null,this.timeKeeper._onEventStopped(this),void 0;if(this.stopTime=new Date,this.sw&&this.sw.stop(),this.timeKeeper._onEventStopped(this),a){var t=["Monaco",this.topic,this.name,"stop"];a(t.join("|"))}}},e.prototype.timeTaken=function(){return this.sw?this.sw.elapsed():this.stopTime?this.stopTime.getTime()-this.startTime.getTime():-1},e}(),d=function(){function e(){this.cleaningIntervalId=-1,this.collectedEvents=[],this.listeners=[]}return e.prototype.isEnabled=function(){return t.ENABLE_TIMER},e.prototype.start=function(e,n,o,r){if(!this.isEnabled())return t.nullEvent;var i;"string"==typeof e?i=e:e===u.EDITOR?i="Editor":e===u.LANGUAGES?i="Languages":e===u.WORKER?i="Worker":e===u.WORKBENCH?i="Workbench":e===u.STARTUP&&(i="Startup"),this.initAutoCleaning();var s=new l(this,n,i,o,r);return this.addEvent(s),s},e.prototype.dispose=function(){-1!==this.cleaningIntervalId&&(n.clearInterval(this.cleaningIntervalId),this.cleaningIntervalId=-1)},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){for(var t=0;t<this.listeners.length;t++)if(this.listeners[t]===e)return this.listeners.splice(t,1),void 0},e.prototype.addEvent=function(t){t.id=e.EVENT_ID,e.EVENT_ID++,this.collectedEvents.push(t),this.collectedEvents.length>e._EVENT_CACHE_LIMIT&&this.collectedEvents.shift()},e.prototype.initAutoCleaning=function(){var t=this;-1===this.cleaningIntervalId&&(this.cleaningIntervalId=n.setInterval(function(){var n=Date.now();t.collectedEvents.forEach(function(t){!t.stopTime&&n-t.startTime.getTime()>=e._MAX_TIMER_LENGTH&&t.stop()})},e._CLEAN_UP_INTERVAL))},e.prototype.getCollectedEvents=function(){return this.collectedEvents.slice(0)},e.prototype.clearCollectedEvents=function(){this.collectedEvents=[]},e.prototype._onEventStopped=function(e){for(var t=[e],n=this.listeners.slice(0),r=0;r<n.length;r++)try{n[r](t)}catch(i){o.onUnexpectedError(i)}},e.prototype.setInitialCollectedEvents=function(t,n){var o=this;this.isEnabled()&&(n&&(e.PARSE_TIME=n),t.forEach(function(e){var t=new l(o,e.name,e.topic,e.startTime,e.description);t.stop(e.stopTime),o.addEvent(t)}))},e._MAX_TIMER_LENGTH=6e4,e._CLEAN_UP_INTERVAL=12e4,e._EVENT_CACHE_LIMIT=1e3,e.EVENT_ID=1,e.PARSE_TIME=new Date,e}();t.TimeKeeper=d;var h=new d;t.nullEvent=new c,t.start=i,t.getTimeKeeper=s}),define("vs/editor/browser/view/viewEventHandler",["require","exports","vs/editor/common/common"],function(e,t,n){var o=function(){function e(){this.shouldRender=!0}return e.prototype.onLineMappingChanged=function(){return!1},e.prototype.onModelFlushed=function(){return!1},e.prototype.onModelDecorationsChanged=function(){return!1},e.prototype.onModelLinesDeleted=function(){return!1},e.prototype.onModelLineChanged=function(){return!1},e.prototype.onModelLinesInserted=function(){return!1},e.prototype.onModelTokensChanged=function(){return!1},e.prototype.onCursorPositionChanged=function(){return!1},e.prototype.onCursorSelectionChanged=function(){return!1},e.prototype.onCursorRevealRange=function(){return!1},e.prototype.onConfigurationChanged=function(){return!1},e.prototype.onLayoutChanged=function(){return!1},e.prototype.onScrollChanged=function(){return!1},e.prototype.onZonesChanged=function(){return!1},e.prototype.onScrollWidthChanged=function(){return!1},e.prototype.onScrollHeightChanged=function(){return!1},e.prototype.onViewFocusChanged=function(){return!1},e.prototype.handleEvents=function(e){var t,o,r,i;for(t=0,o=e.length;o>t;t++)switch(r=e[t],i=r.getData(),r.getType()){case n.ViewEventNames.LineMappingChangedEvent:this.shouldRender=this.onLineMappingChanged()||this.shouldRender;break;case n.ViewEventNames.ModelFlushedEvent:this.shouldRender=this.onModelFlushed()||this.shouldRender;break;case n.ViewEventNames.LinesDeletedEvent:this.shouldRender=this.onModelLinesDeleted(i)||this.shouldRender;break;case n.ViewEventNames.LinesInsertedEvent:this.shouldRender=this.onModelLinesInserted(i)||this.shouldRender;break;case n.ViewEventNames.LineChangedEvent:this.shouldRender=this.onModelLineChanged(i)||this.shouldRender;break;case n.ViewEventNames.TokensChangedEvent:this.shouldRender=this.onModelTokensChanged(i)||this.shouldRender;break;case n.ViewEventNames.DecorationsChangedEvent:this.shouldRender=this.onModelDecorationsChanged(i)||this.shouldRender;break;case n.ViewEventNames.CursorPositionChangedEvent:this.shouldRender=this.onCursorPositionChanged(i)||this.shouldRender;break;case n.ViewEventNames.CursorSelectionChangedEvent:this.shouldRender=this.onCursorSelectionChanged(i)||this.shouldRender;break;case n.ViewEventNames.RevealRangeEvent:this.shouldRender=this.onCursorRevealRange(i)||this.shouldRender;break;case n.EventType.ConfigurationChanged:this.shouldRender=this.onConfigurationChanged(i)||this.shouldRender;break;case n.EventType.ViewLayoutChanged:this.shouldRender=this.onLayoutChanged(i)||this.shouldRender;break;case n.EventType.ViewScrollChanged:this.shouldRender=this.onScrollChanged(i)||this.shouldRender;break;case n.EventType.ViewZonesChanged:this.shouldRender=this.onZonesChanged()||this.shouldRender;break;case n.EventType.ViewScrollWidthChanged:this.shouldRender=this.onScrollWidthChanged(i)||this.shouldRender;break;case n.EventType.ViewScrollHeightChanged:this.shouldRender=this.onScrollHeightChanged(i)||this.shouldRender;break;case n.EventType.ViewFocusChanged:this.shouldRender=this.onViewFocusChanged(i)||this.shouldRender;break;default:console.info("View received unknown event: "),console.info(r)}},e}();t.ViewEventHandler=o}),define("vs/base/browser/keyboardController",["require","exports","vs/base/browser/dom","vs/base/common/lifecycle"],function(e,t,n,o){var r=function(){function e(e){var t=this;this._listeners={},this._previousKeyDown=null,this._previousEventType=null,this._toDispose=[],this._toDispose.push(n.addStandardDisposableListener(e,"keydown",function(e){return t._onKeyDown(e)})),this._toDispose.push(n.addStandardDisposableListener(e,"keypress",function(e){return t._onKeyPress(e)})),this._toDispose.push(n.addStandardDisposableListener(e,"keyup",function(e){return t._onKeyUp(e)})),this._toDispose.push(n.addDisposableListener(e,"input",function(e){return t._onInput(e)}))}return e.prototype.dispose=function(){this._toDispose=o.disposeAll(this._toDispose),this._listeners=null,this._previousKeyDown=null,this._previousEventType=null},e.prototype.addListener=function(e,t){var n=this;return this._listeners[e]=t,function(){n._listeners[e]=null}},e.prototype._fire=function(e,t){this._listeners.hasOwnProperty(e)&&this._listeners[e](t)},e.prototype._onKeyDown=function(e){this._previousKeyDown=e.clone(),this._previousEventType="keydown",this._fire("keydown",e)},e.prototype._onKeyPress=function(e){this._previousKeyDown&&(e.shiftKey&&this._previousKeyDown.asString()!==e.asString()&&(e.shiftKey=!1),"keypress"===this._previousEventType&&this._fire("keydown",this._previousKeyDown)),this._previousEventType="keypress",this._fire("keypress",e)},e.prototype._onInput=function(e){this._fire("input",e)},e.prototype._onKeyUp=function(e){this._fire("keyup",e)},e}();t.KeyboardController=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/controller/keyboardHandler",["require","exports","vs/editor/common/common","vs/base/browser/keyboardController","vs/base/browser/dom","vs/base/common/platform","vs/base/browser/browser","vs/editor/browser/view/viewEventHandler","vs/base/common/async","vs/base/common/strings","vs/editor/common/core/range","vs/editor/common/core/position"],function(e,t,n,o,r,i,s,a,u,c,l,d){var h;!function(e){e[e.Type=0]="Type",e[e.Paste=1]="Paste"}(h||(h={}));var p=function(){function e(e,t,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionToken=o}return e.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},e.fromTextArea=function(t,n){return new e(t.value,t.selectionStart,t.selectionEnd,n)},e.fromEditorSelectionAndPreviousState=function(t,o,r){if(s.isIPad)return new e("",0,0,u);var i=100,a=0,u=o.startLineNumber,c=o.startColumn,d=o.endLineNumber,h=o.endColumn,p=t.getLineMaxColumn(d);o.isEmpty()&&r!==u&&(c=1,h=p);var f="",m=Math.max(1,u-a);u>m&&(f=t.getValueInRange(l.Range.create(m,1,u,1),n.EndOfLinePreference.LF)),f+=t.getValueInRange(l.Range.create(u,1,u,c),n.EndOfLinePreference.LF),f.length>i&&(f=f.substring(f.length-i,f.length));var g="",v=Math.min(d+a,t.getLineCount());g+=t.getValueInRange(l.Range.create(d,h,d,p),n.EndOfLinePreference.LF),v>d&&(g="\n"+t.getValueInRange(l.Range.create(d+1,1,v,t.getLineMaxColumn(v)),n.EndOfLinePreference.LF)),g.length>i&&(g=g.substring(0,i));var _=t.getValueInRange(l.Range.create(u,c,d,h),n.EndOfLinePreference.LF);return _.length>2*i&&(_=_.substring(0,i)+String.fromCharCode(8230)+_.substring(_.length-i,_.length)),new e(f+_+g,f.length,f.length+_.length,u)},e.prototype.getSelectionStart=function(){return this.selectionStart},e.prototype.resetSelection=function(){this.selectionStart=this.value.length,this.selectionEnd=this.value.length},e.prototype.getValue=function(){return this.value},e.prototype.getSelectionToken=function(){return this.selectionToken},e.prototype.applyToTextArea=function(e,t){if(e.value!==this.value&&(e.value=this.value),t)try{var n=r.saveParentsScrollTop(e);e.focus(),e.setSelectionRange(this.selectionStart,this.selectionEnd),r.restoreParentsScrollTop(e,n)}catch(o){}},e.prototype.extractNewText=function(e){if(this.selectionStart!==this.selectionEnd)return"";if(!e)return this.value;var t=e.value.substring(0,e.selectionStart),n=e.value.substring(e.selectionEnd,e.value.length);s.isIE11orEarlier&&document.queryCommandValue("OverWrite")&&(n=n.substr(1));var o=this.value;return o.substring(0,t.length)===t&&(o=o.substring(t.length)),o.substring(o.length-n.length,o.length)===n&&(o=o.substring(0,o.length-n.length)),o},e}(),f=function(e){function t(t,n,a){var f=this;e.call(this),this.context=t,this.viewController=n,this.textArea=a.textArea,this.viewHelper=a,this.selection=l.Range.create(1,1,1,1),this.cursorPosition=d.Position.create(1,1),this.contentLeft=0,this.contentWidth=0,this.scrollLeft=0,this.asyncReadFromTextArea=new u.RunOnceScheduler(null,0),this.asyncSetSelectionToTextArea=new u.RunOnceScheduler(function(){return f._writePlaceholderAndSelectTextArea()},0),this.asyncTriggerCut=new u.RunOnceScheduler(function(){return f._triggerCut()},0),this.lastCopiedValue=null,this.lastCopiedValueIsFromEmptySelection=!1,this.previousSetTextAreaState=null,this.hasFocus=!1,this.justHadAPaste=!1,this.justHadACut=!1,this.lastKeyPressTime=0,this.lastCompositionEndTime=0,this.lastValueWrittenToTheTextArea="",this.kbController=new o.KeyboardController(this.textArea),this.listenersToRemove=[],this.listenersToRemove.push(this.kbController.addListener("keydown",function(e){return f._onKeyDown(e)})),this.listenersToRemove.push(this.kbController.addListener("keyup",function(e){return f._onKeyUp(e)})),this.listenersToRemove.push(this.kbController.addListener("keypress",function(e){return f._onKeyPress(e)})),this.textareaIsShownAtCursor=!1,this.listenersToRemove.push(r.addListener(this.textArea,"compositionstart",function(){var e=(new Date).getTime()-f.lastCompositionEndTime;f.textareaIsShownAtCursor||(f.textareaIsShownAtCursor=!0,f.showTextAreaAtCursor(e>=100)),f.asyncReadFromTextArea.cancel()})),this.listenersToRemove.push(r.addListener(this.textArea,"compositionend",function(){f.textareaIsShownAtCursor&&(f.textareaIsShownAtCursor=!1,f.hideTextArea()),f.lastCompositionEndTime=(new Date).getTime(),f._scheduleReadFromTextArea(h.Type)})),s.isIPad&&this.listenersToRemove.push(r.addListener(this.textArea,"input",function(){var e=(new Date).getTime(),t=e-f.lastKeyPressTime;500>=t&&(f._scheduleReadFromTextArea(h.Type),f.lastKeyPressTime=0)})),this.listenersToRemove.push(this.kbController.addListener("input",function(){f.textareaIsShownAtCursor||f._scheduleReadFromTextArea(h.Type)})),i.isMacintosh&&this.listenersToRemove.push(r.addListener(this.textArea,"input",function(){if(f.justHadAPaste)return f.justHadAPaste=!1,void 0;if(f.justHadACut)return f.justHadACut=!1,void 0;var e=(new Date).getTime(),t=e-f.lastKeyPressTime;if(!(500>=t)){var n=e-f.lastCompositionEndTime;if(!(500>=n||f.textareaIsShownAtCursor||f.textArea.selectionStart!==f.textArea.selectionEnd)){var o,r=f.textArea.value;if(s.isChrome&&f.lastValueWrittenToTheTextArea.length===r.length){var i=c.commonPrefixLength(f.lastValueWrittenToTheTextArea,r),a=c.commonSuffixLength(f.lastValueWrittenToTheTextArea,r);i+a+1===r.length&&(o=r.charAt(i),f.executeReplacePreviousChar(o),f.previousSetTextAreaState=p.fromTextArea(f.textArea,0),f.asyncSetSelectionToTextArea.schedule())}}}})),this.listenersToRemove.push(r.addListener(this.textArea,"cut",function(e){return f._onCut(e)})),this.listenersToRemove.push(r.addListener(this.textArea,"copy",function(e){return f._onCopy(e)})),this.listenersToRemove.push(r.addListener(this.textArea,"paste",function(e){return f._onPaste(e)})),this._writePlaceholderAndSelectTextArea(),this.context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this.context.removeEventHandler(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.kbController.dispose(),this.asyncReadFromTextArea.dispose(),this.asyncSetSelectionToTextArea.dispose(),this.asyncTriggerCut.dispose()},t.prototype.showTextAreaAtCursor=function(e){var t,o,i;s.isIE11orEarlier?(t=this.selection.startLineNumber,o=this.selection.startColumn,i=this.previousSetTextAreaState.getSelectionStart()+1):(t=this.cursorPosition.lineNumber,o=this.cursorPosition.column,i=o);var a={range:l.Range.create(t,o,t,o),verticalType:n.VerticalRevealType.Simple,revealHorizontal:!0};this.context.privateViewEventBus.emit(n.ViewEventNames.RevealRangeEvent,a);var u=this.viewHelper.visibleRangeForPositionRelativeToEditor(t,o),c=this.viewHelper.visibleRangeForPositionRelativeToEditor(t,i);s.isIE11orEarlier?u&&c&&(this.textArea.style.top=u.top+"px",this.textArea.style.left=this.contentLeft+u.left-c.left-this.scrollLeft+"px",this.textArea.style.width=this.contentWidth+"px"):(u&&(this.textArea.style.left=this.contentLeft+u.left-this.scrollLeft+"px",this.textArea.style.top=u.top+"px"),e&&this.setTextAreaState(new p("",0,0,0),!1)),this.textArea.style.height=this.context.configuration.editor.lineHeight+"px",r.addClass(this.viewHelper.viewDomNode,"ime-input")},t.prototype.hideTextArea=function(){this.textArea.style.height="",this.textArea.style.width="",this.textArea.style.left="0px",this.textArea.style.top="0px",r.removeClass(this.viewHelper.viewDomNode,"ime-input")},t.prototype.onScrollChanged=function(e){return this.scrollLeft=e.scrollLeft,!1},t.prototype.onViewFocusChanged=function(e){return this.hasFocus=e,this.hasFocus&&this.asyncSetSelectionToTextArea.schedule(),!1},t.prototype.onCursorSelectionChanged=function(e){return this.selection=e.selection,this.asyncSetSelectionToTextArea.schedule(),!1
},t.prototype.onCursorPositionChanged=function(e){return this.cursorPosition=e.position,!1},t.prototype.onLayoutChanged=function(e){return this.contentLeft=e.contentLeft,this.contentWidth=e.contentWidth,!1},t.prototype.setTextAreaState=function(e,t){var n=t&&this.hasFocus;n||e.resetSelection(),this.lastValueWrittenToTheTextArea=e.getValue(),e.applyToTextArea(this.textArea,n),this.previousSetTextAreaState=e},t.prototype._onKeyDown=function(e){var t=this;"Escape"===e.asString()&&e.preventDefault(),this.viewController.emitKeyDown(e),setTimeout(function(){e.browserEvent&&e.browserEvent.defaultPrevented&&(t.asyncReadFromTextArea.cancel(),t.asyncSetSelectionToTextArea.schedule())},0)},t.prototype._onKeyUp=function(e){this.viewController.emitKeyUp(e)},t.prototype._onKeyPress=function(e){if(this.hasFocus){if(s.isOpera&&i.isWindows){if("Ctrl-X"===e.asString())return this._onCut(null),void 0;if("Ctrl-V"===e.asString())return this._onPaste(null),void 0;if("Ctrl-C"===e.asString())return this._onCopy(null),void 0}this.lastKeyPressTime=(new Date).getTime(),s.isIPad||this._scheduleReadFromTextArea(h.Type)}},t.prototype._scheduleReadFromTextArea=function(e){var t=this;this.asyncSetSelectionToTextArea.cancel(),this.asyncReadFromTextArea.setRunner(function(){return t._readFromTextArea(e)}),this.asyncReadFromTextArea.schedule()},t.prototype._readFromTextArea=function(e){var t=this.previousSetTextAreaState?this.previousSetTextAreaState.getSelectionToken():0,n=p.fromTextArea(this.textArea,t),o=n.extractNewText(this.previousSetTextAreaState);""!==o&&(e===h.Type?this.executeType(o):this.executePaste(o)),this.previousSetTextAreaState=n,this.asyncSetSelectionToTextArea.schedule()},t.prototype.executePaste=function(e){if(""!==e){var t=!1;s.enableEmptySelectionClipboard&&(t=e===this.lastCopiedValue&&this.lastCopiedValueIsFromEmptySelection),this.viewController.paste("keyboard",e,t)}},t.prototype.executeType=function(e){""!==e&&this.viewController.type("keyboard",e)},t.prototype.executeReplacePreviousChar=function(e){this.viewController.replacePreviousChar("keyboard",e)},t.prototype._writePlaceholderAndSelectTextArea=function(){if(!this.textareaIsShownAtCursor){var e=this.previousSetTextAreaState?this.previousSetTextAreaState.getSelectionToken():0,t=p.fromEditorSelectionAndPreviousState(this.context.model,this.selection,e);this.setTextAreaState(t,!0)}},t.prototype._onPaste=function(e){e&&e.clipboardData?(e.preventDefault(),this.executePaste(e.clipboardData.getData("text/plain"))):e&&window.clipboardData?(e.preventDefault(),this.executePaste(window.clipboardData.getData("Text"))):(this.textArea.selectionStart!==this.textArea.selectionEnd&&this.setTextAreaState(new p("",0,0,0),!1),this._scheduleReadFromTextArea(h.Paste)),this.justHadAPaste=!0},t.prototype._onCopy=function(e){this._ensureClipboardGetsEditorSelection(e)},t.prototype._triggerCut=function(){this.viewController.cut("keyboard")},t.prototype._onCut=function(e){this._ensureClipboardGetsEditorSelection(e),this.asyncTriggerCut.schedule(),this.justHadACut=!0},t.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._getPlainTextToCopy();if(e&&e.clipboardData?(e.clipboardData.setData("text/plain",t),e.preventDefault()):e&&window.clipboardData?(window.clipboardData.setData("Text",t),e.preventDefault()):this.setTextAreaState(new p(t,0,t.length,0),!0),s.enableEmptySelectionClipboard){this.lastCopiedValue=s.isFirefox?t.replace(/\r\n/g,"\n"):t;var n=this.context.model.getSelections();this.lastCopiedValueIsFromEmptySelection=1===n.length&&n[0].isEmpty()}},t.prototype._getPlainTextToCopy=function(){var e=i.isWindows?"\r\n":"\n",t=i.isWindows?n.EndOfLinePreference.CRLF:n.EndOfLinePreference.LF,o=this.context.model.getSelections();if(1===o.length){var r=o[0];if(r.isEmpty()){if(s.enableEmptySelectionClipboard){var a=this.context.model.convertViewPositionToModelPosition(r.startLineNumber,1).lineNumber;return this.context.model.getModelLineContent(a)+e}return""}return this.context.model.getValueInRange(r,t)}o=o.slice(0).sort(l.Range.compareRangesUsingStarts);for(var u=[],c=0;c<o.length;c++)u.push(this.context.model.getValueInRange(o[c],t));return u.join(e)},t}(a.ViewEventHandler);t.KeyboardHandler=f}),define("vs/base/common/arrays",["require","exports"],function(e,t){function n(e,t){return void 0===t&&(t=0),e[e.length-(1+t)]}function o(e,t){for(var n=0,o=e.length;o>n;n++)t(e[n],function(){e.splice(n,1),n--,o--})}function r(e,t,n){if(e.length!==t.length)return!1;for(var o=0,r=e.length;r>o;o++)if(!n(e[o],t[o]))return!1;return!0}function i(e,t){void 0===t&&(t=null);for(var n=new Array(e);e-->0;)n.push(t);return n}function s(e,t,n){for(var o=0,r=e.length-1;r>=o;){var i=Math.floor((o+r)/2),s=n(e[i],t);if(0>s)o=i+1;else{if(!(s>0))return i;r=i-1}}return-1}function a(e,t){var n=0,o=e.length;if(0===o)return 0;for(;o>n;){var r=Math.floor((n+o)/2);t(e[r])?o=r:n=r+1}return n}function u(e,t){var n=new Array;if(t)for(var o={},r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var s=e[r][i],a=t(s);o.hasOwnProperty(a)||(o[a]=!0,n.push(s))}else for(var r=0,u=e.length;u>r;r++)n.push.apply(n,e[r]);return n}function c(e){return e?e.filter(function(e){return!!e}):e}function l(e,t){return e.indexOf(t)>=0}function d(e,t,n){var o=e[t],r=e[n];e[t]=r,e[n]=o}function h(e,t,n){e.splice(n,0,e.splice(t,1)[0])}function p(e){return!Array.isArray(e)||0===e.length}function f(e,t){if(!t)return e.filter(function(t,n){return e.indexOf(t)===n});var n={};return e.filter(function(e){var o=t(e);return n[o]?!1:(n[o]=!0,!0)})}function m(e,t,n){void 0===n&&(n=null);for(var o=0;o<e.length;o++){var r=e[o];if(t(r))return r}return n}function g(e,t){for(var n=[],o=0;t>o;o++)n.push(e);return n}function v(e,t,n){void 0===n&&(n=function(e,t){return e===t});for(var o=0,r=0,i=Math.min(e.length,t.length);i>r&&n(e[r],t[r]);r++)o++;return o}t.tail=n,t.forEach=o,t.equals=r,t.fill=i,t.binarySearch=s,t.findFirst=a,t.merge=u,t.coalesce=c,t.contains=l,t.swap=d,t.move=h,t.isFalsyOrEmpty=p,t.distinct=f,t.first=m,t.repeat=g,t.commonPrefixLength=v}),define("vs/base/browser/touch",["require","exports","vs/base/common/arrays","vs/base/common/lifecycle","vs/base/browser/dom"],function(e,t,n,o,r){var i;!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend"}(i=t.EventType||(t.EventType={}));var s=function(){function e(e){this.callOnTarget=[],this.activeTouches={},this.target=e,this.handle=null}return e.prototype.dispose=function(){this.target=null,this.handle&&(this.handle.dispose(),this.handle=null)},Object.defineProperty(e.prototype,"target",{set:function(e){var t=this;o.cAll(this.callOnTarget),this.activeTouches={},this.targetElement=e,this.targetElement&&(this.callOnTarget.push(r.addListener(this.targetElement,"touchstart",function(e){return t.onTouchStart(e)})),this.callOnTarget.push(r.addListener(this.targetElement,"touchend",function(e){return t.onTouchEnd(e)})),this.callOnTarget.push(r.addListener(this.targetElement,"touchmove",function(e){return t.onTouchMove(e)})))},enumerable:!0,configurable:!0}),e.newGestureEvent=function(e){var t=document.createEvent("CustomEvent");return t.initEvent(e,!1,!0),t},e.prototype.onTouchStart=function(t){var n=Date.now();t.preventDefault(),t.stopPropagation(),this.handle&&(this.handle.dispose(),this.handle=null);for(var o=0,r=t.targetTouches.length;r>o;o++){var s=t.targetTouches.item(o);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:n,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[n],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};var a=e.newGestureEvent(i.Start);a.pageX=s.pageX,a.pageY=s.pageY,this.targetElement.dispatchEvent(a)}},e.prototype.onTouchEnd=function(t){var o=Date.now();t.preventDefault(),t.stopPropagation();for(var r=Object.keys(this.activeTouches).length,s=0,a=t.changedTouches.length;a>s;s++){var u=t.changedTouches.item(s);if(this.activeTouches.hasOwnProperty(String(u.identifier))){var c=this.activeTouches[u.identifier],l=Date.now()-c.initialTimeStamp;if(l<e.HOLD_DELAY&&Math.abs(c.initialPageX-n.tail(c.rollingPageX))<30&&Math.abs(c.initialPageY-n.tail(c.rollingPageY))<30){var d=e.newGestureEvent(i.Tap);d.initialTarget=c.initialTarget,d.pageX=n.tail(c.rollingPageX),d.pageY=n.tail(c.rollingPageY),this.targetElement.dispatchEvent(d)}else if(1===r){var h=n.tail(c.rollingPageX),p=n.tail(c.rollingPageY),f=n.tail(c.rollingTimestamps)-c.rollingTimestamps[0],m=h-c.rollingPageX[0],g=p-c.rollingPageY[0];this.inertia(o,Math.abs(m)/f,m>0?1:-1,h,Math.abs(g)/f,g>0?1:-1,p)}delete this.activeTouches[u.identifier]}else console.warn("move of an UNKNOWN touch",u)}},e.prototype.inertia=function(t,n,o,s,a,u,c){var l=this;this.handle=r.scheduleAtNextAnimationFrame(function(){var r=Date.now(),d=r-t,h=0,p=0,f=!0;n+=e.SCROLL_FRICTION*d,a+=e.SCROLL_FRICTION*d,n>0&&(f=!1,h=o*n*d),a>0&&(f=!1,p=u*a*d);var m=e.newGestureEvent(i.Change);m.translationX=h,m.translationY=p,l.targetElement.dispatchEvent(m),f||l.inertia(r,n,o,s+h,a,u,c+p)})},e.prototype.onTouchMove=function(t){var o=Date.now();t.preventDefault(),t.stopPropagation();for(var r=0,s=t.changedTouches.length;s>r;r++){var a=t.changedTouches.item(r);if(this.activeTouches.hasOwnProperty(String(a.identifier))){var u=this.activeTouches[a.identifier],c=e.newGestureEvent(i.Change);c.translationX=a.pageX-n.tail(u.rollingPageX),c.translationY=a.pageY-n.tail(u.rollingPageY),c.pageX=a.pageX,c.pageY=a.pageY,this.targetElement.dispatchEvent(c),u.rollingPageX.length>3&&(u.rollingPageX.shift(),u.rollingPageY.shift(),u.rollingTimestamps.shift()),u.rollingPageX.push(a.pageX),u.rollingPageY.push(a.pageY),u.rollingTimestamps.push(o)}else console.warn("end of an UNKNOWN touch",a)}},e.HOLD_DELAY=2e3,e.SCROLL_FRICTION=-.005,e}();t.Gesture=s}),define("vs/editor/browser/controller/mouseTarget",["require","exports","vs/editor/common/common","vs/editor/browser/editorBrowser","vs/editor/common/core/range","vs/editor/common/core/position"],function(e,t,n,o,r,i){var s=function(){function e(e,t,n,o,i){void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null),this.element=e,this.type=t,this.position=n,!o&&n&&(o=r.Range.create(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=i}return e.prototype._typeToString=function(){return this.type===n.MouseTargetType.TEXTAREA?"TEXTAREA":this.type===n.MouseTargetType.GUTTER_GLYPH_MARGIN?"GUTTER_GLYPH_MARGIN":this.type===n.MouseTargetType.GUTTER_LINE_NUMBERS?"GUTTER_LINE_NUMBERS":this.type===n.MouseTargetType.GUTTER_LINE_DECORATIONS?"GUTTER_LINE_DECORATIONS":this.type===n.MouseTargetType.GUTTER_VIEW_ZONE?"GUTTER_VIEW_ZONE":this.type===n.MouseTargetType.CONTENT_TEXT?"CONTENT_TEXT":this.type===n.MouseTargetType.CONTENT_EMPTY?"CONTENT_EMPTY":this.type===n.MouseTargetType.CONTENT_VIEW_ZONE?"CONTENT_VIEW_ZONE":this.type===n.MouseTargetType.CONTENT_WIDGET?"CONTENT_WIDGET":this.type===n.MouseTargetType.OVERVIEW_RULER?"OVERVIEW_RULER":this.type===n.MouseTargetType.SCROLLBAR?"SCROLLBAR":this.type===n.MouseTargetType.OVERLAY_WIDGET?"OVERLAY_WIDGET":"UNKNOWN"},e.prototype.toString=function(){return this._typeToString()+": "+this.position+" - "+this.range+" - "+this.detail},e}(),a=function(){function e(e){return"[^/]*"+e+"[^/]*"}function t(){return"[^/]+"}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=!1;return"$"===e[e.length-1]&&(n=!0,e.pop()),new RegExp(r+e.join("\\/")+(n?"$":""))}var r="^"+o.ClassNames.OVERFLOW_GUARD+"\\/";return{IS_TEXTAREA_COVER:n(e(o.ClassNames.TEXTAREA_COVER),"$"),IS_TEXTAREA:n(o.ClassNames.TEXTAREA,"$"),IS_VIEW_LINES:n(t(),t(),o.ClassNames.VIEW_LINES,"$"),IS_CURSORS_LAYER:n(t(),t(),e(o.ClassNames.VIEW_CURSORS_LAYER),"$"),IS_CHILD_OF_VIEW_LINES:n(t(),t(),o.ClassNames.VIEW_LINES),IS_CHILD_OF_SCROLLABLE_ELEMENT:n(e(o.ClassNames.SCROLLABLE_ELEMENT)),IS_CHILD_OF_CONTENT_WIDGETS:n(t(),t(),o.ClassNames.CONTENT_WIDGETS),IS_CHILD_OF_OVERLAY_WIDGETS:n(o.ClassNames.OVERLAY_WIDGETS),IS_CHILD_OF_VIEW_OVERLAYS:n("margin-view-overlays"),IS_CHILD_OF_VIEW_ZONES:n(t(),t(),o.ClassNames.VIEW_ZONES)}}(),u=function(){function e(e,t){this.context=e,this.viewHelper=t}return e.prototype.getClassNamePathTo=function(e,t){for(var n,o=[];e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n=e.className,n&&o.unshift(n)),e=e.parentNode;return o.join("/")},e.prototype.mouseTargetIsWidget=function(e){var t=e.target,n=this.getClassNamePathTo(t,this.viewHelper.viewDomNode);return a.IS_CHILD_OF_CONTENT_WIDGETS.test(n)?!0:a.IS_CHILD_OF_OVERLAY_WIDGETS.test(n)?!0:!1},e.prototype.createMouseTarget=function(e,t,n,o){try{var r=this._unsafeCreateMouseTarget(e,t,n,o);return r}catch(n){return this.createMouseTargetFromUnknownTarget(n.target)}},e.prototype._unsafeCreateMouseTarget=function(e,t,o,r){var i=Math.max(0,this.viewHelper.getScrollTop()+(o.posy-t.top)),u=this.viewHelper.getScrollLeft()+(o.posx-t.left)-e.contentLeft,c=o.target,l=this.getClassNamePathTo(c,this.viewHelper.viewDomNode),d=c.hasAttribute&&c.hasAttribute("lineNumber")?c.getAttribute("lineNumber"):null,h=c.hasAttribute&&c.hasAttribute("column")?c.getAttribute("column"):null;if(d&&h)return this.createMouseTargetFromViewCursor(c,parseInt(d,10),parseInt(h,10));if(a.IS_CHILD_OF_CONTENT_WIDGETS.test(l))return this.createMouseTargetFromContentWidgetsChild(c);if(a.IS_CHILD_OF_OVERLAY_WIDGETS.test(l))return this.createMouseTargetFromOverlayWidgetsChild(c);if(a.IS_TEXTAREA_COVER.test(l))return this.context.configuration.editor.glyphMargin?this.createMouseTargetFromGlyphMargin(c,i):this.context.configuration.editor.lineNumbers?this.createMouseTargetFromLineNumbers(c,i):this.createMouseTargetFromLinesDecorationsChild(c,i);if(a.IS_TEXTAREA.test(l))return new s(c,n.MouseTargetType.TEXTAREA);if(a.IS_CHILD_OF_VIEW_ZONES.test(l)){var p=this._getZoneAtCoord(i);return p?new s(c,n.MouseTargetType.CONTENT_VIEW_ZONE,p.position,null,p):this.createMouseTargetFromUnknownTarget(c)}if(a.IS_VIEW_LINES.test(l)){if(this.viewHelper.isAfterLines(i))return this.createMouseTargetFromViewLines(c,i);var p=this._getZoneAtCoord(i);if(p)return new s(c,n.MouseTargetType.CONTENT_VIEW_ZONE,p.position,null,p);var f=this._doHitTest(t,o,i);return f.position?this.createMouseTargetFromHitTestPosition(c,f.position.lineNumber,f.position.column,u):this.createMouseTargetFromViewLines(c,i)}if(!r||a.IS_CHILD_OF_VIEW_LINES.test(l)){var f=this._doHitTest(t,o,i);if(f.position)return this.createMouseTargetFromHitTestPosition(c,f.position.lineNumber,f.position.column,u);f.hitTarget&&(c=f.hitTarget,l=this.getClassNamePathTo(c,this.viewHelper.viewDomNode))}if(a.IS_CURSORS_LAYER.test(l))return new s(c,n.MouseTargetType.UNKNOWN);if(a.IS_CHILD_OF_SCROLLABLE_ELEMENT.test(l))return this.createMouseTargetFromScrollbar(c,i);if(a.IS_CHILD_OF_VIEW_OVERLAYS.test(l)){var m=Math.abs(o.posx-t.left);return m<=e.glyphMarginWidth?this.createMouseTargetFromGlyphMargin(c,i):(m-=e.glyphMarginWidth,m<=e.lineNumbersWidth?this.createMouseTargetFromLineNumbers(c,i):(m-=e.lineNumbersWidth,this.createMouseTargetFromLinesDecorationsChild(c,i)))}return/OverviewRuler/i.test(l)?this.createMouseTargetFromScrollbar(c,i):this.createMouseTargetFromUnknownTarget(c)},e.prototype._isChild=function(e,t,n){for(;e&&e!==document.body;){if(e===t)return!0;if(e===n)return!1;e=e.parentNode}return!1},e.prototype._findAttribute=function(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null},e.prototype._doHitTestWithCaretRangeFromPoint=function(e,t,n){var o=this.viewHelper.getLineNumberAtVerticalOffset(n),r=this.viewHelper.getVerticalOffsetForLineNumber(o),i=r+Math.floor(this.context.configuration.editor.lineHeight/2),s=t.posy+(i-n);s<=e.top&&(s=e.top+1),s>=e.top+this.context.configuration.editor.observedOuterHeight&&(s=e.top+this.context.configuration.editor.observedOuterHeight-1);var a=t.posx-document.body.scrollLeft,u=this._actualDoHitTestWithCaretRangeFromPoint(a,s-document.body.scrollTop);return u.position?u:this._actualDoHitTestWithCaretRangeFromPoint(a,t.posy-document.body.scrollTop)},e.prototype._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var n=null,r=null,i=document.caretRangeFromPoint(e,t),s=i?i.startContainer:null,a=s?s.parentNode:null,u=a?a.parentNode:null,c=u?u.parentNode:null,l=u&&u.nodeType===u.ELEMENT_NODE?u.className:"",d=c&&c.nodeType===c.ELEMENT_NODE?c.className:"";return d===o.ClassNames.VIEW_LINE?n=this.viewHelper.getPositionFromDOMInfo(i.startContainer.parentNode,i.startOffset):l===o.ClassNames.VIEW_LINE?n=this.viewHelper.getPositionFromDOMInfo(i.startContainer,i.startOffset):r=a,{position:n,hitTarget:r}},e.prototype._doHitTestWithCaretPositionFromPoint=function(e){var t=null,n=null,o=e.posx-document.body.scrollLeft-document.documentElement.scrollLeft,r=e.posy-document.body.scrollTop-document.documentElement.scrollTop,i=document.caretPositionFromPoint(o,r),s=document.createRange();return s.setStart(i.offsetNode,i.offset),s.collapse(!0),t=this.viewHelper.getPositionFromDOMInfo(s.startContainer.parentNode,s.startOffset),s.detach(),{position:t,hitTarget:n}},e.prototype._doHitTestWithMoveToPoint=function(e){var t=null,n=null,r=document.body.createTextRange();try{var i=e.posx-document.body.scrollLeft-document.documentElement.scrollLeft,s=e.posy-document.body.scrollTop-document.documentElement.scrollTop;r.moveToPoint(i,s)}catch(a){return{position:null,hitTarget:null}}r.collapse(!0);var u=r?r.parentElement():null,c=u?u.parentNode:null,l=c?c.parentNode:null,d=l&&l.nodeType===l.ELEMENT_NODE?l.className:"";if(d===o.ClassNames.VIEW_LINE){var h=r.duplicate();h.moveToElementText(u),h.setEndPoint("EndToStart",r),t=this.viewHelper.getPositionFromDOMInfo(u,h.text.length),h.moveToElementText(this.viewHelper.viewDomNode)}else n=u;return r.moveToElementText(this.viewHelper.viewDomNode),{position:t,hitTarget:n}},e.prototype._doHitTest=function(e,t,n){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t,n):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(t):document.body.createTextRange?this._doHitTestWithMoveToPoint(t):{position:null,hitTarget:null}},e.prototype._getZoneAtCoord=function(e){var t=this.viewHelper.getWhitespaceAtVerticalOffset(e);if(t){var n,o=t.verticalOffset+t.height/2,r=this.context.model.getLineCount(),s=null,a=null;return t.afterLineNumber!==r&&(a=i.Position.create(t.afterLineNumber+1,1)),t.afterLineNumber>0&&(s=i.Position.create(t.afterLineNumber,this.context.model.getLineMaxColumn(t.afterLineNumber))),n=null===a?s:null===s?a:o>e?s:a,{viewZoneId:t.id,afterLineNumber:t.afterLineNumber,positionBefore:s,positionAfter:a,position:n}}return null},e.prototype._getFullLineRangeAtCoord=function(e){if(this.viewHelper.isAfterLines(e)){var t=this.context.model.getLineCount(),n=this.context.model.getLineMaxColumn(t);return{range:r.Range.create(t,n,t,n),isAfterLines:!0}}var t=this.viewHelper.getLineNumberAtVerticalOffset(e),n=this.context.model.getLineMaxColumn(t);return{range:r.Range.create(t,1,t,n),isAfterLines:!1}},e.prototype.createMouseTargetFromViewCursor=function(e,t,o){return new s(e,n.MouseTargetType.CONTENT_TEXT,i.Position.create(t,o))},e.prototype.createMouseTargetFromViewLines=function(e){var t=this.context.model.getLineCount(),o=this.context.model.getLineMaxColumn(t);return new s(e,n.MouseTargetType.CONTENT_EMPTY,i.Position.create(t,o))},e.prototype.createMouseTargetFromHitTestPosition=function(e,t,o,a){var u=i.Position.create(t,o),c=this.viewHelper.getLineWidth(t);if(a>c)return new s(e,n.MouseTargetType.CONTENT_EMPTY,u);var l=this.viewHelper.visibleRangeForPosition2(t,o);if(!l)return new s(e,n.MouseTargetType.UNKNOWN,u);var d=l.left;if(a===d)return new s(e,n.MouseTargetType.CONTENT_TEXT,u);var h;if(o>1){var p=l.left;if(h=!1,h=h||a>p&&d>a,h=h||a>d&&p>a){var f=r.Range.create(t,o,t,o-1);return new s(e,n.MouseTargetType.CONTENT_TEXT,u,f)}}var m=this.context.model.getLineMaxColumn(t);if(m>o){var g=this.viewHelper.visibleRangeForPosition2(t,o+1);if(g){var v=g.left;if(h=!1,h=h||a>d&&v>a,h=h||a>v&&d>a){var f=r.Range.create(t,o,t,o+1);return new s(e,n.MouseTargetType.CONTENT_TEXT,u,f)}}}return new s(e,n.MouseTargetType.CONTENT_TEXT,u)},e.prototype.createMouseTargetFromContentWidgetsChild=function(e){var t=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode);return t?new s(e,n.MouseTargetType.CONTENT_WIDGET,null,null,t):new s(e,n.MouseTargetType.UNKNOWN)},e.prototype.createMouseTargetFromOverlayWidgetsChild=function(e){var t=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode);return t?new s(e,n.MouseTargetType.OVERLAY_WIDGET,null,null,t):new s(e,n.MouseTargetType.UNKNOWN)},e.prototype.createMouseTargetFromLinesDecorationsChild=function(e,t){var o=this._getZoneAtCoord(t);if(o)return new s(e,n.MouseTargetType.GUTTER_VIEW_ZONE,o.position,null,o);var r=this._getFullLineRangeAtCoord(t);return new s(e,n.MouseTargetType.GUTTER_LINE_DECORATIONS,i.Position.create(r.range.startLineNumber,r.range.startColumn),r.range,r.isAfterLines)},e.prototype.createMouseTargetFromLineNumbers=function(e,t){var o=this._getZoneAtCoord(t);if(o)return new s(e,n.MouseTargetType.GUTTER_VIEW_ZONE,o.position,null,o);var r=this._getFullLineRangeAtCoord(t);return new s(e,n.MouseTargetType.GUTTER_LINE_NUMBERS,i.Position.create(r.range.startLineNumber,r.range.startColumn),r.range,r.isAfterLines)},e.prototype.createMouseTargetFromGlyphMargin=function(e,t){var o=this._getZoneAtCoord(t);if(o)return new s(e,n.MouseTargetType.GUTTER_VIEW_ZONE,o.position,null,o);var r=this._getFullLineRangeAtCoord(t);return new s(e,n.MouseTargetType.GUTTER_GLYPH_MARGIN,i.Position.create(r.range.startLineNumber,r.range.startColumn),r.range,r.isAfterLines)},e.prototype.createMouseTargetFromScrollbar=function(e,t){var o=this.viewHelper.getLineNumberAtVerticalOffset(t),r=this.context.model.getLineMaxColumn(o);return new s(e,n.MouseTargetType.SCROLLBAR,i.Position.create(o,r))},e.prototype.createMouseTargetFromUnknownTarget=function(e){var t=this._isChild(e,this.viewHelper.viewDomNode,this.viewHelper.viewDomNode),o=null;return t&&(o=this._findAttribute(e,"widgetId",this.viewHelper.viewDomNode)),o?new s(e,n.MouseTargetType.OVERLAY_WIDGET,null,null,o):new s(e,n.MouseTargetType.UNKNOWN)},e}();t.MouseTargetFactory=u}),define("vs/base/browser/globalMouseMoveMonitor",["require","exports","vs/base/common/lifecycle","vs/base/browser/dom","vs/base/browser/mouseEvent","vs/base/browser/iframe"],function(e,t,n,o,r,i){function s(e,t){var n=new r.StandardMouseEvent(t);return n.preventDefault(),{leftButton:n.leftButton,posx:n.posx,posy:n.posy}}t.standardMouseMoveMerger=s;var a=function(){function e(){this.hooks=[],this.mouseMoveEventMerger=null,this.mouseMoveCallback=null,this.onStopCallback=null}return e.prototype.dispose=function(){this.stopMonitoring(!1)},e.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks=n.disposeAll(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t()}},e.prototype.isMonitoring=function(){return this.hooks.length>0},e.prototype.startMonitoring=function(e,t,n){var s=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=n;for(var a=i.getSameOriginWindowChain(),u=0;u<a.length;u++)this.hooks.push(o.addDisposableThrottledListener(a[u].window.document,"mousemove",function(e){return s.mouseMoveCallback(e)},function(e,t){return s.mouseMoveEventMerger(e,t)})),this.hooks.push(o.addDisposableListener(a[u].window.document,"mouseup",function(){return s.stopMonitoring(!0)}));if(i.hasDifferentOriginAncestor()){var c=a[a.length-1];this.hooks.push(o.addDisposableListener(c.window.document,"mouseout",function(e){var t=new r.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(o.addDisposableListener(c.window.document,"mouseover",function(e){var t=new r.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(o.addDisposableListener(c.window.document.body,"mouseleave",function(){s.stopMonitoring(!0)}))}}},e}();t.GlobalMouseMoveMonitor=a});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/controller/mouseHandler",["require","exports","vs/base/common/platform","vs/base/browser/browser","vs/editor/common/common","vs/base/browser/mouseEvent","vs/base/browser/dom","vs/editor/browser/controller/mouseTarget","vs/editor/browser/view/viewEventHandler","vs/base/common/lifecycle","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/position","vs/editor/common/core/selection"],function(e,t,n,o,r,i,s,a,u,c,l,d,h){function p(e){return function(t,n){var o=new i.StandardMouseEvent(n),r=!1;return e&&(r=e.mouseTargetIsWidget(o)),r||o.preventDefault(),o}}var f=function(e){function t(n,o,r){var i=this;e.call(this),this.context=n,this.viewController=o,this.viewHelper=r,this.mouseTargetFactory=new a.MouseTargetFactory(this.context,r),this.listenersToRemove=[],this.hideTextAreaTimeout=-1,this.toDispose=[],this.mouseMoveMonitor=new l.GlobalMouseMoveMonitor,this.toDispose.push(this.mouseMoveMonitor),this.lastMouseEvent=null,this.lastMouseDownPosition=null,this.currentSelection=h.Selection.createSelection(1,1,1,1),this.lastMouseDownPositionEqualCount=0,this.lastMouseDownCount=0,this.lastSetMouseDownCountTime=0,this.onScrollTimeout=-1,this.layoutWidth=0,this.layoutHeight=0,this.lastMouseLeaveTime=-1,this.listenersToRemove.push(s.addListener(this.viewHelper.viewDomNode,"contextmenu",function(e){return i._onContextMenu(e)})),this.listenersToRemove.push(s.addThrottledListener(this.viewHelper.viewDomNode,"mousemove",function(e){return i._onMouseMove(e)},p(this.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),this.listenersToRemove.push(s.addListener(this.viewHelper.viewDomNode,"mouseup",function(e){return i._onMouseUp(e)})),this.listenersToRemove.push(s.addNonBubblingMouseOutListener(this.viewHelper.viewDomNode,function(e){return i._onMouseLeave(e)})),this.listenersToRemove.push(s.addListener(this.viewHelper.viewDomNode,"mousedown",function(e){return i._onMouseDown(e)})),this.context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this.context.removeEventHandler(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.toDispose=c.disposeAll(this.toDispose),this._unhook(),-1!==this.hideTextAreaTimeout&&(window.clearTimeout(this.hideTextAreaTimeout),this.hideTextAreaTimeout=-1)},t.prototype.onLayoutChanged=function(e){return this._layoutInfo=e,!1},t.prototype.onScrollChanged=function(e){return this.mouseMoveMonitor.isMonitoring()&&this._hookedOnScroll(e),!1},t.prototype.onCursorSelectionChanged=function(e){return this.currentSelection=e.selection,!1},t.prototype._createMouseTarget=function(e,t){var n=s.getDomNodePosition(this.viewHelper.viewDomNode);return this.mouseTargetFactory.createMouseTarget(this._layoutInfo,n,e,t)},t.prototype._onContextMenu=function(e){var t=new i.StandardMouseEvent(e),n=this._createMouseTarget(t,!0),o={event:t,target:n};this.viewController.emitContextMenu(o)},t.prototype._onMouseMove=function(e){if(!this.mouseMoveMonitor.isMonitoring()){var t=e.timestamp;if(!(t<this.lastMouseLeaveTime)){var n=this._createMouseTarget(e,!0),o={event:e,target:n};this.viewController.emitMouseMove(o)}}},t.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime();var t={event:new i.StandardMouseEvent(e),target:null};this.viewController.emitMouseLeave(t)},t.prototype._onMouseUp=function(e){var t=new i.StandardMouseEvent(e),n=this._createMouseTarget(t,!0),o={event:t,target:n};this.viewController.emitMouseUp(o)},t.prototype._onMouseDown=function(e){var t=this,s=new i.StandardMouseEvent(e),a=this._createMouseTarget(s,!0),u=a.type===r.MouseTargetType.CONTENT_TEXT||a.type===r.MouseTargetType.CONTENT_EMPTY,c=a.type===r.MouseTargetType.GUTTER_GLYPH_MARGIN||a.type===r.MouseTargetType.GUTTER_LINE_NUMBERS||a.type===r.MouseTargetType.GUTTER_LINE_DECORATIONS,l=a.type===r.MouseTargetType.GUTTER_LINE_NUMBERS,d=this.context.configuration.editor.selectOnLineNumbers,h=a.type===r.MouseTargetType.CONTENT_VIEW_ZONE||a.type===r.MouseTargetType.GUTTER_VIEW_ZONE,p=s.leftButton;if(n.isMacintosh&&s.ctrlKey&&(p=!1),p&&(u||l&&d))o.isIE11orEarlier?s.browserEvent.fromElement?(s.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()}):(s.preventDefault(),this.viewHelper.focusTextArea()),this._updateMouse(a.type,s,s.shiftKey,s.detail),this._hook(a.type);else if(c)s.preventDefault();else if(h){var f=a.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(f.viewZoneId)&&s.preventDefault()}var m={event:s,target:a};this.viewController.emitMouseDown(m)},t.prototype._hookedOnScroll=function(){var e=this;-1===this.onScrollTimeout&&(this.onScrollTimeout=window.setTimeout(function(){e.onScrollTimeout=-1,e._updateMouse(e.monitoringStartTargetType,null,!0)},10))},t.prototype._hook=function(e){var t=this;this.mouseMoveMonitor.isMonitoring()||(this.monitoringStartTargetType=e,this.mouseMoveMonitor.startMonitoring(p(null),function(e){t._updateMouse(t.monitoringStartTargetType,e,!0)},function(){t._unhook()}))},t.prototype._unhook=function(){-1!==this.onScrollTimeout&&(window.clearTimeout(this.onScrollTimeout),this.onScrollTimeout=-1)},t.prototype._getPositionOutsideEditor=function(e,t){var n;return t.posy<e.top?(n=this.viewHelper.getLineNumberAtVerticalOffset(Math.max(this.viewHelper.getScrollTop()-(e.top-t.posy),0)),{lineNumber:n,column:1}):t.posy>e.top+e.height?(n=this.viewHelper.getLineNumberAtVerticalOffset(this.viewHelper.getScrollTop()+(t.posy-e.top)),{lineNumber:n,column:this.context.model.getLineMaxColumn(n)}):(n=this.viewHelper.getLineNumberAtVerticalOffset(this.viewHelper.getScrollTop()+(t.posy-e.top)),t.posx<e.left?{lineNumber:n,column:1}:t.posx>e.left+e.width?{lineNumber:n,column:this.context.model.getLineMaxColumn(n)}:null)},t.prototype._updateMouse=function(e,n,o,i){void 0===i&&(i=0),n=n||this.lastMouseEvent,this.lastMouseEvent=n;var a,u,c=s.getDomNodePosition(this.viewHelper.viewDomNode),l=this._getPositionOutsideEditor(c,n);if(l)a=l.lineNumber,u=l.column;else{var h=this._createMouseTarget(n,!0),p=h.position;if(!p)return;if((h.type===r.MouseTargetType.CONTENT_VIEW_ZONE||h.type===r.MouseTargetType.GUTTER_VIEW_ZONE)&&this.lastMouseDownCount>0){var f=d.Position.create(this.currentSelection.selectionStartLineNumber,this.currentSelection.selectionStartColumn),m=h.detail,g=m.positionBefore,v=m.positionAfter;g&&v&&(p=g.isBefore(f)?g:v)}a=p.lineNumber,u=p.column}if(i){var _=(new Date).getTime();_-this.lastSetMouseDownCountTime>t.CLEAR_MOUSE_DOWN_COUNT_TIME&&(i=1),this.lastSetMouseDownCountTime=_,i>this.lastMouseDownCount+1&&(i=this.lastMouseDownCount+1);var y=d.Position.create(a,u);this.lastMouseDownPosition&&this.lastMouseDownPosition.equals(y)?this.lastMouseDownPositionEqualCount++:this.lastMouseDownPositionEqualCount=1,this.lastMouseDownPosition=y,this.lastMouseDownCount=Math.min(i,this.lastMouseDownPositionEqualCount),n.detail=this.lastMouseDownCount}if(e===r.MouseTargetType.GUTTER_LINE_NUMBERS)n.altKey?o?this.viewController.lastCursorLineSelect("mouse",a,u):this.viewController.createCursor("mouse",a,u,!0):o?this.viewController.lineSelectDrag("mouse",a,u):this.viewController.lineSelect("mouse",a,u);else if(this.lastMouseDownCount>=4)this.viewController.selectAll("mouse");else if(3===this.lastMouseDownCount)n.altKey?o?this.viewController.lastCursorLineSelectDrag("mouse",a,u):this.viewController.lastCursorLineSelect("mouse",a,u):o?this.viewController.lineSelectDrag("mouse",a,u):this.viewController.lineSelect("mouse",a,u);else if(2===this.lastMouseDownCount){var b="none",C=this.viewHelper.visibleRangeForPosition2(a,u);if(C){var S=c.left+C.left;n.posx>S?b="right":n.posx<S&&(b="left")}n.altKey?this.viewController.lastCursorWordSelect("mouse",a,u,b):o?this.viewController.wordSelectDrag("mouse",a,u,b):this.viewController.wordSelect("mouse",a,u,b)
}else n.altKey?n.ctrlKey||n.metaKey||(o?this.viewController.lastCursorMoveToSelect("mouse",a,u):this.viewController.createCursor("mouse",a,u,!1)):o?this.viewController.moveToSelect("mouse",a,u):this.viewController.moveTo("mouse",a,u)},t.CLEAR_MOUSE_DOWN_COUNT_TIME=400,t.MOUSE_MOVE_MINIMUM_TIME=100,t}(u.ViewEventHandler);t.MouseHandler=f});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/controller/pointerHandler",["require","exports","vs/base/browser/mouseEvent","vs/base/browser/dom","vs/base/browser/touch","vs/editor/browser/controller/mouseHandler"],function(e,t,n,o,r,i){var s=function(e){function t(t,n,r){var i=this;e.call(this,t,n,r);var s=function(e,t){var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n};this.viewHelper.linesContentDomNode.style.msTouchAction="none",this.viewHelper.linesContentDomNode.style.msContentZooming="none",this._installGestureHandlerTimeout=window.setTimeout(function(){if(i._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=i.viewHelper.linesContentDomNode,t.target=i.viewHelper.linesContentDomNode,i.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(n){var o=n.pointerType;return o===(n.MSPOINTER_TYPE_MOUSE||"mouse")?(i._lastPointerType="mouse",void 0):(o===(n.MSPOINTER_TYPE_TOUCH||"touch")?(i._lastPointerType="touch",e.addPointer(n.pointerId)):(i._lastPointerType="pen",t.addPointer(n.pointerId)),void 0)}),i.listenersToRemove.push(o.addThrottledListener(i.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return i._onGestureChange(e)},s)),i.listenersToRemove.push(o.addListener(i.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return i._onCaptureGestureTap(e)},!0))}},100),this._lastPointerType="mouse"}return __extends(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,o=new n.StandardMouseEvent(e),r=this._createMouseTarget(o,!1);r.position&&this.viewController.moveTo("mouse",r.position.lineNumber,r.position.column),o.browserEvent.fromElement?(o.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this.viewHelper.setScrollTop(this.viewHelper.getScrollTop()-e.translationY),this.viewHelper.setScrollLeft(this.viewHelper.getScrollLeft()-e.translationX)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(i.MouseHandler),a=function(e){function t(t,n,i){var s=this;e.call(this,t,n,i),this.gesture=new r.Gesture(this.viewHelper.linesContentDomNode),this.listenersToRemove.push(o.addListener(this.viewHelper.linesContentDomNode,r.EventType.Tap,function(e){return s.onTap(e)})),this.listenersToRemove.push(o.addListener(this.viewHelper.linesContentDomNode,r.EventType.Change,function(e){return s.onChange(e)}))}return __extends(t,e),t.prototype.dispose=function(){this.gesture.dispose(),e.prototype.dispose.call(this)},t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=new n.StandardMouseEvent(e),o=this._createMouseTarget(t,!1);o.position&&this.viewController.moveTo("mouse",o.position.lineNumber,o.position.column)},t.prototype.onChange=function(e){this.viewHelper.setScrollTop(this.viewHelper.getScrollTop()-e.translationY),this.viewHelper.setScrollLeft(this.viewHelper.getScrollLeft()-e.translationX)},t}(i.MouseHandler),u=function(){function e(e,t,n){this.handler=window.navigator.msPointerEnabled?new s(e,t,n):window.TouchEvent?new a(e,t,n):new i.MouseHandler(e,t,n)}return e.prototype.onScrollChanged=function(e){this.handler.onScrollChanged(e)},e.prototype.dispose=function(){this.handler.dispose()},e}();t.PointerHandler=u}),define("vs/editor/common/viewLayout/whitespaceComputer",["require","exports"],function(e,t){var n=function(){function e(){this.heights=[],this.ids=[],this.afterLineNumbers=[],this.ordinals=[],this.prefixSum=[],this.prefixSumValidIndex=-1,this.whitespaceId2Index={},this.lastWhitespaceId=0}return e.findInsertionIndex=function(e,t,n,o){for(var r,i=0,s=e.length;s>i;)r=Math.floor((i+s)/2),t===e[r]?o<n[r]?s=r:i=r+1:t<e[r]?s=r:i=r+1;return i},e.prototype.insertWhitespace=function(t,n,o){var r=++this.lastWhitespaceId,i=e.findInsertionIndex(this.afterLineNumbers,t,this.ordinals,n);return this.insertWhitespaceAtIndex(r,i,t,n,o),r},e.prototype.insertWhitespaceAtIndex=function(e,t,n,o,r){this.heights.splice(t,0,r),this.ids.splice(t,0,e),this.afterLineNumbers.splice(t,0,n),this.ordinals.splice(t,0,o),this.prefixSum.splice(t,0,0);var i,s;for(i in this.whitespaceId2Index)this.whitespaceId2Index.hasOwnProperty(i)&&(s=this.whitespaceId2Index[i],s>=t&&(this.whitespaceId2Index[i]=s+1));this.whitespaceId2Index[e.toString()]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,t-1)},e.prototype.changeWhitespace=function(e,t){var n=e.toString();if(this.whitespaceId2Index.hasOwnProperty(n)){var o=this.whitespaceId2Index[n];if(this.heights[o]!==t)return this.heights[o]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,o-1),!0}return!1},e.prototype.changeAfterLineNumberForWhitespace=function(t,n){var o=t.toString();if(this.whitespaceId2Index.hasOwnProperty(o)){var r=this.whitespaceId2Index[o];if(this.afterLineNumbers[r]!==n){var i=this.ordinals[r],s=this.heights[r];this.removeWhitespace(t);var a=e.findInsertionIndex(this.afterLineNumbers,n,this.ordinals,i);return this.insertWhitespaceAtIndex(t,a,n,i,s),!0}}return!1},e.prototype.removeWhitespace=function(e){var t=e.toString();if(this.whitespaceId2Index.hasOwnProperty(t)){var n=this.whitespaceId2Index[t];return delete this.whitespaceId2Index[t],this.removeWhitespaceAtIndex(n),!0}return!1},e.prototype.removeWhitespaceAtIndex=function(e){this.heights.splice(e,1),this.ids.splice(e,1),this.afterLineNumbers.splice(e,1),this.ordinals.splice(e,1),this.prefixSum.splice(e,1),this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,e-1);var t,n;for(t in this.whitespaceId2Index)this.whitespaceId2Index.hasOwnProperty(t)&&(n=this.whitespaceId2Index[t],n>=e&&(this.whitespaceId2Index[t]=n-1))},e.prototype.onModelLinesDeleted=function(e,t){var n,o,r;for(o=0,r=this.afterLineNumbers.length;r>o;o++)n=this.afterLineNumbers[o],n>=e&&t>=n?this.afterLineNumbers[o]=e-1:n>t&&(this.afterLineNumbers[o]-=t-e+1)},e.prototype.onModelLinesInserted=function(e,t){var n,o,r;for(o=0,r=this.afterLineNumbers.length;r>o;o++)n=this.afterLineNumbers[o],n>=e&&(this.afterLineNumbers[o]+=t-e+1)},e.prototype.getTotalHeight=function(){return 0===this.heights.length?0:this.getAccumulatedHeight(this.heights.length-1)},e.prototype.getAccumulatedHeight=function(e){var t=Math.max(0,this.prefixSumValidIndex+1);0===t&&(this.prefixSum[0]=this.heights[0],t++);for(var n=t;e>=n;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.heights[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getAccumulatedHeightBeforeLineNumber=function(e){var t=this.findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getAccumulatedHeight(t)},e.prototype.findLastWhitespaceBeforeLineNumber=function(e){for(var t,n=this.afterLineNumbers,o=0,r=n.length-1;r>=o;)if(t=Math.floor((o+r)/2),n[t]<e){if(t+1>=n.length||n[t+1]>=e)return t;o=t+1}else r=t-1;return-1},e.prototype.findFirstWhitespaceAfterLineNumber=function(e){var t=this.findLastWhitespaceBeforeLineNumber(e),n=t+1;return n<this.heights.length?n:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return this.findFirstWhitespaceAfterLineNumber(e)},e.prototype.getCount=function(){return this.heights.length},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return this.afterLineNumbers[e]},e.prototype.getIdForWhitespaceIndex=function(e){return this.ids[e]},e.prototype.getHeightForWhitespaceIndex=function(e){return this.heights[e]},e.prototype.getWhitespaces=function(e){for(var t=[],n=0;n<this.heights.length;n++)t.push({id:this.ids[n],afterLineNumber:this.afterLineNumbers[n],heightInLines:this.heights[n]/e});return t},e}();t.WhitespaceComputer=n}),define("vs/editor/common/viewLayout/verticalObjects",["require","exports","vs/editor/common/viewLayout/whitespaceComputer"],function(e,t,n){var o=function(){function e(){this.whitespaces=new n.WhitespaceComputer}return e.prototype.replaceLines=function(e){this.linesCount=e},e.prototype.insertWhitespace=function(e,t,n){return this.whitespaces.insertWhitespace(e,t,n)},e.prototype.changeWhitespace=function(e,t){return this.whitespaces.changeWhitespace(e,t)},e.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.whitespaces.changeAfterLineNumberForWhitespace(e,t)},e.prototype.removeWhitespace=function(e){return this.whitespaces.removeWhitespace(e)},e.prototype.onModelLinesDeleted=function(e,t){this.linesCount-=t-e+1,this.whitespaces.onModelLinesDeleted(e,t)},e.prototype.onModelLinesInserted=function(e,t){this.linesCount+=t-e+1,this.whitespaces.onModelLinesInserted(e,t)},e.prototype.getTotalHeight=function(e){var t=e*this.linesCount,n=this.whitespaces.getTotalHeight();return t+n},e.prototype.getVerticalOffsetForLineNumber=function(e,t){var n;n=e>1?t*(e-1):0;var o=this.whitespaces.getAccumulatedHeightBeforeLineNumber(e);return n+o},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this.whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this.whitespaces.getCount()>0},e.prototype.isAfterLines=function(e,t){var n=this.getTotalHeight(t);return e>n},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e,t){if(0>e)return 1;for(var n,o,r,i=1,s=this.linesCount;s>i;)if(n=Math.floor((i+s)/2),o=this.getVerticalOffsetForLineNumber(n,t),r=t,e>=o+r)i=n+1;else{if(e>=o)return n;s=n}return i>this.linesCount?this.linesCount:i},e.prototype.getCenteredLineInViewport=function(e,t,n){for(var o,r,i=this.getLinesViewportData(e,t,n),s=(t-e)/2,a=i.startLineNumber;a<=i.endLineNumber;a++)if(o=i.visibleRangesDeltaTop+i.relativeVerticalOffset[a-i.startLineNumber],r=o+n,s>=o&&r>s||o>s)return a;return i.endLineNumber},e.prototype.getLinesViewportData=function(e,t,n){var o,r,i=this.getLineNumberAtOrAfterVerticalOffset(e,n),s=this.linesCount,a=this.getVerticalOffsetForLineNumber(i,n),u=this.whitespaces.getFirstWhitespaceIndexAfterLineNumber(i),c=this.whitespaces.getCount();-1===u?(u=c,r=s+1):(r=this.whitespaces.getAfterLineNumberForWhitespaceIndex(u),o=this.whitespaces.getHeightForWhitespaceIndex(u));var l=a,d=l,h=5e5,p=0;a>=h&&(p=Math.floor(a/h)*h,p=Math.floor(p/n)*n,d-=p);for(var f=[],m=i;s>=m;m++){for(l+=n,f.push(d),d+=n;r===m;)d+=o,l+=o,u++,u>=c?r=s+1:(r=this.whitespaces.getAfterLineNumberForWhitespaceIndex(u),o=this.whitespaces.getHeightForWhitespaceIndex(u));if(l>t){s=m;break}}return{viewportTop:e-p,viewportHeight:t-e,bigNumbersDelta:p,startLineNumber:i,endLineNumber:s,visibleRangesDeltaTop:-(e-p),relativeVerticalOffset:f,visibleRange:null,getInlineDecorationsForLineInViewport:null,getDecorationsInViewport:null}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e,t){var n,n,o=this.whitespaces.getAfterLineNumberForWhitespaceIndex(e);n=o>=1?t*o:0;var r;return r=e>0?this.whitespaces.getAccumulatedHeight(e-1):0,n+r},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e,t){var n,o,r,i=0,s=this.whitespaces.getCount()-1;if(0>s)return-1;var a=this.getVerticalOffsetForWhitespaceIndex(s,t),u=this.whitespaces.getHeightForWhitespaceIndex(s);if(e>=a+u)return-1;for(;s>i;)if(n=Math.floor((i+s)/2),o=this.getVerticalOffsetForWhitespaceIndex(n,t),r=this.whitespaces.getHeightForWhitespaceIndex(n),e>=o+r)i=n+1;else{if(e>=o)return n;s=n}return i},e.prototype.getWhitespaceAtVerticalOffset=function(e,t){var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,t);if(0>n)return null;if(n>=this.whitespaces.getCount())return null;var o=this.getVerticalOffsetForWhitespaceIndex(n,t);if(o>e)return null;var r=this.whitespaces.getHeightForWhitespaceIndex(n),i=this.whitespaces.getIdForWhitespaceIndex(n),s=this.whitespaces.getAfterLineNumberForWhitespaceIndex(n);return{id:i,afterLineNumber:s,verticalOffset:o,height:r}},e.prototype.getWhitespaceViewportData=function(e,t,n){var o=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,n),r=this.whitespaces.getCount()-1;if(0>o)return[];var i,s,a,u=[];for(i=o;r>=i&&(s=this.getVerticalOffsetForWhitespaceIndex(i,n),a=this.whitespaces.getHeightForWhitespaceIndex(i),!(s>=t));i++)u.push({id:this.whitespaces.getIdForWhitespaceIndex(i),afterLineNumber:this.whitespaces.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:s,height:a});return u},e.prototype.getWhitespaces=function(e){return this.whitespaces.getWhitespaces(e)},e}();t.VerticalObjects=o}),define("vs/editor/common/viewLayout/linesLayout",["require","exports","vs/editor/common/viewLayout/verticalObjects"],function(e,t,n){var o=function(){function e(e,t){this.configuration=e,this.model=t,this.verticalObjects=new n.VerticalObjects,this.verticalObjects.replaceLines(t.getLineCount())}return e.prototype.insertWhitespace=function(e,t,n){return this.verticalObjects.insertWhitespace(e,t,n)},e.prototype.changeWhitespace=function(e,t){return this.verticalObjects.changeWhitespace(e,t)},e.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.verticalObjects.changeAfterLineNumberForWhitespace(e,t)},e.prototype.removeWhitespace=function(e){return this.verticalObjects.removeWhitespace(e)},e.prototype.onModelFlushed=function(){this.verticalObjects.replaceLines(this.model.getLineCount())},e.prototype.onModelLinesDeleted=function(e){this.verticalObjects.onModelLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onModelLinesInserted=function(e){this.verticalObjects.onModelLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.getVerticalOffsetForLineNumber=function(e){return this.verticalObjects.getVerticalOffsetForLineNumber(e,this.configuration.editor.lineHeight)},e.prototype.getLinesTotalHeight=function(){return this.verticalObjects.getTotalHeight(this.configuration.editor.lineHeight)},e.prototype.getTotalHeight=function(e,t){var n=this.getLinesTotalHeight();return n+=this.configuration.editor.scrollBeyondLastLine?e.height-this.configuration.editor.lineHeight:t,Math.max(e.height,n)},e.prototype.isAfterLines=function(e){return this.verticalObjects.isAfterLines(e,this.configuration.editor.lineHeight)},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){return this.verticalObjects.getLineNumberAtOrAfterVerticalOffset(e,this.configuration.editor.lineHeight)},e.prototype.getHeightForLineNumber=function(){return this.configuration.editor.lineHeight},e.prototype.getWhitespaceViewportData=function(e){return this.verticalObjects.getWhitespaceViewportData(e.top,e.top+e.height,this.configuration.editor.lineHeight)},e.prototype.getWhitespaces=function(){return this.verticalObjects.getWhitespaces(this.configuration.editor.lineHeight)},e.prototype.getWhitespaceAtVerticalOffset=function(e){return this.verticalObjects.getWhitespaceAtVerticalOffset(e,this.configuration.editor.lineHeight)},e.prototype.getLinesViewportData=function(e){var t=this.verticalObjects.getLinesViewportData(e.top,e.top+e.height,this.configuration.editor.lineHeight),n=this.model.getDecorationsResolver(t.startLineNumber,t.endLineNumber);return t.getDecorationsInViewport=function(){return n.getDecorations()},t.getInlineDecorationsForLineInViewport=function(e){return n.getInlineDecorations(e)},t},e.prototype.getCenteredLineInViewport=function(e){return this.verticalObjects.getCenteredLineInViewport(e.top,e.top+e.height,this.configuration.editor.lineHeight)},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this.verticalObjects.getWhitespaceAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this.verticalObjects.hasWhitespace()},e}();t.LinesLayout=o}),define("vs/editor/common/viewLayout/editorLayoutProvider",["require","exports"],function(e,t){var n=function(){function e(e,t,n,o,r,i,s,a){this.verticalScrollbarWidth=10,this.horizontalScrollbarHeight=10,this.outerWidth=e,this.outerHeight=t,this.lineHeight=n,this.showGlyphMargin=o,this.glyphMarginWidth=this.computeGlyphMarginWidth(),this.showLineNumbers=r,this.lineNumbersMinChars=i,this.lineDecorationsWidth=s,this.lineCount=0,this.maxDigitWidth=a,this.lineNumbersWidth=this.computeLineNumbersWidth(),this.layoutInfo=this.layout()}return e.prototype.setDimensions=function(e,t){return this.outerWidth!==e||this.outerHeight!==t?(this.outerWidth=e,this.outerHeight=t,this.layoutInfo=this.layout(),!0):!1},e.prototype.setScrollbarSize=function(e,t){return this.verticalScrollbarWidth!==e||this.horizontalScrollbarHeight!==t?(this.verticalScrollbarWidth=e,this.horizontalScrollbarHeight=t,this.layoutInfo=this.layout(),!0):!1},e.prototype.setGlyphMargin=function(e){return this.showGlyphMargin=e,this.setGlyphMarginWidth(this.computeGlyphMarginWidth())},e.prototype.setLineHeight=function(e){return this.lineHeight!==e?(this.lineHeight=e,this.setGlyphMarginWidth(this.computeGlyphMarginWidth()),!0):!1},e.prototype.computeGlyphMarginWidth=function(){return this.showGlyphMargin?this.lineHeight:0},e.prototype.setGlyphMarginWidth=function(e){return this.glyphMarginWidth!==e?(this.glyphMarginWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.setLineDecorationsWidth=function(e){return this.lineDecorationsWidth!==e?(this.lineDecorationsWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.setShowLineNumbers=function(e){return this.showLineNumbers=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineNumbersMinChars=function(e){return this.lineNumbersMinChars=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineCount=function(e){return this.lineCount=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setMaxDigitWidth=function(e){return this.maxDigitWidth=e,this.setLineNumbersWidth(this.computeLineNumbersWidth())},e.prototype.setLineNumbersWidth=function(e){return e=Math.round(e),this.lineNumbersWidth!==e?(this.lineNumbersWidth=e,this.layoutInfo=this.layout(),!0):!1},e.prototype.getLayoutInfo=function(){return this.layoutInfo},e.prototype.layout=function(){var e=this.outerWidth,t=this.outerHeight,n=this.lineNumbersWidth,o=this.glyphMarginWidth,r=t,i=t,s=this.lineDecorationsWidth,a=t,u=e-o-n-s,c=t,l=this.verticalScrollbarWidth,d=this.horizontalScrollbarHeight,h=0,p=h+o,f=p+n,m=f+s;return{width:e,height:t,glyphMarginLeft:h,glyphMarginWidth:o,glyphMarginHeight:i,lineNumbersLeft:p,lineNumbersWidth:n,lineNumbersHeight:r,decorationsLeft:f,decorationsWidth:s,decorationsHeight:a,contentLeft:m,contentWidth:u,contentHeight:c,verticalScrollbarWidth:l,horizontalScrollbarHeight:d}},e.prototype.digitCount=function(e){for(var t=0;e;)e=Math.floor(e/10),t++;return t?t:1},e.prototype.computeLineNumbersWidth=function(){if(this.showLineNumbers){var e=Math.max(this.digitCount(this.lineCount),this.lineNumbersMinChars);return e*this.maxDigitWidth}return 0},e}();t.EditorLayoutProvider=n}),define("vs/base/browser/ui/scrollbar/impl/common",["require","exports"],function(e,t){function n(e){switch(e){case"hidden":return o.Hidden;case"visible":return o.Visible;default:return o.Auto}}!function(e){e[e.Auto=0]="Auto",e[e.Hidden=1]="Hidden",e[e.Visible=2]="Visible"}(t.Visibility||(t.Visibility={}));var o=t.Visibility;t.visibilityFromString=n}),define("vs/base/browser/ui/scrollbar/impl/domNodeScrollable",["require","exports","vs/base/browser/dom","vs/base/browser/touch","vs/base/common/eventEmitter"],function(e,t,n,o,r){var i=function(){function e(e){this.eventEmitterHelper=new r.EventEmitter,this.domNode=e,this.gestureHandler=new o.Gesture(this.domNode)}return e.prototype.getScrollHeight=function(){return this.domNode.scrollHeight},e.prototype.getScrollWidth=function(){return this.domNode.scrollWidth},e.prototype.getScrollLeft=function(){return this.domNode.scrollLeft},e.prototype.setScrollLeft=function(e){this.domNode.scrollLeft=e},e.prototype.getScrollTop=function(){return this.domNode.scrollTop},e.prototype.setScrollTop=function(e){this.domNode.scrollTop=e},e.prototype.addScrollListener=function(e){var t=this,o=this.eventEmitterHelper.addListener2("scroll",e),r=n.addDisposableListener(this.domNode,"scroll",function(e){t.eventEmitterHelper.emit("scroll",{browserEvent:e})});return{dispose:function(){r.dispose(),o.dispose()}}},e.prototype.dispose=function(){this.domNode=null,this.eventEmitterHelper.dispose(),this.gestureHandler&&(this.gestureHandler.dispose(),this.gestureHandler=null)},e}();t.DomNodeScrollable=i}),define("vs/base/browser/ui/scrollbar/impl/abstractScrollbar",["require","exports","vs/base/browser/dom","vs/base/browser/mouseEvent","vs/base/browser/ui/scrollbar/impl/common","vs/base/common/lifecycle","vs/base/browser/globalMouseMoveMonitor","vs/base/browser/browser"],function(e,t,n,o,r,i,s,a){function u(e){return e+"px"}function c(e,t,n,o,r){null!==t&&(e.style.top=u(t)),null!==n&&(e.style.left=u(n)),null!==o&&(e.style.bottom=u(o)),null!==r&&(e.style.right=u(r))}function l(e,t,n){null!==t&&(e.style.width=u(t)),null!==n&&(e.style.height=u(n))}var d=function(){function e(e,t,n){this.visibleSize=0,this.scrollSize=0,this.scrollPosition=0,this.scrollbarSize=t,this.oppositeScrollbarSize=n,this.arrowSize=e,this.refreshComputedValues()}return e.prototype.setVisibleSize=function(e){return this.visibleSize!==e?(this.visibleSize=e,this.refreshComputedValues(),!0):!1},e.prototype.setScrollSize=function(e){return this.scrollSize!==e?(this.scrollSize=e,this.refreshComputedValues(),!0):!1},e.prototype.setScrollPosition=function(e){return this.scrollPosition!==e?(this.scrollPosition=e,this.refreshComputedValues(),!0):!1},e.prototype.refreshComputedValues=function(){if(this.computedAvailableSize=Math.max(0,this.visibleSize-this.oppositeScrollbarSize),this.computedRepresentableSize=Math.max(0,this.computedAvailableSize-2*this.arrowSize),this.computedRatio=this.scrollSize>0?this.computedRepresentableSize/this.scrollSize:0,this.computedIsNeeded=this.scrollSize>this.visibleSize,this.computedIsNeeded){if(this.computedSliderSize=Math.floor(this.visibleSize*this.computedRatio),this.computedSliderPosition=Math.floor(this.scrollPosition*this.computedRatio),this.computedSliderSize<e.MINIMUM_SLIDER_SIZE){var t=(e.MINIMUM_SLIDER_SIZE-this.computedSliderSize)/2;this.computedSliderSize=e.MINIMUM_SLIDER_SIZE,this.computedSliderPosition-=t,this.computedSliderPosition+this.computedSliderSize>this.computedRepresentableSize&&(this.computedSliderPosition=this.computedRepresentableSize-this.computedSliderSize),this.computedSliderPosition<0&&(this.computedSliderPosition=0)}}else this.computedSliderSize=this.computedRepresentableSize,this.computedSliderPosition=0},e.prototype.getArrowSize=function(){return this.arrowSize},e.prototype.getRectangleLargeSize=function(){return this.computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this.scrollbarSize},e.prototype.isNeeded=function(){return this.computedIsNeeded},e.prototype.getSliderSize=function(){return this.computedSliderSize},e.prototype.getSliderPosition=function(){return this.computedSliderPosition},e.prototype.convertSliderPositionToScrollPosition=function(e){return e/this.computedRatio},e.prototype.validateScrollPosition=function(e){return e=Math.round(e),e=Math.max(e,0),e=Math.min(e,this.scrollSize-this.visibleSize)},e.MINIMUM_SLIDER_SIZE=20,e}();t.ScrollbarState=d;var h=function(){function e(e,t,o,r,i,a,u,d,h){var p=this;this.parent=h,this.mouseWheelEventFactory=d,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",l(this.bgDomNode,a,u),c(this.bgDomNode,null!==t?0:null,null!==o?0:null,null!==r?0:null,null!==i?0:null),this.domNode=document.createElement("div"),this.domNode.className=e,this.domNode.style.position="absolute",l(this.domNode,f.ARROW_IMG_SIZE,f.ARROW_IMG_SIZE),c(this.domNode,t,o,r,i),this.mouseMoveMonitor=new s.GlobalMouseMoveMonitor,this.toDispose=[],this.toDispose.push(n.addDisposableListener(this.bgDomNode,"mousedown",function(e){return p._arrowMouseDown(e)})),this.toDispose.push(n.addDisposableListener(this.domNode,"mousedown",function(e){return p._arrowMouseDown(e)})),this.toDispose.push(this.mouseMoveMonitor),this.interval=-1,this.timeout=-1}return e.prototype.dispose=function(){this.toDispose=i.disposeAll(this.toDispose),this._clearArrowTimers()},e.prototype._arrowMouseDown=function(e){var t=this,n=function(){t.parent.onMouseWheel(t.mouseWheelEventFactory())},r=function(){t.interval=window.setInterval(n,1e3/24)};n(),this._clearArrowTimers(),this.timeout=window.setTimeout(r,200),this.mouseMoveMonitor.startMonitoring(s.standardMouseMoveMerger,function(){},function(){t._clearArrowTimers()});var i=new o.StandardMouseEvent(e);i.preventDefault()},e.prototype._clearArrowTimers=function(){-1!==this.interval&&(window.clearInterval(this.interval),this.interval=-1),-1!==this.timeout&&(window.clearTimeout(this.timeout),this.timeout=-1)},e}(),p=function(){function e(e,t,n){this._revealTimeout=-1,this.visibility=e,this.visibleClassName=t,this.invisibleClassName=n,this.domNode=null,this.isVisible=!1,this.isNeeded=!1,this.shouldBeVisible=!1,this.fadeAwayTimeout=-1}return e.prototype.dispose=function(){-1!==this.fadeAwayTimeout&&(window.clearTimeout(this.fadeAwayTimeout),this.fadeAwayTimeout=-1),-1!==this._revealTimeout&&(window.clearTimeout(this._revealTimeout),this._revealTimeout=-1)},e.prototype.applyVisibilitySetting=function(e){return this.visibility===r.Visibility.Hidden?!1:this.visibility===r.Visibility.Visible?!0:e},e.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);this.shouldBeVisible!==t&&(this.shouldBeVisible=t,this.ensureVisibility())},e.prototype.setIsNeeded=function(e){this.isNeeded!==e&&(this.isNeeded=e,this.ensureVisibility())},e.prototype.setDomNode=function(e){this.domNode=e,this.domNode.className=this.invisibleClassName,this.setShouldBeVisible(!1)},e.prototype.ensureVisibility=function(){return this.isNeeded?(this.shouldBeVisible?this._reveal():this._hide(!0),void 0):(this._hide(!1),void 0)},e.prototype._reveal=function(){var e=this;this.isVisible||(this.isVisible=!0,-1===this._revealTimeout&&(this._revealTimeout=window.setTimeout(function(){e._revealTimeout=-1,e.domNode.className=e.visibleClassName},0)),-1!==this.fadeAwayTimeout&&(window.clearTimeout(this.fadeAwayTimeout),this.fadeAwayTimeout=-1))},e.prototype._hide=function(e){-1!==this._revealTimeout&&(window.clearTimeout(this._revealTimeout),this._revealTimeout=-1),this.isVisible&&(this.isVisible=!1,this.domNode.className=this.invisibleClassName+(e?" fade":""))},e}(),f=function(){function e(e,t,n,o,r){this.forbidTranslate3dUse=e,this.parent=t,this.scrollbarState=n,this.visibilityController=new p(o,"visible scrollbar "+r,"invisible scrollbar "+r),this.mouseMoveMonitor=new s.GlobalMouseMoveMonitor,this.toDispose=[],this.toDispose.push(this.visibilityController),this.toDispose.push(this.mouseMoveMonitor)}return e.prototype._createDomNode=function(){var e=this;this.domNode=document.createElement("div"),!this.forbidTranslate3dUse&&a.canUseTranslate3d&&(this.domNode.style.transform="translate3d(0px, 0px, 0px)"),this.visibilityController.setDomNode(this.domNode),this.domNode.style.position="absolute",this.toDispose.push(n.addDisposableListener(this.domNode,"mousedown",function(t){return e._domNodeMouseDown(t)}))},e.prototype._createArrow=function(e,t,n,o,r,i,s,a){var u=new h(e,t,n,o,r,i,s,a,this.parent);this.domNode.appendChild(u.bgDomNode),this.domNode.appendChild(u.domNode),this.toDispose.push(u)},e.prototype._createSlider=function(e,t,r,i){var s=this;this.slider=document.createElement("div"),this.slider.className="slider",this.slider.style.position="absolute",c(this.slider,e,t,null,null),l(this.slider,r,i),this.domNode.appendChild(this.slider),this.toDispose.push(n.addDisposableListener(this.slider,"mousedown",function(e){return s._sliderMouseDown(new o.StandardMouseEvent(e))}))},e.prototype.destroy=function(){this.toDispose=i.disposeAll(this.toDispose)},e.prototype.onElementSize=function(e){this.scrollbarState.setVisibleSize(e)&&(this._renderDomNode(this.scrollbarState.getRectangleLargeSize(),this.scrollbarState.getRectangleSmallSize()),this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.onElementScrollSize=function(e){this.scrollbarState.setScrollSize(e)&&(this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.onElementScrollPosition=function(e){this.scrollbarState.setScrollPosition(e)&&(this._renderSlider(),this.visibilityController.setIsNeeded(this.scrollbarState.isNeeded()))},e.prototype.beginReveal=function(){this.visibilityController.setShouldBeVisible(!0)},e.prototype.beginHide=function(){this.visibilityController.setShouldBeVisible(!1)},e.prototype._renderSlider=function(){this._updateSlider(this.scrollbarState.getSliderSize(),this.scrollbarState.getArrowSize()+this.scrollbarState.getSliderPosition())},e.prototype._domNodeMouseDown=function(e){var t=new o.StandardMouseEvent(e);t.target===this.domNode&&this._onMouseDown(t)},e.prototype.delegateMouseDown=function(e){var t=new o.StandardMouseEvent(e),n=this.domNode.getClientRects()[0].top,r=n+this.scrollbarState.getSliderPosition(),i=n+this.scrollbarState.getSliderPosition()+this.scrollbarState.getSliderSize(),s=this._sliderMousePosition(t);s>=r&&i>=s?this._sliderMouseDown(t):this._onMouseDown(t)},e.prototype._onMouseDown=function(e){var t=n.getDomNodePosition(this.domNode),o=this._mouseDownRelativePosition(e,t)-this.scrollbarState.getArrowSize()-this.scrollbarState.getSliderSize()/2;this.setDesiredScrollPosition(this.scrollbarState.convertSliderPositionToScrollPosition(o)),this._sliderMouseDown(e)},e.prototype._sliderMouseDown=function(e){var t=this;if(e.leftButton){var o=this._sliderMousePosition(e)-this.scrollbarState.getSliderPosition();n.toggleClass(this.slider,"active",!0),this.mouseMoveMonitor.startMonitoring(s.standardMouseMoveMerger,function(e){var n=t._sliderMousePosition(e)-o;t.setDesiredScrollPosition(t.scrollbarState.convertSliderPositionToScrollPosition(n))},function(){n.toggleClass(t.slider,"active",!1),t.parent.onDragEnd()}),e.preventDefault(),this.parent.onDragStart()}},e.prototype.validateScrollPosition=function(e){return this.scrollbarState.validateScrollPosition(e)},e.prototype.setDesiredScrollPosition=function(e){e=this.validateScrollPosition(e),this._setScrollPosition(e),this.onElementScrollPosition(e),this._renderSlider()},e.prototype._renderDomNode=function(){},e.prototype._updateSlider=function(){},e.prototype._mouseDownRelativePosition=function(){return 0},e.prototype._sliderMousePosition=function(){return 0},e.prototype._setScrollPosition=function(){},e.ARROW_IMG_SIZE=11,e}();t.AbstractScrollbar=f});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/ui/scrollbar/impl/horizontalScrollbar",["require","exports","vs/base/browser/ui/scrollbar/impl/abstractScrollbar","vs/base/browser/mouseEvent","vs/base/browser/dom","vs/base/browser/ui/scrollbar/impl/common","vs/base/browser/browser"],function(e,t,n,o,r,i,s){var a=function(e){function t(t,o,r){var s=this,a=new n.ScrollbarState(r.horizontalHasArrows?r.arrowSize:0,r.horizontal===i.Visibility.Hidden?0:r.horizontalScrollbarSize,r.vertical===i.Visibility.Hidden?0:r.verticalScrollbarSize);if(e.call(this,r.forbidTranslate3dUse,o,a,r.horizontal,"horizontal"),this.scrollable=t,this._createDomNode(),r.horizontalHasArrows){var u=(r.arrowSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2,c=(r.horizontalScrollbarSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2;
this._createArrow("left-arrow",c,u,null,null,r.arrowSize,r.horizontalScrollbarSize,function(){return s._createMouseWheelEvent(1)}),this._createArrow("right-arrow",c,null,null,u,r.arrowSize,r.horizontalScrollbarSize,function(){return s._createMouseWheelEvent(-1)})}this._createSlider(Math.floor((r.horizontalScrollbarSize-r.horizontalSliderSize)/2),0,null,r.horizontalSliderSize)}return __extends(t,e),t.prototype._createMouseWheelEvent=function(e){return new o.StandardMouseWheelEvent(null,e,0)},t.prototype._updateSlider=function(e,t){r.StyleMutator.setWidth(this.slider,e),!this.forbidTranslate3dUse&&s.canUseTranslate3d?r.StyleMutator.setTransform(this.slider,"translate3d("+t+"px, 0px, 0px)"):r.StyleMutator.setLeft(this.slider,t)},t.prototype._renderDomNode=function(e,t){r.StyleMutator.setWidth(this.domNode,e),r.StyleMutator.setHeight(this.domNode,t),r.StyleMutator.setLeft(this.domNode,0),r.StyleMutator.setBottom(this.domNode,0)},t.prototype._mouseDownRelativePosition=function(e,t){return e.posx-t.left},t.prototype._sliderMousePosition=function(e){return e.posx},t.prototype._setScrollPosition=function(e){this.scrollable.setScrollLeft(e)},t}(n.AbstractScrollbar);t.HorizontalScrollbar=a});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/ui/scrollbar/impl/verticalScrollbar",["require","exports","vs/base/browser/ui/scrollbar/impl/abstractScrollbar","vs/base/browser/mouseEvent","vs/base/browser/dom","vs/base/browser/ui/scrollbar/impl/common","vs/base/browser/browser"],function(e,t,n,o,r,i,s){var a=function(e){function t(t,o,r){var s=this,a=new n.ScrollbarState(r.verticalHasArrows?r.arrowSize:0,r.vertical===i.Visibility.Hidden?0:r.verticalScrollbarSize,r.horizontal===i.Visibility.Hidden?0:r.horizontalScrollbarSize);if(e.call(this,r.forbidTranslate3dUse,o,a,r.vertical,"vertical"),this.scrollable=t,this._createDomNode(),r.verticalHasArrows){var u=(r.arrowSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2,c=(r.verticalScrollbarSize-n.AbstractScrollbar.ARROW_IMG_SIZE)/2;this._createArrow("up-arrow",u,c,null,null,r.verticalScrollbarSize,r.arrowSize,function(){return s._createMouseWheelEvent(1)}),this._createArrow("down-arrow",null,c,u,null,r.verticalScrollbarSize,r.arrowSize,function(){return s._createMouseWheelEvent(-1)})}this._createSlider(0,Math.floor((r.verticalScrollbarSize-r.verticalSliderSize)/2),r.verticalSliderSize,null)}return __extends(t,e),t.prototype._createMouseWheelEvent=function(e){return new o.StandardMouseWheelEvent(null,0,e)},t.prototype._updateSlider=function(e,t){r.StyleMutator.setHeight(this.slider,e),!this.forbidTranslate3dUse&&s.canUseTranslate3d?r.StyleMutator.setTransform(this.slider,"translate3d(0px, "+t+"px, 0px)"):r.StyleMutator.setTop(this.slider,t)},t.prototype._renderDomNode=function(e,t){r.StyleMutator.setWidth(this.domNode,t),r.StyleMutator.setHeight(this.domNode,e),r.StyleMutator.setRight(this.domNode,0),r.StyleMutator.setTop(this.domNode,0)},t.prototype._mouseDownRelativePosition=function(e,t){return e.posy-t.top},t.prototype._sliderMousePosition=function(e){return e.posy},t.prototype._setScrollPosition=function(e){this.scrollable.setScrollTop(e)},t}(n.AbstractScrollbar);t.VerticalScrollbar=a}),define("vs/css!vs/base/browser/ui/scrollbar/impl/scrollbars",["vs/css!vs/editor/editor.main"],{}),define("vs/base/browser/ui/scrollbar/impl/scrollableElement",["require","exports","vs/base/browser/dom","vs/base/browser/mouseEvent","vs/base/common/platform","vs/base/browser/ui/scrollbar/impl/common","vs/base/browser/ui/scrollbar/impl/domNodeScrollable","vs/base/browser/ui/scrollbar/impl/horizontalScrollbar","vs/base/browser/ui/scrollbar/impl/verticalScrollbar","vs/base/common/lifecycle","vs/css!./scrollbars"],function(e,t,n,o,r,i,s,a,u,c){var l=500,d=50,h=function(){function e(e,t){var o=this;this.originalElement=e,this.originalElement.style.overflow="hidden",this.options=this._createOptions(t),this.scrollable=this.options.scrollable?this.options.scrollable:new s.DomNodeScrollable(this.originalElement),this.verticalScrollbarWidth=this.options.verticalScrollbarSize,this.horizontalScrollbarHeight=this.options.horizontalScrollbarSize,this.verticalScrollbar=new u.VerticalScrollbar(this.scrollable,this,this.options),this.horizontalScrollbar=new a.HorizontalScrollbar(this.scrollable,this,this.options),this.domNode=document.createElement("div"),this.domNode.className="monaco-scrollable-element "+this.options.className,this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation"),this.domNode.style.position="relative",this.domNode.style.overflow="hidden",this.domNode.appendChild(this.originalElement),this.domNode.appendChild(this.horizontalScrollbar.domNode),this.domNode.appendChild(this.verticalScrollbar.domNode),this.options.useShadows&&(this.leftShadowDomNode=document.createElement("div"),this.leftShadowDomNode.className="shadow",this.domNode.appendChild(this.leftShadowDomNode)),this.options.useShadows&&(this.topShadowDomNode=document.createElement("div"),this.topShadowDomNode.className="shadow",this.domNode.appendChild(this.topShadowDomNode),this.topLeftShadowDomNode=document.createElement("div"),this.topLeftShadowDomNode.className="shadow top-left-corner",this.domNode.appendChild(this.topLeftShadowDomNode)),this.listenOnDomNode=this.options.listenOnDomNode||this.domNode,this.toDispose=[],this.toDispose.push(this.scrollable.addScrollListener(function(){return o._onScroll()})),this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this.options.handleMouseWheel),this.toDispose.push(n.addDisposableListener(this.listenOnDomNode,"mouseover",function(e){return o._onMouseOver(e)})),this.toDispose.push(n.addDisposableNonBubblingMouseOutListener(this.listenOnDomNode,function(e){return o._onMouseOut(e)})),this.onElementDimensionsTimeout=-1,this.onElementInternalDimensionsTimeout=-1,this.hideTimeout=-1,this.isDragging=!1,this.mouseIsOver=!1,this.onElementDimensions(!0),this.onElementInternalDimensions(!0)}return e.prototype.dispose=function(){this.toDispose=c.disposeAll(this.toDispose),this._mouseWheelToDispose=c.disposeAll(this._mouseWheelToDispose),this.verticalScrollbar.destroy(),this.horizontalScrollbar.destroy(),-1!==this.onElementDimensionsTimeout&&(window.clearTimeout(this.onElementDimensionsTimeout),this.onElementDimensionsTimeout=-1),-1!==this.onElementInternalDimensionsTimeout&&(window.clearTimeout(this.onElementInternalDimensionsTimeout),this.onElementInternalDimensionsTimeout=-1)},e.prototype.destroy=function(){this.dispose()},e.prototype.getDomNode=function(){return this.domNode},e.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this.domNode,insertBefore:this.verticalScrollbar.domNode,top:this.options.verticalHasArrows?this.options.arrowSize:0,bottom:(this.options.verticalHasArrows?this.options.arrowSize:0)+this.options.horizontalScrollbarSize,width:this.options.verticalScrollbarSize}},e.prototype.getVerticalSliderDomNode=function(){return this.verticalScrollbar.slider},e.prototype.delegateVerticalScrollbarMouseDown=function(e){this.verticalScrollbar.delegateMouseDown(e)},e.prototype.onElementDimensions=function(e){var t=this;void 0===e&&(e=!1),e?this.actualElementDimensions():-1===this.onElementDimensionsTimeout&&(this.onElementDimensionsTimeout=window.setTimeout(function(){return t.actualElementDimensions()},0))},e.prototype.actualElementDimensions=function(){this.onElementDimensionsTimeout=-1,this.dimensions=this._computeDimensions(),this.verticalScrollbar.onElementSize(this.dimensions.height),this.horizontalScrollbar.onElementSize(this.dimensions.width)},e.prototype.onElementInternalDimensions=function(e){var t=this;void 0===e&&(e=!1),e?this.actualElementInternalDimensions():-1===this.onElementInternalDimensionsTimeout&&(this.onElementInternalDimensionsTimeout=window.setTimeout(function(){return t.actualElementInternalDimensions()},0))},e.prototype.actualElementInternalDimensions=function(){this.onElementInternalDimensionsTimeout=-1,this.horizontalScrollbar.onElementScrollSize(this.scrollable.getScrollWidth()),this.verticalScrollbar.onElementScrollSize(this.scrollable.getScrollHeight())},e.prototype.updateClassName=function(e){this.options.className=e,r.isMacintosh&&(this.options.className+=" mac"),this.domNode.className="monaco-scrollable-element "+this.options.className},e.prototype.updateOptions=function(e){var t=this._createOptions(e);this.options.handleMouseWheel=t.handleMouseWheel,this.options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity,this._setListeningToMouseWheel(this.options.handleMouseWheel)},e.prototype._setListeningToMouseWheel=function(e){var t=this,r=this._mouseWheelToDispose.length>0;if(r!==e&&(this._mouseWheelToDispose=c.disposeAll(this._mouseWheelToDispose),e)){var i=function(e){var n=new o.StandardMouseWheelEvent(e);t.onMouseWheel(n)};this._mouseWheelToDispose.push(n.addDisposableListener(this.listenOnDomNode,"mousewheel",i)),this._mouseWheelToDispose.push(n.addDisposableListener(this.listenOnDomNode,"DOMMouseScroll",i))}},e.prototype.onMouseWheel=function(e){if(r.isMacintosh&&e.browserEvent&&this.options.saveLastScrollTimeOnClassName){var t=e.browserEvent.target;if(t&&1===t.nodeType){var o=n.findParentWithClass(t,this.options.saveLastScrollTimeOnClassName);o&&o.setAttribute("last-scroll-time",String((new Date).getTime()))}}var i=-1,s=-1;if(e.deltaY||e.deltaX){var a=e.deltaY*this.options.mouseWheelScrollSensitivity,u=e.deltaX*this.options.mouseWheelScrollSensitivity;if(this.options.flipAxes&&(a=e.deltaX,u=e.deltaY),r.isMacintosh&&(a&&Math.abs(u)<.2&&(u=0),Math.abs(a)>.5*Math.abs(u)&&(u=0)),a){var c=this.scrollable.getScrollTop();i=this.verticalScrollbar.validateScrollPosition((-1!==i?i:c)-d*a),i===c&&(i=-1)}if(u){var l=this.scrollable.getScrollLeft();s=this.horizontalScrollbar.validateScrollPosition((-1!==s?s:l)-d*u),s===l&&(s=-1)}(-1!==i||-1!==s)&&(-1!==i&&(this.verticalScrollbar.setDesiredScrollPosition(i),i=-1),-1!==s&&(this.horizontalScrollbar.setDesiredScrollPosition(s),s=-1))}e.preventDefault(),e.stopPropagation()},e.prototype._onScroll=function(){var e=this.scrollable.getScrollHeight(),t=this.scrollable.getScrollTop(),o=this.scrollable.getScrollWidth(),r=this.scrollable.getScrollLeft();if(this.verticalScrollbar.onElementScrollPosition(t),this.horizontalScrollbar.onElementScrollPosition(r),this.options.useShadows){var i=e>0&&t>0,s=this.options.useShadows&&o>0&&r>0;this.topShadowDomNode&&n.toggleClass(this.topShadowDomNode,"top",i),this.topLeftShadowDomNode&&n.toggleClass(this.topLeftShadowDomNode,"top",i),this.leftShadowDomNode&&n.toggleClass(this.leftShadowDomNode,"left",s),this.topLeftShadowDomNode&&n.toggleClass(this.topLeftShadowDomNode,"left",s)}this._reveal()},e.prototype.onDragStart=function(){this.isDragging=!0,this._reveal()},e.prototype.onDragEnd=function(){this.isDragging=!1,this._hide()},e.prototype._onMouseOut=function(){this.mouseIsOver=!1,this._hide()},e.prototype._onMouseOver=function(){this.mouseIsOver=!0,this._reveal()},e.prototype._reveal=function(){this.verticalScrollbar.beginReveal(),this.horizontalScrollbar.beginReveal(),this._scheduleHide()},e.prototype._hide=function(){this.mouseIsOver||this.isDragging||(this.verticalScrollbar.beginHide(),this.horizontalScrollbar.beginHide())},e.prototype._scheduleHide=function(){-1!==this.hideTimeout&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(this._hide.bind(this),l)},e.prototype._computeDimensions=function(){var e=this.domNode.clientWidth,t=this.domNode.clientHeight,n=t-(this.options.verticalHasArrows?2*this.options.arrowSize:0)-this.options.horizontalScrollbarSize,o=e-(this.options.horizontalHasArrows?2*this.options.arrowSize:0)-this.options.verticalScrollbarSize;return{width:e,height:t,representableHeight:n,representableWidth:o}},e.prototype._createOptions=function(e){function t(e,t,n){return e.hasOwnProperty(t)?e[t]:n}var n={forbidTranslate3dUse:t(e,"forbidTranslate3dUse",!1),className:t(e,"className",""),useShadows:t(e,"useShadows",!0),handleMouseWheel:t(e,"handleMouseWheel",!0),flipAxes:t(e,"flipAxes",!1),mouseWheelScrollSensitivity:t(e,"mouseWheelScrollSensitivity",1),arrowSize:t(e,"arrowSize",11),scrollable:t(e,"scrollable",null),listenOnDomNode:t(e,"listenOnDomNode",null),horizontal:i.visibilityFromString(t(e,"horizontal","auto")),horizontalScrollbarSize:t(e,"horizontalScrollbarSize",10),horizontalSliderSize:0,horizontalHasArrows:t(e,"horizontalHasArrows",!1),vertical:i.visibilityFromString(t(e,"vertical","auto")),verticalScrollbarSize:t(e,"verticalScrollbarSize",10),verticalHasArrows:t(e,"verticalHasArrows",!1),verticalSliderSize:0,saveLastScrollTimeOnClassName:t(e,"saveLastScrollTimeOnClassName",null)};return n.horizontalSliderSize=t(e,"horizontalSliderSize",n.horizontalScrollbarSize),n.verticalSliderSize=t(e,"verticalSliderSize",n.verticalScrollbarSize),r.isMacintosh&&(n.className+=" mac"),n},e}();t.ScrollableElement=h});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/viewLayout/editorScrollable",["require","exports","vs/base/common/eventEmitter"],function(e,t,n){var o=function(e){function t(n,o){e.call(this,[t._SCROLL_EVENT,t._INTERNAL_SIZE_CHANGED_EVENT]),this.linesContent=n,this._forceUsageOfScrollLeft=o,this.scrollTop=0,this.scrollLeft=0,this.scrollWidth=0,this.scrollHeight=0,this.width=0,this.height=0}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.setWidth=function(e){e=Math.floor(e),0>e&&(e=0),this.width!==e&&(this.width=e,this.setScrollWidth(this.scrollWidth),this.setScrollLeft(this.scrollLeft))},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.setScrollWidth=function(e){e=Math.floor(e),e<this.width&&(e=this.width),this.scrollWidth!==e&&(this.scrollWidth=e,this.setScrollLeft(this.scrollLeft),this._emitInternalSizeEvent())},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollLeft=function(e){e=Math.floor(e),0>e&&(e=0),e+this.width>this.scrollWidth&&(e=this.scrollWidth-this.width),this.scrollLeft!==e&&(this.scrollLeft=e,this._forceUsageOfScrollLeft&&(this.linesContent.scrollLeft=e),this._emitScrollEvent(!1,!0))},t.prototype.getHeight=function(){return this.height},t.prototype.setHeight=function(e){e=Math.floor(e),0>e&&(e=0),this.height!==e&&(this.height=e,this.setScrollHeight(this.scrollHeight),this.setScrollTop(this.scrollTop))},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.setScrollHeight=function(e){e=Math.floor(e),e<this.height&&(e=this.height),this.scrollHeight!==e&&(this.scrollHeight=e,this.setScrollTop(this.scrollTop),this._emitInternalSizeEvent())},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.setScrollTop=function(e){e=Math.floor(e),0>e&&(e=0),e+this.height>this.scrollHeight&&(e=this.scrollHeight-this.height),this.scrollTop!==e&&(this.scrollTop=e,this._emitScrollEvent(!0,!1))},t.prototype._emitScrollEvent=function(e,n){var o={vertical:e,horizontal:n,scrollTop:this.scrollTop,scrollLeft:this.scrollLeft};this.emit(t._SCROLL_EVENT,o)},t.prototype.addScrollListener=function(e){return this.addListener2(t._SCROLL_EVENT,e)},t.prototype._emitInternalSizeEvent=function(){this.emit(t._INTERNAL_SIZE_CHANGED_EVENT)},t.prototype.addInternalSizeChangeListener=function(e){return this.addListener2(t._INTERNAL_SIZE_CHANGED_EVENT,e)},t._SCROLL_EVENT="scroll",t._INTERNAL_SIZE_CHANGED_EVENT="internalSizeChanged",t}(n.EventEmitter);t.EditorScrollable=o}),define("vs/editor/browser/viewLayout/scrollManager",["require","exports","vs/base/browser/ui/scrollbar/impl/scrollableElement","vs/base/browser/dom","vs/base/common/lifecycle","vs/editor/common/viewLayout/editorScrollable","vs/editor/browser/editorBrowser","vs/editor/common/common"],function(e,t,n,o,r,i,s,a){function u(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n])}var c=function(){function e(e,t,r,c,l){var d=this;this.toDispose=[],this.configuration=e,this.privateViewEventBus=t,this.linesContent=r,this.scrollable=new i.EditorScrollable(r,!1),this.toDispose.push(this.scrollable),this.toDispose.push(this.scrollable.addScrollListener(function(e){d.privateViewEventBus.emit(a.EventType.ViewScrollChanged,e)}));var h=this.configuration.getScrollbarOptions(),p={scrollable:this.scrollable,listenOnDomNode:c,vertical:h.vertical,horizontal:h.horizontal,className:s.ClassNames.SCROLLABLE_ELEMENT+" "+this.configuration.editor.theme,useShadows:!1,saveLastScrollTimeOnClassName:s.ClassNames.VIEW_LINE};u(h,p,"verticalHasArrows"),u(h,p,"horizontalHasArrows"),u(h,p,"verticalScrollbarSize"),u(h,p,"verticalSliderSize"),u(h,p,"horizontalScrollbarSize"),u(h,p,"horizontalSliderSize"),u(h,p,"handleMouseWheel"),u(h,p,"arrowSize"),u(h,p,"mouseWheelScrollSensitivity"),this.scrollbar=new n.ScrollableElement(r,p),this.toDispose.push(this.scrollbar),this.toDispose.push(this.scrollable.addInternalSizeChangeListener(function(){d.scrollbar.onElementInternalDimensions()})),this.toDispose.push(this.configuration.addListener2(a.EventType.ConfigurationChanged,function(e){d.scrollbar.updateClassName(d.configuration.editor.theme),(e.scrollbar||e.mouseWheelScrollSensitivity)&&d.scrollbar.updateOptions(d.configuration.getScrollbarOptions())}));var f=function(e,t,n){if(t){var o=e.scrollTop;o&&(d.scrollable.setScrollTop(d.getScrollTop()+o),e.scrollTop=0)}if(n){var r=e.scrollLeft;r&&(d.scrollable.setScrollLeft(d.getScrollLeft()+r),e.scrollLeft=0)}};this.toDispose.push(o.addDisposableListener(c,"scroll",function(){return f(c,!0,!0)})),this.toDispose.push(o.addDisposableListener(r,"scroll",function(){return f(r,!0,!1)})),this.toDispose.push(o.addDisposableListener(l,"scroll",function(){return f(l,!0,!1)}))}return e.prototype.dispose=function(){this.toDispose=r.disposeAll(this.toDispose)},e.prototype.getVerticalScrollbarWidth=function(){return this.scrollbar.verticalScrollbarWidth},e.prototype.getHorizontalScrollbarHeight=function(){return this.scrollbar.horizontalScrollbarHeight},e.prototype.onSizeProviderLayoutChanged=function(){this.scrollbar&&this.scrollbar.onElementDimensions()},e.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollable.getScrollTop()},e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar?this.scrollbar.getOverviewRulerLayoutInfo():null},e.prototype.getScrollbarContainerDomNode=function(){return this.scrollbar?this.scrollbar.getDomNode():this.linesContent},e.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar&&this.scrollbar.delegateVerticalScrollbarMouseDown(e)},e.prototype.getWidth=function(){return this.scrollable.getWidth()},e.prototype.setWidth=function(e){this.scrollable.setWidth(e)},e.prototype.getHeight=function(){return this.scrollable.getHeight()},e.prototype.setHeight=function(e){this.scrollable.setHeight(e)},e.prototype.getScrollHeight=function(){return this.scrollable.getScrollHeight()},e.prototype.setScrollHeight=function(e){this.scrollable.setScrollHeight(e)},e.prototype.getScrollWidth=function(){return this.scrollable.getScrollWidth()},e.prototype.setScrollWidth=function(e){this.scrollable.setScrollWidth(e)},e.prototype.getScrollLeft=function(){return this.scrollable.getScrollLeft()},e.prototype.setScrollLeft=function(e){this.scrollable.setScrollLeft(e)},e.prototype.getScrollTop=function(){return this.scrollable.getScrollTop()},e.prototype.setScrollTop=function(e){this.scrollable.setScrollTop(e)},e.prototype.addScrollListener=function(e){return this.scrollable.addScrollListener(e)},e}();t.ScrollManager=c});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewLayout/layoutProvider",["require","exports","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/editorLayoutProvider","vs/editor/browser/view/viewEventHandler","vs/editor/browser/viewLayout/scrollManager","vs/editor/common/common"],function(e,t,n,o,r,i,s){var a=function(e){function t(t,r,s,a,u,c){e.call(this),this.configuration=t,this.privateViewEventBus=s,this.model=r,this.scrollManager=new i.ScrollManager(t,s,a,u,c),this.editorLayoutProvider=new o.EditorLayoutProvider(this.configuration.editor.observedOuterWidth,this.configuration.editor.observedOuterHeight,this.configuration.editor.lineHeight,this.configuration.editor.glyphMargin,this.configuration.editor.lineNumbers,this.configuration.editor.lineNumbersMinChars,this.configuration.editor.lineDecorationsWidth,this.configuration.editor.maxDigitWidth),this.editorLayoutProvider.setLineCount(this.model.getLineCount()),this.editorLayoutProvider.setScrollbarSize(this.scrollManager.getVerticalScrollbarWidth(),this.scrollManager.getHorizontalScrollbarHeight()),this._updateWrappingColumn(this.getLayoutInfo(),0),this.linesLayout=new n.LinesLayout(t,r),this._updatePageSize(this.editorLayoutProvider.getLayoutInfo()),this._updateHeight()}return __extends(t,e),t.prototype.dispose=function(){this.scrollManager.dispose()},t.prototype.updateLineCount=function(){var e=this.editorLayoutProvider.setLineCount(this.model.getLineCount());e&&this._emitLayoutChangedEvent()},t.prototype.onZonesChanged=function(){return this._updateHeight(),!1},t.prototype.onModelFlushed=function(){return this.linesLayout.onModelFlushed(),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLinesDeleted=function(e){return this.linesLayout.onModelLinesDeleted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLineChanged=function(){return!1},t.prototype.onModelLinesInserted=function(e){return this.linesLayout.onModelLinesInserted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onConfigurationChanged=function(){var e=this.linesLayout.getCenteredLineInViewport(this.getCurrentViewport()),t=this.editorLayoutProvider.setDimensions(this.configuration.editor.observedOuterWidth,this.configuration.editor.observedOuterHeight);return t=this.editorLayoutProvider.setShowLineNumbers(this.configuration.editor.lineNumbers)||t,t=this.editorLayoutProvider.setLineNumbersMinChars(this.configuration.editor.lineNumbersMinChars)||t,t=this.editorLayoutProvider.setGlyphMargin(this.configuration.editor.glyphMargin)||t,t=this.editorLayoutProvider.setLineDecorationsWidth(this.configuration.editor.lineDecorationsWidth)||t,t=this.editorLayoutProvider.setLineHeight(this.configuration.editor.lineHeight)||t,t=this.editorLayoutProvider.setMaxDigitWidth(this.configuration.editor.maxDigitWidth)||t,this._updateWrappingColumn(this.getLayoutInfo(),e),t?this._emitLayoutChangedEvent():this._updatePageSize(this.editorLayoutProvider.getLayoutInfo()),this._updateHeight(),!1},t.prototype._updateHeight=function(){var e=this.scrollManager.getScrollHeight();this.scrollManager.setScrollHeight(this.getTotalHeight());var t=this.scrollManager.getScrollHeight();e!==t&&this.privateViewEventBus.emit(s.EventType.ViewScrollHeightChanged,t)},t.prototype._updateWrappingColumn=function(e,t){var n=this.configuration.getWrappingColumn(),o=-1;0===n?o=Math.max(1,Math.floor((e.contentWidth-e.verticalScrollbarWidth)/this.configuration.editor.typicalHalfwidthCharacterWidth)):n>0&&(o=n),this.model.setWrappingColumn(o,this.configuration.editor.typicalFullwidthCharacterWidth/this.configuration.editor.typicalHalfwidthCharacterWidth,t)},t.prototype._updatePageSize=function(e){this.configuration.editor.pageSize=Math.floor(e.height/this.configuration.editor.lineHeight)-2},t.prototype.getLayoutInfo=function(){var e=this.editorLayoutProvider.getLayoutInfo(),t=this.scrollManager.getOverviewRulerLayoutInfo();return e.overviewRuler={top:t.top,width:t.width,height:e.height-t.top-t.bottom,right:0},e},t.prototype.getCurrentViewport=function(){var e=this.editorLayoutProvider.getLayoutInfo();return{top:this.scrollManager.getScrollTop(),left:this.scrollManager.getScrollLeft(),width:e.contentWidth,height:e.contentHeight}},t.prototype.getCenteredViewLineNumberInViewport=function(){return this.linesLayout.getCenteredLineInViewport(this.getCurrentViewport())},t.prototype._emitLayoutChangedEvent=function(e){void 0===e&&(e=0),this.scrollManager.onSizeProviderLayoutChanged();var t=this.getLayoutInfo();this._updatePageSize(t),this.scrollManager.setWidth(t.contentWidth),this.scrollManager.setHeight(t.contentHeight),this._updateWrappingColumn(t,e),this.privateViewEventBus.emit(s.EventType.ViewLayoutChanged,t)},t.prototype.emitLayoutChangedEvent=function(){this._emitLayoutChangedEvent()},t.prototype._computeScrollWidth=function(e,n){var o=this.configuration.getWrappingColumn(),r=0===o;return r?Math.max(e,n):Math.max(e+t.LINES_HORIZONTAL_EXTRA_PX,n)},t.prototype.onMaxLineWidthChanged=function(e){var t=this._computeScrollWidth(e,this.getCurrentViewport().width),n=this.scrollManager.getScrollWidth();this.scrollManager.setScrollWidth(t);var t=this.scrollManager.getScrollWidth();t!==n&&(this.privateViewEventBus.emit(s.EventType.ViewScrollWidthChanged,t),this._updateHeight())},t.prototype.saveState=function(){var e=this.scrollManager.getScrollTop(),t=this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e),n=this.linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(t);return{scrollTop:e,scrollTopWithoutViewZones:e-n,scrollLeft:this.scrollManager.getScrollLeft(),linesDomNodeWidth:this.scrollManager.getScrollWidth()}},t.prototype.restoreState=function(e){var t=e.scrollTop;"number"!=typeof e.scrollTopWithoutViewZones||this.linesLayout.hasWhitespace()||(t=e.scrollTopWithoutViewZones),this.scrollManager.setScrollTop(t),this.scrollManager.setScrollLeft(e.scrollLeft)},t.prototype.addWhitespace=function(e,t,n){return this.linesLayout.insertWhitespace(e,t,n)},t.prototype.changeWhitespace=function(e,t){return this.linesLayout.changeWhitespace(e,t)},t.prototype.changeAfterLineNumberForWhitespace=function(e,t){return this.linesLayout.changeAfterLineNumberForWhitespace(e,t)},t.prototype.removeWhitespace=function(e){return this.linesLayout.removeWhitespace(e)},t.prototype.getVerticalOffsetForLineNumber=function(e){return this.linesLayout.getVerticalOffsetForLineNumber(e)},t.prototype.heightInPxForLine=function(e){return this.linesLayout.getHeightForLineNumber(e)},t.prototype.isAfterLines=function(e){return this.linesLayout.isAfterLines(e)},t.prototype.getLineNumberAtVerticalOffset=function(e){return this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e)},t.prototype.getTotalHeight=function(){var e=0;return this.scrollManager.getScrollWidth()>this.scrollManager.getWidth()&&(e=this.scrollManager.getHorizontalScrollbarHeight()),this.linesLayout.getTotalHeight(this.getCurrentViewport(),e)},t.prototype.getWhitespaceAtVerticalOffset=function(e){return this.linesLayout.getWhitespaceAtVerticalOffset(e)},t.prototype.getLinesViewportData=function(){return this.linesLayout.getLinesViewportData(this.getCurrentViewport())},t.prototype.getWhitespaceViewportData=function(){return this.linesLayout.getWhitespaceViewportData(this.getCurrentViewport())},t.prototype.getWhitespaces=function(){return this.linesLayout.getWhitespaces()},t.prototype.getOverviewRulerInsertData=function(){var e=this.scrollManager.getOverviewRulerLayoutInfo();return{parent:e.parent,insertBefore:e.insertBefore}},t.prototype.getScrollbarContainerDomNode=function(){return this.scrollManager.getScrollbarContainerDomNode()},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollManager.delegateVerticalScrollbarMouseDown(e)},t.prototype.getScrollHeight=function(){return this.scrollManager.getScrollHeight()},t.prototype.getScrollWidth=function(){return this.scrollManager.getScrollWidth()},t.prototype.getScrollLeft=function(){return this.scrollManager.getScrollLeft()},t.prototype.setScrollLeft=function(e){this.scrollManager.setScrollLeft(e)},t.prototype.getScrollTop=function(){return this.scrollManager.getScrollTop()},t.prototype.setScrollTop=function(e){this.scrollManager.setScrollTop(e)},t.prototype.getScrolledTopFromAbsoluteTop=function(e){return this.scrollManager.getScrolledTopFromAbsoluteTop(e)},t.LINES_HORIZONTAL_EXTRA_PX=30,t}(r.ViewEventHandler);t.LayoutProvider=a}),define("vs/editor/browser/view/viewEventDispatcher",["require","exports","vs/base/common/eventEmitter"],function(e,t,n){var o=function(){function e(e){this.eventHandlerGateKeeper=e,this.eventHandlers=[],this.eventQueue=[],this.isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){for(var t=0,n=this.eventHandlers.length;n>t;t++)this.eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this.eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this.eventHandlers.length;t++)if(this.eventHandlers[t]===e){this.eventHandlers.splice(t,1);break}},e.prototype.emit=function(e,t){this.eventQueue.push(new n.EmitterEvent(e,t)),this.isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this.eventQueue=this.eventQueue.concat(e),this.isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this.eventHandlerGateKeeper(function(){try{e.isConsumingQueue=!0;for(var t,n,o,r;e.eventQueue.length>0;)for(r=e.eventQueue,e.eventQueue=[],o=e.eventHandlers.slice(0),t=0,n=o.length;n>t;t++)o[t].handleEvents(r)}finally{e.isConsumingQueue=!1}})},e}();t.ViewEventDispatcher=o}),define("vs/editor/browser/view/viewController",["require","exports","vs/editor/common/core/position","vs/editor/common/common"],function(e,t,n,o){var r=function(){function e(e,t,n){this.viewModel=e,this.configuration=t,this.outgoingEventBus=n}return e.prototype.paste=function(e,t,n){this.configuration.handlerDispatcher.trigger(e,o.Handler.Paste,{text:t,pasteOnNewLine:n})},e.prototype.type=function(e,t){this.configuration.handlerDispatcher.trigger(e,o.Handler.Type,{text:t})},e.prototype.replacePreviousChar=function(e,t){this.configuration.handlerDispatcher.trigger(e,o.Handler.ReplacePreviousChar,{text:t})},e.prototype.cut=function(e){this.configuration.handlerDispatcher.trigger(e,o.Handler.Cut,null)},e.prototype._validateViewColumn=function(e,t){var n=this.viewModel.getLineMinColumn(e);return n>t?n:t},e.prototype.moveTo=function(e,t,r){r=this._validateViewColumn(t,r),this.configuration.handlerDispatcher.trigger(e,o.Handler.MoveTo,{position:this.convertViewToModelPosition(t,r),viewPosition:new n.Position(t,r)})},e.prototype.moveToSelect=function(e,t,r){r=this._validateViewColumn(t,r),this.configuration.handlerDispatcher.trigger(e,o.Handler.MoveToSelect,{position:this.convertViewToModelPosition(t,r),viewPosition:new n.Position(t,r)})},e.prototype.createCursor=function(e,t,r,i){r=this._validateViewColumn(t,r),this.configuration.handlerDispatcher.trigger(e,o.Handler.CreateCursor,{position:this.convertViewToModelPosition(t,r),viewPosition:new n.Position(t,r),wholeLine:i})},e.prototype.lastCursorMoveToSelect=function(e,t,r){r=this._validateViewColumn(t,r),this.configuration.handlerDispatcher.trigger(e,o.Handler.LastCursorMoveToSelect,{position:this.convertViewToModelPosition(t,r),viewPosition:new n.Position(t,r)})},e.prototype.wordSelect=function(e,t,n,r){n=this._validateViewColumn(t,n),this.configuration.handlerDispatcher.trigger(e,o.Handler.WordSelect,{position:this.convertViewToModelPosition(t,n),preference:r})},e.prototype.wordSelectDrag=function(e,t,n,r){n=this._validateViewColumn(t,n),this.configuration.handlerDispatcher.trigger(e,o.Handler.WordSelectDrag,{position:this.convertViewToModelPosition(t,n),preference:r})},e.prototype.lastCursorWordSelect=function(e,t,n,r){n=this._validateViewColumn(t,n),this.configuration.handlerDispatcher.trigger(e,o.Handler.LastCursorWordSelect,{position:this.convertViewToModelPosition(t,n),preference:r})},e.prototype.lineSelect=function(e,t,r){r=this._validateViewColumn(t,r),this.configuration.handlerDispatcher.trigger(e,o.Handler.LineSelect,{position:this.convertViewToModelPosition(t,r),viewPosition:new n.Position(t,r)})
},e.prototype.lineSelectDrag=function(e,t,r){r=this._validateViewColumn(t,r),this.configuration.handlerDispatcher.trigger(e,o.Handler.LineSelectDrag,{position:this.convertViewToModelPosition(t,r),viewPosition:new n.Position(t,r)})},e.prototype.lastCursorLineSelect=function(e,t,r){r=this._validateViewColumn(t,r),this.configuration.handlerDispatcher.trigger(e,o.Handler.LastCursorLineSelect,{position:this.convertViewToModelPosition(t,r),viewPosition:new n.Position(t,r)})},e.prototype.lastCursorLineSelectDrag=function(e,t,r){r=this._validateViewColumn(t,r),this.configuration.handlerDispatcher.trigger(e,o.Handler.LastCursorLineSelectDrag,{position:this.convertViewToModelPosition(t,r),viewPosition:new n.Position(t,r)})},e.prototype.selectAll=function(e){this.configuration.handlerDispatcher.trigger(e,o.Handler.SelectAll,null)},e.prototype.convertViewToModelPosition=function(e,t){return this.viewModel.convertViewPositionToModelPosition(e,t)},e.prototype.convertViewToModelRange=function(e){return this.viewModel.convertViewRangeToModelRange(e)},e.prototype.convertViewToModelMouseEvent=function(e){e.target&&(e.target.position&&(e.target.position=this.convertViewToModelPosition(e.target.position.lineNumber,e.target.position.column)),e.target.range&&(e.target.range=this.convertViewToModelRange(e.target.range)))},e.prototype.emitKeyDown=function(e){this.outgoingEventBus.emit(o.EventType.KeyDown,e)},e.prototype.emitKeyUp=function(e){this.outgoingEventBus.emit(o.EventType.KeyUp,e)},e.prototype.emitContextMenu=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(o.EventType.ContextMenu,e)},e.prototype.emitMouseMove=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(o.EventType.MouseMove,e)},e.prototype.emitMouseLeave=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(o.EventType.MouseLeave,e)},e.prototype.emitMouseUp=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(o.EventType.MouseUp,e)},e.prototype.emitMouseDown=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(o.EventType.MouseDown,e)},e}();t.ViewController=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/view/viewPart",["require","exports","vs/editor/browser/view/viewEventHandler"],function(e,t,n){var o=function(e){function t(t){e.call(this),this._context=t,this._context.addEventHandler(this),this._modificationBeforeRenderingRunners=[],this._modificationRunners=[]}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._modificationBeforeRenderingRunners=[],this._modificationRunners=[]},t.prototype._requestModificationFrameBeforeRendering=function(e){this._modificationBeforeRenderingRunners.push(e)},t.prototype._requestModificationFrame=function(e){this._modificationRunners.push(e)},t.prototype.onBeforeForcedLayout=function(){if(this._modificationBeforeRenderingRunners.length>0){for(var e=0;e<this._modificationBeforeRenderingRunners.length;e++)this._modificationBeforeRenderingRunners[e]();this._modificationBeforeRenderingRunners=[]}},t.prototype.onReadAfterForcedLayout=function(e){this.shouldRender&&this._render(e)},t.prototype.onWriteAfterForcedLayout=function(){this.shouldRender&&(this.shouldRender=!1,this._executeModificationRunners())},t.prototype._executeModificationRunners=function(){if(this._modificationRunners.length>0){for(var e=0;e<this._modificationRunners.length;e++)this._modificationRunners[e]();this._modificationRunners=[]}},t.prototype._render=function(){throw new Error("Implement me!")},t}(n.ViewEventHandler);t.ViewPart=o});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/view/viewLayer",["require","exports","vs/base/browser/dom","vs/editor/browser/view/viewPart"],function(e,t,n,o){var r=function(e){function t(t){var n=this;e.call(this,t),this._scrollDomNode=null,this._scrollDomNodeIsAbove=!1,this.domNode=this._createDomNode(),this._lines=[],this._rendLineNumberStart=1,this._renderer=new i(function(){return n._createLine()},function(){return n._extraDomNodeHTML()})}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._lines=null},t.prototype._extraDomNodeHTML=function(){return""},t.prototype.onConfigurationChanged=function(e){for(var t=0;t<this._lines.length;t++)this._lines[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return this._lines=[],this._rendLineNumberStart=1,n.clearNode(this.domNode),!0},t.prototype.onModelLinesDeleted=function(e){var t,n=Math.max(e.fromLineNumber-this._rendLineNumberStart,0),o=Math.min(e.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(e.fromLineNumber<this._rendLineNumberStart&&(e.toLineNumber<this._rendLineNumberStart?this._rendLineNumberStart-=e.toLineNumber-e.fromLineNumber+1:this._rendLineNumberStart=e.fromLineNumber),o>=n){for(t=n;o>=t;t++){var r=this._lines[t].getDomNode();r&&this.domNode.removeChild(r)}this._lines.splice(n,o-n+1)}for(t=n;t<this._lines.length;t++)this._lines[t].onLinesDeletedAbove();return!0},t.prototype.onModelLineChanged=function(e){var t=e.lineNumber-this._rendLineNumberStart,n=!1;t>=0&&t<this._lines.length&&(this._lines[t].onContentChanged(),n=!0);for(var o=Math.max(t,0);o<this._lines.length;o++)this._lines[o].onLineChangedAbove(),n=!0;return n},t.prototype.onModelLinesInserted=function(e){var t;if(e.fromLineNumber<=this._rendLineNumberStart){for(this._rendLineNumberStart+=e.toLineNumber-e.fromLineNumber+1,t=0;t<this._lines.length;t++)this._lines[t].onLinesInsertedAbove();return!0}if(e.fromLineNumber>=this._rendLineNumberStart+this._lines.length)return!1;var n=Math.min(e.fromLineNumber-this._rendLineNumberStart,this._lines.length-1),o=Math.min(e.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(o>=n){for(t=n;o>=t;t++){var r=this._createLine();this._lines.splice(t,0,r)}var i=o-n+1;for(t=0;i>t;t++){var s=this._lines.pop(),a=s.getDomNode();a&&this.domNode.removeChild(a)}}for(t=o;t<this._lines.length;t++)this._lines[t].onLinesInsertedAbove();return!0},t.prototype.onModelTokensChanged=function(e){var t=e.fromLineNumber-this._rendLineNumberStart,n=e.toLineNumber-this._rendLineNumberStart;if(0>n||t>=this._lines.length)return!1;for(var o=Math.min(Math.max(t,0),this._lines.length-1),r=Math.min(Math.max(n,0),this._lines.length-1),i=!1,s=o;r>=s;s++)i=!0,this._lines[s].onTokensChanged();return i},t.prototype._renderLines=function(e){var t={domNode:this.domNode,rendLineNumberStart:this._rendLineNumberStart,lines:this._lines,linesLength:this._lines.length,getInlineDecorationsForLineInViewport:function(t){return e.getInlineDecorationsForLineInViewport(t)},viewportTop:e.viewportTop,viewportHeight:e.viewportHeight,scrollDomNode:this._scrollDomNode,scrollDomNodeIsAbove:this._scrollDomNodeIsAbove},n=this._renderer.renderWithManyUpdates(t,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._rendLineNumberStart=n.rendLineNumberStart,this._lines=n.lines,this._scrollDomNode=n.scrollDomNode,this._scrollDomNodeIsAbove=n.scrollDomNodeIsAbove},t.prototype._createDomNode=function(){var e=document.createElement("div");return e.className="view-layer",e.style.position="absolute",e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),e},t.prototype._createLine=function(){throw new Error("Implement me!")},t}(o.ViewPart);t.ViewLayer=r;var i=function(){function e(e,t){this._createLine=e,this._extraDomNodeHTML=t}return e.prototype.renderWithManyUpdates=function(e,t,n,o){return this._render(e,t,n,o)},e.prototype._render=function(e,t,n,o){var r={domNode:e.domNode,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength,getInlineDecorationsForLineInViewport:e.getInlineDecorationsForLineInViewport,viewportTop:e.viewportTop,viewportHeight:e.viewportHeight,scrollDomNode:e.scrollDomNode,scrollDomNodeIsAbove:e.scrollDomNodeIsAbove},i=!0;if(r.scrollDomNode){var s=this._getScrollDomNodeTime(r.scrollDomNode);(new Date).getTime()-s<1e3&&(i=!1)}if(i&&(r.rendLineNumberStart+r.linesLength-1<t||n<r.rendLineNumberStart)){r.rendLineNumberStart=t,r.linesLength=n-t+1,r.lines=[];for(var a=t;n>=a;a++)r.lines[a-t]=this._createLine();return this._finishRendering(r,!0,o),r.scrollDomNode=null,r}this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(n-r.rendLineNumberStart,r.linesLength-1),o,t);var u,c,l;return r.rendLineNumberStart>t?(u=t,c=Math.min(n,r.rendLineNumberStart-1),c>=u&&(this._insertLinesBefore(r,u,c,o,t),r.linesLength+=c-u+1,r.scrollDomNode&&r.scrollDomNodeIsAbove&&(r.scrollDomNode.parentNode&&r.scrollDomNode.parentNode.removeChild(r.scrollDomNode),r.scrollDomNode=null))):r.rendLineNumberStart<t&&(l=Math.min(r.linesLength,t-r.rendLineNumberStart),l>0&&(this._removeLinesBefore(r,l),r.linesLength-=l)),r.rendLineNumberStart=t,r.rendLineNumberStart+r.linesLength-1<n?(u=r.rendLineNumberStart+r.linesLength,c=n,c>=u&&(this._insertLinesAfter(r,u,c,o,t),r.linesLength+=c-u+1,r.scrollDomNode&&!r.scrollDomNodeIsAbove&&(r.scrollDomNode.parentNode&&r.scrollDomNode.parentNode.removeChild(r.scrollDomNode),r.scrollDomNode=null))):r.rendLineNumberStart+r.linesLength-1>n&&(u=Math.max(0,n-r.rendLineNumberStart+1),c=r.linesLength-1,l=c-u+1,l>0&&(this._removeLinesAfter(r,l),r.linesLength-=l)),this._finishRendering(r,!1,o),r},e.prototype._renderUntouchedLines=function(e,t,n,o,r){var i,s;for(i=t;n>=i;i++){s=e.rendLineNumberStart+i;var a=e.lines[i].getDomNode();a&&e.lines[i].layoutLine(s,o[s-r])}},e.prototype._insertLinesBefore=function(e,t,n){var o,r,i=[];for(r=t;n>=r;r++)o=this._createLine(),i.push(o);e.lines=i.concat(e.lines)},e.prototype._getScrollDomNodeTime=function(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0},e.prototype._removeIfNotScrollDomNode=function(e,t,n){var o=this._getScrollDomNodeTime(t);if(!o)return e.domNode.removeChild(t),void 0;if(e.scrollDomNode){var r=this._getScrollDomNodeTime(e.scrollDomNode);if(r>o)return e.domNode.removeChild(t),void 0;e.scrollDomNode.parentNode&&e.scrollDomNode.parentNode.removeChild(e.scrollDomNode),e.scrollDomNode=null}e.scrollDomNode=t,e.scrollDomNodeIsAbove=n},e.prototype._removeLinesBefore=function(e,t){var n;for(n=0;t>n;n++){var o=e.lines[n].getDomNode();o&&this._removeIfNotScrollDomNode(e,o,!0)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,n){var o,r,i=[];for(r=t;n>=r;r++)o=this._createLine(),i.push(o);e.lines=e.lines.concat(i)},e.prototype._removeLinesAfter=function(e,t){var n,o=e.linesLength-t;for(n=0;t>n;n++){var r=e.lines[o+n].getDomNode();r&&this._removeIfNotScrollDomNode(e,r,!1)}e.lines.splice(o,t)},e.prototype._finishRendering=function(e,t,n){var o,r,i,s,a=!1,u=[],c=[],l=!1,d=[],h=[];for(o=0,r=e.linesLength;r>o;o++)if(i=e.lines[o],s=o+e.rendLineNumberStart,i.shouldUpdateHTML(s,e.getInlineDecorationsForLineInViewport(s))){var p=i.getDomNode();p?(i.getLineOuterHTML(h,s,n[o]),d[o]=!0,l=!0):(i.getLineOuterHTML(c,s,n[o]),u[o]=!0,a=!0)}if(a){var f=e.domNode.lastChild;t||!f?e.domNode.innerHTML=this._extraDomNodeHTML()+c.join(""):f.insertAdjacentHTML("afterend",c.join(""));var m=e.domNode.lastChild;for(o=e.linesLength-1;o>=0;o--)i=e.lines[o],u[o]&&(i.setDomNode(m),m=m.previousSibling)}if(l){var g=document.createElement("div");g.innerHTML=h.join("");var p,v;for(o=0;o<e.linesLength;o++)i=e.lines[o],d[o]&&(v=g.firstChild,p=i.getDomNode(),p.parentNode.replaceChild(v,p),i.setDomNode(v))}},e}()});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/view/viewOverlays",["require","exports","vs/base/browser/browser","vs/base/browser/dom","vs/editor/browser/view/viewLayer","vs/editor/browser/editorBrowser"],function(e,t,n,o,r,i){var s=function(e){function t(t,n){e.call(this,t),this._layoutProvider=n,this._dynamicOverlays=[],this.domNode.className="view-overlays"}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._layoutProvider=null;for(var t=0;t<this._dynamicOverlays.length;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=null},t.prototype.getDomNode=function(){return this.domNode},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onViewFocusChanged=function(e){var t=this;return this._requestModificationFrame(function(){o.toggleClass(t.domNode,"focused",e)}),!1},t.prototype._createLine=function(){var e=new a(this._context,this._dynamicOverlays);return e},t.prototype.onReadAfterForcedLayout=function(e){for(var t=this,n=0;n<this._dynamicOverlays.length;n++)this._dynamicOverlays[n].shouldCallRender2(e);return this._requestModificationFrame(function(){t._viewOverlaysRender(e)}),null},t.prototype._viewOverlaysRender=function(t){e.prototype._renderLines.call(this,t.linesViewportData)},t.prototype.onWriteAfterForcedLayout=function(){this._executeModificationRunners()},t}(r.ViewLayer);t.ViewOverlays=s;var a=function(){function e(e,t){this._context=e,this._dynamicOverlays=t,this._domNode=null,this._renderPieces=null}return e.prototype.getDomNode=function(){return this._domNode},e.prototype.setDomNode=function(e){this._domNode=e},e.prototype.onContentChanged=function(){},e.prototype.onLinesInsertedAbove=function(){},e.prototype.onLinesDeletedAbove=function(){},e.prototype.onLineChangedAbove=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(){},e.prototype._piecesEqual=function(e){if(!this._renderPieces||this._renderPieces.length!==e.length)return!1;for(var t=0,n=e.length;n>t;t++)if(this._renderPieces[t]!==e[t])return!1;return!0},e.prototype.shouldUpdateHTML=function(e){for(var t=[],n=0;n<this._dynamicOverlays.length;n++){var o=this._dynamicOverlays[n].render2(e);o&&o.length>0&&(t=t.concat(o))}var r=this._piecesEqual(t);return r||(this._renderPieces=t),!r},e.prototype.getLineOuterHTML=function(e,t,n){e.push('<div lineNumber="'),e.push(t.toString()),e.push('" style="top:'),e.push(n.toString()),e.push("px;height:"),e.push(this._context.configuration.editor.lineHeight.toString()),e.push('px;" class="'),e.push(i.ClassNames.VIEW_LINE),e.push('">'),e.push(this.getLineInnerHTML(t)),e.push("</div>")},e.prototype.getLineInnerHTML=function(){return this._renderPieces.join("")},e.prototype.layoutLine=function(e,t){var n=this._domNode.getAttribute("lineNumber");n!==e.toString()&&this._domNode.setAttribute("lineNumber",e.toString()),o.StyleMutator.setTop(this._domNode,t),o.StyleMutator.setHeight(this._domNode,this._context.configuration.editor.lineHeight)},e}(),u=function(e){function t(t,n){e.call(this,t,n),o.StyleMutator.setWidth(this.domNode,0),o.StyleMutator.setHeight(this.domNode,0)}return __extends(t,e),t.prototype.onScrollWidthChanged=function(){return!0},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),o.StyleMutator.setWidth(this.domNode,this._layoutProvider.getScrollWidth())},t}(s);t.ContentViewOverlays=u;var c=function(e){function t(t,n){e.call(this,t,n),this._hasVerticalScroll=!1,this._glyphMarginLeft=0,this._glyphMarginWidth=0,this._scrollHeight=n.getScrollHeight(),this.domNode.className="margin-view-overlays monaco-editor-background",o.StyleMutator.setWidth(this.domNode,1),this._updateDomNodeHeight(),this._hasVerticalScroll=!0}return __extends(t,e),t.prototype._extraDomNodeHTML=function(){return['<div class="',i.ClassNames.GLYPH_MARGIN,'" style="left:',String(this._glyphMarginLeft),"px;width:",String(this._glyphMarginWidth),"px;height:",String(this._scrollHeight),'px;"></div>'].join("")},t.prototype._getGlyphMarginDomNode=function(){return this.domNode.children[0]},t.prototype.onScrollHeightChanged=function(t){var n=this;return this._scrollHeight=t,this._requestModificationFrame(function(){var e=n._getGlyphMarginDomNode();e&&o.StyleMutator.setHeight(e,n._scrollHeight)}),e.prototype.onScrollHeightChanged.call(this,t)||!0},t.prototype.onLayoutChanged=function(t){var n=this;return this._glyphMarginLeft=t.glyphMarginLeft,this._glyphMarginWidth=t.glyphMarginWidth,this._scrollHeight=this._layoutProvider.getScrollHeight(),this._requestModificationFrame(function(){o.StyleMutator.setWidth(n.domNode,t.contentLeft),n._updateDomNodeHeight();var e=n._getGlyphMarginDomNode();e&&(o.StyleMutator.setLeft(e,t.glyphMarginLeft),o.StyleMutator.setWidth(e,t.glyphMarginWidth))}),e.prototype.onLayoutChanged.call(this,t)||!0},t.prototype.onScrollChanged=function(t){return this._hasVerticalScroll=this._hasVerticalScroll||t.vertical,e.prototype.onScrollChanged.call(this,t)},t.prototype._viewOverlaysRender=function(t){if(e.prototype._viewOverlaysRender.call(this,t),this._hasVerticalScroll){if(n.canUseTranslate3d){var r="translate3d(0px, "+t.linesViewportData.visibleRangesDeltaTop+"px, 0px)";o.StyleMutator.setTransform(this.domNode,r)}else this._hasVerticalScroll&&o.StyleMutator.setTop(this.domNode,t.linesViewportData.visibleRangesDeltaTop);this._hasVerticalScroll=!1}},t.prototype._updateDomNodeHeight=function(){var e=Math.min(this._layoutProvider.getTotalHeight(),1e6);o.StyleMutator.setHeight(this.domNode,e)},t}(s);t.MarginViewOverlays=c});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/viewZones/viewZones",["require","exports","vs/base/common/errors","vs/base/browser/dom","vs/editor/browser/view/viewPart","vs/editor/browser/editorBrowser"],function(e,t,n,o,r,i){var s=function(e){function t(t,n){e.call(this,t),this._whitespaceManager=n,this.domNode=document.createElement("div"),this.domNode.className=i.ClassNames.VIEW_ZONES,this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._zones={}}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._whitespaceManager=null,this._zones={}},t.prototype.onConfigurationChanged=function(e){var t=this;if(e.lineHeight){var n,r,i,s={};for(n in this._zones)this._zones.hasOwnProperty(n)&&(r=this._zones[n],i=this._heightInPixels(r.delegate),this._safeCallOnComputedHeight(r.delegate,i),s[n]=i,this._whitespaceManager.changeWhitespace(parseInt(n,10),i));return this._requestModificationFrame(function(){for(n in t._zones)t._zones.hasOwnProperty(n)&&s.hasOwnProperty(n)&&o.StyleMutator.setHeight(t._zones[n].delegate.domNode,s[n])}),!0}return!1},t.prototype.onLineMappingChanged=function(){var e,t,n=!1;for(t in this._zones)if(this._zones.hasOwnProperty(t)){e=this._zones[t];var o=this._computeWhitespaceAfterLineNumber(e.delegate);n=this._whitespaceManager.changeAfterLineNumberForWhitespace(parseInt(t,10),o)||n}return n},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype._getZoneOrdinal=function(e){return"undefined"!=typeof e.afterColumn?e.afterColumn:1e4},t.prototype._computeWhitespaceAfterLineNumber=function(e){if(0===e.afterLineNumber)return 0;var t;if("undefined"!=typeof e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t={lineNumber:n,column:this._context.model.getModelLineMaxColumn(n)}}var o=this._context.model.convertModelPositionToViewPosition(t.lineNumber,t.column);return o.lineNumber},t.prototype.addZone=function(e){var t=this._heightInPixels(e),n=this._whitespaceManager.addWhitespace(this._computeWhitespaceAfterLineNumber(e),this._getZoneOrdinal(e),t),r={whitespaceId:n,delegate:e,isVisible:!1};return this._safeCallOnComputedHeight(r.delegate,t),this._requestModificationFrame(function(){r.delegate.domNode.hasAttribute("monaco-view-zone")&&(r.delegate.domNode.style.position="absolute",o.StyleMutator.setHeight(r.delegate.domNode,t),r.delegate.domNode.style.width="100%",o.StyleMutator.setDisplay(r.delegate.domNode,"none"))}),this._zones[r.whitespaceId.toString()]=r,r.delegate.domNode.setAttribute("monaco-view-zone",r.whitespaceId.toString()),this.domNode.appendChild(r.delegate.domNode),r.whitespaceId},t.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return delete this._zones[e.toString()],this._whitespaceManager.removeWhitespace(t.whitespaceId),t.delegate.domNode.removeAttribute("monaco-visible-view-zone"),t.delegate.domNode.removeAttribute("monaco-view-zone"),this._requestModificationFrame(function(){t.delegate.domNode.hasAttribute("monaco-view-zone")||t.delegate.domNode.parentNode&&t.delegate.domNode.parentNode.removeChild(t.delegate.domNode)}),!0}return!1},t.prototype.layoutZone=function(e){var t=!1;if(this._zones.hasOwnProperty(e.toString())){{var n=this._zones[e.toString()],o=this._heightInPixels(n.delegate),r=this._computeWhitespaceAfterLineNumber(n.delegate);this._getZoneOrdinal(n.delegate)}t=this._whitespaceManager.changeWhitespace(n.whitespaceId,o)||t,t=this._whitespaceManager.changeAfterLineNumberForWhitespace(n.whitespaceId,r)||t}return t},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return t.delegate.suppressMouseDown}return!1},t.prototype._heightInPixels=function(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._context.configuration.editor.lineHeight*e.heightInLines:this._context.configuration.editor.lineHeight},t.prototype._safeCallOnComputedHeight=function(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(o){n.onUnexpectedError(o)}},t.prototype._safeCallOnDomNodeTop=function(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(o){n.onUnexpectedError(o)}},t.prototype._render=function(e){var t=this,n=this._whitespaceManager.getWhitespaceViewportData();this._requestModificationFrame(function(){var r,i,s={},a=!1;for(r=0,i=n.length;i>r;r++)s[n[r].id.toString()]=n[r],a=!0;var u,c;for(u in t._zones)t._zones.hasOwnProperty(u)&&(c=t._zones[u],s.hasOwnProperty(u)?(o.StyleMutator.setTop(c.delegate.domNode,s[u].verticalOffset-e.bigNumbersDelta),o.StyleMutator.setHeight(c.delegate.domNode,s[u].height),c.isVisible||(o.StyleMutator.setDisplay(c.delegate.domNode,"block"),c.delegate.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),t._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(s[u].verticalOffset))):(c.isVisible&&(o.StyleMutator.setDisplay(c.delegate.domNode,"none"),c.delegate.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),t._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))));a&&o.StyleMutator.setWidth(t.domNode,e.scrollWidth)})},t}(r.ViewPart);t.ViewZones=s});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/lines/viewLines",["require","exports","vs/base/browser/browser","vs/base/browser/dom","vs/base/common/async","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/view/viewLayer","vs/editor/browser/editorBrowser","vs/editor/common/common","vs/editor/common/core/range"],function(e,t,n,o,r,i,s,a,u,c){var l=function(e){function t(t,n){var o=this;e.call(this,t),this._hasVerticalScroll=!1,this._hasHorizontalScroll=!1,this._layoutProvider=n,this.domNode.className=a.ClassNames.VIEW_LINES,this._maxLineWidth=0,this._asyncUpdateLineWidths=new r.RunOnceScheduler(function(){o._updateLineWidths()},200),this._currentVisibleRange=c.Range.create(1,1,1,1),this._bigNumbersDelta=0,this._lastCursorRevealRangeHorizontallyEvent=null,this.textRangeRestingSpot=document.createElement("div"),this.textRangeRestingSpot.className="textRangeRestingSpot",this._hasVerticalScroll=!0,this._hasHorizontalScroll=!0}return __extends(t,e),t.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),this._layoutProvider=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(t){var n=e.prototype.onConfigurationChanged.call(this,t);return t.wrappingColumn&&(this._maxLineWidth=0),n},t.prototype.onLayoutChanged=function(t){var n=e.prototype.onLayoutChanged.call(this,t);return this._maxLineWidth=0,n},t.prototype.onModelFlushed=function(){var t=e.prototype.onModelFlushed.call(this);return this._maxLineWidth=0,t},t.prototype.onScrollWidthChanged=function(e){return o.StyleMutator.setWidth(this.domNode,e),!1},t.prototype.onModelDecorationsChanged=function(t){for(var n=e.prototype.onModelDecorationsChanged.call(this,t),o=0;o<this._lines.length;o++)this._lines[o].onModelDecorationsChanged();return n||!0},t.prototype.onCursorRevealRange=function(e){var t=this._computeScrollTopToRevealRange(this._layoutProvider.getCurrentViewport(),e.range,e.verticalType);return e.revealHorizontal&&(this._lastCursorRevealRangeHorizontallyEvent=e),this._layoutProvider.setScrollTop(t),!0},t.prototype.onScrollChanged=function(t){return this._hasVerticalScroll=this._hasVerticalScroll||t.vertical,this._hasHorizontalScroll=this._hasHorizontalScroll||t.horizontal,e.prototype.onScrollChanged.call(this,t)},t.prototype.getPositionFromDOMInfo=function(e,t){var n=this._getLineNumberFromDOMInfo(e);if(-1===n)return null;if(1>n||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return{lineNumber:n,column:1};var o=n-this._rendLineNumberStart;if(0>o||o>=this._lines.length)return null;var r=this._lines[o].getColumnOfNodeOffset(n,e,t),i=this._context.model.getLineMinColumn(n);return i>r&&(r=i),{lineNumber:n,column:r}},t.prototype._getLineNumberFromDOMInfo=function(e){for(;e&&1===e.nodeType;){if(e.className===a.ClassNames.VIEW_LINE)return parseInt(e.getAttribute("lineNumber"),10);e=e.parentElement}return-1},t.prototype.getLineWidth=function(e){var t=e-this._rendLineNumberStart;return 0>t||t>=this._lines.length?-1:this._lines[t].getWidth()},t.prototype.linesVisibleRangesForRange=function(e,n){if(this.shouldRender)return null;var o=e.endLineNumber;if(e=c.Range.intersectRanges(e,this._currentVisibleRange),!e)return null;var r,i,s,a,u,l,d,h=[],p=this.domNode.getBoundingClientRect(),f=p.top,m=p.left;for(n&&(d=this._context.model.convertViewPositionToModelPosition(e.startLineNumber,1).lineNumber),i=e.startLineNumber;i<=e.endLineNumber;i++)s=i-this._rendLineNumberStart,0>s||s>=this._lines.length||(a=i===e.startLineNumber?e.startColumn:1,u=i===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(i),r=this._lines[s].getVisibleRangesForRange(i,a,u,f,0,m,this.textRangeRestingSpot),r&&r.length>0&&(n&&o>i&&(l=d,d=this._context.model.convertViewPositionToModelPosition(i+1,1).lineNumber,l!==d&&(r[r.length-1].width+=t.LINE_FEED_WIDTH)),h.push({lineNumber:i,ranges:r})));return 0===h.length?null:h},t.prototype.visibleRangesForRange2=function(e,n,o,r){if(this.shouldRender)return null;var i=e.endLineNumber;if(e=c.Range.intersectRanges(e,this._currentVisibleRange),!e)return null;var s,a,u,l,d,h,p,f,m=[],g=this._context.configuration.editor.lineHeight,v=this.domNode.getBoundingClientRect(),_=v.top,y=v.left;for(r&&(f=this._context.model.convertViewPositionToModelPosition(e.startLineNumber,1).lineNumber),a=e.startLineNumber;a<=e.endLineNumber;a++)if(l=a-this._rendLineNumberStart,!(0>l||l>=this._lines.length)&&(d=a===e.startLineNumber?e.startColumn:1,h=a===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(a),s=this._lines[l].getVisibleRangesForRange(a,d,h,_,o,y,this.textRangeRestingSpot),s&&s.length>0)){u=this._layoutProvider.getVerticalOffsetForLineNumber(a)-this._bigNumbersDelta+n;for(var b=0,C=s.length;C>b;b++)s[b].top=u,s[b].height=g;r&&i>a&&(p=f,f=this._context.model.convertViewPositionToModelPosition(a+1,1).lineNumber,p!==f&&(s[s.length-1].width+=t.LINE_FEED_WIDTH)),m=m.concat(s)}return 0===m.length?null:m},t.prototype._createLine=function(){return i.createLine(this._context)},t.prototype._renderAndUpdateLineHeights=function(t){if(e.prototype._renderLines.call(this,t),this._currentVisibleRange=c.Range.create(0+this._rendLineNumberStart,1,this._lines.length-1+this._rendLineNumberStart,this._context.model.getLineMaxColumn(this._lines.length-1+this._rendLineNumberStart)),this._lastCursorRevealRangeHorizontallyEvent){var n=this._computeScrollLeftToRevealRange(this._lastCursorRevealRangeHorizontallyEvent.range);this._lastCursorRevealRangeHorizontallyEvent=null;var o=this._context.configuration.getWrappingColumn(),r=0===o;r||this._ensureMaxLineWidth(n.maxHorizontalOffset),this._layoutProvider.setScrollLeft(n.scrollLeft)}},t.prototype._updateLineWidths=function(){var e,t,n=1;for(e=0;e<this._lines.length;e++)t=this._lines[e].getWidth(),n=Math.max(n,t);this._ensureMaxLineWidth(n)},t.prototype.render=function(){var e=this._layoutProvider.getLinesViewportData();if(this._bigNumbersDelta=e.bigNumbersDelta,this.shouldRender&&(this.shouldRender=!1,this._renderAndUpdateLineHeights(e),this._asyncUpdateLineWidths.schedule()),this._hasVerticalScroll||this._hasHorizontalScroll){if(n.canUseTranslate3d){var t="translate3d("+-this._layoutProvider.getScrollLeft()+"px, "+e.visibleRangesDeltaTop+"px, 0px)";o.StyleMutator.setTransform(this.domNode.parentNode,t)}else this._hasVerticalScroll&&o.StyleMutator.setTop(this.domNode.parentNode,e.visibleRangesDeltaTop),this._hasHorizontalScroll&&o.StyleMutator.setLeft(this.domNode.parentNode,-this._layoutProvider.getScrollLeft());this._hasVerticalScroll=!1,this._hasHorizontalScroll=!1}return o.StyleMutator.setWidth(this.domNode,this._layoutProvider.getScrollWidth()),o.StyleMutator.setHeight(this.domNode,Math.min(this._layoutProvider.getTotalHeight(),1e6)),e.visibleRange=this._currentVisibleRange,e},t.prototype._ensureMaxLineWidth=function(e){this._maxLineWidth<e&&(this._maxLineWidth=e,this._layoutProvider.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,n){var o,r,i=e.top,s=e.height,a=i+s;o=this._layoutProvider.getVerticalOffsetForLineNumber(t.startLineNumber),r=this._layoutProvider.getVerticalOffsetForLineNumber(t.endLineNumber)+this._layoutProvider.heightInPxForLine(t.endLineNumber),n===u.VerticalRevealType.Simple&&(r+=this._context.configuration.editor.lineHeight);var c;if(n===u.VerticalRevealType.Center||n===u.VerticalRevealType.CenterIfOutsideViewport)if(n===u.VerticalRevealType.CenterIfOutsideViewport&&o>=i&&a>=r)c=i;else{var l=(o+r)/2;c=Math.max(0,l-s/2)}else c=this._computeMinimumScrolling(i,a,o,r);return c},t.prototype._computeScrollLeftToRevealRange=function(e){var n=0;if(e.startLineNumber!==e.endLineNumber)return{scrollLeft:0,maxHorizontalOffset:n};var o=this._layoutProvider.getCurrentViewport(),r=o.left,i=r+o.width,s=this.visibleRangesForRange2(e,0,0,!1),a=Number.MAX_VALUE,u=0;if(!s)return{scrollLeft:r,maxHorizontalOffset:n};var c,l;for(c=0;c<s.length;c++)l=s[c],l.left<a&&(a=l.left),l.left+l.width>u&&(u=l.left+l.width);n=u,a=Math.max(0,a-t.HORIZONTAL_EXTRA_PX),u+=this._context.configuration.editor.revealHorizontalRightPadding;var d=this._computeMinimumScrolling(r,i,a,u);return{scrollLeft:d,maxHorizontalOffset:n}},t.prototype._computeMinimumScrolling=function(e,t,n,o){var r=t-e,i=o-n;return r>i?e>n?n:o>t?Math.max(0,o-r):e:n},t.LINE_FEED_WIDTH=10,t.HORIZONTAL_EXTRA_PX=30,t}(s.ViewLayer);t.ViewLines=l}),define("vs/editor/browser/viewParts/overviewRuler/overviewRulerImpl",["require","exports","vs/base/browser/browser","vs/base/browser/dom","vs/editor/common/common"],function(e,t,n,o,r){function i(e,t){return e.startLineNumber===t.startLineNumber&&e.endLineNumber===t.endLineNumber&&e.forceHeight===t.forceHeight&&e.color===t.color&&e.position===t.position
}function s(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,o=e.length;o>n;n++)if(!i(e[n],t[n]))return!1;return!0}var a=function(){function e(e,t,o,r,i,s,a){this._canvasLeftOffset=e,this._minimumHeight=i,this._maximumHeight=s,this._getVerticalOffsetForLine=a,this._zones=[],this._renderedZones=[],this._domNode=document.createElement("canvas"),this._domNode.className=t,this._domNode.style.position="absolute",n.canUseTranslate3d&&(this._domNode.style.transform="translate3d(0px, 0px, 0px)"),this._width=0,this._height=0,this._outerHeight=o,this._lineHeight=r,this._lanesCount=3}return e.prototype.dispose=function(){this._zones=[]},e.prototype.setLayout=function(e,t){o.StyleMutator.setTop(this._domNode,e.top),o.StyleMutator.setRight(this._domNode,e.right),(this._width!==e.width||this._height!==e.height)&&(this._width=e.width,this._height=e.height,this._domNode.width=this._width,this._domNode.height=this._height,t&&this.render(!0))},e.prototype.getLanesCount=function(){return this._lanesCount},e.prototype.setLanesCount=function(e,t){this._lanesCount=e,t&&this.render(!0)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.setScrollHeight=function(e,t){this._outerHeight=e,t&&this.render(!0)},e.prototype.setLineHeight=function(e,t){this._lineHeight=e,t&&this.render(!0)},e.prototype.setZones=function(e,t){this._zones=e,t&&this.render(!1)},e.prototype._insertZone=function(e,t,n,o,r,i){var s=Math.floor((t+n)/2),a=n-s;a>r/2&&(a=r/2),o/2>a&&(a=o/2),0>s-a&&(s=a),s+a>this._height&&(s=this._height-a),e[i]=e[i]||[],e[i].push({from:s-a,to:s+a})},e.prototype._renderVerticalPatch=function(e,t,n,o,r){var i,s,a,u,c,l,d,h={};for(i=0,s=this._zones.length;s>i;i++)if(a=this._zones[i],a.position&n)if(u=this._getVerticalOffsetForLine(a.startLineNumber),c=this._getVerticalOffsetForLine(a.endLineNumber)+this._lineHeight,u*=t,c*=t,a.forceHeight)c=u+a.forceHeight,this._insertZone(h,u,c,a.forceHeight,a.forceHeight,a.color);else if(l=a.endLineNumber-a.startLineNumber+1,d=l*this._maximumHeight,c-u>d)for(var p=a.startLineNumber;p<=a.endLineNumber;p++)u=this._getVerticalOffsetForLine(p),c=u+this._lineHeight,u*=t,c*=t,this._insertZone(h,u,c,this._minimumHeight,this._maximumHeight,a.color);else this._insertZone(h,u,c,this._minimumHeight,d,a.color);var f,m,g,v,_=function(e,t){return e.from-t.from};for(f in h)if(h.hasOwnProperty(f)){for(m=h[f],m.sort(_),g=m[0].from,v=m[0].to,e.fillStyle=f,i=1,s=m.length;s>i;i++)v>=m[i].from?v=Math.max(v,m[i].to):(e.fillRect(o,g,r,v-g),g=m[i].from,v=m[i].to);e.fillRect(o,g,r,v-g)}},e.prototype.render=function(t){if(0===this._outerHeight)return!1;if(!e.hasCanvas)return!1;var n=t||!s(this._renderedZones,this._zones);if(n){var o=this._height/this._outerHeight,r=this._domNode.getContext("2d");r.clearRect(0,0,this._width,this._height);var i=this._width-this._canvasLeftOffset;this._lanesCount>=3?this._renderThreeLanes(r,o,i):2===this._lanesCount?this._renderTwoLanes(r,o,i):1===this._lanesCount&&this._renderOneLane(r,o,i)}return this._renderedZones=this._zones,n},e.prototype._renderOneLane=function(e,t,n){this._renderVerticalPatch(e,t,r.OverviewRulerLane.Left|r.OverviewRulerLane.Center|r.OverviewRulerLane.Right,this._canvasLeftOffset,n)},e.prototype._renderTwoLanes=function(e,t,n){var o=Math.floor(n/2),i=n-o,s=this._canvasLeftOffset,a=this._canvasLeftOffset+o;this._renderVerticalPatch(e,t,r.OverviewRulerLane.Left|r.OverviewRulerLane.Center,s,o),this._renderVerticalPatch(e,t,r.OverviewRulerLane.Right,a,i)},e.prototype._renderThreeLanes=function(e,t,n){var o=Math.floor(n/3),i=Math.floor(n/3),s=n-o-i,a=this._canvasLeftOffset,u=this._canvasLeftOffset+o,c=this._canvasLeftOffset+o+s;this._renderVerticalPatch(e,t,r.OverviewRulerLane.Left,a,o),this._renderVerticalPatch(e,t,r.OverviewRulerLane.Center,u,s),this._renderVerticalPatch(e,t,r.OverviewRulerLane.Right,c,i)},e.hasCanvas=-1===window.navigator.userAgent.indexOf("MSIE 8"),e}();t.OverviewRulerImpl=a});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/overviewRuler/overviewRuler",["require","exports","vs/editor/browser/viewParts/overviewRuler/overviewRulerImpl","vs/editor/browser/view/viewEventHandler"],function(e,t,n,o){var r=function(e){function t(t,o,r,i,s,a){e.call(this),this._context=t,this._overviewRuler=new n.OverviewRulerImpl(0,o,r,this._context.configuration.editor.lineHeight,i,s,a),this._context.addEventHandler(this)}return __extends(t,e),t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._context.removeEventHandler(this),this._overviewRuler.dispose()},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!0),!0):!1},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return!0},t.prototype.onScrollHeightChanged=function(e){return this._overviewRuler.setScrollHeight(e,!0),!0},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype.setLayout=function(e){this._overviewRuler.setLayout(e,!0)},t.prototype.setZones=function(e){this._overviewRuler.setZones(e,!0)},t}(o.ViewEventHandler);t.OverviewRuler=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler",["require","exports","vs/editor/browser/viewParts/overviewRuler/overviewRulerImpl","vs/editor/browser/view/viewPart","vs/editor/common/common"],function(e,t,n,o,r){var i=function(e){function t(o,r,i){e.call(this,o),this._overviewRuler=new n.OverviewRulerImpl(1,"decorationsOverviewRuler",r,this._context.configuration.editor.lineHeight,t.DECORATION_HEIGHT,t.DECORATION_HEIGHT,i),this._overviewRuler.setLanesCount(this._context.configuration.editor.overviewRulerLanes,!1),this._shouldUpdateDecorations=!0,this._zonesFromDecorations=[],this._shouldUpdateCursorPosition=!0,this._hideCursor=this._context.configuration.editor.hideCursorInOverviewRuler,this._shouldForceRender=!1,this._zonesFromCursors=[],this._cursorPositions=[],this._cursorColor=this._getCursorColor()}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._overviewRuler.dispose()},t.prototype._getCursorColor=function(){var e=this._context.configuration.editor.theme;return/dark/.test(e)||/black/.test(e)?t._CURSOR_COLOR_DARK:t._CURSOR_COLOR},t.prototype.onCursorPositionChanged=function(e){return this._shouldUpdateCursorPosition=!0,this._cursorPositions=[e.position],this._cursorPositions=this._cursorPositions.concat(e.secondaryPositions),!0},t.prototype.onConfigurationChanged=function(e){var t=this._overviewRuler.getLanesCount(),n=this._context.configuration.editor.overviewRulerLanes,o=!1;return e.lineHeight&&(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!1),this._shouldForceRender=!0,o=!0),t!==n&&(this._overviewRuler.setLanesCount(n,!1),this._shouldForceRender=!0,o=!0),e.hideCursorInOverviewRuler&&(this._hideCursor=this._context.configuration.editor.hideCursorInOverviewRuler,this._shouldUpdateCursorPosition=!0,o=!0),e.theme&&(this._cursorColor=this._getCursorColor(),this._shouldUpdateCursorPosition=!0,o=!0),o},t.prototype.onLayoutChanged=function(e){var t=this;return this._shouldForceRender=!0,this._requestModificationFrame(function(){t._overviewRuler.setLayout(e.overviewRuler,!1)}),!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return this._shouldUpdateCursorPosition=!0,this._shouldUpdateDecorations=!0,!0},t.prototype.onModelDecorationsChanged=function(){return this._shouldUpdateDecorations=!0,!0},t.prototype.onScrollHeightChanged=function(e){return this._overviewRuler.setScrollHeight(e,!1),this._shouldForceRender=!0,!0},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype._createZonesFromDecorations=function(){var e,t,n,o=this._context.model.getAllDecorations(),r=[];for(e=0,t=o.length;t>e;e++)n=o[e],n.options.overviewRuler.color&&r.push({startLineNumber:n.range.startLineNumber,endLineNumber:n.range.endLineNumber,color:n.options.overviewRuler.color,position:n.options.overviewRuler.position});return r},t.prototype._createZonesFromCursors=function(){var e,t,n,o=[];for(e=0,t=this._cursorPositions.length;t>e;e++)n=this._cursorPositions[e],o.push({forceHeight:2,startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,color:this._cursorColor,position:r.OverviewRulerLane.Full});return o},t.prototype._render=function(){var e=this,t=this._shouldForceRender;this._shouldForceRender=!1;var o=!1;if(this._shouldUpdateDecorations||this._shouldUpdateCursorPosition){this._shouldUpdateDecorations&&(this._shouldUpdateDecorations=!1,this._zonesFromDecorations=this._createZonesFromDecorations()),this._shouldUpdateCursorPosition&&(this._shouldUpdateCursorPosition=!1,this._zonesFromCursors=this._hideCursor?[]:this._createZonesFromCursors());var r=[];r=r.concat(this._zonesFromCursors),r=r.concat(this._zonesFromDecorations),this._overviewRuler.setZones(r,!1),o=!0}(o||t)&&this._requestModificationFrame(function(){var o=e._overviewRuler.render(t);if(o&&n.OverviewRulerImpl.hasCanvas&&e._overviewRuler.getLanesCount()>0&&(e._zonesFromDecorations.length>0||e._zonesFromCursors.length>0)){var r=e._overviewRuler.getDomNode().getContext("2d");r.beginPath(),r.lineWidth=1,r.strokeStyle="rgba(197,197,197,0.8)",r.rect(0,0,e._overviewRuler.getWidth(),e._overviewRuler.getHeight()),r.stroke()}})},t.DECORATION_HEIGHT=6,t._CURSOR_COLOR="rgba(0, 0, 102, 0.8)",t._CURSOR_COLOR_DARK="rgba(152, 152, 152, 0.8)",t}(o.ViewPart);t.DecorationsOverviewRuler=i}),define("vs/editor/browser/viewParts/viewCursors/viewCursor",["require","exports","vs/base/browser/dom"],function(e,t,n){var o=function(){function e(e,t){this._context=e,this._isInEditableRange=!0,this._domNode=this._createCursorDomNode(t),this._isVisible=!0,n.StyleMutator.setDisplay(this._domNode,"none"),this.updatePosition({lineNumber:1,column:1})}return e.prototype._createCursorDomNode=function(e){var t=document.createElement("div");return t.className="cursor",e&&(t.className+=" secondary"),n.StyleMutator.setHeight(t,this._context.configuration.editor.lineHeight),n.StyleMutator.setTop(t,0),n.StyleMutator.setLeft(t,0),t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),t},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getIsInEditableRange=function(){return this._isInEditableRange},e.prototype.getPositionTop=function(){return this._positionTop},e.prototype.getPosition=function(){return this._position},e.prototype.show=function(){this._isVisible||(n.StyleMutator.setVisibility(this._domNode,"inherit"),this._isVisible=!0)},e.prototype.hide=function(){this._isVisible&&(n.StyleMutator.setVisibility(this._domNode,"hidden"),this._isVisible=!1)},e.prototype.onModelFlushed=function(){return this.updatePosition({lineNumber:1,column:1}),this._isInEditableRange=!0,!0},e.prototype.onCursorPositionChanged=function(e,t){return this.updatePosition(e),this._isInEditableRange=t,!0},e.prototype.onConfigurationChanged=function(e){return e.lineHeight&&n.StyleMutator.setHeight(this._domNode,this._context.configuration.editor.lineHeight),!0},e.prototype.prepareRender=function(e){var t=e.visibleRangeForPosition(this._position);t?(this._positionTop=t.top,this._positionLeft=t.left,this._isInViewport=!0):this._isInViewport=!1},e.prototype.render=function(e){this._isInViewport?(n.StyleMutator.setDisplay(this._domNode,"block"),n.StyleMutator.setLeft(this._domNode,this._positionLeft),n.StyleMutator.setTop(this._domNode,this._positionTop+e.viewportTop-e.bigNumbersDelta)):n.StyleMutator.setDisplay(this._domNode,"none")},e.prototype.updatePosition=function(e){this._position=e,this._domNode.setAttribute("lineNumber",this._position.lineNumber.toString()),this._domNode.setAttribute("column",this._position.column.toString()),this._isInViewport=!1},e}();t.ViewCursor=o}),define("vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/viewCursors/viewCursors",["require","exports","vs/base/browser/browser","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/view/viewPart","vs/editor/browser/editorBrowser","vs/css!./viewCursors"],function(e,t,n,o,r,i){var s;!function(e){e[e.Hidden=0]="Hidden",e[e.Visible=1]="Visible",e[e.Blink=2]="Blink"}(s||(s={}));var a=function(e){function t(t){e.call(this,t),this._primaryCursor=new o.ViewCursor(this._context,!1),this._secondaryCursors=[],this._domNode=document.createElement("div"),this._domNode.className=i.ClassNames.VIEW_CURSORS_LAYER,n.canUseTranslate3d&&(this._domNode.style.transform="translate3d(0px, 0px, 0px)"),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._blinkTimer=-1,this._editorHasFocus=!1,this._updateBlinking()}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),-1!==this._blinkTimer&&(window.clearInterval(this._blinkTimer),this._blinkTimer=-1)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onModelFlushed=function(){this._primaryCursor.onModelFlushed();for(var e=0,t=this._secondaryCursors.length;t>e;e++){var n=this._secondaryCursors[e].getDomNode();n.parentNode.removeChild(n)}return this._secondaryCursors=[],!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onModelTokensChanged=function(e){var t=function(t){return e.fromLineNumber<=t.lineNumber&&t.lineNumber<=e.toLineNumber};if(t(this._primaryCursor.getPosition()))return!0;for(var n=0;n<this._secondaryCursors.length;n++)if(t(this._secondaryCursors[n].getPosition()))return!0;return!1},t.prototype.onCursorPositionChanged=function(e){if(this._primaryCursor.onCursorPositionChanged(e.position,e.isInEditableRange),this._updateBlinking(),this._secondaryCursors.length<e.secondaryPositions.length)for(var t=e.secondaryPositions.length-this._secondaryCursors.length,n=0;t>n;n++){var r=new o.ViewCursor(this._context,!0);this._primaryCursor.getDomNode().parentNode.insertBefore(r.getDomNode(),this._primaryCursor.getDomNode().nextSibling),this._secondaryCursors.push(r)}else if(this._secondaryCursors.length>e.secondaryPositions.length)for(var i=this._secondaryCursors.length-e.secondaryPositions.length,n=0;i>n;n++)this._secondaryCursors[0].getDomNode().parentNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var n=0;n<e.secondaryPositions.length;n++)this._secondaryCursors[n].onCursorPositionChanged(e.secondaryPositions[n],e.isInEditableRange);return!0},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onConfigurationChanged=function(e){this._primaryCursor.onConfigurationChanged(e);for(var t=0,n=this._secondaryCursors.length;n>t;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!0},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.onViewFocusChanged=function(e){return this._editorHasFocus=e,this._updateBlinking(),!1},t.prototype.getPosition=function(){return this._primaryCursor.getPosition()},t.prototype._getRenderType=function(){return this._editorHasFocus?this._primaryCursor.getIsInEditableRange()&&!this._context.configuration.editor.readOnly?s.Blink:s.Visible:s.Hidden},t.prototype._updateBlinking=function(){var e=this;-1!==this._blinkTimer&&(window.clearInterval(this._blinkTimer),this._blinkTimer=-1);var n=this._getRenderType();n===s.Visible||n===s.Blink?this._show():this._hide(),n===s.Blink&&(this._blinkTimer=window.setInterval(function(){return e._blink()},t.BLINK_INTERVAL))},t.prototype._blink=function(){this._isVisible?this._hide():this._show()},t.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;t>e;e++)this._secondaryCursors[e].show();this._isVisible=!0},t.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;t>e;e++)this._secondaryCursors[e].hide();this._isVisible=!1},t.prototype._render=function(e){var t=this;this._primaryCursor.prepareRender(e);for(var n=0,o=this._secondaryCursors.length;o>n;n++)this._secondaryCursors[n].prepareRender(e);this._requestModificationFrame(function(){t._primaryCursor.render(e);for(var n=0,o=t._secondaryCursors.length;o>n;n++)t._secondaryCursors[n].render(e)})},t.BLINK_INTERVAL=500,t}(r.ViewPart);t.ViewCursors=a}),define("vs/css!vs/editor/browser/viewParts/contentWidgets/contentWidgets",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/contentWidgets/contentWidgets",["require","exports","vs/base/browser/dom","vs/editor/browser/view/viewPart","vs/editor/browser/editorBrowser","vs/css!./contentWidgets"],function(e,t,n,o,r){var i=function(e){function t(t,n){e.call(this,t),this._viewDomNode=n,this._widgets={},this._contentWidth=0,this._contentLeft=0,this.domNode=document.createElement("div"),this.domNode.className=r.ClassNames.CONTENT_WIDGETS}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null,this.domNode=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){var t=this;return this._contentWidth=e.contentWidth,this._contentLeft=e.contentLeft,this._requestModificationFrameBeforeRendering(function(){var e;for(e in t._widgets)t._widgets.hasOwnProperty(e)&&n.StyleMutator.setMaxWidth(t._widgets[e].widget.getDomNode(),t._contentWidth)}),!0},t.prototype.onScrollChanged=function(){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.addWidget=function(e){var t={allowEditorOverflow:e.allowEditorOverflow||!1,widget:e,position:null,preference:null,isVisible:!1};this._widgets[e.getId()]=t;var o=e.getDomNode();o.style.position="absolute",n.StyleMutator.setMaxWidth(o,this._contentWidth),n.StyleMutator.setVisibility(o,"hidden"),o.setAttribute("widgetId",e.getId()),t.allowEditorOverflow?this._viewDomNode.appendChild(o):this.domNode.appendChild(o),this.shouldRender=!0},t.prototype.setWidgetPosition=function(e,t,n){var o=this._widgets[e.getId()];o.position=t,o.preference=n,this.shouldRender=!0},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t];delete this._widgets[t];var o=n.widget.getDomNode();o.parentNode.removeChild(o),o.removeAttribute("monaco-visible-content-widget"),this.shouldRender=!0}},t.prototype._layoutBoxInViewport=function(e,t,n){var o=n.visibleRangeForPosition(e);if(!o)return null;var r=t.clientWidth,i=t.clientHeight,s=o.top,a=s,u=o.top+o.height,c=n.viewportHeight-u,l=s-i,d=a>=i,h=u,p=c>=i,f=o.left;return f+r>n.viewportLeft+n.viewportWidth&&(f=n.viewportLeft+n.viewportWidth-r),f<n.viewportLeft&&(f=n.viewportLeft),{aboveTop:l,fitsAbove:d,belowTop:h,fitsBelow:p,left:f}},t.prototype._layoutBoxInPage=function(e,t,o){var r=o.visibleRangeForPosition(e);if(!r)return null;var i=r.left-o.viewportLeft;if(0>i||i>this._contentWidth)return null;var s=t.clientWidth,a=t.clientHeight,u=r.top-a,c=r.top+r.height,i=i+this._contentLeft,l=n.getDomNodePosition(this._viewDomNode),d=l.top+u-document.body.scrollTop-document.documentElement.scrollTop,h=l.top+c-document.body.scrollTop-document.documentElement.scrollTop,p=l.left+i-document.body.scrollLeft-document.documentElement.scrollLeft,f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,m=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,g=d>=0,v=m>=h+a;if(p+s+20>f){var _=p-(f-s-20);p-=_,i-=_}if(0>p){var _=p;p-=_,i-=_}return{aboveTop:u,fitsAbove:g,belowTop:c,fitsBelow:v,left:i}},t.prototype._prepareRenderWidgetAtExactPosition=function(e,t){var n=t.visibleRangeForPosition(e);return n?{top:n.top,left:n.left}:null},t.prototype._prepareRenderWidget=function(e,t){var n=this;if(!e.position||!e.preference)return null;var o,i,s,a=this._context.model.validateModelPosition(e.position),u=this._context.model.convertModelPositionToViewPosition(a.lineNumber,a.column),c=null,l=function(){if(!c){var o=e.widget.getDomNode();c=e.allowEditorOverflow?n._layoutBoxInPage(u,o,t):n._layoutBoxInViewport(u,o,t)}};for(i=1;2>=i;i++)for(s=0;s<e.preference.length;s++)if(o=e.preference[s],o===r.ContentWidgetPositionPreference.ABOVE){if(l(),!c)return null;if(2===i||c.fitsAbove)return{top:c.aboveTop,left:c.left}}else{if(o!==r.ContentWidgetPositionPreference.BELOW)return this._prepareRenderWidgetAtExactPosition(u,t);if(l(),!c)return null;if(2===i||c.fitsBelow)return{top:c.belowTop,left:c.left}}},t.prototype._render=function(e){var t,o,r=this,i={};for(o in this._widgets)this._widgets.hasOwnProperty(o)&&(t=this._prepareRenderWidget(this._widgets[o],e),t&&(i[o]=t));this._requestModificationFrame(function(){var t,o,s;for(t in r._widgets)r._widgets.hasOwnProperty(t)&&(o=r._widgets[t],s=r._widgets[t].widget.getDomNode(),i.hasOwnProperty(t)?(o.allowEditorOverflow?(n.StyleMutator.setTop(s,i[t].top),n.StyleMutator.setLeft(s,i[t].left)):(n.StyleMutator.setTop(s,i[t].top+e.viewportTop-e.bigNumbersDelta),n.StyleMutator.setLeft(s,i[t].left)),o.isVisible||(n.StyleMutator.setVisibility(s,"inherit"),s.setAttribute("monaco-visible-content-widget","true"),o.isVisible=!0)):o.isVisible&&(s.removeAttribute("monaco-visible-content-widget"),o.isVisible=!1,n.StyleMutator.setVisibility(s,"hidden")))})},t}(o.ViewPart);t.ViewContentWidgets=i}),define("vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/overlayWidgets/overlayWidgets",["require","exports","vs/base/browser/dom","vs/editor/browser/view/viewPart","vs/editor/browser/editorBrowser","vs/css!./overlayWidgets"],function(e,t,n,o,r){var i=function(e){function t(t){e.call(this,t),this._widgets={},this._verticalScrollbarWidth=0,this._horizontalScrollbarHeight=0,this._editorHeight=0,this.domNode=document.createElement("div"),this.domNode.className=r.ClassNames.OVERLAY_WIDGETS}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null},t.prototype.onLayoutChanged=function(e){var t=this;return this._verticalScrollbarWidth=e.verticalScrollbarWidth,this._horizontalScrollbarHeight=e.horizontalScrollbarHeight,this._editorHeight=e.height,this._requestModificationFrame(function(){n.StyleMutator.setWidth(t.domNode,e.width)}),!0},t.prototype.addWidget=function(e){this._widgets[e.getId()]={widget:e,preference:null};var t=e.getDomNode();t.style.position="absolute",t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t)},t.prototype.setWidgetPosition=function(e,t){var n=this,o=this._widgets[e.getId()];o.preference=t,this._requestModificationFrame(function(){n._widgets.hasOwnProperty(e.getId())&&n._renderWidget(o)})},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t],o=n.widget.getDomNode();delete this._widgets[t],o.parentNode.removeChild(o)}},t.prototype._renderWidget=function(e){var t="data-editor-restoreStyleTop",o=e.widget.getDomNode();if(null!==e.preference)if(e.preference===r.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER)o.hasAttribute(t)||o.setAttribute(t,o.style.top),n.StyleMutator.setTop(o,0),n.StyleMutator.setRight(o,2*this._verticalScrollbarWidth);else if(e.preference===r.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER){o.hasAttribute(t)||o.setAttribute(t,o.style.top);var i=o.clientHeight;n.StyleMutator.setTop(o,this._editorHeight-i-2*this._horizontalScrollbarHeight),n.StyleMutator.setRight(o,2*this._verticalScrollbarWidth)}else e.preference===r.OverlayWidgetPositionPreference.TOP_CENTER&&(o.hasAttribute(t)||o.setAttribute(t,o.style.top),n.StyleMutator.setTop(o,0),o.style.right="50%");else if(o.hasAttribute(t)){var s=o.getAttribute(t);o.removeAttribute(t),o.style.top=s}},t.prototype._render=function(){var e,t=this;this._requestModificationFrame(function(){for(e in t._widgets)t._widgets.hasOwnProperty(e)&&t._renderWidget(t._widgets[e])})},t.prototype.onReadAfterForcedLayout=function(e){return this._render(e),null},t.prototype.onWriteAfterForcedLayout=function(){this._executeModificationRunners()},t}(o.ViewPart);t.ViewOverlayWidgets=i}),define("vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight",["require","exports","vs/editor/browser/view/viewEventHandler","vs/css!./currentLineHighlight"],function(e,t,n){var o=function(e){function t(t,n){e.call(this),this._context=t,this._layoutProvider=n,this._selectionIsEmpty=!0,this._primaryCursorIsInEditableRange=!0,this._primaryCursorLineNumber=1,this._scrollWidth=this._layoutProvider.getScrollWidth(),this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null},t.prototype.onModelFlushed=function(){return this._primaryCursorIsInEditableRange=!0,this._selectionIsEmpty=!0,this._primaryCursorLineNumber=1,this._scrollWidth=this._layoutProvider.getScrollWidth(),!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(e){var t=!1;return this._primaryCursorIsInEditableRange!==e.isInEditableRange&&(this._primaryCursorIsInEditableRange=e.isInEditableRange,t=!0),this._primaryCursorLineNumber!==e.position.lineNumber&&(this._primaryCursorLineNumber=e.position.lineNumber,t=!0),t},t.prototype.onCursorSelectionChanged=function(e){var t=e.selection.isEmpty();return this._selectionIsEmpty!==t?(this._selectionIsEmpty=t,!0):!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(e){return this._scrollWidth!==e?(this._scrollWidth=e,!0):!1},t.prototype.shouldCallRender2=function(e){return this.shouldRender?(this.shouldRender=!1,this._scrollWidth=e.scrollWidth,!0):!1},t.prototype.render2=function(e){return e===this._primaryCursorLineNumber?this._shouldShowCurrentLine()?['<div class="current-line" style="width:',String(this._scrollWidth),"px; height:",String(this._context.configuration.editor.lineHeight),'px;"></div>']:null:null},t.prototype._shouldShowCurrentLine=function(){return this._selectionIsEmpty&&this._primaryCursorIsInEditableRange&&!this._context.configuration.editor.readOnly},t}(n.ViewEventHandler);t.CurrentLineHighlightOverlay=o}),define("vs/css!vs/editor/browser/viewParts/selections/selections",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/selections/selections",["require","exports","vs/editor/browser/view/viewEventHandler","vs/css!./selections"],function(e,t,n){var o;!function(e){e[e.EXTERN=0]="EXTERN",e[e.INTERN=1]="INTERN",e[e.FLAT=2]="FLAT"}(o||(o={}));var r=function(e){function t(t){e.call(this),this._previousFrameVisibleRangesWithStyle=[],this._context=t,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._selections=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(e){return this._selections=[e.selection],this._selections=this._selections.concat(e.secondarySelections),!0},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype._visibleRangesHaveGaps=function(e){var t,n,o;for(t=0,n=e.length;n>t;t++)if(o=e[t],o.ranges.length>1)return!0;return!1},t.prototype._enrichVisibleRangesWithStyle=function(e,t){var n,r,i,s,a,u,c,l,d,h,p,f=null,m=null;if(t&&t.length>0&&e.length>0){for(var g=e[0].lineNumber,h=0;!f&&h<t.length;h++)t[h].lineNumber===g&&(f=t[h].ranges[0]);for(var v=e[e.length-1].lineNumber,h=t.length-1;!m&&h>=0;h--)t[h].lineNumber===v&&(m=t[h].ranges[0]);f&&!f.startStyle&&(f=null),m&&!m.startStyle&&(m=null)}for(h=0,p=e.length;p>h;h++)n=e[h].ranges[0],r=n.left,i=n.left+n.width,l={top:o.EXTERN,bottom:o.EXTERN},d={top:o.EXTERN,bottom:o.EXTERN},h>0?(s=e[h-1].ranges[0].left,a=e[h-1].ranges[0].left+e[h-1].ranges[0].width,r===s?l.top=o.FLAT:r>s&&(l.top=o.INTERN),i===a?d.top=o.FLAT:i>s&&a>i&&(d.top=o.INTERN)):f&&(l.top=f.startStyle.top,d.top=f.endStyle.top),p>h+1?(u=e[h+1].ranges[0].left,c=e[h+1].ranges[0].left+e[h+1].ranges[0].width,r===u?l.bottom=o.FLAT:r>u&&c>r&&(l.bottom=o.INTERN),i===c?d.bottom=o.FLAT:c>i&&(d.bottom=o.INTERN)):m&&(l.bottom=m.startStyle.bottom,d.bottom=m.endStyle.bottom),n.startStyle=l,n.endStyle=d},t.prototype._getVisibleRangesWithStyle=function(e,t,n){var o=t.linesVisibleRangesForRange(e,!0)||[],r=this._visibleRangesHaveGaps(o),i=navigator.userAgent.indexOf("Trident/7.0")>=0;return i||r||!this._context.configuration.editor.roundedSelection||this._enrichVisibleRangesWithStyle(o,n),o},t.prototype._createSelectionPiece=function(e,t,n,o,r){e.push('<div class="cslr '),e.push(n),e.push('" style="left:'),e.push(o.toString()),e.push("px;width:"),e.push(r.toString()),e.push("px;height:"),e.push(t),e.push('px;"></div>')},t.prototype._actualRenderOneSelection=function(e,n){var r,i,s,a,u,c,l,d,h=n.length>0&&n[0].ranges[0].startStyle,p=this._context.configuration.editor.lineHeight.toString(),f=0;
for(a=0,u=n.length;u>a;a++)for(r=n[a],e.hasOwnProperty(r.lineNumber.toString())?i=e[r.lineNumber.toString()]:(i=[],e[r.lineNumber.toString()]=i),c=0,l=r.ranges.length;l>c;c++)d=r.ranges[c],h&&((d.startStyle.top===o.INTERN||d.startStyle.bottom===o.INTERN)&&(f++,this._createSelectionPiece(i,p,t.SELECTION_CLASS_NAME,d.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH),s=t.EDITOR_BACKGROUND_CLASS_NAME,d.startStyle.top===o.INTERN&&(s+=" "+t.SELECTION_TOP_RIGHT),d.startStyle.bottom===o.INTERN&&(s+=" "+t.SELECTION_BOTTOM_RIGHT),f++,this._createSelectionPiece(i,p,s,d.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH)),(d.endStyle.top===o.INTERN||d.endStyle.bottom===o.INTERN)&&(f++,this._createSelectionPiece(i,p,t.SELECTION_CLASS_NAME,d.left+d.width,t.ROUNDED_PIECE_WIDTH),s=t.EDITOR_BACKGROUND_CLASS_NAME,d.endStyle.top===o.INTERN&&(s+=" "+t.SELECTION_TOP_LEFT),d.endStyle.bottom===o.INTERN&&(s+=" "+t.SELECTION_BOTTOM_LEFT),f++,this._createSelectionPiece(i,p,s,d.left+d.width,t.ROUNDED_PIECE_WIDTH))),s=t.SELECTION_CLASS_NAME,h&&(d.startStyle.top===o.EXTERN&&(s+=" "+t.SELECTION_TOP_LEFT),d.startStyle.bottom===o.EXTERN&&(s+=" "+t.SELECTION_BOTTOM_LEFT),d.endStyle.top===o.EXTERN&&(s+=" "+t.SELECTION_TOP_RIGHT),d.endStyle.bottom===o.EXTERN&&(s+=" "+t.SELECTION_BOTTOM_RIGHT)),f++,this._createSelectionPiece(i,p,s,d.left,d.width);return f},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;this.shouldRender=!1;var t,n,o,r={},i=0,s=[];for(o=0;o<this._selections.length;o++)t=this._selections[o],t.isEmpty()?s.push(null):(n=this._getVisibleRangesWithStyle(t,e,this._previousFrameVisibleRangesWithStyle[o]),s.push(n),i+=this._actualRenderOneSelection(r,n));return this._previousFrameVisibleRangesWithStyle=s,this._renderResult=r,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t.SELECTION_CLASS_NAME="selected-text",t.SELECTION_TOP_LEFT="top-left-radius",t.SELECTION_BOTTOM_LEFT="bottom-left-radius",t.SELECTION_TOP_RIGHT="top-right-radius",t.SELECTION_BOTTOM_RIGHT="bottom-right-radius",t.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",t.ROUNDED_PIECE_WIDTH=10,t}(n.ViewEventHandler);t.SelectionsOverlay=r}),define("vs/css!vs/editor/browser/viewParts/decorations/decorations",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/decorations/decorations",["require","exports","vs/editor/browser/view/viewEventHandler","vs/css!./decorations"],function(e,t,n){var o=function(e){function t(t){e.call(this),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(){return!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!0},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;this.shouldRender=!1;var t,n,o,r,i,s,a,u,c,l,d,h,p={},f=e.getDecorationsInViewport(),m=this._context.configuration.editor.lineHeight.toString(),g=0;for(a=0,u=f.length;u>a;a++)if(n=f[a],o=n.range,n.options.className)if(n.options.isWholeLine)for(c=o.startLineNumber;c<=o.endLineNumber;c++)e.lineIsVisible(c)&&(p.hasOwnProperty(c.toString())?t=p[c.toString()]:(t=[],p[c.toString()]=t),g++,t.push('<div class="cdr '),t.push(n.options.className),t.push('" style="left:0;width:100%;height:'),t.push(m.toString()),t.push('px;"></div>'));else if(r=e.linesVisibleRangesForRange(o,!1))for(c=0,l=r.length;l>c;c++)for(i=r[c],p.hasOwnProperty(i.lineNumber.toString())?t=p[i.lineNumber.toString()]:(t=[],p[i.lineNumber.toString()]=t),d=0,h=i.ranges.length;h>d;d++)s=i.ranges[d],g++,t.push('<div class="cdr '),t.push(n.options.className),t.push('" style="left:'),t.push(s.left.toString()),t.push("px;width:"),t.push(s.width.toString()),t.push("px;height:"),t.push(m.toString()),t.push('px;"></div>');return this._renderResult=p,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t}(n.ViewEventHandler);t.DecorationsOverlay=o}),define("vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/glyphMargin/glyphMargin",["require","exports","vs/editor/browser/view/viewEventHandler","vs/css!./glyphMargin"],function(e,t,n){var o=function(e){function t(t){e.call(this),this._context=t,this._glyphMarginLeft=0,this._glyphMarginWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;if(this.shouldRender=!1,!this._context.configuration.editor.glyphMargin)return this._renderResult=null,!1;var t,n,o,r,i,s,a,u,c,l={},d=0,h=e.getDecorationsInViewport(),p=this._context.configuration.editor.lineHeight.toString(),f={};for(o=0,r=h.length;r>o;o++)if(t=h[o],t.options.glyphMarginClassName)for(n=t.range,u=n.startLineNumber;u<=n.endLineNumber;u++)e.lineIsVisible(u)&&(c=u.toString(),f.hasOwnProperty(c)||(f[c]={}),f[c][t.options.glyphMarginClassName]=!0);var m=this._glyphMarginLeft.toString(),g=this._glyphMarginWidth.toString(),v='" style="left:'+m+"px;width:"+g+"px;height:"+p+'px;"></div>';for(c in f){i=f[c],a=[],a.push('<div class="cgmr');for(s in i)d++,a.push(" "),a.push(s);a.push(v),l[c]=a}return this._renderResult=l,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t}(n.ViewEventHandler);t.GlyphMarginOverlay=o}),define("vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/linesDecorations/linesDecorations",["require","exports","vs/editor/browser/view/viewEventHandler","vs/css!./linesDecorations"],function(e,t,n){var o=function(e){function t(t){e.call(this),this._context=t,this._decorationsLeft=0,this._decorationsWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._decorationsLeft=e.decorationsLeft,this._decorationsWidth=e.decorationsWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;this.shouldRender=!1;var t,n,o,r,i,s,a,u,c,l={},d=0,h=e.getDecorationsInViewport(),p=this._context.configuration.editor.lineHeight.toString(),f={};for(o=0,r=h.length;r>o;o++)if(t=h[o],t.options.linesDecorationsClassName)for(n=t.range,u=n.startLineNumber;u<=n.endLineNumber;u++)e.lineIsVisible(u)&&(c=u.toString(),f.hasOwnProperty(c)||(f[c]={}),f[c][t.options.linesDecorationsClassName]=!0);var m=this._decorationsLeft.toString(),g=this._decorationsWidth.toString(),v='" style="left:'+m+"px;width:"+g+"px;height:"+p+'px;"></div>';for(c in f){i=f[c],a=[],a.push('<div class="cldr');for(s in i)d++,a.push(" "),a.push(s);a.push(v),l[c]=a}return this._renderResult=l,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t}(n.ViewEventHandler);t.LinesDecorationsOverlay=o}),define("vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/lineNumbers/lineNumbers",["require","exports","vs/editor/browser/view/viewEventHandler","vs/editor/browser/editorBrowser","vs/css!./lineNumbers"],function(e,t,n,o){var r=function(e){function t(t){e.call(this),this._context=t,this._lineNumbersLeft=0,this._lineNumbersWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return __extends(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(){return!1},t.prototype.onModelLinesDeleted=function(){return!0},t.prototype.onModelLineChanged=function(){return!0},t.prototype.onModelLinesInserted=function(){return!0},t.prototype.onCursorPositionChanged=function(){return!1},t.prototype.onCursorSelectionChanged=function(){return!1},t.prototype.onCursorRevealRange=function(){return!1},t.prototype.onConfigurationChanged=function(){return!0},t.prototype.onLayoutChanged=function(e){return this._lineNumbersLeft=e.lineNumbersLeft,this._lineNumbersWidth=e.lineNumbersWidth,!0},t.prototype.onScrollChanged=function(e){return e.vertical},t.prototype.onZonesChanged=function(){return!0},t.prototype.onScrollWidthChanged=function(){return!1},t.prototype.onScrollHeightChanged=function(){return!1},t.prototype.shouldCallRender2=function(e){if(!this.shouldRender)return!1;if(this.shouldRender=!1,!this._context.configuration.editor.lineNumbers)return this._renderResult=null,!1;var t,n,r={},i=this._context.configuration.editor.lineHeight.toString(),s='<div class="'+o.ClassNames.LINE_NUMBERS+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+"px;height:"+i+'px;">';for(t=e.visibleRange.startLineNumber;t<=e.visibleRange.endLineNumber;t++)if(n=this._context.model.getLineRenderLineNumber(t)){var a=[s,this._context.model.getLineRenderLineNumber(t),"</div>"];r[t.toString()]=a}return this._renderResult=r,!0},t.prototype.render2=function(e){return this._renderResult&&this._renderResult.hasOwnProperty(e.toString())?this._renderResult[e.toString()]:null},t}(n.ViewEventHandler);t.LineNumbersOverlay=r}),define("vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/viewParts/scrollDecoration/scrollDecoration",["require","exports","vs/base/browser/dom","vs/editor/browser/view/viewPart","vs/editor/browser/editorBrowser","vs/css!./scrollDecoration"],function(e,t,n,o,r){var i=function(e){function t(t){e.call(this,t),this._scrollTop=0,this._width=0,this._shouldShow=!1,this._domNode=document.createElement("div")}return __extends(t,e),t.prototype._updateShouldShow=function(){var e=this._context.configuration.editor.scrollbar.useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(){return this._updateShouldShow()},t.prototype.onLayoutChanged=function(e){return this._width!==e.width?(this._width=e.width,!0):!1},t.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},t.prototype._render=function(){var e=this;this._requestModificationFrame(function(){n.StyleMutator.setWidth(e._domNode,e._width),n.toggleClass(e._domNode,r.ClassNames.SCROLL_DECORATION,e._shouldShow)})},t}(o.ViewPart);t.ScrollDecorationViewPart=i});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/view/viewImpl",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/lifecycle","vs/base/browser/dom","vs/base/common/eventEmitter","vs/base/common/errors","vs/base/common/timer","vs/editor/browser/view/viewEventHandler","vs/editor/browser/controller/keyboardHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewLayout/layoutProvider","vs/editor/browser/config/configuration","vs/editor/browser/view/viewEventDispatcher","vs/editor/browser/view/viewController","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/common/common","vs/editor/browser/editorBrowser","vs/editor/common/core/range"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v,_,y,b,C,S,w,E,T,x,M,L,k,I,N,R){var O=function(e){function t(t,n,o,r){var s=this;e.call(this),this._isDisposed=!1,this._editorId=t,this._renderAnimationFrame=null,this.outgoingEventBus=new i.EventEmitter;var a=new f.ViewController(o,n,this.outgoingEventBus);this.listenersToRemove=[],this.listenersToDispose=[],this.eventDispatcher=new p.ViewEventDispatcher(function(e){return s._renderOnce(e)}),this.linesContent=document.createElement("div"),this.linesContent.className=N.ClassNames.LINES_CONTENT+" monaco-editor-background",this.domNode=document.createElement("div"),h.Configuration.applyEditorStyling(this.domNode,n.getEditorStyling()),this.overflowGuardContainer=document.createElement("div"),this.overflowGuardContainer.className=N.ClassNames.OVERFLOW_GUARD,this.layoutProvider=new d.LayoutProvider(n,o,this.eventDispatcher,this.linesContent,this.domNode,this.overflowGuardContainer),this.eventDispatcher.addEventHandler(this.layoutProvider),this.context=new D(t,n,o,this.eventDispatcher,function(e){return s.eventDispatcher.addEventHandler(e)},function(e){return s.eventDispatcher.removeEventHandler(e)}),this.createTextArea(r),this.createViewParts(),this.keyboardHandler=new c.KeyboardHandler(this.context,a,this.createKeyboardHandlerHelper()),this.pointerHandler=new l.PointerHandler(this.context,a,this.createPointerHandlerHelper()),this.hasFocus=!1,this.codeEditorHelper=null,this.eventDispatcher.addEventHandler(this),this.handleAccumulatedModelEventsTimeout=-1,this.accumulatedModelEvents=[],this.listenersToRemove.push(o.addBulkListener(function(e){s.accumulatedModelEvents=s.accumulatedModelEvents.concat(e),-1===s.handleAccumulatedModelEventsTimeout&&(s.handleAccumulatedModelEventsTimeout=setTimeout(function(){s.handleAccumulatedModelEventsTimeout=-1,s._flushAnyAccumulatedEvents()}))}))}return __extends(t,e),t.prototype._flushAnyAccumulatedEvents=function(){var e=this.accumulatedModelEvents;this.accumulatedModelEvents=[],e.length>0&&this.eventDispatcher.emitMany(e)},t.prototype.createTextArea=function(e){var t=this;this.textArea=document.createElement("textarea"),this._keybindingService=e.createScoped(this.textArea),this._editorTextFocusContextKey=this._keybindingService.createKey(I.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS,void 0),this.textArea.className=N.ClassNames.TEXTAREA,this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",n.localize("vs_editor_browser_view_viewImpl",0)),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-multiline","true"),r.StyleMutator.setTop(this.textArea,0),r.StyleMutator.setLeft(this.textArea,0),r.StyleMutator.setFontSize(this.textArea,this.context.configuration.editor.fontSize),r.StyleMutator.setLineHeight(this.textArea,this.context.configuration.editor.lineHeight),this.listenersToDispose.push(r.addDisposableListener(this.textArea,"focus",function(){return t._setHasFocus(!0)})),this.listenersToDispose.push(r.addDisposableListener(this.textArea,"blur",function(){return t._setHasFocus(!1)})),this.textAreaCover=document.createElement("div"),this.textAreaCover.className=this.context.configuration.editor.glyphMargin?"monaco-editor-background "+N.ClassNames.GLYPH_MARGIN+" "+N.ClassNames.TEXTAREA_COVER:this.context.configuration.editor.lineNumbers?"monaco-editor-background "+N.ClassNames.LINE_NUMBERS+" "+N.ClassNames.TEXTAREA_COVER:"monaco-editor-background "+N.ClassNames.TEXTAREA_COVER,this.textAreaCover.style.position="absolute",r.StyleMutator.setWidth(this.textAreaCover,1),r.StyleMutator.setHeight(this.textAreaCover,1),r.StyleMutator.setTop(this.textAreaCover,0),r.StyleMutator.setLeft(this.textAreaCover,0)},t.prototype.createViewParts=function(){var e=this;this.viewParts=[],this.viewLines=new v.ViewLines(this.context,this.layoutProvider),this.viewZones=new g.ViewZones(this.context,this.layoutProvider),this.viewParts.push(this.viewZones);var t=new y.DecorationsOverviewRuler(this.context,this.layoutProvider.getScrollHeight(),function(t){return e.layoutProvider.getVerticalOffsetForLineNumber(t)});this.viewParts.push(t);var n=new k.ScrollDecorationViewPart(this.context);this.viewParts.push(n);var o=new m.ContentViewOverlays(this.context,this.layoutProvider);this.viewParts.push(o),o.addDynamicOverlay(new w.CurrentLineHighlightOverlay(this.context,this.layoutProvider)),o.addDynamicOverlay(new E.SelectionsOverlay(this.context)),o.addDynamicOverlay(new T.DecorationsOverlay(this.context));var r=new m.MarginViewOverlays(this.context,this.layoutProvider);this.viewParts.push(r),r.addDynamicOverlay(new x.GlyphMarginOverlay(this.context)),r.addDynamicOverlay(new M.LinesDecorationsOverlay(this.context)),r.addDynamicOverlay(new L.LineNumbersOverlay(this.context)),this.contentWidgets=new C.ViewContentWidgets(this.context,this.domNode),this.viewParts.push(this.contentWidgets);var i=new b.ViewCursors(this.context);if(this.viewParts.push(i),this.overlayWidgets=new S.ViewOverlayWidgets(this.context),this.viewParts.push(this.overlayWidgets),this.linesContentContainer=this.layoutProvider.getScrollbarContainerDomNode(),this.linesContentContainer.style.position="absolute",t){var s=this.layoutProvider.getOverviewRulerInsertData();s.parent.insertBefore(t.getDomNode(),s.insertBefore)}this.linesContent.appendChild(o.getDomNode()),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.domNode),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(i.getDomNode()),this.overflowGuardContainer.appendChild(r.getDomNode()),this.overflowGuardContainer.appendChild(this.linesContentContainer),this.overflowGuardContainer.appendChild(n.getDomNode()),this.overflowGuardContainer.appendChild(this.overlayWidgets.domNode),this.overflowGuardContainer.appendChild(this.textArea),this.overflowGuardContainer.appendChild(this.textAreaCover),this.domNode.appendChild(this.overflowGuardContainer)},t.prototype._flushAccumulatedAndRenderNow=function(){this._flushAnyAccumulatedEvents(),this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,linesContentDomNode:this.linesContent,focusTextArea:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.focusTextArea: View is disposed");e.focus()},getScrollTop:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getScrollTop: View is disposed");return e.layoutProvider.getScrollTop()},setScrollTop:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.setScrollTop: View is disposed");e.layoutProvider.setScrollTop(t)},getScrollLeft:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getScrollLeft: View is disposed");return e.layoutProvider.getScrollLeft()},setScrollLeft:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.setScrollLeft: View is disposed");e.layoutProvider.setScrollLeft(t)},isAfterLines:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.isAfterLines: View is disposed");return e.layoutProvider.isAfterLines(t)},getLineNumberAtVerticalOffset:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLineNumberAtVerticalOffset: View is disposed");return e.layoutProvider.getLineNumberAtVerticalOffset(t)},getVerticalOffsetForLineNumber:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getVerticalOffsetForLineNumber: View is disposed");return e.layoutProvider.getVerticalOffsetForLineNumber(t)},getWhitespaceAtVerticalOffset:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getWhitespaceAtVerticalOffset: View is disposed");return e.layoutProvider.getWhitespaceAtVerticalOffset(t)},shouldSuppressMouseDownOnViewZone:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.shouldSuppressMouseDownOnViewZone: View is disposed");return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},getPositionFromDOMInfo:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getPositionFromDOMInfo: View is disposed");return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,n)},visibleRangeForPosition2:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.visibleRangeForPosition2: View is disposed");e._flushAccumulatedAndRenderNow();var o=0,r=e.viewLines.visibleRangesForRange2(R.Range.create(t,n,t,n),0,o,!1);return r?r[0]:null},getLineWidth:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLineWidth: View is disposed");return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createKeyboardHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,textArea:this.textArea,visibleRangeForPositionRelativeToEditor:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.keyboardHandler.visibleRangeForPositionRelativeToEditor: View is disposed");e._flushAccumulatedAndRenderNow();var o=e.layoutProvider.getLinesViewportData(),r=0,i=e.viewLines.visibleRangesForRange2(R.Range.create(t,n,t,n),o.visibleRangesDeltaTop,r,!1);return i?i[0]:null}}},t.prototype.onLayoutChanged=function(e){return r.StyleMutator.setWidth(this.domNode,e.width),r.StyleMutator.setHeight(this.domNode,e.height),r.StyleMutator.setWidth(this.overflowGuardContainer,e.width),r.StyleMutator.setHeight(this.overflowGuardContainer,e.height),r.StyleMutator.setWidth(this.linesContent,1e6),r.StyleMutator.setHeight(this.linesContent,1e6),r.StyleMutator.setLeft(this.linesContentContainer,e.contentLeft),r.StyleMutator.setWidth(this.linesContentContainer,e.contentWidth),r.StyleMutator.setHeight(this.linesContentContainer,e.contentHeight),this.outgoingEventBus.emit(I.EventType.ViewLayoutChanged,e),!1},t.prototype.onConfigurationChanged=function(){return h.Configuration.applyEditorStyling(this.domNode,this.context.configuration.getEditorStyling()),r.StyleMutator.setFontSize(this.textArea,this.context.configuration.editor.fontSize),r.StyleMutator.setLineHeight(this.textArea,this.context.configuration.editor.lineHeight),!1},t.prototype.onScrollChanged=function(){return this.outgoingEventBus.emit("scroll",{scrollTop:this.layoutProvider.getScrollTop(),scrollLeft:this.layoutProvider.getScrollLeft()}),!1},t.prototype.onScrollHeightChanged=function(t){return this.outgoingEventBus.emit("scrollSize",{scrollWidth:this.layoutProvider.getScrollWidth(),scrollHeight:this.layoutProvider.getScrollHeight()}),e.prototype.onScrollHeightChanged.call(this,t)},t.prototype.onViewFocusChanged=function(e){return r.toggleClass(this.domNode,"focused",e),e?(this._editorTextFocusContextKey.set(!0),this.outgoingEventBus.emit(I.EventType.ViewFocusGained,{})):(this._editorTextFocusContextKey.reset(),this.outgoingEventBus.emit(I.EventType.ViewFocusLost,{})),!1},t.prototype.dispose=function(){this._isDisposed=!0,-1!==this.handleAccumulatedModelEventsTimeout&&(clearTimeout(this.handleAccumulatedModelEventsTimeout),this.handleAccumulatedModelEventsTimeout=-1),null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.accumulatedModelEvents=[],this.eventDispatcher.removeEventHandler(this),this.outgoingEventBus.dispose(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.listenersToDispose=o.disposeAll(this.listenersToDispose),this.keyboardHandler.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].dispose();this.viewParts=[],this.layoutProvider.dispose(),this._keybindingService.dispose()},t.prototype.getCodeEditorHelper=function(){var e=this;return this.codeEditorHelper||(this.codeEditorHelper={getScrollTop:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollTop: View is disposed");return e.layoutProvider.getScrollTop()},setScrollTop:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.setScrollTop: View is disposed");e.layoutProvider.setScrollTop(t)},getScrollLeft:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollLeft: View is disposed");return e.layoutProvider.getScrollLeft()},setScrollLeft:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.setScrollLeft: View is disposed");e.layoutProvider.setScrollLeft(t)},getScrollHeight:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollHeight: View is disposed");return e.layoutProvider.getScrollHeight()},getScrollWidth:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollWidth: View is disposed");return e.layoutProvider.getScrollWidth()},getLayoutInfo:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getLayoutInfo: View is disposed");return e.layoutProvider.getLayoutInfo()},getVerticalOffsetForPosition:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getVerticalOffsetForPosition: View is disposed");var o=e.context.model.validateModelPosition({lineNumber:t,column:n}),r=e.context.model.convertModelPositionToViewPosition(o.lineNumber,o.column);return e.layoutProvider.getVerticalOffsetForLineNumber(r.lineNumber)},delegateVerticalScrollbarMouseDown:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.delegateVerticalScrollbarMouseDown: View is disposed");e.layoutProvider.delegateVerticalScrollbarMouseDown(t)},getOffsetForColumn:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getOffsetForColumn: View is disposed");var o=e.context.model.validateModelPosition({lineNumber:t,column:n}),r=e.context.model.convertModelPositionToViewPosition(o.lineNumber,o.column);e._flushAccumulatedAndRenderNow();var i=e.viewLines.visibleRangesForRange2(R.Range.create(r.lineNumber,r.column,r.lineNumber,r.column),0,0,!1);return i?i[0].left:-1}}),this.codeEditorHelper},t.prototype.getCenteredRangeInViewport=function(){if(this._isDisposed)throw new Error("ViewImpl.getCenteredRangeInViewport: View is disposed");var e=this.layoutProvider.getCenteredViewLineNumberInViewport(),t=this.context.model,n=R.Range.create(e,1,e,t.getLineMaxColumn(e));return t.convertViewRangeToModelRange(n)},t.prototype.getInternalEventBus=function(){if(this._isDisposed)throw new Error("ViewImpl.getInternalEventBus: View is disposed");return this.outgoingEventBus},t.prototype.saveState=function(){if(this._isDisposed)throw new Error("ViewImpl.saveState: View is disposed");return this.layoutProvider.saveState()},t.prototype.restoreState=function(e){if(this._isDisposed)throw new Error("ViewImpl.restoreState: View is disposed");return this._flushAnyAccumulatedEvents(),this.layoutProvider.restoreState(e)},t.prototype.focus=function(){if(this._isDisposed)throw new Error("ViewImpl.focus: View is disposed");var e=r.saveParentsScrollTop(this.textArea);this.textArea.focus(),r.selectTextInInputElement(this.textArea),r.restoreParentsScrollTop(this.textArea,e),this._setHasFocus(!0)},t.prototype.isFocused=function(){if(this._isDisposed)throw new Error("ViewImpl.isFocused: View is disposed");return this.hasFocus},t.prototype.createOverviewRuler=function(e,t,n){var o=this;if(this._isDisposed)throw new Error("ViewImpl.createOverviewRuler: View is disposed");return new _.OverviewRuler(this.context,e,this.layoutProvider.getScrollHeight(),t,n,function(e){return o.layoutProvider.getVerticalOffsetForLineNumber(e)})},t.prototype.change=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.change: View is disposed");var n=!1;return this._renderOnce(function(){t._flushAnyAccumulatedEvents();var o={addZone:function(e){return n=!0,t.viewZones.addZone(e)},removeZone:function(e){n=t.viewZones.removeZone(e)||n},layoutZone:function(e){n=t.viewZones.layoutZone(e)||n}},r=null;try{r=e(o)}catch(i){s.onUnexpectedError(i)}return o.addZone=null,o.removeZone=null,n&&t.context.privateViewEventBus.emit(I.EventType.ViewZonesChanged,null),r}),n},t.prototype.getWhitespaces=function(){if(this._isDisposed)throw new Error("ViewImpl.getWhitespaces: View is disposed");return this.layoutProvider.getWhitespaces()},t.prototype.addContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.addContentWidget: View is disposed");
this._renderOnce(function(){t.contentWidgets.addWidget(e.widget),t.layoutContentWidget(e)})},t.prototype.layoutContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.layoutContentWidget: View is disposed");this._renderOnce(function(){var n=e.position?e.position.position:null,o=e.position?e.position.preference:null;t.contentWidgets.setWidgetPosition(e.widget,n,o)})},t.prototype.removeContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.removeContentWidget: View is disposed");this._renderOnce(function(){t.contentWidgets.removeWidget(e.widget)})},t.prototype.addOverlayWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.addOverlayWidget: View is disposed");this._renderOnce(function(){t.overlayWidgets.addWidget(e.widget),t.layoutOverlayWidget(e)})},t.prototype.layoutOverlayWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.layoutOverlayWidget: View is disposed");this._renderOnce(function(){var n=e.position?e.position.preference:null;t.overlayWidgets.setWidgetPosition(e.widget,n)})},t.prototype.removeOverlayWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.removeOverlayWidget: View is disposed");this._renderOnce(function(){t.overlayWidgets.removeWidget(e.widget)})},t.prototype.render=function(){if(this._isDisposed)throw new Error("ViewImpl.render: View is disposed");this.layoutProvider.emitLayoutChangedEvent()},t.prototype.renderOnce=function(e){if(this._isDisposed)throw new Error("ViewImpl.renderOnce: View is disposed");return this._renderOnce(e)},t.prototype._renderOnce=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl._renderOnce: View is disposed");return this.outgoingEventBus.deferredEmit(function(){try{var n=e?e():null}finally{t._scheduleRender()}return n})},t.prototype._scheduleRender=function(){if(this._isDisposed)throw new Error("ViewImpl._scheduleRender: View is disposed");null===this._renderAnimationFrame&&(this._renderAnimationFrame=r.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){if(this._isDisposed)throw new Error("ViewImpl._renderNow: View is disposed");this.actualRender()},t.prototype.createRenderingContext=function(e){var t=this,n=this.layoutProvider.getCurrentViewport(),o=e.visibleRangesDeltaTop,r=0,i={linesViewportData:e,scrollWidth:this.layoutProvider.getScrollWidth(),scrollHeight:this.layoutProvider.getScrollHeight(),visibleRange:e.visibleRange,bigNumbersDelta:e.bigNumbersDelta,viewportWidth:n.width,viewportHeight:n.height,viewportLeft:n.left,viewportTop:n.top,getScrolledTopFromAbsoluteTop:function(e){return t.layoutProvider.getScrolledTopFromAbsoluteTop(e)},getViewportVerticalOffsetForLineNumber:function(e){var n=t.layoutProvider.getVerticalOffsetForLineNumber(e),o=t.layoutProvider.getScrolledTopFromAbsoluteTop(n);return o},heightInPxForLine:function(e){return t.layoutProvider.heightInPxForLine(e)},getDecorationsInViewport:function(){return e.getDecorationsInViewport()},visibleRangesForRange:function(e,n){return t.viewLines.visibleRangesForRange2(e,o,r,n)},linesVisibleRangesForRange:function(e,n){return t.viewLines.linesVisibleRangesForRange(e,n)},visibleRangeForPosition:function(e){var n=t.viewLines.visibleRangesForRange2(R.Range.create(e.lineNumber,e.column,e.lineNumber,e.column),o,r,!1);return n?n[0]:null},visibleRangeForPosition2:function(e,n){var i=t.viewLines.visibleRangesForRange2(R.Range.create(e,n,e,n),o,r,!1);return i?i[0]:null},lineIsVisible:function(t){return e.visibleRange.startLineNumber<=t&&t<=e.visibleRange.endLineNumber}};return i},t.prototype.actualRender=function(){if(this._isDisposed)throw new Error("ViewImpl.actualRender: View is disposed");if(r.isInDOM(this.domNode)){var e,t,n=a.start(a.Topic.EDITOR,"View.render");try{for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onBeforeForcedLayout();var o=this.viewLines.render(),i=this.createRenderingContext(o);for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onReadAfterForcedLayout(i);for(e=0,t=this.viewParts.length;t>e;e++)this.viewParts[e].onWriteAfterForcedLayout()}catch(u){s.onUnexpectedError(u)}n.stop()}},t.prototype._setHasFocus=function(e){this.hasFocus!==e&&(this.hasFocus=e,this.context.privateViewEventBus.emit(I.EventType.ViewFocusChanged,this.hasFocus))},t}(u.ViewEventHandler);t.View=O;var D=function(){function e(e,t,n,o,r,i){this.editorId=e,this.configuration=t,this.model=n,this.privateViewEventBus=o,this.addEventHandler=r,this.removeEventHandler=i}return e}()}),define("vs/editor/common/viewModel/prefixSumComputer",["require","exports"],function(e,t){var n=function(){function e(e){this.values=e,this.prefixSum=[];for(var t=0,n=this.values.length;n>t;t++)this.prefixSum[t]=0;this.prefixSumValidIndex=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValue=function(e,t){this.values.splice(e,0,t),this.prefixSum.splice(e,0,0),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.insertValues=function(t,n){0!==n.length&&(this.values=this.values.slice(0,t).concat(n).concat(this.values.slice(t)),this.prefixSum=this.prefixSum.slice(0,t).concat(e._zeroArray(n.length)).concat(this.prefixSum.slice(t)),t-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=t-1))},e._zeroArray=function(e){for(var t=new Array(e),n=0;e>n;n++)t[n]=0;return t},e.prototype.changeValue=function(e,t){this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1))},e.prototype.removeValues=function(e,t){this.values.splice(e,t),this.prefixSum.splice(e,t),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this.getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){if(0>e)return 0;if(e<=this.prefixSumValidIndex)return this.prefixSum[e];var t=this.prefixSumValidIndex+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;e>=n;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getIndexOf=function(e,t){for(var n,o,r,i=0,s=this.values.length-1;s>=i;)if(n=i+(s-i)/2|0,r=this.getAccumulatedValue(n),o=r-this.values[n],o>e)s=n-1;else{if(!(e>=r))break;i=n+1}t.index=n,t.remainder=e-o},e}();t.PrefixSumComputer=n}),define("vs/editor/common/viewModel/characterHardWrappingLineMapper",["require","exports","vs/base/common/strings","vs/editor/common/viewModel/prefixSumComputer","vs/editor/common/common"],function(e,t,n,o,r){function i(e,t,n){var o,r=[],i=0,s=e+t+n;for(o=0;o<s.length;o++)i=Math.max(i,s.charCodeAt(o));for(o=0;i>=o;o++)r[o]=0;for(o=0;o<e.length;o++)r[e.charCodeAt(o)]=a;for(o=0;o<t.length;o++)r[t.charCodeAt(o)]=u;for(o=0;o<n.length;o++)r[n.charCodeAt(o)]=c;return r}var s={index:-1,remainder:-1},a=1,u=2,c=3,l=function(){function e(e,t,n){this.characterClasses=i(e,t,n)}return e.nextVisibleColumn=function(e,t,n,o){return n?e+(t-e%t):e+o},e.prototype.createLineMapping=function(t,i,s,l,h){if(-1===s)return null;var p=0,f="",m="	".charCodeAt(0);if(h!==r.WrappingIndent.None){var g=n.firstNonWhitespaceIndex(t);if(-1!==g){f=t.substring(0,g);for(var v=0;g>v;v++)p=e.nextVisibleColumn(p,i,t.charCodeAt(v)===m,1);h===r.WrappingIndent.Indent&&(f+="	",p=e.nextVisibleColumn(p,i,!0,1)),p>.5*s&&(f="",p=0)}}var v,_,y,b,C,S,w,E,T=this.characterClasses,x=0,M=[],L=0,k=-1,I=0,N=-1,R=0;for(y=0,v=0,_=t.length;_>v;v++){b=t.charCodeAt(v),C=b===m,S=b<T.length?T[b]:0,S===a&&(k=v,I=0);var O=1;(b>=11904&&55215>=b||b>=63744&&64255>=b||b>=65281&&65374>=b)&&(O=l),y=e.nextVisibleColumn(y,i,C,O),y>s&&0!==v&&(-1!==k?(w=k,E=I+p):-1!==N?(w=N,E=R+p):(w=v,E=0+p),M[L++]=w-x,x=w,y=e.nextVisibleColumn(E,i,C,O),k=-1,I=0,N=-1,R=0),-1!==k&&(I=e.nextVisibleColumn(I,i,C,O)),-1!==N&&(R=e.nextVisibleColumn(R,i,C,O)),S===u&&(k=v+1,I=0),S===c&&(N=v+1,R=0)}return 0===L?null:(M[L++]=_-x,new d(new o.PrefixSumComputer(M),f))},e}();t.CharacterHardWrappingLineMapperFactory=l;var d=function(){function e(e,t){this._prefixSums=e,this._wrappedLinesIndent=t}return e.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},e.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},e.prototype.getInputOffsetOfOutputPosition=function(e,t){return 0===e?t:this._prefixSums.getAccumulatedValue(e-1)+t},e.prototype.getOutputPositionOfInputOffset=function(e,t){this._prefixSums.getIndexOf(e,s),t.outputLineIndex=s.index,t.outputOffset=s.remainder},e}();t.CharacterHardWrappingLineMapping=d}),define("vs/editor/common/viewModel/filteredLineTokens",["require","exports","vs/editor/common/common","vs/editor/common/core/arrays"],function(e,t,n,o){var r=function(){function e(e,t,o,r){this._original=e,this._startOffset=t,this._endOffset=o,this._deltaStartIndex=r,this.inflatedTokens=n.LineTokensBinaryEncoding.sliceAndInflate(e.getBinaryEncodedTokensMap(),e.getBinaryEncodedTokens(),t,o,r)}return e.prototype.getTokens=function(){return this.inflatedTokens},e.prototype.getFauxIndentLength=function(){return this._deltaStartIndex},e.prototype.getTextLength=function(){return this._endOffset-this._startOffset+this._deltaStartIndex},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this._startOffset!==n._startOffset?!1:this._endOffset!==n._endOffset?!1:this._deltaStartIndex!==n._deltaStartIndex?!1:this._original.equals(n._original)}return!1},e.prototype.findIndexOfOffset=function(e){return o.Arrays.findIndexInSegmentsArray(this.inflatedTokens,e)},e}();t.FilteredLineTokens=r;var i=function(){function e(e,t){this._original=e,this._textLength=t}return e.prototype.getTokens=function(){return n.LineTokensBinaryEncoding.inflateArr(this._original.getBinaryEncodedTokensMap(),this._original.getBinaryEncodedTokens())},e.prototype.getFauxIndentLength=function(){return 0},e.prototype.getTextLength=function(){return this._textLength},e.prototype.equals=function(t){if(t instanceof e){var n=t;return this._original.equals(n._original)}return!1},e.prototype.findIndexOfOffset=function(e){return this._original.findIndexOfOffset(e)},e}();t.IdentityFilteredLineTokens=i}),define("vs/editor/common/viewModel/splitLinesCollection",["require","exports","vs/editor/common/core/position","vs/editor/common/viewModel/prefixSumComputer","vs/editor/common/viewModel/filteredLineTokens","vs/editor/common/common"],function(e,t,n,o,r,i){function s(e,t,n,o,r,i){var s=e.createLineMapping(t,n,o,r,i);return null===s?u.INSTANCE:new c(s)}var a={outputLineIndex:0,outputOffset:0},u=function(){function e(){}return e.prototype.getOutputLineCount=function(){return 1},e.prototype.getOutputLineContent=function(e,t){return e.getLineContent(t)},e.prototype.getOutputLineMinColumn=function(e,t){return e.getLineMinColumn(t)},e.prototype.getOutputLineMaxColumn=function(e,t){return e.getLineMaxColumn(t)},e.prototype.getOutputLineTokens=function(e,t,n,o){return new r.IdentityFilteredLineTokens(e.getLineTokens(t,o),e.getLineMaxColumn(t)-1)},e.prototype.getInputColumnOfOutputPosition=function(e,t){return t},e.prototype.getOutputPositionOfInputPosition=function(e,t){return new n.Position(e,t)},e.INSTANCE=new e,e}(),c=function(){function e(e){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount()}return e.prototype.getOutputLineCount=function(){return this.outputLineCount},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,n){return n+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(n+1,0)},e.prototype.getOutputLineContent=function(e,t,n){var o=this.getInputStartOffsetOfOutputLineIndex(n),r=this.getInputEndOffsetOfOutputLineIndex(e,t,n),i=e.getLineContent(t).substring(o,r);return n>0&&(i=this.wrappedIndent+i),i},e.prototype.getOutputLineMinColumn=function(e,t,n){return n>0?this.wrappedIndentLength+1:1},e.prototype.getOutputLineMaxColumn=function(e,t,n){return this.getOutputLineContent(e,t,n).length+1},e.prototype.getOutputLineTokens=function(e,t,n,o){var i=this.getInputStartOffsetOfOutputLineIndex(n),s=this.getInputEndOffsetOfOutputLineIndex(e,t,n),a=0;return n>0&&(a=this.wrappedIndentLength),new r.FilteredLineTokens(e.getLineTokens(t,o),i,s,a)},e.prototype.getInputColumnOfOutputPosition=function(e,t){var n=t-1;return e>0&&(n<this.wrappedIndentLength?n=0:n-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,n)+1},e.prototype.getOutputPositionOfInputPosition=function(e,t){this.positionMapper.getOutputPositionOfInputOffset(t-1,a);var o=a.outputLineIndex,r=a.outputOffset+1;return o>0&&(r+=this.wrappedIndentLength),new n.Position(e+o,r)},e}();t.SplitLine=c;var l=function(){function e(e,t,n,o,r,i){this.model=e,this._validModelVersionId=-1,this.tabSize=n,this.wrappingColumn=o,this.columnsForFullWidthChar=r,this.wrappingIndent=i,this.linePositionMapperFactory=t,this.constructLines(),this.tmpIndexOfResult={index:0,remainder:0}}return e.prototype._ensureValidState=function(){var e=this.model.getVersionId();if(e!==this._validModelVersionId)throw new Error("SplitLinesCollection: attempt to access a 'newer' model")},e.prototype.constructLines=function(){this.lines=[];for(var e,t=[],n=this.model.getLinesContent(),r=0,i=n.length;i>r;r++)e=s(this.linePositionMapperFactory,n[r],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent),t[r]=e.getOutputLineCount(),this.lines[r]=e;this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new o.PrefixSumComputer(t)},e.prototype.setTabSize=function(e,t){return this.tabSize===e?!1:(this.tabSize=e,this.constructLines(),t(i.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.setWrappingIndent=function(e,t){return this.wrappingIndent===e?!1:(this.wrappingIndent=e,this.constructLines(),t(i.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.setWrappingColumn=function(e,t,n){return this.wrappingColumn===e&&this.columnsForFullWidthChar===t?!1:(this.wrappingColumn=e,this.columnsForFullWidthChar=t,this.constructLines(),n(i.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.onModelFlushed=function(e,t){this.constructLines(),t(i.ViewEventNames.ModelFlushedEvent,null)},e.prototype.onModelLinesDeleted=function(e,t,n,o){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;var r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=this.prefixSumComputer.getAccumulatedValue(n-1);this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1);var a={fromLineNumber:r,toLineNumber:s};o(i.ViewEventNames.LinesDeletedEvent,a)}},e.prototype.onModelLinesInserted=function(e,t,n,o,r){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;for(var a,u,c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,l=0,d=[],h=[],p=0,f=o.length;f>p;p++){var a=s(this.linePositionMapperFactory,o[p],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent);d.push(a),u=a.getOutputLineCount(),l+=u,h.push(u)}this.lines=this.lines.slice(0,t-1).concat(d).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,h);var m={fromLineNumber:c,toLineNumber:c+l-1};r(i.ViewEventNames.LinesInsertedEvent,m)}},e.prototype.onModelLineChanged=function(e,t,n,o){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;var r=t-1,a=this.lines[r].getOutputLineCount(),u=s(this.linePositionMapperFactory,n,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent);this.lines[r]=u;var c=this.lines[r].getOutputLineCount(),l=!1,d=0,h=-1,p=0,f=-1,m=0,g=-1;a>c?(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=d+c-1,m=h+1,g=m+(a-c)-1,l=!0):c>a?(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=d+a-1,p=h+1,f=p+(c-a)-1,l=!0):(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=d+c-1),this.prefixSumComputer.changeValue(r,c);var v,_,y,b;if(h>=d)for(var v=d;h>=v;v++)_={lineNumber:v},o(i.ViewEventNames.LineChangedEvent,_);return f>=p&&(y={fromLineNumber:p,toLineNumber:f},o(i.ViewEventNames.LinesInsertedEvent,y)),g>=m&&(b={fromLineNumber:m,toLineNumber:g},o(i.ViewEventNames.LinesDeletedEvent,b)),l}},e.prototype.getOutputLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},e.prototype.getOutputLineContent=function(e){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var t=this.tmpIndexOfResult.index,n=this.tmpIndexOfResult.remainder;return this.lines[t].getOutputLineContent(this.model,t+1,n)},e.prototype.getOutputLineMinColumn=function(e){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var t=this.tmpIndexOfResult.index,n=this.tmpIndexOfResult.remainder;return this.lines[t].getOutputLineMinColumn(this.model,t+1,n)},e.prototype.getOutputLineMaxColumn=function(e){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var t=this.tmpIndexOfResult.index,n=this.tmpIndexOfResult.remainder;return this.lines[t].getOutputLineMaxColumn(this.model,t+1,n)},e.prototype.getOutputLineTokens=function(e,t){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var n=this.tmpIndexOfResult.index,o=this.tmpIndexOfResult.remainder;return this.lines[n].getOutputLineTokens(this.model,n+1,o,t)},e.prototype.convertOutputPositionToInputPosition=function(e,t){this._ensureValidState(),this.prefixSumComputer.getIndexOf(e-1,this.tmpIndexOfResult);var o=this.tmpIndexOfResult.index,r=this.tmpIndexOfResult.remainder,i=this.lines[o].getInputColumnOfOutputPosition(r,t);return new n.Position(o+1,i)},e.prototype.convertInputPositionToOutputPosition=function(e,t){this._ensureValidState(),e>this.lines.length&&(e=this.lines.length);var n=1+(1===e?0:this.prefixSumComputer.getAccumulatedValue(e-2)),o=this.lines[e-1].getOutputPositionOfInputPosition(n,t);return o},e}();t.SplitLinesCollection=l}),define("vs/editor/common/viewModel/viewModelDecorations",["require","exports","vs/editor/common/core/range","vs/editor/common/common"],function(e,t,n,o){var r=function(){function e(e,t){this.id=e.id,this.options=e.options,this.ownerId=e.ownerId,this.modelRange=e.range,this.range=t}return e}(),i=function(){function e(e,t,n){this.editorId=e,this.configuration=t,this.converter=n,this.decorations=[],this._clearCachedModelDecorationsResolver()}return e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverStartLineNumber=0,this._cachedModelDecorationsResolverEndLineNumber=0},e.prototype.dispose=function(){this.converter=null,this.decorations=null,this._clearCachedModelDecorationsResolver()},e.compareDecorations=function(e,t){return n.Range.compareRangesUsingStarts(e.range,t.range)},e.prototype.reset=function(t){var n,o,i,s,a=t.getAllDecorations(this.editorId,this.configuration.editor.readOnly);for(this.decorations=[],n=0,o=a.length;o>n;n++)i=a[n],s=new r(i,this.converter.convertModelRangeToViewRange(i.range,i.options.isWholeLine)),this.decorations[n]=s;this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations)},e.prototype.onModelDecorationsChanged=function(t,n){var i,s,a,u=!1,c=!1,l={},d={},h=this.configuration.editor.readOnly;for(s=0,a=t.addedOrChangedDecorations.length;a>s;s++)i=t.addedOrChangedDecorations[s],h&&i.isForValidation||i.ownerId&&i.ownerId!==this.editorId||(d[i.id]=i);for(s=0,a=t.removedDecorations.length;a>s;s++)l[t.removedDecorations[s]]=!0;var p,f={};for(s=0,a=this.decorations.length;a>s;s++)p=this.decorations[s],d.hasOwnProperty(p.id)&&(f[p.id]=!0,i=d[p.id],p.options=i.options,p.modelRange=i.range,p.range=this.converter.convertModelRangeToViewRange(i.range,i.options.isWholeLine),p.options.inlineClassName&&(c=!0),u=!0),l.hasOwnProperty(p.id)&&(this.decorations[s].options.inlineClassName&&(c=!0),this.decorations.splice(s,1),a--,s--,u=!0);var m;for(m in d)!f.hasOwnProperty(m)&&d.hasOwnProperty(m)&&(i=d[m],p=new r(i,this.converter.convertModelRangeToViewRange(i.range,i.options.isWholeLine)),this.decorations.push(p),p.options.inlineClassName&&(c=!0),u=!0);if(u){this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations);var g={inlineDecorationsChanged:c};n(o.ViewEventNames.DecorationsChangedEvent,g)}},e.prototype.onLineMappingChanged=function(t){var r,i,s,a,u=this.decorations,c=!1,l=!1;for(i=0,a=u.length;a>i;i++)r=u[i],s=this.converter.convertModelRangeToViewRange(r.modelRange,r.options.isWholeLine),l||!r.options.inlineClassName||n.Range.equalsRange(s,r.range)||(l=!0),c||n.Range.equalsRange(s,r.range)||(c=!0),r.range=s;if(c){this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations);var d={inlineDecorationsChanged:l};t(o.ViewEventNames.DecorationsChangedEvent,d)}},e.prototype.getAllDecorations=function(){return this.decorations},e.prototype.getDecorationsResolver=function(e,t){var n=!0;return n=n&&null!==this._cachedModelDecorationsResolver,n=n&&this._cachedModelDecorationsResolverStartLineNumber===e,n=n&&this._cachedModelDecorationsResolverEndLineNumber===t,n||(this._cachedModelDecorationsResolver=this._createDecorationsResolver(e,t),this._cachedModelDecorationsResolverStartLineNumber=e,this._cachedModelDecorationsResolverEndLineNumber=t),this._cachedModelDecorationsResolver},e.prototype._createDecorationsResolver=function(e,t){var n,o,r,i,s,a,u,c=[],l=[],d=this.decorations;for(n=e;t>=n;n++)l[n-e]=[];for(a=0,u=d.length;u>a&&(i=d[a],s=i.range,!(s.startLineNumber>t));a++)if(!(s.endLineNumber<e)&&(c.push(i),i.options.inlineClassName))for(o=Math.max(e,s.startLineNumber),r=Math.min(t,s.endLineNumber),n=o;r>=n;n++)l[n-e].push(i);return{getDecorations:function(){return c},getInlineDecorations:function(n){if(e>n||n>t)throw new Error("Unexpected line outside the ViewModelDecorationsResolver preconfigured range");return l[n-e]}}},e}();t.ViewModelDecorations=i}),define("vs/editor/common/viewModel/viewModelCursors",["require","exports","vs/editor/common/core/range","vs/editor/common/core/selection","vs/editor/common/common"],function(e,t,n,o,r){var i=function(){function e(e,t){this.configuration=e,this.converter=t,this.lastCursorPositionChangedEvent=null,this.lastCursorSelectionChangedEvent=null}return e.prototype.getSelections=function(){if(this.lastCursorSelectionChangedEvent){var e=[];e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.selection));for(var t=0,n=this.lastCursorSelectionChangedEvent.secondarySelections.length;n>t;t++)e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.secondarySelections[t]));return e}return[new o.Selection(1,1,1,1)]},e.prototype.onCursorPositionChanged=function(e,t){this.lastCursorPositionChangedEvent=e;var n=this.converter.validateViewPosition(e.viewPosition.lineNumber,e.viewPosition.column,e.position),o=this.configuration.editor.stopRenderingLineAfter;-1!==o&&n.column>o&&(n=n.clone(),n.column=o);for(var i=[],s=0,a=e.secondaryPositions.length;a>s;s++)i[s]=this.converter.validateViewPosition(e.secondaryViewPositions[s].lineNumber,e.secondaryViewPositions[s].column,e.secondaryPositions[s]),-1!==o&&i[s].column>o&&(i[s]=i[s].clone(),i[s].column=o);var u={position:n,secondaryPositions:i,isInEditableRange:e.isInEditableRange};t(r.ViewEventNames.CursorPositionChangedEvent,u)},e.prototype.onCursorSelectionChanged=function(e,t){this.lastCursorSelectionChangedEvent=e;for(var n=this.converter.convertModelSelectionToViewSelection(e.selection),o=[],i=0,s=e.secondarySelections.length;s>i;i++)o[i]=this.converter.convertModelSelectionToViewSelection(e.secondarySelections[i]);var a={selection:n,secondarySelections:o};t(r.ViewEventNames.CursorSelectionChangedEvent,a)},e.prototype.onCursorRevealRange=function(e,t){var o=null;if(e.viewRange){var i=this.converter.validateViewPosition(e.viewRange.startLineNumber,e.viewRange.startColumn,e.range.getStartPosition()),s=this.converter.validateViewPosition(e.viewRange.endLineNumber,e.viewRange.endColumn,e.range.getEndPosition());o=new n.Range(i.lineNumber,i.column,s.lineNumber,s.column)}else o=this.converter.convertModelRangeToViewRange(e.range);var a={range:o,verticalType:e.verticalType,revealHorizontal:e.revealHorizontal};t(r.ViewEventNames.RevealRangeEvent,a)},e.prototype.onLineMappingChanged=function(e){this.lastCursorPositionChangedEvent&&this.onCursorPositionChanged(this.lastCursorPositionChangedEvent,e),this.lastCursorSelectionChangedEvent&&this.onCursorSelectionChanged(this.lastCursorSelectionChangedEvent,e)},e}();t.ViewModelCursors=i});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/viewModel/viewModel",["require","exports","vs/base/common/eventEmitter","vs/base/common/strings","vs/editor/common/core/selection","vs/editor/common/core/range","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/viewModel/viewModelCursors","vs/editor/common/core/position","vs/editor/common/common"],function(e,t,n,o,r,i,s,a,u,c){var l=function(e){function t(t,n,o,r){var i=this;e.call(this),this.lines=t,this.editorId=n,this.configuration=o,this.model=r,this.restoreCurrentCenteredModelRange=null,this.isHandlingExternalEvents=!1,this.decorations=new s.ViewModelDecorations(this.editorId,this.configuration,{convertModelRangeToViewRange:function(e,t){return t?i.convertWholeLineModelRangeToViewRange(e):i.convertModelRangeToViewRange(e)}}),this.decorations.reset(this.model),this.cursors=new a.ViewModelCursors(this.configuration,this),this._updateShouldForceTokenization(),this.listenersToRemove=[],this.listenersToRemove.push(this.model.addBulkListener(function(e){return i.onEvents(e)})),this.listenersToRemove.push(this.configuration.addBulkListener(function(e){return i.onEvents(e)}))}return __extends(t,e),t.prototype.dispose=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.decorations.dispose(),this.decorations=null,this.lines=null,this.configuration=null,this.model=null},t.prototype._updateShouldForceTokenization=function(){this.shouldForceTokenization=this.lines.getOutputLineCount()<=this.configuration.editor.forcedTokenizationBoundary},t.prototype.setTabSize=function(e){var t=this;this.deferredEmit(function(){var n=t.lines.setTabSize(e,function(e,n){return t.emit(e,n)});n&&(t.emit(c.ViewEventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t._updateShouldForceTokenization())})},t.prototype.setWrappingIndent=function(e){var t=this;this.deferredEmit(function(){var n=t.lines.setWrappingIndent(c.wrappingIndentFromString(e),function(e,n){return t.emit(e,n)});n&&(t.emit(c.ViewEventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t._updateShouldForceTokenization())})},t.prototype.restoreCenteredModelRange=function(){if(this.restoreCurrentCenteredModelRange){var e=this.convertModelRangeToViewRange(this.restoreCurrentCenteredModelRange);this.restoreCurrentCenteredModelRange=null;var t={range:e,verticalType:c.VerticalRevealType.Center,revealHorizontal:!1};this.emit(c.ViewEventNames.RevealRangeEvent,t)}},t.prototype.setWrappingColumn=function(e,t,n){var o=this,r=null,s=!1;this.deferredEmit(function(){if(n){var a=new i.Range(n,1,n,o.getLineMaxColumn(n));r=o.convertViewRangeToModelRange(a)}s=o.lines.setWrappingColumn(e,t,function(e,t){return o.emit(e,t)}),s?(o.emit(c.ViewEventNames.LineMappingChangedEvent),o.decorations.onLineMappingChanged(function(e,t){return o.emit(e,t)}),o.cursors.onLineMappingChanged(function(e,t){return o.emit(e,t)}),o._updateShouldForceTokenization()):r=null,r&&(o.restoreCurrentCenteredModelRange=r),o.isHandlingExternalEvents||o.restoreCenteredModelRange()})},t.prototype.addEventSource=function(e){var t=this;this.listenersToRemove.push(e.addBulkListener(function(e){return t.onEvents(e)}))},t.prototype.onEvents=function(e){var t=this;this.isHandlingExternalEvents=!0,this.deferredEmit(function(){var n,o,r,i,s,a=!1,u=!1,l=!1;for(n=0,o=e.length;o>n;n++)switch(r=e[n],i=r.getData(),r.getType()){case c.EventType.ModelContentChanged:switch(s=i,s.changeType){case c.EventType.ModelContentChangedFlush:t.onModelFlushed(s),u=!0;break;case c.EventType.ModelContentChangedLinesDeleted:t.onModelLinesDeleted(s),u=!0;break;case c.EventType.ModelContentChangedLinesInserted:t.onModelLinesInserted(s),u=!0;break;case c.EventType.ModelContentChangedLineChanged:l=t.onModelLineChanged(s);break;default:console.info("ViewModel received unknown event: "),console.info(r)}a=!0;break;case c.EventType.ModelTokensChanged:t.onModelTokensChanged(i);break;case c.EventType.ModelModeChanged:break;case c.EventType.ModelModeSupportChanged:break;case c.EventType.ModelPropertiesChanged:break;case c.EventType.ModelContentChanged2:break;case c.EventType.ModelDecorationsChanged:t.onModelDecorationsChanged(i);break;case c.EventType.ModelDispose:break;case c.EventType.CursorPositionChanged:t.onCursorPositionChanged(i);break;case c.EventType.CursorSelectionChanged:t.onCursorSelectionChanged(i);break;case c.EventType.CursorRevealRange:t.onCursorRevealRange(i);break;case c.EventType.ConfigurationChanged:if(t.setTabSize(t.configuration.getIndentationOptions().tabSize),t.setWrappingIndent(t.configuration.editor.wrappingIndent),i.readOnly){t.decorations.reset(t.model);var d={inlineDecorationsChanged:!1};t.emit(c.ViewEventNames.DecorationsChangedEvent,d)}t.emit(r.getType(),i);break;default:console.info("View received unknown event: "),console.info(r)}a&&t._updateShouldForceTokenization(),!u&&l&&(t.emit(c.ViewEventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)}),t._updateShouldForceTokenization())}),this.restoreCenteredModelRange(),this.isHandlingExternalEvents=!1},t.prototype.onModelFlushed=function(e){var t=this;this.lines.onModelFlushed(e.versionId,function(e,n){return t.emit(e,n)}),this.decorations.reset(this.model)},t.prototype.onModelDecorationsChanged=function(e){var t=this;this.decorations.onModelDecorationsChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onModelLinesDeleted=function(e){var t=this;this.lines.onModelLinesDeleted(e.versionId,e.fromLineNumber,e.toLineNumber,function(e,n){return t.emit(e,n)})},t.prototype.onModelTokensChanged=function(e){var t=this.convertModelPositionToViewPosition(e.fromLineNumber,1).lineNumber,n=this.convertModelPositionToViewPosition(e.toLineNumber,this.model.getLineMaxColumn(e.toLineNumber)).lineNumber,e={fromLineNumber:t,toLineNumber:n};this.emit(c.ViewEventNames.TokensChangedEvent,e)},t.prototype.onModelLineChanged=function(e){var t=this,n=this.lines.onModelLineChanged(e.versionId,e.lineNumber,e.detail,function(e,n){return t.emit(e,n)});return n},t.prototype.onModelLinesInserted=function(e){var t=this;this.lines.onModelLinesInserted(e.versionId,e.fromLineNumber,e.toLineNumber,e.detail.split("\n"),function(e,n){return t.emit(e,n)})},t.prototype.validateViewPosition=function(e,t,n){1>e&&(e=1);var o=this.getLineCount();e>o&&(e=o);var r=this.getLineMinColumn(e),i=this.getLineMaxColumn(e);r>t&&(t=r),t>i&&(t=i);var s=this.convertViewPositionToModelPosition(e,t);return s.equals(n)?new u.Position(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)},t.prototype.onCursorPositionChanged=function(e){var t=this;
this.cursors.onCursorPositionChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorSelectionChanged=function(e){var t=this;this.cursors.onCursorSelectionChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorRevealRange=function(e){var t=this;this.cursors.onCursorRevealRange(e,function(e,n){return t.emit(e,n)})},t.prototype.getLineCount=function(){return this.lines.getOutputLineCount()},t.prototype.getLineContent=function(e){return this.lines.getOutputLineContent(e)},t.prototype.getLineMinColumn=function(e){return this.lines.getOutputLineMinColumn(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getOutputLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=o.firstNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=o.lastNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+2},t.prototype.getLineTokens=function(e){return this.lines.getOutputLineTokens(e,!this.shouldForceTokenization)},t.prototype.getLineRenderLineNumber=function(e){var t=this.convertViewPositionToModelPosition(e,1);if(1!==t.column)return"";var n=t.lineNumber;return"function"==typeof this.configuration.editor.lineNumbers?this.configuration.editor.lineNumbers(n):n.toString()},t.prototype.getDecorationsResolver=function(e,t){return this.decorations.getDecorationsResolver(e,t)},t.prototype.getAllDecorations=function(){return this.decorations.getAllDecorations()},t.prototype.getValueInRange=function(e,t){var n=this.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)},t.prototype.getModelLineContent=function(e){return this.model.getLineContent(e)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.convertViewPositionToModelPosition=function(e,t){return this.lines.convertOutputPositionToInputPosition(e,t)},t.prototype.convertViewRangeToModelRange=function(e){var t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new i.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertModelPositionToViewPosition=function(e,t){return this.lines.convertInputPositionToOutputPosition(e,t)},t.prototype.convertModelSelectionToViewSelection=function(e){var t=this.convertModelPositionToViewPosition(e.selectionStartLineNumber,e.selectionStartColumn),n=this.convertModelPositionToViewPosition(e.positionLineNumber,e.positionColumn);return new r.Selection(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new i.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertWholeLineModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,this.model.getLineMaxColumn(e.endLineNumber));return new i.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t}(n.EventEmitter);t.ViewModel=l}),define("vs/editor/browser/editorBrowserExtensions",["require","exports","vs/platform/platform"],function(e,t,n){var o;!function(e){function t(e){n.Registry.as(i.EditorContributions).registerEditorBrowserContribution(e)}function o(){return n.Registry.as(i.EditorContributions).getEditorBrowserContributions()}e.registerEditorContribution=t,e.getEditorContributions=o}(o=t.EditorBrowserRegistry||(t.EditorBrowserRegistry={}));var r=function(){function e(e){this._ctor=e}return e.prototype.createInstance=function(e,t){return e.createInstance(this._ctor,t)},e}(),i={EditorContributions:"editor.contributions"},s=function(){function e(){this.editorContributions=[]}return e.prototype.registerEditorBrowserContribution=function(e){this.editorContributions.push(new r(e))},e.prototype.getEditorBrowserContributions=function(){return this.editorContributions.slice(0)},e}();n.Registry.add(i.EditorContributions,new s)}),define("vs/platform/keybinding/common/keybindingsUtils",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/platform"],function(e,t,n,o){function r(e,t){var n=[];(e.ctrlCmd&&!o.isMacintosh||e.winCtrl&&o.isMacintosh)&&n.push(t.ctrlKeyLabel),e.shift&&n.push(t.shiftKeyLabel),e.alt&&n.push(t.altKeyLabel),e.ctrlCmd&&o.isMacintosh&&n.push(t.cmdKeyLabel),e.winCtrl&&!o.isMacintosh&&n.push(t.windowsKeyLabel),n.push(t.getLabelForKey(e));var i=n.join(t.modifierSeparator);return e.chord?i+" "+r(e.chord,t):i}var i=function(){function e(){}return e.toLabel=function(e){return r(e,o.isMacintosh?s.INSTANCE:a.INSTANCE)},e.toAtomAccelerator=function(t){var n=[t.ctrlCmd?"CmdOrCtrl+":"",t.winCtrl&&o.isMacintosh?"Ctrl+":"",t.shift?"Shift+":"",t.alt?"Alt+":"",e._keyToAtomAccelerator(t)].join("");return t.chord?n+" "+e.toAtomAccelerator(t.chord):n},e._keyToAtomAccelerator=function(e){switch(e.key.toLowerCase()){case"uparrow":return"Up";case"downarrow":return"Down";case"leftarrow":return"Left";case"rightarrow":return"Right";case"del":return"Delete"}return e.key},e.toUserSettingsLabel=function(e){return r(e,u.INSTANCE)},e.toMapKey=function(e){return r(e,c.INSTANCE)},e.bindToCurrentPlatform=function(e){if(o.isWindows){if(e&&e.win)return e.win}else if(o.isMacintosh){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},e}();t.KeybindingsUtils=i;var s=function(){function e(){this.ctrlKeyLabel="⌃",this.shiftKeyLabel="⇧",this.altKeyLabel="⌥",this.cmdKeyLabel="⌘",this.windowsKeyLabel=n.localize("vs_platform_keybinding_common_keybindingsUtils",0),this.modifierSeparator=""}return e.prototype.getLabelForKey=function(t){switch(t.key){case"Del":return"Delete";case"LeftArrow":return e.leftArrowUnicodeLabel;case"UpArrow":return e.upArrowUnicodeLabel;case"RightArrow":return e.rightArrowUnicodeLabel;case"DownArrow":return e.downArrowUnicodeLabel}return t.key},e.INSTANCE=new e,e.leftArrowUnicodeLabel=String.fromCharCode(8592),e.upArrowUnicodeLabel=String.fromCharCode(8593),e.rightArrowUnicodeLabel=String.fromCharCode(8594),e.downArrowUnicodeLabel=String.fromCharCode(8595),e}(),a=function(){function e(){this.ctrlKeyLabel=n.localize("vs_platform_keybinding_common_keybindingsUtils",1),this.shiftKeyLabel=n.localize("vs_platform_keybinding_common_keybindingsUtils",2),this.altKeyLabel=n.localize("vs_platform_keybinding_common_keybindingsUtils",3),this.cmdKeyLabel=n.localize("vs_platform_keybinding_common_keybindingsUtils",4),this.windowsKeyLabel=n.localize("vs_platform_keybinding_common_keybindingsUtils",5),this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){switch(e.key){case"Del":return"Delete"}return e.key},e.INSTANCE=new e,e}(),u=function(){function e(){this.ctrlKeyLabel="Ctrl",this.shiftKeyLabel="Shift",this.altKeyLabel="Alt",this.cmdKeyLabel="Meta",this.windowsKeyLabel="Meta",this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){return e.key},e.INSTANCE=new e,e}(),c=function(){function e(){this.ctrlKeyLabel="Ctrl",this.shiftKeyLabel="Shift",this.altKeyLabel="Alt",this.cmdKeyLabel="Meta",this.windowsKeyLabel="Meta",this.modifierSeparator="-"}return e.prototype.getLabelForKey=function(e){return e.key},e.INSTANCE=new e,e}()}),define("vs/platform/keybinding/common/keybindingsRegistry",["require","exports","vs/platform/platform","vs/platform/keybinding/common/keybindingsUtils"],function(e,t,n,o){var r=function(){function e(){this.KEYBINDING_CONTEXT_OPERATOR_EQUAL="equal",this.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL="not_equal",this.WEIGHT={editorCore:function(e){return void 0===e&&(e=0),0+e},editorContrib:function(e){return void 0===e&&(e=0),100+e},workbenchContrib:function(e){return void 0===e&&(e=0),200+e}},this._keybindings=[],this._commands=Object.create(null)}return e.prototype.registerCommandRule=function(e){var t=this,n=o.KeybindingsUtils.bindToCurrentPlatform(e);n&&n.primary&&this.registerDefaultKeybinding(n.primary,e.id,e.weight,0,e.context),n&&Array.isArray(n.secondary)&&n.secondary.forEach(function(n,o){return t.registerDefaultKeybinding(n,e.id,e.weight,-o-1,e.context)})},e.prototype.registerCommandDesc=function(e){this.registerCommandRule(e),this._commands[e.id]=e.handler},e.prototype.registerDefaultKeybinding=function(e,t,n,o,r){this._keybindings.push({keybinding:e,command:t,context:r,weight1:n,weight2:o})},e.prototype.getCommands=function(){return this._commands},e.prototype.getDefaultKeybindings=function(){return this._keybindings},e}();t.KeybindingsRegistry=new r,t.Extensions={EditorModes:"platform.keybindingsRegistry"},n.Registry.add(t.Extensions.EditorModes,t.KeybindingsRegistry)}),define("vs/editor/common/config/config",["require","exports","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/common/common"],function(e,t,n,o){function r(e,t,n,o){var r=n.context.editorId;if(!r)return o&&console.warn("Cannot execute "+e+" because no editor is focused."),null;var i=t.codeEditorService.getCodeEditor(r);return i?i:(o&&console.warn("Cannot execute "+e+" because editor `"+r+"` could not be found."),null)}function i(e,t,n,o){var i=r(e,t,n,!0);i&&o(i)}function s(e){var t=e.editorService.getActiveEditor&&e.editorService.getActiveEditor();if(t){var n=t.getControl();if(n&&"function"==typeof n.getEditorType){var o=n;return o}}return null}function a(e,t,n){i(e,t,n,function(t){t.trigger("keyboard",e,n)})}function u(e,t,r,i){void 0===r&&(r=n.KeybindingsRegistry.WEIGHT.editorCore());var s={id:e,handler:a.bind(null,e),weight:r,context:i?i:[{key:o.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS}],primary:t.primary,secondary:t.secondary,win:t.win,mac:t.mac,linux:t.linux};n.KeybindingsRegistry.registerCommandDesc(s)}function c(e,t){return{shift:e,alt:!0,key:t}}function l(e,t){return{ctrlCmd:!0,shift:e,key:t}}function d(e,t,n){u(e,{primary:l(t,n),mac:{primary:c(t,n)}})}function h(e,t){var n=o.Handler.SelectAll;if(t.context[o.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS]){var i=r(n,e,t,!1);if(i)return i.trigger("keyboard",n,t),void 0}var a=document.activeElement;if(a&&["input","textarea"].indexOf(a.tagName.toLowerCase())>=0)return a.select(),void 0;var u=s(e);return u?(u.trigger("keyboard",n,t),void 0):void 0}t.findFocusedEditor=r,t.withCodeEditorFromCommandHandler=i,t.getActiveEditor=s;var p=o.Handler;u(p.CursorLeft,{primary:{key:"LeftArrow"},mac:{primary:{key:"LeftArrow"},secondary:[{winCtrl:!0,key:"B"}]}}),u(p.CursorLeftSelect,{primary:{shift:!0,key:"LeftArrow"}}),u(p.CursorRight,{primary:{key:"RightArrow"},mac:{primary:{key:"RightArrow"},secondary:[{winCtrl:!0,key:"F"}]}}),u(p.CursorRightSelect,{primary:{shift:!0,key:"RightArrow"}}),u(p.CursorUp,{primary:{key:"UpArrow"},mac:{primary:{key:"UpArrow"},secondary:[{winCtrl:!0,key:"P"}]}}),u(p.CursorUpSelect,{primary:{shift:!0,key:"UpArrow"},secondary:[l(!0,"UpArrow")],mac:{primary:{shift:!0,key:"UpArrow"}}}),u(p.CursorDown,{primary:{key:"DownArrow"},mac:{primary:{key:"DownArrow"},secondary:[{winCtrl:!0,key:"N"}]}}),u(p.CursorDownSelect,{primary:{shift:!0,key:"DownArrow"},secondary:[l(!0,"DownArrow")],mac:{primary:{shift:!0,key:"DownArrow"}}}),u(p.CursorPageUp,{primary:{key:"PageUp"}}),u(p.CursorPageUpSelect,{primary:{shift:!0,key:"PageUp"}}),u(p.CursorPageDown,{primary:{key:"PageDown"}}),u(p.CursorPageDownSelect,{primary:{shift:!0,key:"PageDown"}}),u(p.CursorHome,{primary:{key:"Home"},mac:{primary:{key:"Home"},secondary:[{ctrlCmd:!0,key:"LeftArrow"},{winCtrl:!0,key:"A"}]}}),u(p.CursorHomeSelect,{primary:{shift:!0,key:"Home"},mac:{primary:{shift:!0,key:"Home"},secondary:[{ctrlCmd:!0,shift:!0,key:"LeftArrow"}]}}),u(p.CursorEnd,{primary:{key:"End"},mac:{primary:{key:"End"},secondary:[{ctrlCmd:!0,key:"RightArrow"},{winCtrl:!0,key:"E"}]}}),u(p.CursorEndSelect,{primary:{shift:!0,key:"End"},mac:{primary:{shift:!0,key:"End"},secondary:[{ctrlCmd:!0,shift:!0,key:"RightArrow"}]}}),u(p.Tab,{primary:{key:"Tab"}},n.KeybindingsRegistry.WEIGHT.editorCore(),[{key:o.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:o.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,operator:n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0}]),u(p.Outdent,{primary:{shift:!0,key:"Tab"}},n.KeybindingsRegistry.WEIGHT.editorCore(),[{key:o.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:o.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,operator:n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0}]),u(p.DeleteLeft,{primary:{key:"Backspace"},secondary:[{shift:!0,key:"Backspace"}],mac:{primary:{key:"Backspace"},secondary:[{shift:!0,key:"Backspace"},{winCtrl:!0,key:"H"},{winCtrl:!0,key:"Backspace"}]}}),u(p.DeleteRight,{primary:{key:"Delete"},mac:{primary:{key:"Delete"},secondary:[{winCtrl:!0,key:"D"}]}}),u(p.DeleteAllLeft,{primary:null,mac:{primary:{ctrlCmd:!0,key:"Backspace"}}}),u(p.DeleteAllRight,{primary:null,mac:{primary:{winCtrl:!0,key:"K"},secondary:[{ctrlCmd:!0,key:"Delete"}]}}),d(p.CursorWordLeft,!1,"LeftArrow"),d(p.CursorWordLeftSelect,!0,"LeftArrow"),d(p.CursorWordRight,!1,"RightArrow"),d(p.CursorWordRightSelect,!0,"RightArrow"),d(p.DeleteWordLeft,!1,"Backspace"),d(p.DeleteWordRight,!1,"Delete"),u(p.CancelSelection,{primary:{key:"Escape"}},n.KeybindingsRegistry.WEIGHT.editorCore(),[{key:o.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:o.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION}]),u(p.RemoveSecondaryCursors,{primary:{key:"Escape"}},n.KeybindingsRegistry.WEIGHT.editorCore(1),[{key:o.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:o.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS}]),u(p.CursorTop,{primary:{ctrlCmd:!0,key:"Home"},mac:{primary:{ctrlCmd:!0,key:"UpArrow"}}}),u(p.CursorTopSelect,{primary:{ctrlCmd:!0,shift:!0,key:"Home"},mac:{primary:{ctrlCmd:!0,shift:!0,key:"UpArrow"}}}),u(p.CursorBottom,{primary:{ctrlCmd:!0,key:"End"},mac:{primary:{ctrlCmd:!0,key:"DownArrow"}}}),u(p.CursorBottomSelect,{primary:{ctrlCmd:!0,shift:!0,key:"End"},mac:{primary:{ctrlCmd:!0,shift:!0,key:"DownArrow"}}}),u(p.LineBreakInsert,{primary:null,mac:{primary:{winCtrl:!0,key:"O"}}}),u(p.Undo,{primary:{ctrlCmd:!0,key:"Z"}}),u(p.CursorUndo,{primary:{ctrlCmd:!0,key:"U"}}),u(p.Redo,{primary:{ctrlCmd:!0,key:"Y"},secondary:[{ctrlCmd:!0,shift:!0,key:"Z"}],mac:{primary:{ctrlCmd:!0,shift:!0,key:"Z"}}}),n.KeybindingsRegistry.registerCommandDesc({id:"editor.action.selectAll",handler:h,weight:n.KeybindingsRegistry.WEIGHT.editorCore(),context:null,primary:{ctrlCmd:!0,key:"A"}})}),define("vs/base/common/marshalling",["require","exports","vs/base/common/objects","vs/base/common/types"],function(e,t,n,o){function r(e){c.push(e)}function i(e){return n.cloneAndChange(e,function(e){if("object"==typeof e){for(var t=0;t<c.length;t++){var n=c[t];if(n.canSerialize(e))return n.serialize(e,i)}if(l&&l.canSerialize(e))return l.serialize(e,i)}return void 0})}function s(e){return n.cloneAndChange(e,function(e){if(o.isObject(e)){for(var t=0;t<c.length;t++){var n=c[t];if(n.canDeserialize(e))return n.deserialize(e,s)}if(l&&l.canDeserialize(e))return l.deserialize(e,s)}return void 0})}function a(e,t){void 0===t&&(t=null),l=t;var n=JSON.stringify(i(e));return l=null,n}function u(e,t){void 0===t&&(t=null),l=t;var n=s(JSON.parse(e));return l=null,n}var c=[];t.registerMarshallingContribution=r;var l=null;t.serialize=i,t.deserialize=s,r({canSerialize:function(e){return e instanceof RegExp},serialize:function(e){var t="";return e.global?t+="g":e.ignoreCase?t+="i":e.multiline&&(t+="m"),{$isRegExp:!0,source:e.source,flags:t}},canDeserialize:function(e){return e.$isRegExp},deserialize:function(e){return new RegExp(e.source,e.flags)}}),t.marshallObject=a,t.demarshallObject=u}),define("vs/base/common/hash",["require","exports"],function(e,t){function n(e){for(var t=1540483477,n=24,o=0,r=e.length,i=r,s=0^i,a=o;i>=2;){var u=e.charCodeAt(a),c=e.charCodeAt(a+1),l=u|c<<16;l*=t,l^=l>>n,l*=t,s*=t,s^=l,a+=2,i-=2}return 1===i&&(s^=e.charCodeAt(a),s*=t),s^=s>>13,s*=t,s^=s>>15}function o(e,t){return(t<<5)+t+e&2147483647}t.computeMurmur2StringHashCode=n,t.combine=o});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/instantiation/common/descriptors",["require","exports","vs/base/common/errors","vs/base/common/marshalling","vs/base/common/hash"],function(e,t,n,o,r){var i=function(){function e(e){this._staticArguments=e}return e.prototype.appendStaticArguments=function(e){this._staticArguments.push.apply(this._staticArguments,e)},e.prototype.staticArguments=function(e){return isNaN(e)?this._staticArguments.slice(0):this._staticArguments[e]},e.prototype._validate=function(e){if(!e)throw n.illegalArgument("can not be falsy")},e}();t.AbstractDescriptor=i;var s=function(e){function t(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e.call(this,n),this._ctor=t}return __extends(t,e),Object.defineProperty(t.prototype,"ctor",{get:function(){return this._ctor},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e===this?!0:e instanceof t?e.ctor===this.ctor:!1},t.prototype.hashCode=function(){return 61*(1+this.ctor.length)},t}(i);t.SyncDescriptor=s,o.registerMarshallingContribution({canSerialize:function(e){return e instanceof a},serialize:function(e,t){return{$isAsyncDescriptor:!0,$moduleName:e.moduleName,$ctorName:e.ctorName,$staticArguments:t(e.staticArguments())}},canDeserialize:function(e){return e.$isAsyncDescriptor},deserialize:function(e,t){var n=new a(e.$moduleName,e.$ctorName);return n.appendStaticArguments(t(e.$staticArguments)),n}});var a=function(t){function n(e,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];t.call(this,o),this._moduleName=e,this._ctorName=n}return __extends(n,t),n.create=function(e,t){return new n(e,t)},Object.defineProperty(n.prototype,"moduleName",{get:function(){return this._moduleName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ctorName",{get:function(){return this._ctorName},enumerable:!0,configurable:!0}),n.prototype.equals=function(e){return e===this?!0:e instanceof n?e.moduleName===this.moduleName&&e.ctorName===this.ctorName:!1},n.prototype.hashCode=function(){return r.computeMurmur2StringHashCode(this.moduleName)*r.computeMurmur2StringHashCode(this.ctorName)},n.prototype.toSyncDescriptor=function(){var t;try{t=e(this.moduleName)}catch(n){return null}var o=t[this.ctorName],r=new s(o);return r.appendStaticArguments(this.staticArguments()),r},n}(i);t.AsyncDescriptor=a});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/editorCommonExtensions",["require","exports","vs/editor/common/common","vs/platform/platform","vs/base/common/errors","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/common/config/config","vs/platform/instantiation/common/descriptors"],function(e,t,n,o,r,i,s,a){function u(e,t,n){s.withCodeEditorFromCommandHandler(e,t,n,function(t){t.trigger("keyboard",e,n)})}function c(e,t,n){var o=s.findFocusedEditor(e,t,n,!1);if(o)return o.trigger("keyboard",e,n),void 0;var i=s.getActiveEditor(t);if(i){var a=i.getAction(e);return a&&(t.telemetryService.publicLog("editorActionInvoked",{name:a.label}),a.run().done(null,r.onUnexpectedError)),void 0}}function l(e,t){return e?[{key:n.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:t}]:[{key:n.KEYBINDING_CONTEXT_EDITOR_FOCUS},{key:t}]}function d(e,t){return function(n,o){s.withCodeEditorFromCommandHandler(e,n,o,function(e){t(n,e,o)})}}!function(e){e[e.None=0]="None",e[e.EditorTextFocus=1]="EditorTextFocus",e[e.EditorFocus=2]="EditorFocus"}(t.ContextKey||(t.ContextKey={}));var h=t.ContextKey,p=function(){function e(e,t,n,o){void 0===o&&(o=y),this.ctor=e,this.id=t,this.label=n,this.kbOpts=o}return e}();t.EditorActionDescriptor=p;var f;!function(e){function t(e){o.Registry.as(v.EditorCommonContributions).registerEditorAction(e)}function n(e){o.Registry.as(v.EditorCommonContributions).registerEditorContribution2(e)}function r(){return o.Registry.as(v.EditorCommonContributions).getEditorContributions2()}function s(e){return void 0===e&&(e=0),i.KeybindingsRegistry.WEIGHT.editorContrib(e)}function a(e,t,n,o,r,s){var a={id:e,handler:d(e,s),weight:t,context:l(o,r),primary:n.primary,secondary:n.secondary,win:n.win,linux:n.linux,mac:n.mac};i.KeybindingsRegistry.registerCommandDesc(a)}e.registerEditorAction=t,e.registerEditorContribution=n,e.getEditorContributions=r,e.commandWeight=s,e.registerEditorCommand=a}(f=t.CommonEditorRegistry||(t.CommonEditorRegistry={}));var m=function(){function e(e){this._ctor=e}return e.prototype.createInstance=function(e,t){return e.createInstance(this._ctor,t)},e}(),g=function(e){function t(t,n,o){e.call(this,t,{id:n,label:o})}return __extends(t,e),t.prototype.createInstance=function(e,t){return e.createInstance(this,t)},Object.defineProperty(t.prototype,"descriptor",{get:function(){return this.staticArguments(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.descriptor.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.descriptor.label},enumerable:!0,configurable:!0}),t}(a.SyncDescriptor),v={EditorCommonContributions:"editor.commonContributions"},_=function(){function e(){this.editorContributions=[]}return e.prototype.registerEditorContribution2=function(e){this.editorContributions.push(new m(e))},e.prototype.registerEditorAction=function(e){var t=e.kbOpts.handler;t||(t=e.kbOpts.context===h.EditorTextFocus||e.kbOpts.context===h.EditorFocus?u.bind(null,e.id):c.bind(null,e.id));var o=null;e.kbOpts.context===h.EditorTextFocus?o=[{key:n.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS}]:e.kbOpts.context===h.EditorFocus&&(o=[{key:n.KEYBINDING_CONTEXT_EDITOR_FOCUS}]);var r={id:e.id,handler:t,weight:i.KeybindingsRegistry.WEIGHT.editorContrib(),context:o,primary:e.kbOpts.primary,secondary:e.kbOpts.secondary,win:e.kbOpts.win,linux:e.kbOpts.linux,mac:e.kbOpts.mac};i.KeybindingsRegistry.registerCommandDesc(r),this.editorContributions.push(new g(e.ctor,e.id,e.label))},e.prototype.getEditorContributions2=function(){return this.editorContributions.slice(0)},e}();o.Registry.add(v.EditorCommonContributions,new _);var y={primary:null,context:h.EditorTextFocus}});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/common/events",["require","exports"],function(e,t){var n=function(){function e(e){this.time=(new Date).getTime(),this.originalEvent=e,this.source=null}return e}();t.Event=n;var o=function(e){function t(t,n,o,r){e.call(this,r),this.key=t,this.oldValue=n,this.newValue=o}return __extends(t,e),t}(n);t.PropertyChangeEvent=o;var r=function(e){function t(t,n){e.call(this,n),this.element=t}return __extends(t,e),t}(n);t.ViewerEvent=r,t.EventType={PROPERTY_CHANGED:"propertyChanged",SELECTION:"selection",FOCUS:"focus",BLUR:"blur",HIGHLIGHT:"highlight",EXPAND:"expand",COLLAPSE:"collapse",TOGGLE:"toggle",CONTENTS_CHANGED:"contentsChanged",BEFORE_RUN:"beforeRun",RUN:"run",EDIT:"edit",SAVE:"save",CANCEL:"cancel",CHANGE:"change",DISPOSE:"dispose"}});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/common/actions",["require","exports","vs/base/common/winjs.base","vs/base/common/eventEmitter","vs/base/common/events"],function(e,t,n,o,r){function i(e){return e?e instanceof a?!0:"string"!=typeof e.id?!1:"string"!=typeof e.label?!1:"string"!=typeof e.class?!1:"boolean"!=typeof e.enabled?!1:"boolean"!=typeof e.checked?!1:"function"!=typeof e.run?!1:!0:!1}function s(e){function t(t){return function(){e.forEach(function(e){e.checked=e===t})}}return e.map(function(e){return new u(e,t(e))})}t.isAction=i;var a=function(e){function t(t,n,o,r,i){void 0===n&&(n=""),void 0===o&&(o=""),void 0===r&&(r=!0),void 0===i&&(i=null),e.call(this),this._id=t,this._label=n,this._cssClass=o,this._enabled=r,this._actionCallback=i}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),t.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this.emit(t.LABEL,{source:this}))},Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._setTooltip(e)},enumerable:!0,configurable:!0}),t.prototype._setTooltip=function(e){this._tooltip!==e&&(this._tooltip=e,this.emit(t.TOOLTIP,{source:this}))},Object.defineProperty(t.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),t.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this.emit(t.CLASS,{source:this}))},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),t.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this.emit(t.ENABLED,{source:this}))},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),t.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this.emit(t.CHECKED,{source:this}))},Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionCallback",{get:function(){return this._actionCallback},set:function(e){this._actionCallback=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return null!==this._actionCallback?this._actionCallback(e):n.Promise.as(!0)},t.LABEL="label",t.TOOLTIP="tooltip",t.CLASS="class",t.ENABLED="enabled",t.CHECKED="checked",t}(o.EventEmitter);t.Action=a;var u=function(e){function t(t,n){e.call(this,t.id,t.label,t.class,t.enabled,null),this.delegate=t,this.runHandler=n}return __extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.delegate.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.delegate.label},set:function(e){this.delegate.label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this.delegate.class},set:function(e){this.delegate.class=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.delegate.enabled},set:function(e){this.delegate.enabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this.delegate.checked},set:function(e){this.delegate.checked=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this.runHandler(e),this.delegate.run(e)},t.prototype.addListener=function(e,t){return this.delegate.addListener(e,t)},t.prototype.addBulkListener=function(e){return this.delegate.addBulkListener(e)},t.prototype.addEmitter=function(e,t){return this.delegate.addEmitter(e,t)},t.prototype.addEmitterTypeListener=function(e,t,n){return this.delegate.addEmitterTypeListener(e,t,n)},t.prototype.emit=function(e,t){this.delegate.emit(e,t)},t}(a);t.radioGroup=s;var c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.run=function(e,t){var o=this;return e.enabled?(this.emit(r.EventType.BEFORE_RUN,{action:e}),n.Promise.as(e.run(t)).then(function(t){o.emit(r.EventType.RUN,{action:e,result:t})},function(t){o.emit(r.EventType.RUN,{action:e,error:t})})):n.Promise.as(null)},t}(o.EventEmitter);t.ActionRunner=c});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/editorActionEnablement",["require","exports","vs/editor/common/common","vs/base/common/lifecycle"],function(e,t,n,o){function r(e,t,n){return new s([new u(t,e),new c(t,e,n)])}!function(e){e[e.TextFocus=1]="TextFocus",e[e.WidgetFocus=2]="WidgetFocus",e[e.Writeable=4]="Writeable",e[e.UpdateOnModelChange=8]="UpdateOnModelChange",e[e.UpdateOnConfigurationChange=16]="UpdateOnConfigurationChange",e[e.ShowInContextMenu=32]="ShowInContextMenu",e[e.UpdateOnCursorPositionChange=64]="UpdateOnCursorPositionChange"}(t.Behaviour||(t.Behaviour={}));var i=t.Behaviour;t.createActionEnablement=r;var s=function(){function e(e){this._delegates=e}return e.prototype.value=function(){return this._delegates.every(function(e){return e.value()})},e.prototype.reset=function(){this._delegates.forEach(function(e){e instanceof a&&e.reset()})},e.prototype.dispose=function(){this._delegates.forEach(function(e){return e.dispose()})},e}(),a=function(){function e(){this._value=null}return e.prototype.reset=function(){this._value=null},e.prototype.dispose=function(){},e.prototype.value=function(){return null===this._value&&(this._value=this._computeValue()),this._value},e.prototype._computeValue=function(){return!1},e}(),u=function(e){function t(t,o){var r=this;e.call(this),this._behaviour=t,this.editor=o,this.hasTextFocus=!1,this.hasWidgetFocus=!1,this.isReadOnly=!1,this._callOnDispose=[],this._behaviour&i.TextFocus&&(this._callOnDispose.push(this.editor.addListener2(n.EventType.EditorTextFocus,function(){return r._updateTextFocus(!0)})),this._callOnDispose.push(this.editor.addListener2(n.EventType.EditorTextBlur,function(){return r._updateTextFocus(!1)}))),this._behaviour&i.WidgetFocus&&(this._callOnDispose.push(this.editor.addListener2(n.EventType.EditorFocus,function(){return r._updateWidgetFocus(!0)})),this._callOnDispose.push(this.editor.addListener2(n.EventType.EditorBlur,function(){return r._updateWidgetFocus(!1)}))),this._behaviour&i.Writeable&&this._callOnDispose.push(this.editor.addListener2(n.EventType.ConfigurationChanged,function(){return r._update()}))}return __extends(t,e),t.prototype._updateTextFocus=function(e){this.hasTextFocus=e,this.reset()},t.prototype._updateWidgetFocus=function(e){this.hasWidgetFocus=e,this.reset()},t.prototype._update=function(){this.isReadOnly=this.editor.getConfiguration().readOnly,this.reset()},t.prototype.dispose=function(){e.prototype.dispose.call(this),o.disposeAll(this._callOnDispose)},t.prototype._computeValue=function(){return this._behaviour&i.TextFocus&&!this.hasTextFocus?!1:this._behaviour&i.WidgetFocus&&!this.hasWidgetFocus?!1:this._behaviour&i.Writeable&&this.isReadOnly?!1:!0},t}(a),c=function(e){function t(t,o,r){var s=this;e.call(this),this.editor=o,this._action=r,this._callOnDispose=[],t&i.UpdateOnModelChange&&this._callOnDispose.push(this.editor.addListener(n.EventType.ModelChanged,function(){return s.reset()})),t&i.UpdateOnCursorPositionChange&&this._callOnDispose.push(this.editor.addListener(n.EventType.CursorPositionChanged,function(){return s.reset()}))}return __extends(t,e),t.prototype._computeValue=function(){return this.editor.getModel()?this._action.isSupported()?this._action.getEnablementState()?!0:!1:!1:!1},t}(a)});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/editorAction",["require","exports","vs/base/common/actions","vs/base/common/winjs.base","vs/base/common/strings","vs/editor/common/editorActionEnablement"],function(e,t,n,o,r,i){function s(e,t,n){if(e.getLineContent().length<=t)return!1;for(var o=e.findIndexOfOffset(t),i=e.getTokenType(o),s=0,a=n.length;a>s;s++)if(""===n[s]){if(""===i)return!0}else if(r.startsWith(i,n[s]))return!0;
return!1}t.Behaviour=i.Behaviour;var a=t.Behaviour.TextFocus|t.Behaviour.Writeable|t.Behaviour.UpdateOnModelChange,u=function(e){function n(n,o,r){void 0===r&&(r=a),e.call(this,n.id),this.editor=o,this._descriptor=n,this.label=n.label||"",this._enablementState=i.createActionEnablement(o,r,this),this._shouldShowInContextMenu=!!(r&t.Behaviour.ShowInContextMenu),this._supportsReadonly=!(r&t.Behaviour.Writeable)}return __extends(n,e),n.prototype.getId=function(){return this.id},n.prototype.dispose=function(){this._enablementState.dispose(),e.prototype.dispose.call(this)},n.prototype.getGroupId=function(){return this.id},n.prototype.shouldShowInContextMenu=function(){return this._shouldShowInContextMenu},n.prototype.getDescriptor=function(){return this._descriptor},Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enablementState.value()},set:function(){var e=new Error;console.log("setting EditorAction.enabled is UNCOOL. Use resetEnablementState and getEnablementState"),console.log(e.stack)},enumerable:!0,configurable:!0}),n.prototype.resetEnablementState=function(){this._enablementState.reset()},n.prototype.isSupported=function(){if(!this._supportsReadonly){if(this.editor.getConfiguration().readOnly)return!1;var e=this.editor.getModel();if(e&&e.hasEditableRange())return!1}return!0},n.prototype.getEnablementState=function(){return!0},n}(n.Action);t.EditorAction=u;var c=function(e){function t(t,n,o){e.call(this,t,n),this._handlerId=o}return __extends(t,e),t.prototype.run=function(){return this.editor.trigger(this.getId(),this._handlerId,null),o.TPromise.as(!0)},t}(u);t.HandlerEditorAction=c;var l=function(e){function n(t,o,r){var i=o.enablement||{};e.call(this,{id:o.id,label:o.label,keybindings:o.keybindings||[]},r,n._transformBehaviour(i,o.contextMenuGroupId)),this._contextMenuGroupId=o.contextMenuGroupId,this._run=o.run,this._tokensAtPosition=i.tokensAtPosition,this._wordAtPosition=i.wordAtPosition}return __extends(n,e),n._transformBehaviour=function(e,n){var o=0;return n?o|=t.Behaviour.ShowInContextMenu:e.textFocus&&(o|=t.Behaviour.TextFocus),e.widgetFocus&&(o|=t.Behaviour.WidgetFocus),e.writeableEditor&&(o|=t.Behaviour.Writeable),"undefined"!=typeof e.tokensAtPosition&&(o|=t.Behaviour.UpdateOnCursorPositionChange),"undefined"!=typeof e.wordAtPosition&&(o|=t.Behaviour.UpdateOnCursorPositionChange),o},n.prototype.getGroupId=function(){return this._contextMenuGroupId},n.prototype.run=function(){return o.TPromise.as(this._run(this.editor))},n.prototype.getEnablementState=function(){return this._getEnablementOnTokens()&&this._getEnablementOnWord()},n.prototype._getEnablementOnTokens=function(){if(!this._tokensAtPosition)return!0;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition(),n=e.getLineContext(t.lineNumber),o=t.column-1;return s(n,o,this._tokensAtPosition)},n.prototype._getEnablementOnWord=function(){if(!this._wordAtPosition)return!0;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition(),n=e.getWordAtPosition(t);return!!n},n}(u);t.DynamicEditorAction=l}),define("vs/editor/common/core/editorState",["require","exports","vs/base/common/strings","vs/editor/common/common"],function(e,t,n,o){var r=function(){function e(e,t){var r=this;this.flags=t,t.forEach(function(t){switch(t){case o.CodeEditorStateFlag.Value:var i=e.getModel();r.modelVersionId=i?n.format("{0}#{1}",i.getAssociatedResource().toString(),i.getVersionId()):null;break;case o.CodeEditorStateFlag.Position:r.position=e.getPosition();break;case o.CodeEditorStateFlag.Selection:r.selection=e.getSelection();break;case o.CodeEditorStateFlag.Scroll:r.scrollLeft=e.getScrollLeft(),r.scrollTop=e.getScrollTop()}})}return e.prototype._equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.modelVersionId!==n.modelVersionId?!1:this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop?!1:!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)?!1:!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection)?!1:!0},e.prototype.validate=function(t){return this._equals(new e(t,this.flags))},e}();t.EditorState=r}),define("vs/css!vs/editor/browser/widget/media/editor",["vs/css!vs/editor/editor.main"],{}),define("vs/css!vs/editor/browser/widget/media/tokens",["vs/css!vs/editor/editor.main"],{}),define("vs/css!vs/editor/browser/widget/media/default-theme",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/widget/codeEditorWidget",["require","exports","vs/editor/common/common","vs/base/browser/browser","vs/editor/browser/standalone/colorizer","vs/base/common/winjs.base","vs/base/common/objects","vs/base/common/errors","vs/base/browser/dom","vs/base/common/eventEmitter","vs/editor/browser/config/configuration","vs/editor/common/controller/cursor","vs/editor/browser/view/viewImpl","vs/editor/common/viewModel/characterHardWrappingLineMapper","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModel","vs/base/common/timer","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/base/common/actions","vs/editor/common/controller/cursorMoveHelper","vs/base/common/lifecycle","vs/editor/common/editorAction","vs/editor/common/core/range","vs/editor/common/core/position","vs/editor/common/core/selection","vs/editor/common/core/editorState","vs/css!./media/editor","vs/css!./media/tokens","vs/css!./media/default-theme"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v,_,y,b,C,S,w,E,T,x){var M=0,L=function(e){function t(t,o,r){var i=this;e.call(this),this.id=++M,this._codeEditorService=t.codeEditorService;var s=g.start(g.Topic.EDITOR,"CodeEditor.ctor");this.domElement=o,this._lifetimeDispose=[],this._keybindingService=t.keybindingService.createScoped(o),this._editorIdContextKey=this._keybindingService.createKey("editorId",this.getId()),this._editorFocusContextKey=this._keybindingService.createKey(n.KEYBINDING_CONTEXT_EDITOR_FOCUS,void 0),this._editorTabMovesFocusKey=this._keybindingService.createKey(n.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,!1),this._hasMultipleSelectionsKey=this._keybindingService.createKey(n.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS,!1),this._hasNonEmptySelectionKey=this._keybindingService.createKey(n.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION,!1),this._langIdKey=this._keybindingService.createKey(n.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID,void 0),this._lifetimeListeners=[],r=r||{};var c=null;r.model&&(c=r.model,delete r.model),this._configuration=new l.Configuration(r,o,function(e){return i.model?i.model.guessIndentation(e):null}),this._configuration.editor.tabFocusMode&&this._editorTabMovesFocusKey.set(!0),this._lifetimeListeners.push(this._configuration.addListener(n.EventType.ConfigurationChanged,function(e){return i.emit(n.EventType.ConfigurationChanged,e)})),this.forcedWidgetFocusCount=0,this.focusTracker=u.trackFocus(this.domElement),this.focusTracker.addFocusListener(function(){0===i.forcedWidgetFocusCount&&(i._editorFocusContextKey.set(!0),i.emit(n.EventType.EditorFocus,{}))}),this.focusTracker.addBlurListener(function(){0===i.forcedWidgetFocusCount&&(i._editorFocusContextKey.reset(),i.emit(n.EventType.EditorBlur,{}))}),this._telemetryService=t.telemetryService,this._instantiationService=t.instantiationService.createChild({keybindingService:this._keybindingService}),this._attachModel(c),this.contentWidgets={},this.overlayWidgets={},this.contributions={};for(var d=[].concat(v.EditorBrowserRegistry.getEditorContributions()).concat(_.CommonEditorRegistry.getEditorContributions()),h=0,p=d.length;p>h;h++)try{var f=d[h].createInstance(this._instantiationService,this);this.contributions[f.getId()]=f}catch(m){console.error("Could not instantiate contribution "+f.getId()),a.onUnexpectedError(m)}s.stop(),this._codeEditorService.addCodeEditor(this)}return __extends(t,e),t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return n.EditorType.ICodeEditor},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){for(this._codeEditorService.removeCodeEditor(this),this._lifetimeDispose=C.disposeAll(this._lifetimeDispose);this._lifetimeListeners.length>0;)this._lifetimeListeners.pop()();var t;for(t in this.contributions)this.contributions.hasOwnProperty(t)&&this.contributions[t].dispose();this.contributions={},this.contentWidgets={},this.overlayWidgets={},this.focusTracker.dispose(),this._postDetachModelCleanup(this._detachModel()),this._configuration.dispose(),this._keybindingService.dispose(),this.emit(n.EventType.Disposed,{}),e.prototype.dispose.call(this)},t.prototype.captureState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return new x.EditorState(this,e)},t.prototype.colorizeModelLine=function(e,t){if(void 0===t&&(t=this.model),!t)return"";var o=t.getLineContent(e),i=t.getLineTokens(e,!1),s=n.LineTokensBinaryEncoding.inflateArr(i.getBinaryEncodedTokensMap(),i.getBinaryEncodedTokens()),a=this._configuration.getIndentationOptions();return r.colorizeLine(o,s,a.tabSize)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e),this._configuration.editor.tabFocusMode?this._editorTabMovesFocusKey.set(!0):this._editorTabMovesFocusKey.reset()},t.prototype.getConfiguration=function(){return s.clone(this._configuration.editor)},t.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},t.prototype.getIndentationOptions=function(){return s.clone(this._configuration.getIndentationOptions())},t.prototype.normalizeIndentation=function(e){return this._configuration.normalizeIndentation(e)},t.prototype.getValue=function(e){if(void 0===e&&(e=null),this.model){var t=e&&e.preserveBOM?!0:!1,o=n.EndOfLinePreference.TextDefined;return e&&e.lineEnding&&"\n"===e.lineEnding?o=n.EndOfLinePreference.LF:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(o=n.EndOfLinePreference.CRLF),this.model.getValue(o,t)}return""},t.prototype.setValue=function(e){this.model&&this.model.setValue(e)},t.prototype.getView=function(){return this._view},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){if(void 0===e&&(e=null),this.model!==e){var t=g.start(g.Topic.EDITOR,"CodeEditor.setModel"),o=this._detachModel();this._attachModel(e);var r=null,i=null;o&&(r=o.getAssociatedResource().toString()),e&&(i=e.getAssociatedResource().toString());var s={oldModelUrl:r,newModelUrl:i};t.stop(),this.emit(n.EventType.ModelChanged,s),this._postDetachModelCleanup(o)}},t.prototype.getDomNode=function(){return this.hasView?this._view.domNode:null},t.prototype.getCenteredRangeInViewport=function(){return this.hasView?this._view.getCenteredRangeInViewport():null},t.prototype.getVisibleColumnFromPosition=function(e){if(!this.model)return e.column;var t=this.model.validatePosition(e);return b.CursorMoveHelper.visibleColumnFromColumn(this.model,t.lineNumber,t.column,this._configuration.getIndentationOptions().tabSize)+1},t.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},t.prototype.setPosition=function(e,t,n,o){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),this.cursor){if(!E.Position.isIPosition(e))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}]),t&&this.revealPosition(e,n,o)}},t.prototype._sendRevealRange=function(e,t,o){if(this.model&&this.cursor){if(!w.Range.isIRange(e))throw new Error("Invalid arguments");var r=this.model.validateRange(e),i={range:r,viewRange:null,verticalType:t,revealHorizontal:o};this.cursor.emit(n.EventType.CursorRevealRange,i)}},t.prototype.revealLine=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},n.VerticalRevealType.Simple,!1)},t.prototype.revealLineInCenter=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},n.VerticalRevealType.Center,!1)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},n.VerticalRevealType.CenterIfOutsideViewport,!1)},t.prototype.revealPosition=function(e,t,o){if(void 0===t&&(t=!1),void 0===o&&(o=!1),!E.Position.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},t?n.VerticalRevealType.Center:n.VerticalRevealType.Simple,o)},t.prototype.revealPositionInCenter=function(e){if(!E.Position.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},n.VerticalRevealType.Center,!0)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){if(!E.Position.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},n.VerticalRevealType.CenterIfOutsideViewport,!0)},t.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},t.prototype.getSelections=function(){if(!this.cursor)return null;for(var e=this.cursor.getSelections(),t=[],n=0,o=e.length;o>n;n++)t[n]=e[n].clone();return t},t.prototype.setSelection=function(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===o&&(o=!1);var r=T.Selection.isISelection(e),i=w.Range.isIRange(e);if(!r&&!i)throw new Error("Invalid arguments");if(r)this._setSelectionImpl(e,t,n,o);else if(i){var s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t,n,o)}},t.prototype._setSelectionImpl=function(e,t,n,o){if(this.cursor){var r=T.Selection.createSelection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this.cursor.setSelections("api",[r]),t&&this.revealRange(r,n,o)}},t.prototype.revealLines=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},n.VerticalRevealType.Simple,!1)},t.prototype.revealLinesInCenter=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},n.VerticalRevealType.Center,!1)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},n.VerticalRevealType.CenterIfOutsideViewport,!1)},t.prototype.revealRange=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this._sendRevealRange(e,t?n.VerticalRevealType.Center:n.VerticalRevealType.Simple,o)},t.prototype.revealRangeInCenter=function(e){this._sendRevealRange(e,n.VerticalRevealType.Center,!0)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this._sendRevealRange(e,n.VerticalRevealType.CenterIfOutsideViewport,!0)},t.prototype.setSelections=function(e){if(this.cursor){if(!e||0===e.length)throw new Error("Invalid arguments");for(var t=0,n=e.length;n>t;t++)if(!T.Selection.isISelection(e[t]))throw new Error("Invalid arguments");this.cursor.setSelections("api",e)}},t.prototype.setScrollTop=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollTop(e)}},t.prototype.getScrollTop=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollTop():-1},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.hasView&&this._view.getCodeEditorHelper().delegateVerticalScrollbarMouseDown(e)},t.prototype.setScrollLeft=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollLeft(e)}},t.prototype.getScrollLeft=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollLeft():-1},t.prototype.getScrollWidth=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollWidth():-1},t.prototype.getScrollHeight=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollHeight():-1},t.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;var e=this.cursor.saveState(),t=this._view.saveState();return{cursorState:e,viewState:t}},t.prototype.restoreViewState=function(e){if(this.cursor&&this.hasView){var t=e;if(t&&t.cursorState&&t.viewState){var n=t,o=n.cursorState;Array.isArray(o)?this.cursor.restoreState(o):this.cursor.restoreState([o]),this._view.restoreState(n.viewState)}}},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e)},t.prototype.onVisible=function(){},t.prototype.onHide=function(){},t.prototype.focus=function(){this.hasView&&this._view.focus()},t.prototype.beginForcedWidgetFocus=function(){this.forcedWidgetFocusCount++},t.prototype.endForcedWidgetFocus=function(){this.forcedWidgetFocusCount--},t.prototype.isFocused=function(){return this.hasView&&this._view.isFocused()},t.prototype.getContribution=function(e){return this.contributions[e]||null},t.prototype.addAction=function(e){var t=this._instantiationService.createInstance(S.DynamicEditorAction,e,this);this.contributions[t.getId()]=t},t.prototype.getActions=function(){var e,t=[];for(e in this.contributions)if(this.contributions.hasOwnProperty(e)){var n=this.contributions[e];y.isAction(n)&&t.push(n)}return t},t.prototype.getAction=function(e){var t=this.contributions[e];return t&&y.isAction(t)?t:null},t.prototype.trigger=function(e,t,n){var o=this.getAction(t);if(null!==o)o.enabled&&(this._telemetryService.publicLog("editorActionInvoked",{name:o.label}),i.TPromise.as(o.run()).done(null,a.onUnexpectedError));else{this._configuration.handlerDispatcher.trigger(e,t,n)}},t.prototype.executeCommand=function(e,t){return this._configuration.handlerDispatcher.trigger(e,n.Handler.ExecuteCommand,t)},t.prototype.executeCommands=function(e,t){return this._configuration.handlerDispatcher.trigger(e,n.Handler.ExecuteCommands,t)},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this.contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this.contentWidgets[e.getId()]=t,this.hasView&&this._view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutContentWidget(n)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];delete this.contentWidgets[t],this.hasView&&this._view.removeContentWidget(n)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this.overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this.overlayWidgets[e.getId()]=t,this.hasView&&this._view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutOverlayWidget(n)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];delete this.overlayWidgets[t],this.hasView&&this._view.removeOverlayWidget(n)}},t.prototype.changeDecorations=function(e){return this.model?this.model.changeDecorations(e,this.id):null},t.prototype.getLineDecorations=function(e){return this.model?this.model.getLineDecorations(e,this.id,this._configuration.editor.readOnly):null},t.prototype.deltaDecorations=function(e,t){return this.model?0===e.length&&0===t.length?e:this.model.deltaDecorations(e,t,this.id):[]},t.prototype.changeViewZones=function(e){if(this.hasView){var t=this._view.change(e);t&&this.emit(n.EventType.ViewZonesChanged)}},t.prototype.getWhitespaces=function(){return this.hasView?this._view.getWhitespaces():[]},t.prototype.addTypingListener=function(e,t){var n=this;return this.cursor?(this.cursor.addTypingListener(e,t),function(){n.cursor&&n.cursor.removeTypingListener(e,t)}):function(){}},t.prototype.getTopForLineNumber=function(e){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForPosition(e,1):-1},t.prototype.getTopForPosition=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForPosition(e,t):-1},t.prototype.getScrolledVisiblePosition=function(e){if(!this.hasView)return null;var t=this.model.validatePosition(e),n=this._view.getCodeEditorHelper(),o=n.getLayoutInfo(),r=n.getVerticalOffsetForPosition(t.lineNumber,t.column)-n.getScrollTop(),i=n.getOffsetForColumn(t.lineNumber,t.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-n.getScrollLeft();return{top:r,left:i,height:this._configuration.editor.lineHeight}},t.prototype.getOffsetForColumn=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getOffsetForColumn(e,t):-1},t.prototype.getLayoutInfo=function(){return this.hasView?this._view.getCodeEditorHelper().getLayoutInfo():null},t.prototype._attachModel=function(e){var t=this;if(this.model=e?e:null,this.listenersToRemove=[],this._view=null,this.viewModel=null,this.cursor=null,this.model){this.domElement.setAttribute("data-mode-id",this.model.getMode().getId()),this._langIdKey.set(this.model.getMode().getId()),this.model.setStopLineTokenizationAfter(this._configuration.editor.stopLineTokenizationAfter),this._configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines(this._configuration.editor.longLineBoundary)),this._configuration.resetIndentationOptions(),this.model.onBeforeAttached();var r=this._configuration.getWrappingColumn(),i=-1;r>0&&(i=r);var s=this._configuration.editor.typicalFullwidthCharacterWidth/this._configuration.editor.typicalHalfwidthCharacterWidth,a=new p.CharacterHardWrappingLineMapperFactory(this._configuration.editor.wordWrapBreakBeforeCharacters,this._configuration.editor.wordWrapBreakAfterCharacters,this._configuration.editor.wordWrapBreakObtrusiveCharacters),u=new f.SplitLinesCollection(this.model,a,this._configuration.getIndentationOptions().tabSize,i,s,n.wrappingIndentFromString(this._configuration.editor.wrappingIndent));this.viewModel=new m.ViewModel(u,this.id,this._configuration,this.model);var c={viewModel:this.viewModel,convertModelPositionToViewPosition:function(e,n){return t.viewModel.convertModelPositionToViewPosition(e,n)},convertViewToModelPosition:function(e,n){return t.viewModel.convertViewPositionToModelPosition(e,n)},validateViewPosition:function(e,n,o){return t.viewModel.validateViewPosition(e,n,o)}};this.cursor=new d.Cursor(this.id,this._configuration,this.model,c,o.enableEmptySelectionClipboard),this.viewModel.addEventSource(this.cursor),this._view=new h.View(this.id,this._configuration,this.viewModel,this._keybindingService),this.listenersToRemove.push(this._view.getInternalEventBus().addBulkListener(function(e){for(var o=0,r=e.length;r>o;o++){var i=e[o].getType(),s=e[o].getData();switch(i){case n.EventType.ViewFocusGained:t.emit(n.EventType.EditorTextFocus),t.emit(n.EventType.EditorFocus,{});break;case"scroll":t.emit("scroll",s);break;case"scrollSize":t.emit("scrollSize",s);break;case n.EventType.ViewFocusLost:t.emit(n.EventType.EditorTextBlur);break;case n.EventType.ContextMenu:t.emit(n.EventType.ContextMenu,s);break;case n.EventType.MouseDown:t.emit(n.EventType.MouseDown,s);break;case n.EventType.MouseUp:t.emit(n.EventType.MouseUp,s);break;case n.EventType.KeyUp:t.emit(n.EventType.KeyUp,s);break;case n.EventType.MouseMove:t.emit(n.EventType.MouseMove,s);break;case n.EventType.MouseLeave:t.emit(n.EventType.MouseLeave,s);break;case n.EventType.KeyDown:t.emit(n.EventType.KeyDown,s);break;case n.EventType.ViewLayoutChanged:t.emit(n.EventType.EditorLayout,s)}}})),this.listenersToRemove.push(this.model.addBulkListener(function(e){for(var o=0,r=e.length;r>o;o++){var i=e[o].getType(),s=e[o].getData();switch(i){case n.EventType.ModelDecorationsChanged:t.emit(n.EventType.ModelDecorationsChanged,s);break;case n.EventType.ModelModeChanged:t.domElement.setAttribute("data-mode-id",t.model.getMode().getId()),t._langIdKey.set(t.model.getMode().getId()),t.emit(n.EventType.ModelModeChanged,s);break;case n.EventType.ModelModeSupportChanged:t.emit(n.EventType.ModelModeSupportChanged,s);break;case n.EventType.ModelContentChanged:t.emit(n.EventType.ModelContentChanged,s),t.emit("change",{});break;case n.EventType.ModelDispose:t.setModel(null)}}}));var l=function(e){var t=[e.selection].concat(e.secondarySelections);return t.some(function(e){return!e.isEmpty()})};this.listenersToRemove.push(this.cursor.addBulkListener(function(e){for(var o=!1,r=!1,i=!1,s=!1,a=0,u=e.length;u>a;a++){var c=e[a].getType(),d=e[a].getData();switch(c){case n.EventType.CursorPositionChanged:var h=d;o=!0,r=h.secondaryPositions.length>0,t.emit(n.EventType.CursorPositionChanged,d);break;case n.EventType.CursorSelectionChanged:var p=d;o=!0,r=p.secondarySelections.length>0,i=!0,s=l(p),t.emit(n.EventType.CursorSelectionChanged,d)}}o&&(r?t._hasMultipleSelectionsKey.set(!0):t._hasMultipleSelectionsKey.reset()),i&&(s?t._hasNonEmptySelectionKey.set(!0):t._hasNonEmptySelectionKey.reset())})),this.domElement.appendChild(this._view.domNode),this._view.renderOnce(function(){var e;for(e in t.contentWidgets)t.contentWidgets.hasOwnProperty(e)&&t._view.addContentWidget(t.contentWidgets[e]);for(e in t.overlayWidgets)t.overlayWidgets.hasOwnProperty(e)&&t._view.addOverlayWidget(t.overlayWidgets[e]);t._view.render(),t.hasView=!0})}else this.hasView=!1},t.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this.id)},t.prototype._detachModel=function(){this.model&&this.model.onBeforeDetached(),this.hasView=!1,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.cursor&&(this.cursor.dispose(),this.cursor=null);var e=null;this._view&&(this._view.dispose(),e=this._view.domNode,this._view=null),this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);var t=this.model;return this.model=null,e&&this.domElement.removeChild(e),this.domElement.removeAttribute("data-mode-id"),t},t}(c.EventEmitter);t.CodeEditorWidget=L;!function(){function e(e,t){this._id=e,this._position=t,this._domNode=document.createElement("div"),this._domNode.className=this._id.replace(/\./g,"-").replace(/[^a-z0-9\-]/,"")}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._position},e}();!function(e){e[e.EndOfLastEditOperation=0]="EndOfLastEditOperation"}(t.EditCursorState||(t.EditCursorState={}));var k=(t.EditCursorState,function(){function e(e,t){this._ops=e,this._editCursorState=t}return e.prototype.getEditOperations=function(e,t){if(0!==this._ops.length){this._ops.sort(function(e,t){return w.Range.compareRangesUsingStarts(e.range,t.range)});for(var n=[],o=this._ops[0],r=1;r<this._ops.length;r++)o.range.endLineNumber===this._ops[r].range.startLineNumber&&o.range.endColumn===this._ops[r].range.startColumn?(o.range=w.Range.plusRange(o.range,this._ops[r].range),o.text=o.text+this._ops[r].text):(n.push(o),o=this._ops[r]);n.push(o);for(var r=0;r<n.length;r++)t.addEditOperation(w.Range.lift(n[r].range),n[r].text)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),o=n[n.length-1].range;return T.Selection.createSelection(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn)},e}());t.CommandRunner=k}),define("vs/css!vs/base/browser/builder",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/builder",["require","exports","vs/base/common/winjs.base","vs/base/common/types","vs/base/common/strings","vs/base/common/assert","vs/base/browser/dom","vs/base/browser/browserService","vs/css!./builder"],function(e,t,n,o,r,i,s,a){function u(e,t){i.ok(o.isString(e),"Expected String as parameter");var n=a.getService().document.getElementById(e);return n?new M(n,t):null}function c(e){return e[b]||(e[b]={}),e[b]}function l(e){return!!e[b]}function d(e,t){return e instanceof L?new L(e):new M(e.getHTMLElement(),t)}function h(e,t){return new M(e,t)}function p(){return new M(null,!0)}function f(e,t,n){c(e)[t]=n}function m(e,t,n){if(l(e)){var r=c(e)[t];if(!o.isUndefined(r))return r}return n}function g(e,t){l(e)&&delete c(e)[t]}function v(e,t){f(e,C,t)}function _(e){g(e,C)}function y(e){return m(e,C)}t.withElementById=u,t.Build={withElementById:u};var b="_msDataKey",C="__$binding",S="__$listeners",w="__$visibility",E=function(){function e(e,t){this.x=e,this.y=t}return e}();t.Position=E;var T=function(){function e(e,t,n,o){this.top=e,this.right=t,this.bottom=n,this.left=o}return e}();t.Box=T;var x=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.substract=function(t){return new e(this.width-t.left-t.right,this.height-t.top-t.bottom)},e}();t.Dimension=x;var M=function(){function e(e,t){this.offdom=t,this.container=e,this.currentElement=e,this.createdElements=[],this.toUnbind={},this.captureToUnbind={},this.browserService=a.getService()}return e.prototype.asContainer=function(){return d(this,this.offdom)},e.prototype.clone=function(){var t=new e(this.container,this.offdom);return t.currentElement=this.currentElement,t.createdElements=this.createdElements,t.captureToUnbind=this.captureToUnbind,t.toUnbind=this.toUnbind,t},e.prototype.and=function(t){t instanceof e||t instanceof L||(t=new e(t,this.offdom));var n=[this];if(t instanceof L)for(var o=0;o<t.length;o++)n.push(t.item(o));else n.push(t);return new L(n)},e.prototype.build=function(t,n){i.ok(this.offdom,"This builder was not created off-dom, so build() can not be called."),t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,i.ok(t,"Builder can only be build() with a container provided."),i.ok(s.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var r,a,u=t,c=u.childNodes;if(o.isNumber(n)&&n<c.length)for(r=0,a=this.createdElements.length;a>r;r++)u.insertBefore(this.createdElements[r],c[n++]);else for(r=0,a=this.createdElements.length;a>r;r++)u.appendChild(this.createdElements[r]);return this},e.prototype.appendTo=function(t,n){t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,i.ok(t,"Builder can only be build() with a container provided."),i.ok(s.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var r=t;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var a=r.childNodes;return o.isNumber(n)&&n<a.length?r.insertBefore(this.currentElement,a[n]):r.appendChild(this.currentElement),this},e.prototype.append=function(t,n){return i.ok(t,"Need a child to append"),s.isHTMLElement(t)&&(t=h(t)),i.ok(t instanceof e||t instanceof L,"Need a child to append"),t.appendTo(this,n),this},e.prototype.offDOM=function(){return this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this},e.prototype.getHTMLElement=function(){return this.currentElement},e.prototype.getContainer=function(){return this.container},e.prototype.div=function(e,t){return this.doElement("div",e,t)},e.prototype.p=function(e,t){return this.doElement("p",e,t)},e.prototype.ul=function(e,t){return this.doElement("ul",e,t)},e.prototype.ol=function(e,t){return this.doElement("ol",e,t)},e.prototype.li=function(e,t){return this.doElement("li",e,t)},e.prototype.span=function(e,t){return this.doElement("span",e,t)},e.prototype.img=function(e,t){return this.doElement("img",e,t)
},e.prototype.a=function(e,t){return this.doElement("a",e,t)},e.prototype.header=function(e,t){return this.doElement("header",e,t)},e.prototype.section=function(e,t){return this.doElement("section",e,t)},e.prototype.footer=function(e,t){return this.doElement("footer",e,t)},e.prototype.element=function(e,t,n){return this.doElement(e,t,n)},e.prototype.doElement=function(t,n,r){var i=this.browserService.document.createElement(t);if(this.currentElement=i,this.offdom&&this.createdElements.push(i),o.isObject(n)&&this.attr(n),o.isFunction(n)&&(r=n),o.isFunction(r)){var s=new e(i);r.call(s,s)}return this.offdom||this.container.appendChild(i),this},e.prototype.domFocus=function(){return this.currentElement.focus(),this},e.prototype.hasFocus=function(){var e=this.browserService.document.activeElement;return e===this.currentElement},e.prototype.domSelect=function(e){void 0===e&&(e=null);var t=this.currentElement;return t.select(),e&&t.setSelectionRange(e.start,e.end),this},e.prototype.domBlur=function(){return this.currentElement.blur(),this},e.prototype.domClick=function(){return this.currentElement.click(),this},e.prototype.on=function(e,t,n,r){var i=this;if(o.isArray(e))e.forEach(function(e){i.on(e,t,n,r)});else{var a=e,u=s.addListener(this.currentElement,a,function(e){t(e,i,u)},r||!1);r?(this.captureToUnbind[a]||(this.captureToUnbind[a]=[]),this.captureToUnbind[a].push(u)):(this.toUnbind[a]||(this.toUnbind[a]=[]),this.toUnbind[a].push(u));var c=this.getProperty(S,[]);c.push(u),this.setProperty(S,c),n&&o.isArray(n)&&n.push(u)}return this},e.prototype.off=function(e,t){var n=this;if(o.isArray(e))e.forEach(function(e){n.off(e)});else{var r=e;if(t){if(this.captureToUnbind[r])for(;this.captureToUnbind[r].length;)this.captureToUnbind[r].pop()()}else if(this.toUnbind[r])for(;this.toUnbind[r].length;)this.toUnbind[r].pop()()}return this},e.prototype.once=function(e,t,n,r){var i=this;if(o.isArray(e))e.forEach(function(e){i.once(e,t)});else{var a=e,u=s.addListener(this.currentElement,a,function(e){t(e,i,u),u()},r||!1);n&&o.isArray(n)&&n.push(u)}return this},e.prototype.preventDefault=function(e,t,n){var o=function(e){e.preventDefault(),t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};return this.on(e,o,n)},e.prototype.attr=function(e,t){if(o.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];this.doSetAttr(n,r)}return this}return o.isString(e)&&!o.isString(t)?this.currentElement.getAttribute(e):(o.isString(e)&&(o.isString(t)||(t=String(t)),this.doSetAttr(e,t)),this)},e.prototype.doSetAttr=function(e,t){"class"===e&&(e="addClass"),this[e]?o.isArray(t)?this[e].apply(this,t):this[e].call(this,t):this.currentElement.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this.currentElement.removeAttribute(e)},e.prototype.id=function(e){return this.currentElement.setAttribute("id",e),this},e.prototype.src=function(e){return this.currentElement.setAttribute("src",e),this},e.prototype.href=function(e){return this.currentElement.setAttribute("href",e),this},e.prototype.title=function(e){return this.currentElement.setAttribute("title",e),this},e.prototype.name=function(e){return this.currentElement.setAttribute("name",e),this},e.prototype.type=function(e){return this.currentElement.setAttribute("type",e),this},e.prototype.value=function(e){return this.currentElement.setAttribute("value",e),this},e.prototype.alt=function(e){return this.currentElement.setAttribute("alt",e),this},e.prototype.draggable=function(e){return this.currentElement.setAttribute("draggable",e?"true":"false"),this},e.prototype.tabindex=function(e){return this.currentElement.setAttribute("tabindex",e.toString()),this},e.prototype.style=function(e,t){if(o.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];this.doSetStyle(n,r)}}else{if(o.isString(e)&&!o.isString(t))return this.currentElement.style[this.cssKeyToJavaScriptProperty(e)];o.isString(e)&&o.isString(t)&&this.doSetStyle(e,t)}return this},e.prototype.doSetStyle=function(e,t){if(e.indexOf("-")>=0){var n=e.split("-");e=n[0];for(var o=1;o<n.length;o++){var r=n[o];e=e+r.charAt(0).toUpperCase()+r.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]=t},e.prototype.cssKeyToJavaScriptProperty=function(e){if(e.indexOf("-")>=0){var t=e.split("-");e=t[0];for(var n=1;n<t.length;n++){var o=t[n];e=e+o.charAt(0).toUpperCase()+o.substr(1)}}else"float"===e&&(e="cssFloat");return e},e.prototype.getComputedStyle=function(){return s.getComputedStyle(this.currentElement)},e.prototype.addClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return t.forEach(function(t){var n=t.split(" ");n.forEach(function(t){s.addClass(e.currentElement,t)})}),this},e.prototype.setClass=function(e,t){return void 0===t&&(t=null),null===t?this.currentElement.className=e:t?this.addClass(e):this.removeClass(e),this},e.prototype.hasClass=function(e){return s.hasClass(this.currentElement,e)},e.prototype.removeClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return t.forEach(function(t){var n=t.split(" ");n.forEach(function(t){s.removeClass(e.currentElement,t)})}),this},e.prototype.swapClass=function(e,t){return this.hasClass(e)?(this.removeClass(e),this.addClass(t)):(this.removeClass(t),this.addClass(e)),this},e.prototype.toggleClass=function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e),this},e.prototype.color=function(e){return this.currentElement.style.color=e,this},e.prototype.background=function(e){return this.currentElement.style.backgroundColor=e,this},e.prototype.padding=function(e,t,n,r){return o.isString(e)&&e.indexOf(" ")>=0?this.padding.apply(this,e.split(" ")):(o.isUndefinedOrNull(e)||(this.currentElement.style.paddingTop=this.toPixel(e)),o.isUndefinedOrNull(t)||(this.currentElement.style.paddingRight=this.toPixel(t)),o.isUndefinedOrNull(n)||(this.currentElement.style.paddingBottom=this.toPixel(n)),o.isUndefinedOrNull(r)||(this.currentElement.style.paddingLeft=this.toPixel(r)),this)},e.prototype.margin=function(e,t,n,r){return o.isString(e)&&e.indexOf(" ")>=0?this.margin.apply(this,e.split(" ")):(o.isUndefinedOrNull(e)||(this.currentElement.style.marginTop=this.toPixel(e)),o.isUndefinedOrNull(t)||(this.currentElement.style.marginRight=this.toPixel(t)),o.isUndefinedOrNull(n)||(this.currentElement.style.marginBottom=this.toPixel(n)),o.isUndefinedOrNull(r)||(this.currentElement.style.marginLeft=this.toPixel(r)),this)},e.prototype.position=function(e,t,n,r,i){return o.isString(e)&&e.indexOf(" ")>=0?this.position.apply(this,e.split(" ")):(o.isUndefinedOrNull(e)||(this.currentElement.style.top=this.toPixel(e)),o.isUndefinedOrNull(t)||(this.currentElement.style.right=this.toPixel(t)),o.isUndefinedOrNull(n)||(this.currentElement.style.bottom=this.toPixel(n)),o.isUndefinedOrNull(r)||(this.currentElement.style.left=this.toPixel(r)),i||(i="absolute"),this.currentElement.style.position=i,this)},e.prototype.size=function(e,t){return o.isString(e)&&e.indexOf(" ")>=0?this.size.apply(this,e.split(" ")):(o.isUndefinedOrNull(e)||(this.currentElement.style.width=this.toPixel(e)),o.isUndefinedOrNull(t)||(this.currentElement.style.height=this.toPixel(t)),this)},e.prototype.minSize=function(e,t){return o.isString(e)&&e.indexOf(" ")>=0?this.minSize.apply(this,e.split(" ")):(o.isUndefinedOrNull(e)||(this.currentElement.style.minWidth=this.toPixel(e)),o.isUndefinedOrNull(t)||(this.currentElement.style.minHeight=this.toPixel(t)),this)},e.prototype.maxSize=function(e,t){return o.isString(e)&&e.indexOf(" ")>=0?this.maxSize.apply(this,e.split(" ")):(o.isUndefinedOrNull(e)||(this.currentElement.style.maxWidth=this.toPixel(e)),o.isUndefinedOrNull(t)||(this.currentElement.style.maxHeight=this.toPixel(t)),this)},e.prototype.float=function(e){return this.currentElement.style.cssFloat=e,this},e.prototype.clear=function(e){return this.currentElement.style.clear=e,this},e.prototype.normal=function(){return this.currentElement.style.fontStyle="normal",this.currentElement.style.fontWeight="normal",this.currentElement.style.textDecoration="none",this},e.prototype.italic=function(){return this.currentElement.style.fontStyle="italic",this},e.prototype.bold=function(){return this.currentElement.style.fontWeight="bold",this},e.prototype.underline=function(){return this.currentElement.style.textDecoration="underline",this},e.prototype.overflow=function(e){return this.currentElement.style.overflow=e,this},e.prototype.display=function(e){return this.currentElement.style.display=e,this},e.prototype.disable=function(){return this.currentElement.setAttribute("disabled","disabled"),this},e.prototype.enable=function(){return this.currentElement.removeAttribute("disabled"),this},e.prototype.show=function(){return this.hasClass("hidden")&&this.removeClass("hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityPromise(),this},e.prototype.showDelayed=function(e){var t=this;this.cancelVisibilityPromise();var o=n.Promise.timeout(e);return this.setProperty(w,o),o.done(function(){t.removeProperty(w),t.show()}),this},e.prototype.hide=function(){return this.hasClass("hidden")||this.addClass("hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityPromise(),this},e.prototype.isHidden=function(){return this.hasClass("hidden")||"none"===this.currentElement.style.display},e.prototype.toggleVisibility=function(){return this.cancelVisibilityPromise(),this.swapClass("builder-visible","hidden"),this.isHidden()?this.attr("aria-hidden","true"):this.attr("aria-hidden","false"),this},e.prototype.cancelVisibilityPromise=function(){var e=this.getProperty(w);e&&(e.cancel(),this.removeProperty(w))},e.prototype.border=function(e,t,n){return o.isString(e)&&e.indexOf(" ")>=0?this.border.apply(this,e.split(" ")):(this.currentElement.style.borderWidth=this.toPixel(e),n&&(this.currentElement.style.borderColor=n),t&&(this.currentElement.style.borderStyle=t),this)},e.prototype.borderTop=function(e,t,n){return o.isString(e)&&e.indexOf(" ")>=0?this.borderTop.apply(this,e.split(" ")):(this.currentElement.style.borderTopWidth=this.toPixel(e),n&&(this.currentElement.style.borderTopColor=n),t&&(this.currentElement.style.borderTopStyle=t),this)},e.prototype.borderBottom=function(e,t,n){return o.isString(e)&&e.indexOf(" ")>=0?this.borderBottom.apply(this,e.split(" ")):(this.currentElement.style.borderBottomWidth=this.toPixel(e),n&&(this.currentElement.style.borderBottomColor=n),t&&(this.currentElement.style.borderBottomStyle=t),this)},e.prototype.borderLeft=function(e,t,n){return o.isString(e)&&e.indexOf(" ")>=0?this.borderLeft.apply(this,e.split(" ")):(this.currentElement.style.borderLeftWidth=this.toPixel(e),n&&(this.currentElement.style.borderLeftColor=n),t&&(this.currentElement.style.borderLeftStyle=t),this)},e.prototype.borderRight=function(e,t,n){return o.isString(e)&&e.indexOf(" ")>=0?this.borderRight.apply(this,e.split(" ")):(this.currentElement.style.borderRightWidth=this.toPixel(e),n&&(this.currentElement.style.borderRightColor=n),t&&(this.currentElement.style.borderRightStyle=t),this)},e.prototype.textAlign=function(e){return this.currentElement.style.textAlign=e,this},e.prototype.verticalAlign=function(e){return this.currentElement.style.verticalAlign=e,this},e.prototype.toPixel=function(e){return-1===e.toString().indexOf("px")?e.toString()+"px":e},e.prototype.innerHtml=function(e,t){return t?this.currentElement.innerHTML+=e:this.currentElement.innerHTML=e,this},e.prototype.text=function(e,t){return t?0===this.currentElement.children.length?this.currentElement.textContent+=e:this.currentElement.appendChild(this.browserService.document.createTextNode(e)):this.currentElement.textContent=e,this},e.prototype.safeInnerHtml=function(e,t){return this.innerHtml(r.escape(e),t)},e.prototype.bind=function(e){return v(this.currentElement,e),this},e.prototype.unbind=function(){return _(this.currentElement),this},e.prototype.getBinding=function(){return y(this.currentElement)},e.prototype.setProperty=function(e,t){return f(this.currentElement,e,t),this},e.prototype.getProperty=function(e,t){return m(this.currentElement,e,t)},e.prototype.removeProperty=function(e){return l(this.currentElement)&&delete c(this.currentElement)[e],this},e.prototype.parent=function(e){return i.ok(!this.offdom,"Builder was created with offdom = true and thus has no parent set"),h(this.currentElement.parentNode,e)},e.prototype.children=function(e){for(var t=this.currentElement.children,n=[],o=0;o<t.length;o++)n.push(h(t.item(o),e));return new L(n)},e.prototype.removeChild=function(e){return this.currentElement===e.parent().getHTMLElement()&&this.currentElement.removeChild(e.getHTMLElement()),this},e.prototype.select=function(e,t){i.ok(o.isString(e),"Expected String as parameter");for(var n=this.currentElement.querySelectorAll(e),r=[],s=0;s<n.length;s++)r.push(h(n.item(s),t));return new L(r)},e.prototype.matches=function(e){var t=this.currentElement,n=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return n&&n.call(t,e)},e.prototype.isEmpty=function(){return!this.currentElement.childNodes||0===this.currentElement.childNodes.length},e.prototype.unbindDescendants=function(e){if(e&&e.children)for(var t=0,n=e.children.length;n>t;t++){var r=e.children.item(t);if(l(r)){var i=c(r)[S];if(o.isArray(i))for(;i.length;)i.pop()();delete r[b]}this.unbindDescendants(r)}},e.prototype.empty=function(){return this.unbindDescendants(this.currentElement),this.clearChildren(),this.offdom&&(this.createdElements=[]),this},e.prototype.clearChildren=function(){return this.currentElement&&s.clearNode(this.currentElement),this},e.prototype.destroy=function(){if(this.currentElement&&(this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty(),l(this.currentElement))){var e=c(this.currentElement)[S];if(o.isArray(e))for(;e.length;)e.pop()();delete this.currentElement[b]}var t;for(t in this.toUnbind)if(this.toUnbind.hasOwnProperty(t)&&o.isArray(this.toUnbind[t]))for(;this.toUnbind[t].length;)this.toUnbind[t].pop()();for(t in this.captureToUnbind)if(this.captureToUnbind.hasOwnProperty(t)&&o.isArray(this.captureToUnbind[t]))for(;this.captureToUnbind[t].length;)this.captureToUnbind[t].pop()();this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToUnbind=null,this.toUnbind=null},e.prototype.dispose=function(){this.destroy()},e.prototype.getPositionRelativeTo=function(t){t instanceof e&&(t=t.getHTMLElement());var n=s.getRelativeLeft(this.currentElement,t),o=s.getRelativeTop(this.currentElement,t);return new T(o,-1,-1,n)},e.prototype.getPosition=function(){var e=s.getTopLeftOffset(this.currentElement);return new T(e.top,-1,-1,e.left)},e.prototype.getTotalSize=function(){var e=s.getTotalWidth(this.currentElement),t=s.getTotalHeight(this.currentElement);return new x(e,t)},e.prototype.getContentSize=function(){var e=s.getContentWidth(this.currentElement),t=s.getContentHeight(this.currentElement);return new x(e,t)},e.prototype.getClientArea=function(){if(this.currentElement!==this.browserService.document.body){var e=s.getDomNodePosition(this.currentElement);return new x(e.width,e.height)}if(this.browserService.window.innerWidth&&this.browserService.window.innerHeight)return new x(this.browserService.window.innerWidth,this.browserService.window.innerHeight);if(this.browserService.document.body&&this.browserService.document.body.clientWidth&&this.browserService.document.body.clientWidth)return new x(this.browserService.document.body.clientWidth,this.browserService.document.body.clientHeight);if(this.browserService.document.documentElement&&this.browserService.document.documentElement.clientWidth&&this.browserService.document.documentElement.clientHeight)return new x(this.browserService.document.documentElement.clientWidth,this.browserService.document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")},e}();t.Builder=M;var L=function(e){function t(n){if(i.ok(o.isArray(n)||n instanceof t,"Expected Array or MultiBuilder as parameter"),e.call(this),this.length=0,this.builders=[],o.isArray(n))for(var r=0;r<n.length;r++)n[r]instanceof HTMLElement?this.push(h(n[r])):this.push(n[r]);else for(var r=0;r<n.length;r++)this.push(n.item(r));var s=this,a=function(e){s[e]=function(){for(var n,r=Array.prototype.slice.call(arguments),i=!1,a=0;a<s.length;a++){var u=s.item(a)[e].apply(s.item(a),r);if(u instanceof t){n||(n=[]),i=!0;for(var c=0;c<u.length;c++)n.push(u.item(c))}else o.isUndefined(u)||u instanceof M||(n||(n=[]),n.push(u))}return n&&i?new t(n):n||s}};for(var u in M.prototype)"clone"!==u&&"and"!==u&&M.prototype.hasOwnProperty(u)&&o.isFunction(M.prototype[u])&&a(u)}return __extends(t,e),t.prototype.item=function(e){return this.builders[e]},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=0;n<e.length;n++)this.builders.push(e[n]);this.length=this.builders.length},t.prototype.pop=function(){var e=this.builders.pop();return this.length=this.builders.length,e},t.prototype.concat=function(e){var t=this.builders.concat(e);return this.length=this.builders.length,t},t.prototype.shift=function(){var e=this.builders.shift();return this.length=this.builders.length,e},t.prototype.unshift=function(e){var t=this.builders.unshift(e);return this.length=this.builders.length,t},t.prototype.slice=function(e,t){var n=this.builders.slice(e,t);return this.length=this.builders.length,n},t.prototype.splice=function(e,t){var n=this.builders.splice(e,t);return this.length=this.builders.length,n},t.prototype.clone=function(){return new t(this)},t.prototype.and=function(e){e instanceof M||e instanceof t||(e=new M(e));var n=[];if(e instanceof t)for(var o=0;o<e.length;o++)n.push(e.item(o));else n.push(e);return this.push.apply(this,n),this},t}(M);t.MultiBuilder=L,t.setPropertyOnElement=f,t.getPropertyFromElement=m,t.removePropertyFromElement=g,t.bindElement=v,t.unbindElement=_,t.getBindingFromElement=y,t.Binding={setPropertyOnElement:f,getPropertyFromElement:m,removePropertyFromElement:g,bindElement:v,unbindElement:_,getBindingFromElement:y};var k=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=function(e){if(o.isUndefined(e))return p();if(!e)throw new Error("Bad use of $");if(s.isHTMLElement(e)||e===window)return h(e);if(o.isArray(e))return new L(e);if(e instanceof M)return d(e);if(o.isString(e)){if("<"===e[0]){var t,n=a.getService().document.createElement("div");if(n.innerHTML=r.format.apply(r,arguments),0===n.children.length)throw new Error("Bad use of $");if(1===n.children.length)return t=n.firstChild,n.removeChild(t),h(t);for(var i=[];n.firstChild;)t=n.firstChild,n.removeChild(t),i.push(h(t));return new L(i)}if(1===arguments.length){var u=k.exec(e);if(!u)throw new Error("Bad use of $");var c=u[1]||"div",l=u[3]||void 0,f=(u[4]||"").replace(/\./g," "),m={};return l&&(m.id=l),f&&(m["class"]=f),p().element(c,m)}var g=p();return g.element.apply(g,arguments),g}throw new Error("Bad use of $")},t.$.Box=T,t.$.Dimension=x,t.$.Position=E,t.$.Builder=M,t.$.MultiBuilder=L,t.$.Build=t.Build,t.$.Binding=t.Binding}),define("vs/css!vs/base/browser/ui/sash/sash",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/ui/sash/sash",["require","exports","vs/base/common/lifecycle","vs/base/browser/builder","vs/base/browser/browser","vs/base/common/types","vs/base/browser/dom","vs/base/browser/touch","vs/base/common/eventEmitter","vs/base/browser/mouseEvent","vs/css!./sash"],function(e,t,n,o,r,i,s,a,u,c){var l=o.$;!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(t.Orientation||(t.Orientation={}));var d=t.Orientation,h=function(e){function t(t,n,o){var i=this;void 0===o&&(o={}),e.call(this),this.$e=l(".monaco-sash").appendTo(t),this.gesture=new a.Gesture(this.$e.getHTMLElement()),this.$e.on("mousedown",function(e){i.onMouseDown(e)}),this.$e.on(a.EventType.Start,function(e){i.onTouchStart(e)}),this.orientation=o.orientation||d.VERTICAL,this.$e.addClass(this.orientation===d.HORIZONTAL?"horizontal":"vertical"),this.size=o.baseSize||5,r.isIPad&&(this.size*=4,this.$e.addClass("touch")),this.orientation===d.HORIZONTAL?this.$e.size(null,this.size):this.$e.size(this.size),this.isDisabled=!1,this.hidden=!1,this.layoutProvider=n}return __extends(t,e),t.prototype.getHTMLElement=function(){return this.$e.getHTMLElement()},t.prototype.onMouseDown=function(e){var t=this;if(s.EventHelper.stop(e,!1),!this.isDisabled){var n=new c.StandardMouseEvent(e),o=n.posx,r=n.posy,i={startX:o,currentX:o,instantDiffX:0,startY:r,currentY:r,instantDiffY:0};this.$e.addClass("active"),this.emit("start",i);var a=l("div").style({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1e6,cursor:this.orientation===d.VERTICAL?"ew-resize":"ns-resize"}),u=l(window),h=o,p=r;u.on("mousemove",function(e){s.EventHelper.stop(e,!1);var n=new c.StandardMouseEvent(e),i={startX:o,currentX:n.posx,instantDiffX:n.posx-h,startY:r,currentY:n.posy,instantDiffY:n.posy-p};h=n.posx,p=n.posy,t.emit("change",i)}).once("mouseup",function(e){s.EventHelper.stop(e,!1),t.$e.removeClass("active"),t.emit("end"),u.off("mousemove"),a.destroy()}),a.appendTo(document.body)}},t.prototype.onTouchStart=function(e){var t=this;s.EventHelper.stop(e);var o=[],r=e.pageX,u=e.pageY;this.emit("start",{startX:r,currentX:r,instantDiffX:0,startY:u,currentY:u,instantDiffY:0});var c=r,l=u;o.push(s.addDisposableListener(this.$e.getHTMLElement(),a.EventType.Change,function(e){i.isNumber(e.pageX)&&i.isNumber(e.pageY)&&(t.emit("change",{startX:r,currentX:e.pageX,instantDiffX:e.pageX-c,startY:u,currentY:e.pageY,instantDiffY:e.pageY-l}),c=e.pageX,l=e.pageY)})),o.push(s.addDisposableListener(this.$e.getHTMLElement(),a.EventType.End,function(){t.emit("end"),n.disposeAll(o)}))},t.prototype.layout=function(){var e;if(this.orientation===d.VERTICAL){var t=this.layoutProvider;e={left:t.getVerticalSashLeft(this)-this.size/2+"px"},t.getVerticalSashTop&&(e.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(e.height=t.getVerticalSashHeight(this)+"px")}else{var n=this.layoutProvider;e={top:n.getHorizontalSashTop(this)-this.size/2+"px"},n.getHorizontalSashLeft&&n.getHorizontalSashLeft(this)+"px",n.getHorizontalSashWidth&&(e.width=n.getHorizontalSashWidth(this)+"px")}this.$e.style(e)},t.prototype.show=function(){this.hidden=!1,this.$e.show()},t.prototype.hide=function(){this.hidden=!0,this.$e.hide()},t.prototype.isHidden=function(){return this.hidden},t.prototype.enable=function(){this.$e.removeClass("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.$e.addClass("disabled"),this.isDisabled=!0},t.prototype.dispose=function(){this.$e&&(this.$e.destroy(),this.$e=null),e.prototype.dispose.call(this)},t}(u.EventEmitter);t.Sash=h}),define("vs/platform/instantiation/common/instantiation",["require","exports"],function(e,t){function n(e){var t=function(t,n,o){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");t[r.DI_TARGET]===t?t[r.DI_DEPENDENCIES].push({serviceId:e,index:o}):(t[r.DI_DEPENDENCIES]=[{serviceId:e,index:o}],t[r.DI_TARGET]=t)};return t[r.DI_PROVIDES]=e,t}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=[],o=0;o<e.length;o++){var i=e[o];n.push({serviceId:r.getServiceId(i)})}return function(e){var t=e[r.DI_DEPENDENCIES_USES];return t?t.push.apply(t,n):e[r.DI_DEPENDENCIES_USES]=n,e}}var r;!function(e){function t(t){return t[e.DI_PROVIDES]}function n(t){var n=t[e.DI_DEPENDENCIES],o=t[e.DI_DEPENDENCIES_USES];return n?o?n.slice(0).concat(o):n:o}e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.DI_DEPENDENCIES_USES="$di$dependencies_uses",e.DI_PROVIDES="$di$provides_service",e.getServiceId=t,e.getServiceDependencies=n}(r=t._util||(t._util={})),t.IInstantiationService=n("instantiationService"),t.createDecorator=n,t.Uses=o,t.INullService=n("nullService")}),define("vs/css!vs/editor/browser/widget/media/diffEditor",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/browser/widget/diffEditorWidget",["require","exports","vs/editor/common/config/defaultConfig","vs/base/common/lifecycle","vs/base/common/objects","vs/editor/browser/widget/codeEditorWidget","vs/base/browser/dom","vs/base/common/eventEmitter","vs/editor/common/common","vs/base/browser/ui/sash/sash","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/viewLayout/viewLineParts","vs/base/common/async","vs/editor/common/core/range","vs/platform/instantiation/common/instantiation","vs/css!./media/diffEditor"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f){function m(e){return e.modifiedEndLineNumber>0}function g(e){return e.originalEndLineNumber>0}function v(e,t,n,o,r,i){return{range:p.Range.create(e,t,n,o),options:{isOverlay:!1,className:r,isWholeLine:i}}}function _(){var e=document.createElement("div");return e.className="diagonal-fill",e}var y=function(){function e(){this._zones=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(e){return!t._zonesMap[String(e.id)]})},e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(e){for(var n=0,o=t._zones.length;o>n;n++)e.removeZone(t._zones[n])}),this._zones=[],this._zonesMap={},this._decorations.length>0&&e.changeDecorations(function(e){for(var n=0,o=t._decorations.length;o>n;n++)e.removeDecoration(t._decorations[n])}),this._decorations=[]},e.prototype.apply=function(e,t,n){var o,r,i=this;e.changeViewZones(function(e){for(o=0,r=i._zones.length;r>o;o++)e.removeZone(i._zones[o]);for(i._zones=[],i._zonesMap={},o=0,r=n.zones.length;r>o;o++){n.zones[o].suppressMouseDown=!0;var t=e.addZone(n.zones[o]);i._zones.push(t),i._zonesMap[String(t)]=!0}}),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t.setZones(n.overviewZones)},e}(),b=0,C=function(e){function t(o,r,i){var a=this;e.call(this),this.id=++b,this._domElement=o,r=r||{},this._theme=r.theme||n.DefaultConfig.editor.theme,this._renderSideBySide=!0,"undefined"!=typeof r.renderSideBySide&&(this._renderSideBySide=r.renderSideBySide),this._ignoreTrimWhitespace=!0,"undefined"!=typeof r.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=r.ignoreTrimWhitespace),this._updateDecorationsRunner=new h.RunOnceScheduler(function(){return a._updateDecorations()},0),this._toDispose=[],this._toDispose.push(this._updateDecorationsRunner),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=document.createElement("div"),this._overviewViewportDomElement.className="diffViewport",this._overviewViewportDomElement.style.position="absolute",this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.style.height="100%",this._overviewDomElement.appendChild(this._overviewViewportDomElement),this._toDispose.push(s.addDisposableListener(this._overviewDomElement,"mousedown",function(e){a.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._containerDomElement.appendChild(this._overviewDomElement),this._createLeftHandSide(),this._createRightHandSide(),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new y,this._modifiedEditorState=new y,this._isVisible=!0,this._isHandlingScrollEvent=!1,this._width=0,this._height=0,this._lineChanges=null,this._createLeftHandSideEditor(r,i),this._createRightHandSideEditor(r,i),r.automaticLayout&&(this._measureDomElementToken=window.setInterval(function(){return a._measureDomElement(!1)},100)),this._enableSplitViewResizing=!0,"undefined"!=typeof r.enableSplitViewResizing&&(this._enableSplitViewResizing=r.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new T(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new M(this._createDataSource(),this._enableSplitViewResizing))}return __extends(t,e),t._getClassName=function(e,t){var n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=e},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.getView().createOverviewRuler("original diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.getView().createOverviewRuler("modified diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},t.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},t.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},t.prototype._createLeftHandSideEditor=function(e,t){var n=this;this.originalEditor=t.createInstance(i.CodeEditorWidget,this._originalDomNode,this._adjustOptionsForLeftHandSide(e)),this._toDispose.push(this.originalEditor.addBulkListener2(function(e){return n._onOriginalEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.originalEditor,"leftHandSide"))},t.prototype._createRightHandSideEditor=function(e,t){var n=this;this.modifiedEditor=t.createInstance(i.CodeEditorWidget,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e)),this._toDispose.push(this.modifiedEditor.addBulkListener2(function(e){return n._onModifiedEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.modifiedEditor,"rightHandSide"))},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._toDispose=o.disposeAll(this._toDispose),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler.dispose(),this._modifiedOverviewRuler.dispose(),this.originalEditor.destroy(),this.modifiedEditor.destroy(),this._strategy.dispose(),e.prototype.dispose.call(this)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return u.EditorType.IDiffEditor},t.prototype.getLineChanges=function(){return this._lineChanges},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor
},t.prototype.updateOptions=function(e){this._theme=e&&e.theme?e.theme:this._theme;var n=!1;"undefined"!=typeof e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,n=!0),"undefined"!=typeof e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,this._beginUpdateDecorations()),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),"undefined"!=typeof e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),n&&(this._renderSideBySide?this._setStrategy(new T(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new M(this._createDataSource(),this._enableSplitViewResizing)))},t.prototype.getValue=function(e){return void 0===e&&(e=null),this.modifiedEditor.getValue(e)},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._lineChanges=null,this._diffComputationToken++,e?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._lineChanges=null,this._layoutOverviewViewport()},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e,t,n,o){this.modifiedEditor.setPosition(e,t,n,o)},t.prototype.revealLine=function(e){this.modifiedEditor.revealLine(e)},t.prototype.revealLineInCenter=function(e){this.modifiedEditor.revealLineInCenter(e)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealLineInCenterIfOutsideViewport(e)},t.prototype.revealPosition=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.modifiedEditor.revealPosition(e,t,n)},t.prototype.revealPositionInCenter=function(e){this.modifiedEditor.revealPositionInCenter(e)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e,t,n,o){this.modifiedEditor.setSelection(e,t,n,o)},t.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},t.prototype.revealLines=function(e,t){this.modifiedEditor.revealLines(e,t)},t.prototype.revealLinesInCenter=function(e,t){this.modifiedEditor.revealLinesInCenter(e,t)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t)},t.prototype.revealRange=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.modifiedEditor.revealRange(e,t,n)},t.prototype.revealRangeInCenter=function(e){this.modifiedEditor.revealRangeInCenter(e)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e)},t.prototype.addAction=function(e){this.modifiedEditor.addAction(e)},t.prototype.getActions=function(){return this.modifiedEditor.getActions()},t.prototype.getAction=function(e){return this.modifiedEditor.getAction(e)},t.prototype.saveViewState=function(){var e=this.originalEditor.saveViewState(),t=this.modifiedEditor.saveViewState();return{original:e,modified:t}},t.prototype.restoreViewState=function(e){var t=e;if(t.original&&t.original){var n=t;this.originalEditor.restoreViewState(n.original),this.modifiedEditor.restoreViewState(n.modified)}},t.prototype.layout=function(e){this._measureDomElement(!1,e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.isFocused=function(){return this.originalEditor.isFocused()||this.modifiedEditor.isFocused()},t.prototype.onVisible=function(){this._isVisible=!0,this.originalEditor.onVisible(),this.modifiedEditor.onVisible(),this._beginUpdateDecorations()},t.prototype.onHide=function(){this._isVisible=!1,this.originalEditor.onHide(),this.modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()},t.prototype.trigger=function(e,t,n){this.modifiedEditor.trigger(e,t,n)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._measureDomElement=function(e,t){t=t||s.getDomNodePosition(this._containerDomElement),t.width<=0||(e||t.width!==this._width||t.height!==this._height)&&(this._width=t.width,this._height=t.height,this._doLayout())},t.prototype._layoutOverviewRulers=function(){var e=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH,n=this.modifiedEditor.getLayoutInfo();n&&(this._originalOverviewRuler.setLayout({top:0,width:t.ONE_OVERVIEW_WIDTH,right:e+t.ONE_OVERVIEW_WIDTH,height:this._height-n.horizontalScrollbarHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:this._height-n.horizontalScrollbarHeight}))},t.prototype._recomputeIfNecessary=function(e){for(var n=this,o=!1,r=0;!o&&r<e.length;r++){var i=e[r].getType();o=o||"change"===i||i===u.EventType.ModelModeChanged}o&&this._isVisible&&(-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return n._beginUpdateDecorations()},t.UPDATE_DIFF_DECORATIONS_DELAY))},t.prototype._onOriginalEditorEvents=function(e){for(var t=0;t<e.length;t++)"scroll"===e[t].getType()&&this._onOriginalEditorScroll(e[t].getData()),e[t].getType()===u.EventType.ViewZonesChanged&&this._onViewZonesChanged();this._recomputeIfNecessary(e)},t.prototype._onModifiedEditorEvents=function(e){for(var t=0;t<e.length;t++)"scroll"===e[t].getType()&&(this._onModifiedEditorScroll(e[t].getData()),this._layoutOverviewViewport()),"scrollSize"===e[t].getType()&&this._layoutOverviewViewport(),"viewLayoutChanged"===e[t].getType()&&this._layoutOverviewViewport(),e[t].getType()===u.EventType.ViewZonesChanged&&this._onViewZonesChanged();this._recomputeIfNecessary(e)},t.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},t.prototype._beginUpdateDecorations=function(){var e=this;if(this._beginUpdateDecorationsTimeout=-1,this.modifiedEditor.getModel()){this._diffComputationToken++;var t=this._diffComputationToken,n=this.originalEditor.getModel(),o=this.modifiedEditor.getModel(),r=this.modifiedEditor.getModel().getMode().diffSupport;if(r)try{r.computeDiff(n.getAssociatedResource(),o.getAssociatedResource(),this._ignoreTrimWhitespace).then(function(r){t===e._diffComputationToken&&n===e.originalEditor.getModel()&&o===e.modifiedEditor.getModel()&&(e._lineChanges=r,e._updateDecorationsRunner.schedule(),e.emit(u.EventType.DiffUpdated,{editor:e,lineChanges:r}))},function(){t===e._diffComputationToken&&n===e.originalEditor.getModel()&&o===e.modifiedEditor.getModel()&&(e._lineChanges=null,e._updateDecorationsRunner.schedule())})}catch(i){console.error(i),this._lineChanges=null,this._updateDecorationsRunner.schedule()}else this._lineChanges=null,this._updateDecorationsRunner.schedule()}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(){var e=this._lineChanges||[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),o=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,t,n,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,o.original),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,o.modified)}finally{this._currentlyChangingViewZones=!1}},t.prototype._adjustOptionsForLeftHandSide=function(e){var t=r.clone(e||{});return t.wrappingColumn=-1,t.readOnly=!0,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.overviewRulerLanes=1,t.theme=this._theme+" original-in-monaco-diff-editor",t},t.prototype._adjustOptionsForRightHandSide=function(e){var o=r.clone(e||{});return o.wrappingColumn=-1,o.automaticLayout=!1,o.revealHorizontalRightPadding=n.DefaultConfig.editor.revealHorizontalRightPadding+t.ENTIRE_DIFF_OVERVIEW_WIDTH,o.scrollbar=o.scrollbar||{},o.scrollbar.vertical="visible",o.scrollbar.verticalHasArrows=!1,o.theme=this._theme+" modified-in-monaco-diff-editor",o},t.prototype._onOriginalEditorScroll=function(e){this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.modifiedEditor.setScrollLeft(e.scrollLeft),this.modifiedEditor.setScrollTop(e.scrollTop),this._isHandlingScrollEvent=!1)},t.prototype._onModifiedEditorScroll=function(e){this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.originalEditor.setScrollLeft(e.scrollLeft),this.originalEditor.setScrollTop(e.scrollTop),this._isHandlingScrollEvent=!1)},t.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-e+"px",this._modifiedDomNode.style.left=e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.style.height="30px",this.originalEditor.layout({width:e,height:this._height}),this.modifiedEditor.layout({width:this._width-e-t.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._layoutOverviewViewport()},t.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(s.StyleMutator.setTop(this._overviewViewportDomElement,e.top),s.StyleMutator.setHeight(this._overviewViewportDomElement,e.height)):(s.StyleMutator.setTop(this._overviewViewportDomElement,0),s.StyleMutator.setHeight(this._overviewViewportDomElement,0))},t.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),n=this.modifiedEditor.getScrollHeight(),o=Math.max(0,e.contentHeight-e.horizontalScrollbarHeight),r=Math.max(0,o-0),i=n>0?r/n:0,s=Math.max(1,Math.floor(e.contentHeight*i)),a=Math.floor(t*i);return{height:s,top:a}},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,this._lineChanges&&this._updateDecorations(),this._measureDomElement(!0)},t.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){if(0===this._lineChanges.length||e<t(this._lineChanges[0]))return null;for(var n=0,o=this._lineChanges.length-1;o>n;){var r=Math.floor((n+o)/2),i=t(this._lineChanges[r]),s=o>=r+1?t(this._lineChanges[r+1]):Number.MAX_VALUE;i>e?o=r-1:e>=s?n=r+1:(n=r,o=r)}return this._lineChanges[n]},t.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),o=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,i=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return r>=s?o+Math.min(s,i):o+i-r+s},t.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),o=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,i=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-o;return i>=s?n+Math.min(s,r):n+r-i+s},t.prototype.getDiffLineInformationForOriginal=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},t.prototype.getDiffLineInformationForModified=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,t.UPDATE_DIFF_DECORATIONS_DELAY=200,t=__decorate([__param(2,f.IInstantiationService)],t)}(a.EventEmitter);t.DiffEditorWidget=C;var S=function(){function e(e){this._dataSource=e}return e.prototype.getEditorsDiffDecorations=function(e,t,n,o,r,i){o=o.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber}),n=n.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber});var s=this._getViewZones(e,n,o,r,i),a=this._getOriginalEditorDecorations(e,t,r,i),u=this._getModifiedEditorDecorations(e,t,r,i);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.original},modified:{decorations:u.decorations,overviewZones:u.overviewZones,zones:s.modified}}},e.prototype._getViewZones=function(){return null},e.prototype._getOriginalEditorDecorations=function(){return null},e.prototype._getModifiedEditorDecorations=function(){return null},e}(),w=function(){function e(e){this._source=e,this._index=-1,this.advance()}return e.prototype.advance=function(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null},e}(),E=function(){function e(e,t,n){this.lineChanges=e,this.originalForeignVZ=t,this.modifiedForeignVZ=n}return e.prototype.getViewZones=function(){var e,t,n,o,r,i,s,a={original:[],modified:[]},u=0,c=0,l=0,d=0,h=0,p=0,f=0,v=function(e,t){return e.afterLineNumber-t.afterLineNumber},y=function(e,t){if(null===t.domNode&&e.length>0){var n=e[e.length-1];if(n.afterLineNumber===t.afterLineNumber&&null===n.domNode)return n.heightInLines+=t.heightInLines,void 0}e.push(t)},b=new w(this.modifiedForeignVZ),C=new w(this.originalForeignVZ);for(e=0,t=this.lineChanges.length;t>=e;e++){for(n=t>e?this.lineChanges[e]:null,null!==n?(l=n.originalStartLineNumber+(n.originalEndLineNumber>0?-1:0),d=n.modifiedStartLineNumber+(n.modifiedEndLineNumber>0?-1:0),c=n.originalEndLineNumber>0?n.originalEndLineNumber-n.originalStartLineNumber+1:0,u=n.modifiedEndLineNumber>0?n.modifiedEndLineNumber-n.modifiedStartLineNumber+1:0,h=Math.max(n.originalStartLineNumber,n.originalEndLineNumber),p=Math.max(n.modifiedStartLineNumber,n.modifiedEndLineNumber)):(l+=1e7+c,d+=1e7+u,h=l,p=d),o=[],r=[];b.current&&b.current.afterLineNumber<=p;)f=b.current.afterLineNumber<=d?l-d+b.current.afterLineNumber:h,o.push({afterLineNumber:f,heightInLines:b.current.heightInLines,domNode:null}),b.advance();for(;C.current&&C.current.afterLineNumber<=h;)f=C.current.afterLineNumber<=l?d-l+C.current.afterLineNumber:p,r.push({afterLineNumber:f,heightInLines:C.current.heightInLines,domNode:null}),C.advance();if(null!==n&&m(n)){var S=this._produceOriginalFromDiff(n,c,u);S&&o.push(S)}if(null!==n&&g(n)){var S=this._produceModifiedFromDiff(n,c,u);S&&r.push(S)}for(i=0,s=0,o=o.sort(v),r=r.sort(v);i<o.length&&s<r.length;){var E=o[i],T=r[s],x=E.afterLineNumber-l,M=T.afterLineNumber-d;M>x?(y(a.original,E),i++):x>M?(y(a.modified,T),s++):E.shouldNotShrink?(y(a.original,E),i++):T.shouldNotShrink?(y(a.modified,T),s++):E.heightInLines>=T.heightInLines?(E.heightInLines-=T.heightInLines,s++):(T.heightInLines-=E.heightInLines,i++)}for(;i<o.length;)y(a.original,o[i]),i++;for(;s<r.length;)y(a.modified,r[s]),s++}var L=function(e){e.domNode||(e.domNode=_())};return a.original.forEach(L),a.modified.forEach(L),a},e.prototype._produceOriginalFromDiff=function(){throw new Error("NotImplemented")},e.prototype._produceModifiedFromDiff=function(){throw new Error("NotImplemented")},e}(),T=function(e){function t(t,n){var o=this;e.call(this,t),this._disableSash=n===!1,this._sashRatio=null,this._sashPosition=null,this._sash=new c.Sash(this._dataSource.getContainerDomNode(),this),this._disableSash&&this._sash.disable(),this._sash.on("start",function(){return o._onSashDragStart()}),this._sash.on("change",function(e){return o._onSashDrag(e)}),this._sash.on("end",function(){return o._onSashDragEnd()})}return __extends(t,e),t.prototype.dispose=function(){this._sash.dispose()},t.prototype.setEnableSplitViewResizing=function(e){var t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._disableSash?this._sash.disable():this._sash.enable())},t.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var n=this._dataSource.getWidth(),o=n-C.ENTIRE_DIFF_OVERVIEW_WIDTH,r=Math.floor((e||.5)*o),i=Math.floor(.5*o),r=this._disableSash?i:r||i;return o>2*t.MINIMUM_EDITOR_WIDTH?(r<t.MINIMUM_EDITOR_WIDTH&&(r=t.MINIMUM_EDITOR_WIDTH),r>o-t.MINIMUM_EDITOR_WIDTH&&(r=o-t.MINIMUM_EDITOR_WIDTH)):r=i,this._sashPosition!==r&&(this._sashPosition=r,this._sash.layout()),this._sashPosition},t.prototype._onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype._onSashDrag=function(e){var t=this._dataSource.getWidth(),n=t-C.ENTIRE_DIFF_OVERVIEW_WIDTH,o=this.layout((this._startSashPosition+(e.currentX-e.startX))/n);this._sashRatio=o/n,this._dataSource.relayoutEditors()},t.prototype._onSashDragEnd=function(){this._sash.layout()},t.prototype.getVerticalSashTop=function(){return 0},t.prototype.getVerticalSashLeft=function(){return this._sashPosition},t.prototype.getVerticalSashHeight=function(){return this._dataSource.getHeight()},t.prototype._getViewZones=function(e,t,n){var o=new x(e,t,n);return o.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n){var o,r,i,s,a,c,l,d,h,p={decorations:[],overviewZones:[]},f=n.getModel();for(o=0,r=e.length;r>o;o++)if(a=e[o],g(a)&&(p.decorations.push(v(a.originalStartLineNumber,1,a.originalEndLineNumber,Number.MAX_VALUE,"line-delete",!0)),m(a)&&a.charChanges||p.decorations.push(v(a.originalStartLineNumber,1,a.originalEndLineNumber,Number.MAX_VALUE,"char-delete",!0)),p.overviewZones.push({startLineNumber:a.originalStartLineNumber,endLineNumber:a.originalEndLineNumber,color:"rgba(255, 0, 0, 0.4)",position:u.OverviewRulerLane.Full}),a.charChanges))for(i=0,s=a.charChanges.length;s>i;i++)if(c=a.charChanges[i],g(c))if(t)for(l=c.originalStartLineNumber;l<=c.originalEndLineNumber;l++)d=l===c.originalStartLineNumber?c.originalStartColumn:f.getLineFirstNonWhitespaceColumn(l),h=l===c.originalEndLineNumber?c.originalEndColumn:f.getLineLastNonWhitespaceColumn(l),p.decorations.push(v(l,d,l,h,"char-delete",!1));else p.decorations.push(v(c.originalStartLineNumber,c.originalStartColumn,c.originalEndLineNumber,c.originalEndColumn,"char-delete",!1));return p},t.prototype._getModifiedEditorDecorations=function(e,t,n,o){var r,i,s,a,c,l,d,h,p,f={decorations:[],overviewZones:[]},_=o.getModel();for(r=0,i=e.length;i>r;r++)if(c=e[r],m(c)&&(f.decorations.push(v(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,Number.MAX_VALUE,"line-insert",!0)),g(c)&&c.charChanges||f.decorations.push(v(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0)),f.overviewZones.push({startLineNumber:c.modifiedStartLineNumber,endLineNumber:c.modifiedEndLineNumber,color:"rgba(155, 185, 85, 0.4)",position:u.OverviewRulerLane.Full}),c.charChanges))for(s=0,a=c.charChanges.length;a>s;s++)if(l=c.charChanges[s],m(l))if(t)for(d=l.modifiedStartLineNumber;d<=l.modifiedEndLineNumber;d++)h=d===l.modifiedStartLineNumber?l.modifiedStartColumn:_.getLineFirstNonWhitespaceColumn(d),p=d===l.modifiedEndLineNumber?l.modifiedEndColumn:_.getLineLastNonWhitespaceColumn(d),f.decorations.push(v(d,h,d,p,"char-insert",!1));else f.decorations.push(v(l.modifiedStartLineNumber,l.modifiedStartColumn,l.modifiedEndLineNumber,l.modifiedEndColumn,"char-insert",!1));return f},t.MINIMUM_EDITOR_WIDTH=100,t}(S),x=function(e){function t(t,n,o){e.call(this,t,n,o)}return __extends(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null},t.prototype._produceModifiedFromDiff=function(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null},t}(E),M=function(e){function t(t){var n=this;e.call(this,t),this.decorationsLeft=40,this.toDispose=[],this.toDispose.push(t.getOriginalEditor().addListener2(u.EventType.EditorLayout,function(e){n.decorationsLeft!==e.decorationsLeft&&(n.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))}return __extends(t,e),t.prototype.dispose=function(){this.toDispose=o.disposeAll(this.toDispose)},t.prototype.setEnableSplitViewResizing=function(){},t.prototype._getViewZones=function(e,t,n,o,r){var i=new L(e,t,n,o,r);return i.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e){var t,n,o,r={decorations:[],overviewZones:[]};for(t=0,n=e.length;n>t;t++)o=e[t],g(o)&&r.overviewZones.push({startLineNumber:o.originalStartLineNumber,endLineNumber:o.originalEndLineNumber,color:"rgba(255, 0, 0, 0.4)",position:u.OverviewRulerLane.Full});return r},t.prototype._getModifiedEditorDecorations=function(e,t,n,o){var r,i,s,a,c,l,d,h,p,f={decorations:[],overviewZones:[]},g=o.getModel();for(r=0,i=e.length;i>r;r++)if(s=e[r],m(s))if(f.decorations.push(v(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,Number.MAX_VALUE,"line-insert",!0)),f.overviewZones.push({startLineNumber:s.modifiedStartLineNumber,endLineNumber:s.modifiedEndLineNumber,color:"rgba(155, 185, 85, 0.4)",position:u.OverviewRulerLane.Full}),s.charChanges){for(a=0,c=s.charChanges.length;c>a;a++)if(l=s.charChanges[a],m(l))if(t)for(d=l.modifiedStartLineNumber;d<=l.modifiedEndLineNumber;d++)h=d===l.modifiedStartLineNumber?l.modifiedStartColumn:g.getLineFirstNonWhitespaceColumn(d),p=d===l.modifiedEndLineNumber?l.modifiedEndColumn:g.getLineLastNonWhitespaceColumn(d),f.decorations.push(v(d,h,d,p,"char-insert",!1));else f.decorations.push(v(l.modifiedStartLineNumber,l.modifiedStartColumn,l.modifiedEndLineNumber,l.modifiedEndColumn,"char-insert",!1))}else f.decorations.push(v(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0));return f},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(S),L=function(e){function t(t,n,o,r,i){e.call(this,t,n,o),this.originalModel=r.getModel(),this.modifiedEditorConfiguration=i.getConfiguration(),this.modifiedEditorIndentation=i.getIndentationOptions()}return __extends(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){return{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div")}},t.prototype._produceModifiedFromDiff=function(e,t){var n,o,r,i,s=[];if(e.charChanges)for(n=0,o=e.charChanges.length;o>n;n++)r=e.charChanges[n],g(r)&&(i=v(r.originalStartLineNumber,r.originalStartColumn,r.originalEndLineNumber,r.originalEndColumn,"char-delete",!1),i.options.inlineClassName=i.options.className,s.push(i));var a,u=[];for(a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)u=u.concat(this.renderOriginalLine(a-e.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorIndentation,a,s));var c=document.createElement("div");return c.className="view-lines line-delete",c.innerHTML=u.join(""),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,domNode:c}},t.prototype.renderOriginalLine=function(e,t,n,o,r,i){var s,a,u=t.getLineContent(r);s={getTokens:function(){return[{startIndex:0,type:""}]},getFauxIndentLength:function(){return 0},getTextLength:function(){return u.length},equals:function(){return!1},findIndexOfOffset:function(){return 0}},a=d.createLineParts(r,u,s,i,n.renderWhitespace);var c=l.renderLine({lineContent:u,tabSize:o.tabSize,stopRenderingLineAfter:n.stopRenderingLineAfter,renderWhitespace:n.renderWhitespace,parts:a.getParts()}),h=[];return h.push('<div class="view-line'),0===i.length&&h.push(" char-delete"),h.push('" style="top:'),h.push(String(e*n.lineHeight)),h.push('px;width:1000000px;">'),h=h.concat(c.output),h.push("</div>"),h},t}(E)}),define("vs/css!vs/editor/contrib/clipboard/browser/clipboard",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/clipboard/browser/clipboard",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/lifecycle","vs/base/common/winjs.base","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/base/browser/browser","vs/editor/common/common","vs/editor/common/config/config","vs/platform/instantiation/common/instantiation","vs/css!./clipboard"],function(e,t,n,o,r,i,s,a,u,c,l){function d(e){var t=e.getModel();if(!t)return!1;var n=t.hasEditableRange();if(!n)return!0;var o=t.getEditableRange(),r=e.getPosition();return o.containsPosition(r)}function h(e){a.supportsExecCommand(e.execCommand)&&i.CommonEditorRegistry.registerEditorAction(new i.EditorActionDescriptor(e.ctor,e.id,e.label,{handler:p.bind(null,e.id,e.execCommand),context:i.ContextKey.None,primary:e.primary,secondary:e.secondary,win:e.win,linux:e.linux,mac:e.mac}))}function p(e,t,n,o){if(o.context[u.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS]){var r=c.findFocusedEditor(e,n,o,!1);if(r)return r.trigger("keyboard",e,o),void 0}document.execCommand(t)}var f=function(e){function t(t,n,o){var r=this;e.call(this,t,n,o),this.toUnhook=[],this.toUnhook.push(this.editor.addListener(u.EventType.CursorSelectionChanged,function(){r.resetEnablementState()}))}return __extends(t,e),t.prototype.dispose=function(){this.toUnhook=o.cAll(this.toUnhook),e.prototype.dispose.call(this)},t.prototype.getEnablementState=function(){return a.enableEmptySelectionClipboard?!0:!this.editor.getSelection().isEmpty()},t=__decorate([__param(3,l.INullService)],t)}(s.EditorAction),m=function(e){function t(t,n,o){e.call(this,t,n,s.Behaviour.Writeable|s.Behaviour.WidgetFocus|s.Behaviour.ShowInContextMenu|s.Behaviour.UpdateOnCursorPositionChange,o)}return __extends(t,e),t.prototype.getGroupId=function(){return"3_edit/2_cut"},t.prototype.getEnablementState=function(){return e.prototype.getEnablementState.call(this)&&d(this.editor)},t.prototype.run=function(){return this.editor.focus(),document.execCommand("cut"),r.TPromise.as(!0)},t=__decorate([__param(2,l.INullService)],t)}(f),g=function(e){function t(t,n,o){e.call(this,t,n,s.Behaviour.WidgetFocus|s.Behaviour.ShowInContextMenu,o)}return __extends(t,e),t.prototype.getGroupId=function(){return"3_edit/1_copy"},t.prototype.run=function(){return this.editor.focus(),document.execCommand("copy"),r.TPromise.as(!0)},t=__decorate([__param(2,l.INullService)],t)}(f),v=function(e){function t(t,n){e.call(this,t,n,s.Behaviour.Writeable|s.Behaviour.WidgetFocus|s.Behaviour.ShowInContextMenu|s.Behaviour.UpdateOnCursorPositionChange)}return __extends(t,e),t.prototype.getGroupId=function(){return"3_edit/3_paste"},t.prototype.getEnablementState=function(){return d(this.editor)},t.prototype.run=function(){return this.editor.focus(),document.execCommand("paste"),null},t=__decorate([__param(2,l.INullService)],t)}(s.EditorAction);h({ctor:m,id:"editor.action.clipboardCutAction",label:n.localize("vs_editor_contrib_clipboard_browser_clipboard",0),execCommand:"cut",primary:{ctrlCmd:!0,key:"X"},win:{primary:{ctrlCmd:!0,key:"X"},secondary:[{shift:!0,key:"Delete"}]}}),h({ctor:g,id:"editor.action.clipboardCopyAction",label:n.localize("vs_editor_contrib_clipboard_browser_clipboard",1),execCommand:"copy",primary:{ctrlCmd:!0,key:"C"},win:{primary:{ctrlCmd:!0,key:"C"},secondary:[{ctrlCmd:!0,key:"Insert"}]}}),h({ctor:v,id:"editor.action.clipboardPasteAction",label:n.localize("vs_editor_contrib_clipboard_browser_clipboard",2),execCommand:"paste",primary:{ctrlCmd:!0,key:"V"},win:{primary:{ctrlCmd:!0,key:"V"},secondary:[{shift:!0,key:"Insert"}]}})}),define("vs/editor/common/services/modelService",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IModelService=n.createDecorator("modelService")}),define("vs/platform/configuration/common/configuration",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IConfigurationService=n.createDecorator("configurationService");var o=function(){function e(){}return e.UPDATED="update",e}();t.ConfigurationServiceEventTypes=o}),define("vs/css!vs/editor/contrib/codelens/browser/codelens",["vs/css!vs/editor/editor.main"],{});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/codelens/browser/codelens",["require","exports","vs/base/common/winjs.base","vs/nls!vs/editor/editor.main","vs/base/common/lifecycle","vs/base/common/async","vs/base/browser/dom","vs/base/common/errors","vs/editor/browser/editorBrowser","vs/editor/common/common","vs/editor/browser/editorBrowserExtensions","vs/editor/common/services/modelService","vs/platform/configuration/common/configuration","vs/editor/common/core/range","vs/css!./codelens"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p){function f(e,t){for(var n=1,o=e.getModels().filter(function(e){return e.getMode().getId()===t}).map(function(e){return{url:e.getAssociatedResource().toString(),versionId:e.getVersionId()}}).sort(function(e,t){return e.url<t.url?-1:e.url>t.url?1:0}),r=0;r<o.length;r++)n=(31*n|0)+o[r].versionId|0;return n}var m=function(){function e(e){this.afterLineNumber=e,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return e.prototype.setAfterLineNumber=function(e){this.afterLineNumber=e},e}(),g=function(){function e(t,n){this._id="codeLensWidget"+ ++e.ID,this._editor=t,this._findReferencesController=t.getContribution("editor.contrib.findReferencesController"),this.setSymbolRange(n),this._domNode=document.createElement("div"),this._domNode.style.width="100px",s.addClass(this._domNode,"codelens-decoration"),s.addClass(this._domNode,"invisible-cl"),s.addClass(this._domNode,"disabled"),this._linkNode=document.createElement("a"),s.addClass(this._linkNode,"codelenselabel"),s.addListener(this._linkNode,"click",this.onCodeLensInvoked.bind(this)),this._textNode=document.createElement("span"),s.addClass(this._textNode,"codelenselabel"),this.withReferences(null),this._domNode.appendChild(this._linkNode),this._domNode.appendChild(this._textNode),this.updateVisibility()
}return e.prototype.onCodeLensInvoked=function(){null!==this._references&&this._references.length&&null!==this._symbolRange&&this._findReferencesController&&!this._findReferencesController.isInPeekView()&&this._findReferencesController.processRequest(this._symbolRange,n.TPromise.as(this._references))},e.prototype.updateVisibility=function(){this.isVisible()&&(s.removeClass(this._domNode,"invisible-cl"),s.addClass(this._domNode,"fadein"))},e.prototype.withReferences=function(e){this._references=e;var t,n=!0;null!==this._references?(t=1===e.length?o.localize("vs_editor_contrib_codelens_browser_codelens",0):o.localize("vs_editor_contrib_codelens_browser_codelens",1,e.length),n=0===e.length):t=o.localize("vs_editor_contrib_codelens_browser_codelens",2),this._linkNode.innerHTML=t,this._textNode.innerHTML=t,this._findReferencesController&&this._findReferencesController.isInPeekView()&&(n=!0),s.toggleClass(this._domNode,"disabled",n)},e.prototype.dispose=function(){this._references=null,this._symbolRange=null},e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.setSymbolRange=function(e){this._symbolRange=e;var t=e.startLineNumber,n=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:n},preference:[u.ContentWidgetPositionPreference.ABOVE]}},e.prototype.getPosition=function(){return this._widgetPosition},e.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},e.ID=0,e}(),v=function(){function e(e,t,n,o){var r=p.Range.lift(e);this._editor=t,this._decId=n.addDecoration(r,{}),this._viewZone=new m(r.startLineNumber-1),this._contentWidget=new g(t,r),this._viewZoneId=o.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget),this._lastUpdateModelsVersionId=-1}return e.prototype.dispose=function(e,t){e&&e.removeDecoration(this._decId),t&&t.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget),this._contentWidget.dispose()},e.prototype.isValid=function(){var e=this._editor.getModel().getDecorationRange(this._decId);return e&&!e.isEmpty()},e.prototype.computeIfNecessary=function(e,t){if(this._contentWidget.updateVisibility(),!this._contentWidget.isVisible())return null;if(this._lastUpdateModelsVersionId===e)return null;var n=t.getDecorationRange(this._decId);return{position:n.getStartPosition(),languageModeStateId:this._lastUpdateStateId}},e.prototype.updateReferences=function(e,t,n){this._contentWidget.withReferences(e),this._lastUpdateModelsVersionId=t,this._lastUpdateStateId=n},e.prototype.getLineNumber=function(){var e=this._editor.getModel().getDecorationRange(this._decId);return e?e.startLineNumber:-1},e.prototype.update=function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decId);this._viewZone.setAfterLineNumber(t.startLineNumber-1),e.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(t),this._editor.layoutContentWidget(this._contentWidget)}},e}(),_=function(){function e(t,n,o){var r=this;this._instanceCount=++e.INSTANCE_COUNT,this._editor=t,this._modelService=n,this._configurationService=o,this._globalToDispose=[],this._localToDispose=[],this._lenses=[],this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter=0,this._codeLenseDisabledByMode=!0,this._globalToDispose.push(this._editor.addListener2(c.EventType.ModelChanged,function(){return r.onModelChange()})),this._globalToDispose.push(this._editor.addListener2(c.EventType.ModelModeChanged,function(){return r.onModelChange()})),this._globalToDispose.push(this._editor.addListener2(c.EventType.ModelModeSupportChanged,function(e){e.codeLensSupport&&r.onModelChange()})),this._globalToDispose.push(this._editor.addListener2(c.EventType.ConfigurationChanged,function(e){e.referenceInfos&&r.onModelChange()})),this.onModelChange()}return e.prototype.dispose=function(){this.localDispose(),this._globalToDispose=r.disposeAll(this._globalToDispose)},e.prototype.localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter++),this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null),this._localToDispose=r.disposeAll(this._localToDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onModelChange=function(){var e=this;this.localDispose();var t=this._editor.getModel();if(t&&this._editor.getConfiguration().referenceInfos){var n=t.getMode().codeLensSupport;if(n&&n.enableCodeLens()){var o=new i.RunOnceScheduler(function(){e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=n.findCodeLensSymbols(t.getAssociatedResource());var o=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise.then(function(t){o===e._modelChangeCounter&&(e.renderCodeLensSymbols(t),r.schedule())},function(e){a.onUnexpectedError(e)})},250),r=new i.RunOnceScheduler(function(){e._onViewportChanged(t.getMode().getId())},500);this._localToDispose.push(o),this._localToDispose.push(r),this._localToDispose.push(t.addBulkListener2(function(t){for(var n=!1,i=0;i<t.length;i++){var s=t[i].getType();if(s===c.EventType.ModelContentChanged){n=!0;break}}n&&(e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){var o=[];e._lenses.forEach(function(e){e.isValid()?e.update(n):o.push(e)}),o.forEach(function(o){o.dispose(t,n),e._lenses.splice(e._lenses.indexOf(o),1)})})}),r.schedule(),o.schedule())})),this._localToDispose.push(this._editor.addListener2("scroll",function(){r.schedule()})),this._localToDispose.push({dispose:function(){e._editor.getModel()?e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){e._disposeAllLenses(t,n)})}):e._disposeAllLenses(null,null)}}),o.schedule()}}},e.prototype._disposeAllLenses=function(e,t){this._lenses.forEach(function(n){return n.dispose(e,t)}),this._lenses=[]},e.prototype.renderCodeLensSymbols=function(e){var t=this;e||(e=[]);var n=this._editor.getModel().getLineCount();e=e.sort(function(e,t){var n=e.range.startLineNumber-t.range.startLineNumber;return 0===n&&(n=e.range.startColumn-t.range.startColumn),n}).filter(function(e,t,o){var r=e.range.startLineNumber;return 1>r||r>=n?!1:0===t||e.range.startLineNumber!==o[t-1].range.startLineNumber});var o=this._editor.getCenteredRangeInViewport(),r=e.length!==this._lenses.length;this._editor.changeDecorations(function(n){t._editor.changeViewZones(function(o){for(var r=0,i=0;i<e.length&&r<t._lenses.length;){var s=e[i].range.startLineNumber,a=t._lenses[r].getLineNumber();s>a?(t._lenses[r].dispose(n,o),t._lenses.splice(r,1)):a===s?(i++,r++):(t._lenses.splice(r,0,new v(e[i].range,t._editor,n,o)),r++,i++)}for(;r<t._lenses.length;)t._lenses[r].dispose(n,o),t._lenses.splice(r,1);for(;i<e.length;)t._lenses.push(new v(e[i].range,t._editor,n,o)),i++})}),r&&this._editor.revealRangeInCenter(o)},e.prototype._onViewportChanged=function(e){var t=this;this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null);var n=this._editor.getModel();if(n){var o=f(this._modelService,e),r=[],i=[];this._lenses.forEach(function(e){var t=e.computeIfNecessary(o,n);t&&(r.push(t),i.push(e))}),r.length>0&&(this._currentFindOccPromise=n.getMode().codeLensSupport.findCodeLensReferences(n.getAssociatedResource(),r),this._currentFindOccPromise.then(function(e){if(e){t._currentFindOccPromise=null;for(var n=0;n<e.references.length;n++){var r=e.references[n];null!==r&&i[n].updateReferences(r,o,e.languageModeStateId)}}}))}},e.ID="css.editor.codeLens",e.INSTANCE_COUNT=0,e=__decorate([__param(1,d.IModelService),__param(2,h.IConfigurationService)],e)}();t.CodeLensContribution=_,l.EditorBrowserRegistry.registerEditorContribution(_)}),define("vs/css!vs/editor/contrib/color/browser/color",["vs/css!vs/editor/editor.main"],{});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/color/browser/color",["require","exports","vs/base/common/lifecycle","vs/base/common/async","vs/base/browser/dom","vs/base/common/errors","vs/base/common/strings","vs/editor/common/common","vs/editor/common/editorCommonExtensions","vs/platform/instantiation/common/instantiation","vs/css!./color"],function(e,t,n,o,r,i,s,a,u,c){var l=function(){function e(e,t,n){this.renderingDecorationId=e.addDecoration({startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.startLineNumber,endColumn:t.startColumn+1},{inlineClassName:"inline-color-decoration "+n,stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}),this.trackingDecorationId=e.addDecoration(t,{stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges})}return e.prototype.dispose=function(e){e.removeDecoration(this.trackingDecorationId),e.removeDecoration(this.renderingDecorationId)},e.prototype.getColorValue=function(e){var t=e.getDecorationRange(this.trackingDecorationId);return t?e.getValueInRange(t):""},e}(),d=function(){function e(t){var n=this;this._instanceCount=++e.INSTANCE_COUNT,this._editor=t,this._callOnDispose=[],this._callOnModelChange=[],this._currentDecorations=[],this._currentDynamicColors=[],this._contentChangedScheduler=new o.RunOnceScheduler(null,250),this._decorationsChangedScheduler=new o.RunOnceScheduler(function(){return n.onDecorationsChanged()},250),this._currentFindColorDeclarationsPromise=null,this._callOnDispose.push(this._contentChangedScheduler),this._callOnDispose.push(this._decorationsChangedScheduler),this._callOnDispose.push(this._editor.addListener2(a.EventType.ModelChanged,function(){return n.onModelChange()})),this._callOnDispose.push(this._editor.addListener2(a.EventType.ModelModeChanged,function(){return n.onModelChange()})),this._callOnDispose.push(this._editor.addListener2(a.EventType.ModelModeSupportChanged,function(){n.onModelChange()})),this._style=r.createStyleSheet(),this.onModelChange()}return e.prototype.dispose=function(){var e=this;this._editor.changeDecorations(function(t){for(var n=0;n<e._currentDecorations.length;n++)e._currentDecorations[n].dispose(t)}),this._style.parentNode.removeChild(this._style),this._style=null,this._callOnDispose=n.disposeAll(this._callOnDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onModelChange=function(){var e=this;n.cAll(this._callOnModelChange);var t=this._editor.getModel();if(t){var o=t.getMode();"function"==typeof o.findColorDeclarations&&(this._contentChangedScheduler.setRunner(function(){e._currentFindColorDeclarationsPromise&&e._currentFindColorDeclarationsPromise.cancel(),e._currentFindColorDeclarationsPromise=o.findColorDeclarations(t.getAssociatedResource());var n=e._editor.getModel().getVersionId();e._currentFindColorDeclarationsPromise.then(function(t){n===e._editor.getModel().getVersionId()&&e.renderAndTrackColors(t)},function(e){i.onUnexpectedError(e)})}),this._contentChangedScheduler.schedule(),this._callOnModelChange.push(function(){e._contentChangedScheduler.cancel(),e._decorationsChangedScheduler.cancel()}),this._callOnModelChange.push(function(){e._currentFindColorDeclarationsPromise&&e._currentFindColorDeclarationsPromise.cancel(),e._currentFindColorDeclarationsPromise=null}),this._callOnModelChange.push(this._editor.addListener(a.EventType.ModelContentChanged,function(){return e._contentChangedScheduler.schedule()})),this._callOnModelChange.push(t.addListener(a.EventType.ModelDecorationsChanged,function(){return e._decorationsChangedScheduler.schedule()})))}},e.prototype.renderAndTrackColors=function(e){var t=this;e=e.slice(0,500);var n,o;this._editor.changeDecorations(function(r){for(n=0,o=t._currentDecorations.length;o>n;n++)t._currentDecorations[n].dispose(r);for(t._currentDecorations=[],n=0,o=e.length;o>n;n++)t._currentDecorations.push(new l(r,e[n].range,t.getCSSRuleName(n)))}),this.onDecorationsChanged()},e.prototype.onDecorationsChanged=function(){var e,t,n,o,r,i,s=this,a=this._editor.getModel(),u=[];this._editor.changeDecorations(function(c){for(e=0,t=s._currentDecorations.length;t>e;e++)i=s._currentDecorations[e],n=a.getDecorationRange(i.trackingDecorationId),n&&!n.isEmpty()?(u[e]=a.getValueInRange(n).replace(/[^%#a-z0-9.,()]/gi,""),o=a.getDecorationRange(i.renderingDecorationId),r=a.validateRange({startLineNumber:n.startLineNumber,startColumn:n.startColumn,endLineNumber:n.startLineNumber,endColumn:n.startColumn+1}),o&&o.equalsRange(r)||c.changeDecoration(i.renderingDecorationId,r)):u[e]="";s.ensureColors(u)})},e.prototype.getCSSRuleName=function(e){return 0>e?".monaco-css-dynamic-"+this._instanceCount+"-":".monaco-css-dynamic-"+this._instanceCount+"-"+e+":before"},e.prototype._changeCost=function(e){if(this._currentDynamicColors.length!==e.length)return Number.MAX_VALUE;for(var t=0,n=0;n<e.length;n++)e[n]!==this._currentDynamicColors[n]&&t++;return t},e.prototype.ensureColors=function(e){var t,n=this._changeCost(e);if(0!==n){if(10>n){for(t=0;t<e.length;t++)if(e[t]!==this._currentDynamicColors[t]){var o=r.getCSSRule(this.getCSSRuleName(t),this._style);o&&(o.style.backgroundColor=e[t])}}else{var i=[];for(t=0;t<e.length;t++)i.push(this.getCSSRuleName(t)),i.push("{"),i.push(this.getCSSText(e[t])),i.push("}");this._style.innerHTML=i.join("")}this._currentDynamicColors=e}},e.prototype.getCSSText=function(e){return s.format("background-color:{0};",e)},e.ID="css.editor.colorContribution",e.INSTANCE_COUNT=0,e=__decorate([__param(1,c.INullService)],e)}();t.ColorContribution=d,u.CommonEditorRegistry.registerEditorContribution(d)}),define("vs/editor/contrib/comment/common/blockCommentCommand",["require","exports","vs/editor/common/core/range","vs/editor/common/core/selection"],function(e,t,n,o){var r=function(){function e(e){this._selection=e,this._usedEndToken=null}return e._haystackHasNeedleAtOffset=function(e,t,n){if(0>n)return!1;var o=t.length,r=e.length;if(n+o>r)return!1;for(var i=0;o>i;i++)if(e.charCodeAt(n+i)!==t.charCodeAt(i))return!1;return!0},e.prototype._createOperationsForBlockComment=function(t,o,r,i){var s,a=t.startLineNumber,u=t.startColumn,c=t.endLineNumber,l=t.endColumn,d=(n.Range.isEmpty(t),o.blockCommentStartToken),h=o.blockCommentEndToken,p=r.getLineContent(a).lastIndexOf(d,u-1+d.length),f=r.getLineContent(c).indexOf(h,l-1-h.length);-1!==p&&-1!==f?s=e._createRemoveBlockCommentOperations({startLineNumber:a,startColumn:p+1+d.length,endLineNumber:c,endColumn:f+1},d,h):(s=e._createAddBlockCommentOperations(t,d,h),this._usedEndToken=1===s.length?h:null);for(var m=0;m<s.length;m++)i.addEditOperation(s[m].range,s[m].text)},e._createRemoveBlockCommentOperations=function(e,t,o){var r=[];return n.Range.isEmpty(e)?r.push({identifier:null,range:n.Range.create(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+o.length),text:null}):(r.push({identifier:null,range:n.Range.create(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn),text:null}),r.push({identifier:null,range:n.Range.create(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+o.length),text:null})),r},e._createAddBlockCommentOperations=function(e,t,o){var r=[];return n.Range.isEmpty(e)?r.push({identifier:null,range:n.Range.create(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),text:t+o}):(r.push({identifier:null,range:n.Range.create(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn),text:t}),r.push({identifier:null,range:n.Range.create(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn),text:o})),r},e.prototype.getEditOperations=function(e,t){var n=this._selection.startLineNumber,o=this._selection.startColumn,r=this._selection.endLineNumber,i=this._selection.endColumn,s=e.getModeAtPosition(n,o).commentsSupport;if(s){var a=s.getCommentsConfiguration();a&&a.blockCommentStartToken&&a.blockCommentEndToken&&this._createOperationsForBlockComment({startLineNumber:n,startColumn:o,endLineNumber:r,endColumn:i},a,e,t)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var r=n[0],i=n[1];return o.Selection.createSelection(r.range.endLineNumber,r.range.endColumn,i.range.startLineNumber,i.range.startColumn)}var s=n[0].range,a=this._usedEndToken?-this._usedEndToken.length:0;return o.Selection.createSelection(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)},e}();t.BlockCommentCommand=r}),define("vs/editor/contrib/comment/common/lineCommentCommand",["require","exports","./blockCommentCommand","vs/base/common/strings","vs/editor/common/core/range","vs/editor/common/core/position","vs/editor/common/core/selection"],function(e,t,n,o,r,i,s){!function(e){e[e.Toggle=0]="Toggle",e[e.ForceAdd=1]="ForceAdd",e[e.ForceRemove=2]="ForceRemove"}(t.Type||(t.Type={}));var a=t.Type,u=function(){function e(e,t,n){this._selection=e,this._tabSize=t,this._type=n,this._deltaColumn=0}return e._gatherPreflightCommentStrings=function(e,t,n){var o,r,i,s,a,u,c,l=[],d=Object.create(null);for(i=0,s=n-t+1;s>i;i++){if(a=t+i,u=e.getModeAtPosition(a,1),c=u.getId(),d[c])r=d[c];else{if(o=u.commentsSupport?u.commentsSupport.getCommentsConfiguration():null,r=o&&o.lineCommentTokens&&o.lineCommentTokens.length>0?o.lineCommentTokens[0]:null,null===r||0===r.length)return null;d[c]=r}l.push({ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length})}return l},e._analyzeLines=function(e,t,r,i){var s,u,c,l,d,h,p,f,m=(Object.create(null)," ".charCodeAt(0)),g=("	".charCodeAt(0),!0);for(p=e===a.Toggle?!0:e===a.ForceAdd?!1:!0,l=0,d=r.length;d>l;l++)s=r[l],h=i+l,f=t.getLineContent(h),u=o.firstNonWhitespaceIndex(f),-1!==u?(g=!1,s.ignore=!1,s.commentStrOffset=u,p&&!n.BlockCommentCommand._haystackHasNeedleAtOffset(f,s.commentStr,u)&&(e===a.Toggle?p=!1:e===a.ForceAdd||(s.ignore=!0)),p&&(c=u+s.commentStrLength,c<f.length&&f.charCodeAt(c)===m&&(s.commentStrLength+=1))):(s.ignore=e===a.Toggle?!0:e===a.ForceAdd?!1:!0,s.commentStrOffset=f.length);if(e===a.Toggle&&g)for(p=!1,l=0,d=r.length;d>l;l++)r[l].ignore=!1;return{supported:!0,shouldRemoveComments:p,lines:r}},e._gatherPreflightData=function(t,n,o,r){var i=e._gatherPreflightCommentStrings(n,o,r);return null===i?{supported:!1,shouldRemoveComments:!1,lines:null}:e._analyzeLines(t,n,i,o)},e.prototype._executeLineComments=function(t,n,o,r){var s;o.shouldRemoveComments?s=e._createRemoveLineCommentsOperations(o.lines,r.startLineNumber):(e._normalizeInsertionPoint(t,o.lines,r.startLineNumber,this._tabSize),s=e._createAddLineCommentsOperations(o.lines,r.startLineNumber));for(var a=i.Position.create(r.positionLineNumber,r.positionColumn),u=0,c=s.length;c>u;u++)n.addEditOperation(s[u].range,s[u].text),s[u].range.isEmpty()&&s[u].range.getStartPosition().equals(a)&&(this._deltaColumn=s[u].text.length);this._selectionId=n.trackSelection(r)},e.prototype._attemptRemoveBlockComment=function(e,t,o,r){var i=t.startLineNumber,s=t.endLineNumber,a=e.getLineContent(i).lastIndexOf(o,t.startColumn-1+r.length),u=e.getLineContent(s).indexOf(r,t.endColumn-1-o.length);return-1!==a&&-1===u&&(u=e.getLineContent(i).indexOf(r,a+o.length),s=i),-1===a&&-1!==u&&(a=e.getLineContent(s).lastIndexOf(o,u),i=s),!t.isEmpty()||-1!==a&&-1!==u||(a=e.getLineContent(i).indexOf(o),-1!==a&&(u=e.getLineContent(i).indexOf(r,a+o.length))),-1!==a&&-1!==u?n.BlockCommentCommand._createRemoveBlockCommentOperations({startLineNumber:i,startColumn:a+o.length+1,endLineNumber:s,endColumn:u+1},o,r):null},e.prototype._executeBlockComment=function(e,t,r){var i=e.getModeAtPosition(r.startLineNumber,r.startColumn).commentsSupport;if(i){var s=i.getCommentsConfiguration();if(s&&s.blockCommentStartToken&&s.blockCommentEndToken){var a=s.blockCommentStartToken,u=(a.length,s.blockCommentEndToken),c=(u.length,this._attemptRemoveBlockComment(e,r,a,u));if(!c){if(r.isEmpty()){var l=e.getLineContent(r.startLineNumber),d=o.firstNonWhitespaceIndex(l);-1===d&&(d=l.length),c=n.BlockCommentCommand._createAddBlockCommentOperations({startLineNumber:r.startLineNumber,startColumn:d+1,endLineNumber:r.startLineNumber,endColumn:l.length+1},a,u)}else c=n.BlockCommentCommand._createAddBlockCommentOperations({startLineNumber:r.startLineNumber,startColumn:e.getLineFirstNonWhitespaceColumn(r.startLineNumber),endLineNumber:r.endLineNumber,endColumn:e.getLineMaxColumn(r.endLineNumber)},a,u);1===c.length&&(this._deltaColumn=a.length)}this._selectionId=t.trackSelection(r);for(var h=0;h<c.length;h++)t.addEditOperation(c[h].range,c[h].text)}}},e.prototype.getEditOperations=function(t,n){var o=this._selection;this._moveEndPositionDown=!1,o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,t.getLineMaxColumn(o.endLineNumber-1)));var r=e._gatherPreflightData(this._type,t,o.startLineNumber,o.endLineNumber);return r.supported?this._executeLineComments(t,n,r,o):this._executeBlockComment(t,n,o)},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),s.Selection.createSelection(n.startLineNumber,n.startColumn+this._deltaColumn,n.endLineNumber,n.endColumn+this._deltaColumn)},e._createRemoveLineCommentsOperations=function(e,t){var n,o,i,s=[];for(n=0,o=e.length;o>n;n++)i=e[n],i.ignore||s.push({identifier:null,range:r.Range.create(t+n,i.commentStrOffset+1,t+n,i.commentStrOffset+i.commentStrLength+1),text:null});return s},e._createAddLineCommentsOperations=function(e,t){var n,o,i,s=[];for(n=0,o=e.length;o>n;n++)i=e[n],i.ignore||s.push({identifier:null,range:r.Range.create(t+n,i.commentStrOffset+1,t+n,i.commentStrOffset+1),text:i.commentStr+" "});return s},e.nextVisibleColumn=function(e,t,n,o){return n?e+(t-e%t):e+o},e._normalizeInsertionPoint=function(t,n,o,r){var i,s,a,u,c,l,d=Number.MAX_VALUE,h="	".charCodeAt(0);for(i=0,s=n.length;s>i;i++)if(!n[i].ignore){for(a=t.getLineContent(o+i),l=0,u=0,c=n[i].commentStrOffset;d>l&&c>u;u++)l=e.nextVisibleColumn(l,r,a.charCodeAt(u)===h,1);d>l&&(d=l)}for(d=Math.round(d/r)*r,i=0,s=n.length;s>i;i++)if(!n[i].ignore){for(a=t.getLineContent(o+i),l=0,u=0,c=n[i].commentStrOffset;d>l&&c>u;u++)l=e.nextVisibleColumn(l,r,a.charCodeAt(u)===h,1);n[i].commentStrOffset=l>d?u-1:u}},e}();t.LineCommentCommand=u});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/comment/common/comment",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","./lineCommentCommand","./blockCommentCommand","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u){var c=function(e){function t(t,n,o){e.call(this,t,n),this._type=o}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=this.editor.getIndentationOptions(),i=0;i<t.length;i++)e.push(new r.LineCommentCommand(t[i],n.tabSize,this._type));return this.editor.executeCommands(this.id,e),o.TPromise.as(null)},t.ID="editor.action.commentLine",t=__decorate([__param(3,u.INullService)],t)}(a.EditorAction),l=function(e){function t(t,n,o){e.call(this,t,n,r.Type.Toggle,o)}return __extends(t,e),t.ID="editor.action.commentLine",t=__decorate([__param(2,u.INullService)],t)}(c),d=function(e){function t(t,n,o){e.call(this,t,n,r.Type.ForceAdd,o)}return __extends(t,e),t.ID="editor.action.addCommentLine",t=__decorate([__param(2,u.INullService)],t)}(c),h=function(e){function t(t,n,o){e.call(this,t,n,r.Type.ForceRemove,o)}return __extends(t,e),t.ID="editor.action.removeCommentLine",t=__decorate([__param(2,u.INullService)],t)}(c),p=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new i.BlockCommentCommand(t[n]));return this.editor.executeCommands(this.id,e),o.TPromise.as(null)},t.ID="editor.action.blockComment",t=__decorate([__param(2,u.INullService)],t)}(a.EditorAction);s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(l,l.ID,n.localize("vs_editor_contrib_comment_common_comment",0),{context:s.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"/"}})),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(d,d.ID,n.localize("vs_editor_contrib_comment_common_comment",1),{context:s.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"K",chord:{ctrlCmd:!0,key:"C"}}})),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(h,h.ID,n.localize("vs_editor_contrib_comment_common_comment",2),{context:s.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"K",chord:{ctrlCmd:!0,key:"U"}}})),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(p,p.ID,n.localize("vs_editor_contrib_comment_common_comment",3),{context:s.ContextKey.EditorTextFocus,primary:{shift:!0,alt:!0,key:"A"},linux:{primary:{ctrlCmd:!0,shift:!0,key:"A"}}}))}),define("vs/css!vs/base/browser/ui/actionbar/actionbar",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/ui/actionbar/actionbar",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/lifecycle","vs/base/browser/builder","vs/base/common/actions","vs/base/browser/dom","vs/base/common/events","vs/base/common/types","vs/base/common/eventEmitter","vs/base/browser/touch","vs/base/browser/keyboardEvent","vs/css!./actionbar"],function(e,t,n,o,r,i,s,a,u,c,l,d){var h=r.$,p=function(e){function t(t,n){var o=this;if(e.call(this),this._callOnDispose=[],this._context=t||this,this._action=n,n instanceof i.Action){var r=n.addBulkListener(function(e){o.builder&&e.forEach(function(e){switch(e.getType()){case i.Action.ENABLED:o._updateEnabled();break;case i.Action.LABEL:o._updateLabel(),o._updateTooltip();break;case i.Action.TOOLTIP:o._updateTooltip();break;case i.Action.CLASS:o._updateClass();break;case i.Action.CHECKED:o._updateChecked();break;default:o._updateUnknown(e)}})});this._callOnDispose.push(r)}}return __extends(t,e),Object.defineProperty(t.prototype,"callOnDispose",{get:function(){return this._callOnDispose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){this._actionRunner=e},enumerable:!0,configurable:!0}),t.prototype.getAction=function(){return this._action},t.prototype.isEnabled=function(){return this._action.enabled},t.prototype.setActionContext=function(e){this._context=e},t.prototype.render=function(e){var t=this;this.builder=h(e),this.gesture=new l.Gesture(e),this.builder.on(s.EventType.CLICK,function(e){t.onClick(e)}),this.builder.on(l.EventType.Tap,function(e){t.onClick(e)}),this.builder.on("mousedown",function(e){0===e.button&&t._action.enabled&&t.builder.addClass("active")}),this.builder.on(["mouseup","mouseout"],function(e){0===e.button&&t._action.enabled&&t.builder.removeClass("active")})},t.prototype.onClick=function(e){s.EventHelper.stop(e,!0),this._actionRunner.run(this._action,this._context||e)},t.prototype.focus=function(){this.builder.domFocus(),this.builder.addClass("focused")},t.prototype.blur=function(){this.builder.removeClass("focused")},t.prototype._updateEnabled=function(){},t.prototype._updateLabel=function(){},t.prototype._updateTooltip=function(){},t.prototype._updateClass=function(){},t.prototype._updateChecked=function(){},t.prototype._updateUnknown=function(){},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.builder&&(this.builder.destroy(),this.builder=null),this.gesture&&(this.gesture.dispose(),this.gesture=null),o.cAll(this._callOnDispose)},t}(c.EventEmitter);t.BaseActionItem=p;var f=function(e){function t(n,o){e.call(this,t.ID,n,n?"separator text":"separator"),this.checked=!1,this.enabled=!1,this.order=o}return __extends(t,e),t.ID="actions.monaco.separator",t}(i.Action);t.Separator=f;var m=function(e){function t(t,n,o){void 0===o&&(o={}),e.call(this,t,n),this.options=o,this.options.icon=void 0!==o.icon?o.icon:!1,this.options.label=void 0!==o.label?o.label:!0,this.cssClass=""}return __extends(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=h("a.action-label").attr("tabIndex","-1").appendTo(this.builder),this.$e.attr({role:"menuitem"}),this.options.label&&this.options.keybinding&&h("span.keybinding").text(this.options.keybinding).appendTo(this.builder),this._updateClass(),this._updateLabel(),this._updateTooltip(),this._updateEnabled(),this._updateChecked()},t.prototype.focus=function(){e.prototype.focus.call(this),this.$e.domFocus()},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this.getAction().label)},t.prototype._updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=n.localize("vs_base_browser_ui_actionbar_actionbar",0,e,this.options.keybinding))),e&&this.$e.attr({title:e})},t.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.$e.addClass("icon"),this.cssClass&&this.$e.addClass(this.cssClass),this._updateEnabled()):this.$e.removeClass("icon")},t.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled")):(this.builder.addClass("disabled"),this.$e.addClass("disabled"))},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("checked"):this.$e.removeClass("checked")},t}(p);t.ActionItem=m;var g=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.render=function(t){var n=document.createElement("div");h(n).addClass("progress-item");var o=document.createElement("div");h(o).addClass("label"),o.textContent=this.getAction().label,o.title=this.getAction().label,e.prototype.render.call(this,o);var r=document.createElement("div");r.textContent="…",h(r).addClass("tag","progress");var i=document.createElement("div");i.textContent="✓",h(i).addClass("tag","done");var s=document.createElement("div");s.textContent="!",h(s).addClass("tag","error"),this.callOnDispose.push(this.addListener(a.EventType.BEFORE_RUN,function(){h(r).addClass("active"),h(i).removeClass("active"),h(s).removeClass("active")})),this.callOnDispose.push(this.addListener(a.EventType.RUN,function(e){h(r).removeClass("active"),e.error?(h(i).removeClass("active"),h(s).addClass("active")):(h(s).removeClass("active"),h(i).addClass("active"))})),n.appendChild(o),n.appendChild(r),n.appendChild(i),n.appendChild(s),t.appendChild(n)},t.prototype.dispose=function(){o.cAll(this.callOnDispose),e.prototype.dispose.call(this)},t}(p);t.ProgressItem=g,function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL"}(t.ActionsOrientation||(t.ActionsOrientation={}));var v=t.ActionsOrientation,_={orientation:v.HORIZONTAL,context:null},y=function(e){function t(n,o){var a=this;
void 0===o&&(o=_),e.call(this),this.options=o,this._context=o.context,this.toDispose=[],this._actionRunner=this.options.actionRunner,this._actionRunner||(this._actionRunner=new i.ActionRunner,this.toDispose.push(this._actionRunner)),this.toDispose.push(this.addEmitter2(this._actionRunner)),this.items=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",this.domNode.tabIndex=0;var u=this.options.orientation===v.VERTICAL;u&&(this.domNode.className+=" vertical"),h(this.domNode).on(s.EventType.KEY_DOWN,function(e){var t=new d.KeyboardEvent(e),n=!0;switch(t.asString()){case u?"UpArrow":"LeftArrow":a.focusPrevious();break;case u?"DownArrow":"RightArrow":a.focusNext();break;case"Escape":a.cancel();break;case"Enter":break;default:n=!1}n&&(t.preventDefault(),t.stopPropagation())}),h(this.domNode).on(s.EventType.CONTEXT_MENU,function(e){e.preventDefault(),e.stopPropagation()}),h(this.domNode).on(s.EventType.KEY_UP,function(e){var t=new d.KeyboardEvent(e);switch(t.asString()){case"Enter":a.doTrigger(t),t.preventDefault(),t.stopPropagation()}});var c=s.trackFocus(this.domNode);c.addBlurListener(function(e){document.activeElement!==a.domNode&&s.isAncestor(document.activeElement,a.domNode)||a.emit("blur",e)}),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","menu"),this.actionsList.setAttribute("aria-label",t.nlsActionBarAccessibleLabel),this.domNode.appendChild(this.actionsList),n=n instanceof r.Builder?n.getHTMLElement():n,n.appendChild(this.domNode)}return __extends(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context=e,this.items.forEach(function(t){return t.setActionContext(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){e&&(this._actionRunner=e,this.items.forEach(function(t){return t.actionRunner=e}))},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return h(this.domNode)},t.prototype.push=function(e,t){var n=this;void 0===t&&(t={}),Array.isArray(e)||(e=[e]);var o=u.isNumber(t.index)?t.index:null;e.forEach(function(e){var r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation");var i=null;n.options.actionItemProvider&&(i=n.options.actionItemProvider(e)),i||(i=new m(n.context,e,t)),i.actionRunner=n._actionRunner,i.setActionContext(n.context),n.addEmitter(i),i.render(r),null===o||0>o||o>=n.actionsList.children.length?n.actionsList.appendChild(r):n.actionsList.insertBefore(r,n.actionsList.children[o++]),n.items.push(i)})},t.prototype.clear=function(){for(var e;e=this.items.pop();)e.dispose();h(this.actionsList).empty()},t.prototype.length=function(){return this.items.length},t.prototype.isEmpty=function(){return 0===this.items.length},t.prototype.onContentsChange=function(){this.emit(a.EventType.CONTENTS_CHANGED)},t.prototype.focus=function(e){e&&"undefined"==typeof this.focusedItem&&(this.focusedItem=0),this.updateFocus()},t.prototype.focusNext=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=this.items.length-1);var e,t=this.focusedItem;do this.focusedItem=(this.focusedItem+1)%this.items.length,e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.focusPrevious=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=0);var e,t=this.focusedItem;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.updateFocus=function(){if("undefined"==typeof this.focusedItem)return this.domNode.focus(),void 0;for(var e=0;e<this.items.length;e++){var t=this.items[e],n=t;e===this.focusedItem?u.isFunction(n.focus)&&n.focus():u.isFunction(n.blur)&&n.blur()}},t.prototype.doTrigger=function(e){if("undefined"!=typeof this.focusedItem){var t=this.items[this.focusedItem];this.run(t._action,t._context||e).done()}},t.prototype.cancel=function(){this.emit(a.EventType.CANCEL)},t.prototype.run=function(e,t){return this._actionRunner.run(e,t)},t.prototype.dispose=function(){null!==this.items&&this.clear(),this.items=null,this.toDispose=o.disposeAll(this.toDispose),this.getContainer().destroy(),e.prototype.dispose.call(this)},t.nlsActionBarAccessibleLabel=n.localize("vs_base_browser_ui_actionbar_actionbar",1),t.DEFAULT_OPTIONS={orientation:v.HORIZONTAL},t}(c.EventEmitter);t.ActionBar=y;var b=function(e){function t(t,n,o,r){e.call(this,t,n),this.select=document.createElement("select"),this.select.className="action-bar-select",this.options=o,this.selected=r,this.toDispose=[],this.registerListeners()}return __extends(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(s.addStandardDisposableListener(this.select,"change",function(t){e.actionRunner.run(e._action,t.target.value).done()}))},t.prototype.render=function(e){s.addClass(e,"select-container"),e.appendChild(this.select),this.setOptions()},t.prototype.setOptions=function(){var e=this;this.select.options.length=0,this.options.forEach(function(t){e.select.options.add(e.createOption(t))}),this.selected>=0&&(this.select.selectedIndex=this.selected)},t.prototype.createOption=function(e){var t=document.createElement("option");return t.value=e,t.text=e,t},t.prototype.dispose=function(){this.toDispose=o.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(p);t.SelectActionItem=b}),define("vs/base/common/sortedList",["require","exports","vs/base/common/arrays"],function(e,t,n){var o=function(){function e(t){this.keys=[],this.values=[],this.comparator=t||e.DEFAULT_COMPARATOR}return Object.defineProperty(e.prototype,"count",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),e.prototype.getValueByIndex=function(e){return e>=0&&e<this.values.length?this.values[e]:null},e.prototype.getKey=function(e){return e>=0&&e<this.keys.length?this.keys[e]:null},e.prototype.getKeys=function(){return new i(this.keys)},e.prototype.getValue=function(e){if(!e)throw new Error("Key must be defined.");var t=this.indexOfKey(e);return t>=0?this.values[t]:null},e.prototype.getValues=function(){return new i(this.values)},e.prototype.indexOfKey=function(e){if(!e)throw new Error("Key must be defined.");return n.binarySearch(this.keys,e,this.comparator)},e.prototype.add=function(e,t){if(!e||!t)throw new Error("Key and value must be defined.");for(var n=0;n<this.keys.length&&this.comparator(e,this.keys[n])>0;)n++;this.keys.splice(n,0,e),this.values.splice(n,0,t)},e.prototype.remove=function(e){if(!e)throw new Error("Key must be defined.");var t=this.indexOfKey(e);return t>=0&&(this.values.splice(t,1),this.keys.splice(t,1)),t>=0},e.prototype.getIterator=function(){return new r(this.keys,this.values)},e.DEFAULT_COMPARATOR=function(e,t){return t>e?-1:e>t?1:0},e}();t.SortedList=o;var r=function(){function e(e,t){this.keys=e,this.values=t,this.index=-1}return Object.defineProperty(e.prototype,"current",{get:function(){return this.index<0||this.keys.length<this.index?null:{key:this.keys[this.index],value:this.values[this.index]}},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return this.index++,this.index<this.keys.length},e.prototype.hasNext=function(){return this.index+1<this.keys.length},e.prototype.reset=function(){this.index=-1},e.prototype.dispose=function(){this.keys=null,this.values=null},e}(),i=function(){function e(e){this.values=e,this.index=-1}return Object.defineProperty(e.prototype,"current",{get:function(){return this.index<0||this.values.length<this.index?null:this.values[this.index]},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return this.index++,this.index<this.values.length},e.prototype.hasNext=function(){return this.index+1<this.values.length},e.prototype.reset=function(){this.index=-1},e.prototype.dispose=function(){this.values=null},e}()}),define("vs/platform/contextview/browser/contextView",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IContextViewService=n.createDecorator("contextViewService"),t.IContextMenuService=n.createDecorator("contextMenuService")}),define("vs/platform/keybinding/common/keybindingService",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IKeybindingService=n.createDecorator("keybindingService")});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/contextmenu/browser/contextmenu",["require","exports","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/winjs.base","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/common","vs/base/browser/ui/actionbar/actionbar","vs/base/common/lifecycle","vs/base/common/sortedList","vs/platform/keybinding/common/keybindingsUtils","vs/platform/contextview/browser/contextView","vs/platform/keybinding/common/keybindingService","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m){var g=function(){function e(e,t,n,o){var r=this;this.contextMenuService=t,this.contextViewService=n,this.keybindingService=o,this._editor=e,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._toDispose.push(this._editor.addListener2(u.EventType.ContextMenu,function(e){return r._onContextMenu(e)})),this._toDispose.push(this._editor.addListener2(u.EventType.KeyDown,function(e){"ContextMenu"===e.key&&(e.preventDefault(),e.stopPropagation(),r.showContextMenu())}))}return e.prototype._onContextMenu=function(e){if(!this._editor.getConfiguration().contextmenu)return this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position),void 0;if(e.target.type!==u.MouseTargetType.OVERLAY_WIDGET&&(e.event.preventDefault(),e.target.type===u.MouseTargetType.CONTENT_TEXT||e.target.type===u.MouseTargetType.CONTENT_EMPTY||e.target.type===u.MouseTargetType.TEXTAREA)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);var t;e.target.type!==u.MouseTargetType.TEXTAREA&&(t={x:e.event.posx,y:e.event.posy+1}),this.showContextMenu(t)}},e.prototype.showContextMenu=function(e){if(this._editor.getConfiguration().contextmenu){if(!this.contextMenuService)return this._editor.focus(),void 0;var t=this._editor.getPosition(),n=this._editor.getModel();if(t&&n){this._editor.revealPosition(t);var o=this._getMenuActions();o.length>0&&this._doShowContextMenu(o,e)}}},e.prototype._getMenuActions=function(){var e=this._editor.getModel();if(!e)return[];var t=this._editor.getActions(),n=t.filter(function(e){return"function"==typeof e.shouldShowInContextMenu&&e.shouldShowInContextMenu()&&e.isSupported()});return this._prepareActions(n)},e.prototype._prepareActions=function(e){var t=new d.SortedList;e.forEach(function(e){var n=e.getGroupId().split("/"),o=t.getValue(n[0]);o||(o=new d.SortedList,t.add(n[0],o)),o.add(n[1]||n[0],e)});for(var n=[],o=t.getIterator();o.moveNext();){for(var r=o.current.value,i=r.getIterator();i.moveNext();){var s=i.current.value;n.push(s)}o.hasNext()&&n.push(new c.Separator)}return n},e.prototype._doShowContextMenu=function(e,t){var n=this;void 0===t&&(t=null),this._editor.beginForcedWidgetFocus();var i=this._editor.getConfiguration().hover;this._editor.updateOptions({hover:!1});var s=t;if(!s){var a=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),u=o.getDomNodePosition(this._editor.getDomNode()),l=u.left+a.left,d=u.top+a.top+a.height;s={x:l,y:d}}this.contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return r.TPromise.as(e)},getActionItem:function(e){var t=n._keybindingFor(e);if(t)return new c.ActionItem(e,e,{label:!0,keybinding:h.KeybindingsUtils.toLabel(t)});var o=e;return"function"==typeof o.getActionItem?o.getActionItem():null},getKeyBinding:function(e){return n._keybindingFor(e)},onHide:function(){n._contextMenuIsBeingShownCount--,n._editor.focus(),n._editor.endForcedWidgetFocus(),n._editor.updateOptions({hover:i})}})},e.prototype._keybindingFor=function(e){var t=this.keybindingService.lookupKeybindings(e.id);return t.length>0?t[0]:null},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this.contextViewService.hideContextView(),this._toDispose=l.disposeAll(this._toDispose)},e.ID="editor.contrib.contextmenu",e=__decorate([__param(1,p.IContextMenuService),__param(2,p.IContextViewService),__param(3,f.IKeybindingService)],e)}(),v=function(e){function t(t,n){e.call(this,t,n,a.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){var e=this.editor.getContribution(g.ID);return e?(e.showContextMenu(),r.TPromise.as(null)):r.TPromise.as(null)},t.ID="editor.action.showContextMenu",t=__decorate([__param(2,m.INullService)],t)}(a.EditorAction);i.EditorBrowserRegistry.registerEditorContribution(g),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(v,v.ID,n.localize("vs_editor_contrib_contextmenu_browser_contextmenu",0),{context:s.ContextKey.EditorTextFocus,primary:{shift:!0,key:"F10"}}))});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/diffNavigator/common/diffNavigator",["require","exports","vs/base/common/eventEmitter","vs/base/common/assert","vs/editor/common/common","vs/base/common/objects","vs/editor/common/core/range"],function(e,t,n,o,r,i,s){var a={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},u=function(e){function t(n,o){var s=this;void 0===o&&(o={}),e.call(this,[t.Events.UPDATED]),this.editor=n,this.options=i.mixin(o,a,!1),this.disposed=!1,this.toUnbind=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=this.options.alwaysRevealFirst,this.toUnbind.push(this.editor.addListener(r.EventType.Disposed,function(){return s.dispose()})),this.toUnbind.push(this.editor.addListener(r.EventType.DiffUpdated,function(){return s.onDiffUpdated()})),this.options.followsCaret&&this.toUnbind.push(this.editor.getModifiedEditor().addListener(r.EventType.CursorPositionChanged,function(){s.ignoreSelectionChange||(s.nextIdx=-1)})),this.options.alwaysRevealFirst&&this.toUnbind.push(this.editor.getModifiedEditor().addListener(r.EventType.ModelChanged,function(){s.revealFirst=!0})),this.init()}return __extends(t,e),t.prototype.init=function(){var e=this.editor.getLineChanges()},t.prototype.onDiffUpdated=function(){this.init(),this.compute(this.editor.getLineChanges()),this.revealFirst&&null!==this.editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next())},t.prototype.compute=function(e){var n=this;this.ranges=[],e&&e.forEach(function(e){!n.options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(function(e){n.ranges.push({rhs:!0,range:s.Range.create(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):n.ranges.push({rhs:!0,range:s.Range.create(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort(function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0}),this.emit(t.Events.UPDATED,{})},t.prototype.initIdx=function(e){for(var t=!1,n=this.editor.getPosition(),o=0,r=this.ranges.length;r>o&&!t;o++){var i=this.ranges[o].range;n.isBeforeOrEqual(i.getStartPosition())&&(this.nextIdx=o+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},t.prototype.move=function(e){if(o.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this.initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var n=t.range.getStartPosition();this.editor.setPosition(n),this.editor.revealPositionInCenter(n)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},t.prototype.next=function(){this.move(!0)},t.prototype.previous=function(){this.move(!1)},t.prototype.dispose=function(){for(;this.toUnbind.length>0;)this.toUnbind.pop()();this.ranges=null,this.disposed=!0,e.prototype.dispose.call(this)},t.Events={UPDATED:"navigation.updated"},t}(n.EventEmitter);t.DiffNavigator=u}),define("vs/base/browser/htmlContentRenderer",["require","exports","vs/base/browser/dom"],function(e,t,n){function o(e,t){return"string"==typeof e?[document.createTextNode(e)]:Array.isArray(e)?e.map(function(e){return r(e,t)}):e?[r(e,t)]:[]}function r(e,t){if(e.isText)return document.createTextNode(e.text);var n=i(e.tagName)||"div",o=document.createElement(n);return e.className&&(o.className=e.className),e.text&&(o.textContent=e.text),e.style&&o.setAttribute("style",e.style),e.customStyle&&Object.keys(e.customStyle).forEach(function(t){o.style[t]=e.customStyle[t]}),e.children&&e.children.forEach(function(e){o.appendChild(r(e))}),e.formattedText&&s(o,a(e.formattedText),t),o}function i(e){return e?d.hasOwnProperty(e)?e:null:null}function s(e,t,o){var r;if(t.type===l.Text)r=document.createTextNode(t.content);else if(t.type===l.Bold)r=document.createElement("b");else if(t.type===l.Italics)r=document.createElement("i");else if(t.type===l.Action){var i=document.createElement("a");i.href="#",n.addStandardDisposableListener(i,"click",function(e){o(t.index,e)}),r=i}else t.type===l.NewLine?r=document.createElement("br"):t.type===l.Root&&(r=e);e!==r&&e.appendChild(r),Array.isArray(t.children)&&t.children.forEach(function(e){s(r,e,o)})}function a(e){for(var t={type:l.Root,children:[]},n=0,o=t,r=[],i=new h(e);!i.eos();){var s=i.next(),a="\\"===s&&c(i.peek())!==l.Invalid;if(a&&(s=i.next()),!a&&u(s)&&s===i.peek()){i.advance(),o.type===l.Text&&(o=r.pop());var d=c(s);if(o.type===d||o.type===l.Action&&d===l.ActionClose)o=r.pop();else{var p={type:d,children:[]};d===l.Action&&(p.index=n,n++),o.children.push(p),r.push(o),o=p}}else if("\n"===s)o.type===l.Text&&(o=r.pop()),o.children.push({type:l.NewLine});else if(o.type!==l.Text){var f={type:l.Text,content:s};o.children.push(f),r.push(o),o=f}else o.content+=s}return o.type===l.Text&&(o=r.pop()),r.length,t}function u(e){return c(e)!==l.Invalid}function c(e){switch(e){case"*":return l.Bold;case"_":return l.Italics;case"[":return l.Action;case"]":return l.ActionClose;default:return l.Invalid}}t.renderHtml2=o,t.renderHtml=r;var l,d={a:!0,b:!0,blockquote:!0,code:!0,del:!0,dd:!0,div:!0,dl:!0,dt:!0,em:!0,h1h2h3i:!0,img:!0,kbd:!0,li:!0,ol:!0,p:!0,pre:!0,s:!0,span:!0,sup:!0,sub:!0,strong:!0,strike:!0,ul:!0,br:!0,hr:!0},h=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();!function(e){e[e.Invalid=0]="Invalid",e[e.Root=1]="Root",e[e.Text=2]="Text",e[e.Bold=3]="Bold",e[e.Italics=4]="Italics",e[e.Action=5]="Action",e[e.ActionClose=6]="ActionClose",e[e.NewLine=7]="NewLine"}(l||(l={}))}),define("vs/css!vs/base/browser/ui/contextview/contextview",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/ui/contextview/contextview",["require","exports","vs/base/browser/builder","vs/base/browser/dom","vs/base/common/lifecycle","vs/base/common/eventEmitter","vs/css!./contextview"],function(e,t,n,o,r,i){function s(e,t,n,o,r){var i,s;return o===c.BELOW?(i=t.top+t.height-n.top,n.top+i+e.height>n.height&&t.top-n.top>e.height&&(i=t.top-e.height-n.top)):(i=t.top-e.height-n.top,i+n.top<0&&t.top+t.height+e.height-n.top<n.height&&(i=t.top+t.height-n.top)),r===u.LEFT?(s=t.left-n.left,n.left+s+e.width>n.width&&(s-=e.width-t.width)):(s=t.left+t.width-e.width-n.left,s+n.left<0&&t.left+e.width<n.width&&(s=t.left-n.left)),{top:i,left:s}}var a=n.$;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.AnchorAlignment||(t.AnchorAlignment={}));var u=t.AnchorAlignment;!function(e){e[e.BELOW=0]="BELOW",e[e.ABOVE=1]="ABOVE"}(t.AnchorPosition||(t.AnchorPosition={}));var c=t.AnchorPosition;t.layout=s;var l=function(e){function t(t){var n=this;e.call(this),this.$view=a(".context-view").hide(),this.setContainer(t),this.toDispose=[{dispose:function(){n.setContainer(null)}}],this.toDisposeOnClean=null}return __extends(t,e),t.prototype.setContainer=function(e){var n=this;this.$container&&(this.$container.off(t.BUBBLE_UP_EVENTS),this.$container.off(t.BUBBLE_DOWN_EVENTS,!0),this.$container=null),e&&(this.$container=a(e),this.$view.appendTo(this.$container),this.$container.on(t.BUBBLE_UP_EVENTS,function(e){n.onDOMEvent(e,document.activeElement,!1)}),this.$container.on(t.BUBBLE_DOWN_EVENTS,function(e){n.onDOMEvent(e,document.activeElement,!0)},null,!0))},t.prototype.show=function(e){this.isVisible()&&this.hide(),this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show(),this.toDisposeOnClean=e.render(this.$view.getHTMLElement()),this.delegate=e,this.doLayout()},t.prototype.layout=function(){if(this.isVisible()){if(this.delegate.canRelayout===!1)return this.hide(),void 0;this.delegate.layout&&this.delegate.layout(),this.doLayout()}},t.prototype.doLayout=function(){var e,t=this.delegate.getAnchor();if(o.isHTMLElement(t)){var n=a(t),r=n.getPosition(),i=n.getTotalSize();e={top:r.top,left:r.left,width:i.width,height:i.height}}else{var l=t;e={top:l.y,left:l.x,width:l.width||0,height:l.height||0}}var d=this.$container.getPosition(),h={top:d.top,left:d.left,height:window.innerHeight,width:window.innerWidth},p=this.$view.getTotalSize(),f={width:p.width,height:p.height},m=this.delegate.anchorPosition||c.BELOW,g=this.delegate.anchorAlignment||u.LEFT,v=s(f,e,h,m,g);this.$view.removeClass("top","bottom","left","right"),this.$view.addClass(m===c.BELOW?"bottom":"top"),this.$view.addClass(g===u.LEFT?"left":"right"),this.$view.style({top:v.top+"px",left:v.left+"px",width:"initial"})},t.prototype.hide=function(e){this.delegate&&this.delegate.onHide&&this.delegate.onHide(e),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),this.$view.hide()},t.prototype.isVisible=function(){return!!this.delegate},t.prototype.onDOMEvent=function(e,t,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):n&&!o.isAncestor(e.target,this.$container.getHTMLElement())&&this.hide())},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=r.disposeAll(this.toDispose)},t.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],t.BUBBLE_DOWN_EVENTS=["click"],t}(i.EventEmitter);t.ContextView=l}),define("vs/css!vs/base/browser/ui/inputbox/inputBox",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/ui/inputbox/inputBox",["require","exports","vs/base/browser/browser","vs/base/browser/dom","vs/base/browser/browserService","vs/base/browser/htmlContentRenderer","vs/base/common/eventEmitter","vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/css!./inputBox"],function(e,t,n,o,r,i,s,a,u){var c=o.emmet;!function(e){e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(t.MessageType||(t.MessageType={}));var l=t.MessageType,d=function(e){function t(t,r,i){var s=this;e.call(this),this.state="idle",this.contextViewProvider=r,this.options=i||Object.create(null),this.toDispose=[],this.placeholderShim=null,this.message=null,this.cachedHeight=null,this.placeholder=this.options.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation,this.showValidationMessage=this.options.validationOptions.showMessage||!1),this.element=o.append(t,c(".monaco-inputbox.idle"));var u=this.options.flexibleHeight?"textarea":"input",l=o.append(this.element,c(".wrapper"));this.input=o.append(l,c(u+".input")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.options.flexibleHeight?this.mirror=o.append(l,c("div.mirror")):(this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off")),this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),!n.isIE11orEarlier&&this.placeholder&&this.input.setAttribute("placeholder",this.placeholder),this.toDispose.push(o.addDisposableListener(this.input,o.EventType.INPUT,function(){return s.onValueChange()}),o.addDisposableListener(this.input,o.EventType.BLUR,function(){return s.onBlur()}),o.addDisposableListener(this.input,o.EventType.FOCUS,function(){return s.onFocus()})),this.placeholder&&n.isIE11orEarlier&&(this.placeholderShim=o.append(l,c("label.placeholder-shim")),this.placeholderShim.textContent=this.placeholder,this.placeholderShim.setAttribute("for","input"),this.toDispose.push(o.addDisposableListener(this.input,o.EventType.CLICK,function(e){o.EventHelper.stop(e,!0),s.input.focus()})),n.isIE9&&this.toDispose.push(o.addDisposableListener(this.input,"keyup",function(){return s.onValueChange()}))),setTimeout(function(){return s.adjustHeight()},0),this.options.actions&&(this.actionbar=new a.ActionBar(this.element),this.actionbar.push(this.options.actions,{icon:!0,label:!1}))}return __extends(t,e),t.prototype.onBlur=function(){this._hideMessage()},t.prototype.onFocus=function(){this._showMessage()},t.prototype.setPlaceHolder=function(e){this.input&&this.input.setAttribute("placeholder",e)},t.prototype.setContextViewProvider=function(e){this.contextViewProvider=e},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return null===this.cachedHeight?o.getTotalHeight(this.element):this.cachedHeight},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.hasFocus=function(){return r.getService().document.activeElement===this.input},t.prototype.select=function(e){void 0===e&&(e=null),this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)},t.prototype.enable=function(){this.input.removeAttribute("disabled")},t.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},Object.defineProperty(t.prototype,"width",{get:function(){return o.getTotalWidth(this.input)},set:function(e){this.input.style.width=e+"px"},enumerable:!0,configurable:!0}),t.prototype.showMessage=function(e,t){this.message=e,o.removeClass(this.element,"idle"),o.removeClass(this.element,"info"),o.removeClass(this.element,"warning"),o.removeClass(this.element,"error"),o.addClass(this.element,this.classForType(e.type)),(this.hasFocus()||t)&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,o.removeClass(this.element,"info"),o.removeClass(this.element,"warning"),o.removeClass(this.element,"error"),o.addClass(this.element,"idle"),this._hideMessage()},t.prototype.isInputValid=function(){return!!this.validation&&!this.validation(this.value)},t.prototype.validate=function(){var e=null;return this.validation&&(e=this.validation(this.value),e?this.showMessage(e):this.hideMessage()),!e},t.prototype.classForType=function(e){switch(e){case l.INFO:return"info";case l.WARNING:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.message){var t,n=function(){return t.style.width=o.getTotalWidth(e.element)+"px"};this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return e.element},anchorAlignment:u.AnchorAlignment.RIGHT,render:function(r){t=o.append(r,c(".monaco-inputbox-container")),n();var s={tagName:"span",className:"monaco-inputbox-message"};e.message.formatContent?s.formattedText=e.message.content:s.text=e.message.content;var a=i.renderHtml(s);return o.addClass(a,e.classForType(e.message.type)),o.append(t,a),null},layout:n})}},t.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},t.prototype.onValueChange=function(){if(this.emit("change",this.value),this.validate(),this.placeholderShim&&(this.value?(o.addClass(this.placeholderShim,"hidden"),this.placeholderShim.setAttribute("aria-hidden","true")):(o.removeClass(this.placeholderShim,"hidden"),this.placeholderShim.setAttribute("aria-hidden","false"))),this.mirror){var e=this.value.charCodeAt(this.value.length-1),t=10===e?" ":"";this.mirror.textContent=this.value+t,this.adjustHeight()}},t.prototype.adjustHeight=function(){this.mirror&&(this.cachedHeight=o.getTotalHeight(this.mirror),this.input.style.height=this.cachedHeight+"px",this.emit("heightchange",this.cachedHeight))},t.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.placeholderShim=null,this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.showValidationMessage=null,this.state=null,this.actionbar&&(this.actionbar.dispose(),this.actionbar=null),e.prototype.dispose.call(this)},t}(s.EventEmitter);t.InputBox=d}),define("vs/css!vs/base/browser/ui/checkbox/checkbox",["vs/css!vs/editor/editor.main"],{}),define("vs/base/browser/ui/checkbox/checkbox",["require","exports","vs/base/browser/builder","vs/base/browser/mouseEvent","vs/base/browser/keyboardEvent","vs/css!./checkbox"],function(e,t,n,o,r){var i=n.$,s=function(){function e(e,t,n,s){var a=this;this.actionClassName=e,this.title=t,this.isChecked=n,this.onChange=s,this.listenersToRemove=[],this.domNode=document.createElement("div"),this.domNode.title=t,this.render(),i(this.domNode).attr({"aria-checked":"false","aria-label":this.title,tabindex:0,role:"checkbox"}),i(this.domNode).on("click",function(e){var t=new o.StandardMouseEvent(e);a.isChecked=!a.isChecked,a.render(),a.onChange(),t.preventDefault()},this.listenersToRemove),i(this.domNode).on("keydown",function(e){var t=new r.KeyboardEvent(e);("Space"===t.key||"Enter"===t.key)&&(a.isChecked=!a.isChecked,a.render(),a.onChange(),t.preventDefault())},this.listenersToRemove)}return e.prototype.focus=function(){this.domNode.focus()},e.prototype.render=function(){this.domNode.className=this.className()},e.prototype.setChecked=function(e){this.isChecked=e,i(this.domNode).attr("aria-checked",this.isChecked),this.render()
},e.prototype.className=function(){return"custom-checkbox "+this.actionClassName+" "+(this.isChecked?"checked":"unchecked")},e.prototype.width=function(){return 22},e.prototype.enable=function(){this.domNode.tabIndex=0},e.prototype.disable=function(){this.domNode.tabIndex=-1},e.prototype.destroy=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e}();t.Checkbox=s}),define("vs/css!vs/base/browser/ui/findinput/findInput",["vs/css!vs/editor/editor.main"],{}),define("vs/base/browser/ui/findinput/findInput",["require","exports","vs/nls!vs/editor/editor.main","vs/base/browser/builder","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/checkbox/checkbox","vs/css!./findInput"],function(e,t,n,o,r,i){var s=o.$,a=function(){function e(e,t,o){this.contextViewProvider=t,this.onOptionChange=null,this.width=o.width||100,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||n.localize("vs_base_browser_ui_findinput_findInput",0),this.listenersToRemove=[],this.regex=null,this.wholeWords=null,this.caseSensitive=null,this.domNode=null,this.inputNode=null,this.inputBox=null,this.validationNode=null,this.buildDomNode(),Boolean(e)&&e.appendChild(this.domNode)}return e.prototype.destroy=function(){this.regex.destroy(),this.wholeWords.destroy(),this.caseSensitive.destroy(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype.on=function(t,n){switch(t){case"keydown":case"keyup":s(this.inputBox.inputElement).on(t,n);break;case e.OPTION_CHANGE:this.onOptionChange=n}return this},e.prototype.enable=function(){s(this.domNode).removeClass("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},e.prototype.disable=function(){s(this.domNode).addClass("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},e.prototype.clear=function(){this.clearValidation(),this.setValue(""),this.focus()},e.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},e.prototype.getValue=function(){return this.inputBox.value},e.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getCaseSensitive=function(){return this.caseSensitive.isChecked},e.prototype.setCaseSensitive=function(e){this.caseSensitive.setChecked(e),this.setInputWidth()},e.prototype.getWholeWords=function(){return this.wholeWords.isChecked},e.prototype.setWholeWords=function(e){this.wholeWords.setChecked(e),this.setInputWidth()},e.prototype.getRegex=function(){return this.regex.isChecked},e.prototype.setRegex=function(e){this.regex.setChecked(e),this.setInputWidth()},e.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},e.prototype.setInputWidth=function(){var e=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=e},e.prototype.buildDomNode=function(){var e=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",s(this.domNode).addClass("monaco-findInput"),this.inputBox=new r.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null,showMessage:!0}}),this.regex=new i.Checkbox("regex",n.localize("vs_base_browser_ui_findinput_findInput",1),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.wholeWords=new i.Checkbox("whole-word",n.localize("vs_base_browser_ui_findinput_findInput",2),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.caseSensitive=new i.Checkbox("case-sensitive",n.localize("vs_base_browser_ui_findinput_findInput",3),!1,function(){e.onOptionChange(null),e.inputBox.focus(),e.setInputWidth(),e.validate()}),this.setInputWidth();var t=document.createElement("div");t.className="controls",t.appendChild(this.caseSensitive.domNode),t.appendChild(this.wholeWords.domNode),t.appendChild(this.regex.domNode),this.domNode.appendChild(t)},e.prototype.validate=function(){this.inputBox.validate()},e.prototype.showMessage=function(e){this.inputBox.showMessage(e)},e.prototype.clearMessage=function(){this.inputBox.hideMessage()},e.prototype.clearValidation=function(){this.inputBox.hideMessage()},e.OPTION_CHANGE="optionChange",e}();t.FindInput=a}),define("vs/editor/contrib/find/browser/replaceAllCommand",["require","exports","vs/editor/common/core/range","vs/editor/common/core/selection"],function(e,t,n,o){var r=function(){function e(e,t){this._ranges=e,this._replaceStrings=t}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var o=[],r=0;r<this._ranges.length;r++)o.push({range:this._ranges[r],text:this._replaceStrings[r]});o.sort(function(e,t){return n.Range.compareRangesUsingStarts(e.range,t.range)});for(var i=[],s=o[0],r=1;r<o.length;r++)s.range.endLineNumber===o[r].range.startLineNumber&&s.range.endColumn===o[r].range.startColumn?(s.range=s.range.plusRange(o[r].range),s.text=s.text+o[r].text):(i.push(s),s=o[r]);i.push(s);for(var r=0;r<i.length;r++)t.addEditOperation(i[r].range,i[r].text)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),r=n[n.length-1].range;return o.Selection.createSelection(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn)},e}();t.ReplaceAllCommand=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/find/browser/findModel",["require","exports","vs/editor/common/common","vs/base/common/strings","vs/base/common/eventEmitter","./replaceAllCommand","vs/base/common/async","vs/editor/common/core/range","vs/editor/common/core/position","vs/editor/common/commands/replaceCommand"],function(e,t,n,o,r,i,s,a,u,c){t.START_FIND_ID="actions.find",t.NEXT_MATCH_FIND_ID="editor.action.nextMatchFindAction",t.PREVIOUS_MATCH_FIND_ID="editor.action.previousMatchFindAction",t.START_FIND_REPLACE_ID="editor.action.startFindReplaceAction";var l=function(e){function t(o){var r=this;e.call(this,[t._MATCHES_UPDATED_EVENT,t._START_EVENT]),this.editor=o,this.startPosition=null,this.searchString="",this.replaceString="",this.searchOnlyEditableRange=!1,this.decorations=[],this.decorationIndex=0,this.findScopeDecorationId=null,this.highlightedDecorationId=null,this.listenersToRemove=[],this.didReplace=!1,this.isRegex=!1,this.matchCase=!1,this.wholeWord=!1,this.updateDecorationsScheduler=new s.RunOnceScheduler(function(){r.updateDecorations(!1,!1,null)},100),this.listenersToRemove.push(this.editor.addListener(n.EventType.CursorPositionChanged,function(e){("explicit"===e.reason||"undo"===e.reason||"redo"===e.reason)&&(null!==r.highlightedDecorationId&&r.editor.changeDecorations(function(e){e.changeDecorationOptions(r.highlightedDecorationId,r.createFindMatchDecorationOptions(!1)),r.highlightedDecorationId=null}),r.startPosition=r.editor.getPosition(),r.decorationIndex=-1)})),this.listenersToRemove.push(this.editor.addListener(n.EventType.ModelContentChanged,function(e){e.changeType===n.EventType.ModelContentChangedFlush&&(r.decorations=[],r.decorationIndex=-1,r.findScopeDecorationId=null,r.highlightedDecorationId=null),r.startPosition=r.editor.getPosition(),r.updateDecorationsScheduler.schedule()}))}return __extends(t,e),t.prototype.removeOldDecorations=function(e,t){var n,o;for(n=0,o=this.decorations.length;o>n;n++)e.removeDecoration(this.decorations[n]);this.decorations=[],t&&this.hasFindScope()&&(e.removeDecoration(this.findScopeDecorationId),this.findScopeDecorationId=null)},t.prototype.createFindMatchDecorationOptions=function(e){return{stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!1,className:e?"currentFindMatch":"findMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",position:n.OverviewRulerLane.Center}}},t.prototype.createFindScopeDecorationOptions=function(){return{className:"findScope",isWholeLine:!0}},t.prototype.addMatchesDecorations=function(e,t){var n,o;for(n=0,o=t.length;o>n;n++)this.decorations[n]=e.addDecoration(t[n],this.createFindMatchDecorationOptions(!1))},t.prototype.updateDecorations=function(e,t,n){var o=this;this.didReplace&&this.next(),this.editor.changeDecorations(function(e){o.removeOldDecorations(e,t);var r;r=o.searchOnlyEditableRange?o.editor.getModel().getEditableRange():o.editor.getModel().getFullModelRange(),t&&n&&(o.findScopeDecorationId=e.addDecoration(n,o.createFindScopeDecorationOptions())),o.hasFindScope()&&(r=r.intersectRanges(o.editor.getModel().getDecorationRange(o.findScopeDecorationId))),o.addMatchesDecorations(e,o.editor.getModel().findMatches(o.searchString,r,o.isRegex,o.matchCase,o.wholeWord))}),this.highlightedDecorationId=null,this.decorationIndex=this.indexAfterPosition(this.startPosition),this.didReplace||e?this.decorations.length>0&&this.setSelectionToDecoration(this.decorations[this.decorationIndex]):this.decorationIndex=this.previousIndex(this.decorationIndex);var r={position:this.decorations.length>0?this.decorationIndex+1:0,count:this.decorations.length};this._emitMatchesUpdatedEvent(r),this.didReplace=!1},t.prototype.setFindScope=function(e){null===e?this.updateDecorations(!1,!0,e):this.updateDecorations(!1,!0,a.Range.create(e.startLineNumber,1,e.endLineNumber,this.editor.getModel().getLineMaxColumn(e.endLineNumber)))},t.prototype.recomputeMatches=function(e,t){var n=!1;this.isRegex!==e.properties.isRegex&&(this.isRegex=e.properties.isRegex,n=!0),this.matchCase!==e.properties.matchCase&&(this.matchCase=e.properties.matchCase,n=!0),this.wholeWord!==e.properties.wholeWord&&(this.wholeWord=e.properties.wholeWord,n=!0),e.searchString!==this.searchString&&(this.searchString=e.searchString,n=!0),this.replaceString=e.replaceString,e.isReplaceRevealed!==this.searchOnlyEditableRange&&(this.searchOnlyEditableRange=e.isReplaceRevealed,n=!0),n&&this.updateDecorations(t,!1,null)},t.prototype.start=function(e,t,n){this.startPosition=this.editor.getPosition(),this.isRegex=e.properties.isRegex,this.matchCase=e.properties.matchCase,this.wholeWord=e.properties.wholeWord,this.searchString=e.searchString,this.replaceString=e.replaceString,this.searchOnlyEditableRange=e.isReplaceRevealed,this.setFindScope(t),this.decorationIndex=this.previousIndex(this.indexAfterPosition(this.startPosition));var o={state:e,selectionFindEnabled:this.hasFindScope(),shouldFocus:n};this._emitStartEvent(o)},t.prototype.prev=function(){this.decorations.length>0?(-1===this.decorationIndex&&(this.decorationIndex=this.indexAfterPosition(this.startPosition)),this.decorationIndex=this.previousIndex(this.decorationIndex),this.setSelectionToDecoration(this.decorations[this.decorationIndex])):this.hasFindScope()&&this.editor.revealRangeInCenterIfOutsideViewport(this.editor.getModel().getDecorationRange(this.findScopeDecorationId))},t.prototype.next=function(){this.decorations.length>0?(this.decorationIndex=-1===this.decorationIndex?this.indexAfterPosition(this.startPosition):this.nextIndex(this.decorationIndex),this.setSelectionToDecoration(this.decorations[this.decorationIndex])):this.hasFindScope()&&this.editor.revealRangeInCenterIfOutsideViewport(this.editor.getModel().getDecorationRange(this.findScopeDecorationId))},t.prototype.setSelectionToDecoration=function(e){var t=this;this.editor.changeDecorations(function(n){null!==t.highlightedDecorationId&&n.changeDecorationOptions(t.highlightedDecorationId,t.createFindMatchDecorationOptions(!1)),n.changeDecorationOptions(e,t.createFindMatchDecorationOptions(!0)),t.highlightedDecorationId=e});var n=this.editor.getModel().getDecorationRange(e);a.Range.isIRange(n)&&(this.editor.setSelection(n),this.editor.revealRangeInCenterIfOutsideViewport(n))},t.prototype.getReplaceString=function(e){if(!this.isRegex)return this.replaceString;var t=o.createRegExp(this.searchString,this.isRegex,this.matchCase,this.wholeWord);return e.replace(t,this.replaceString)},t.prototype.replace=function(){if(0!==this.decorations.length){var e=this.editor.getModel(),t=e.getDecorationRange(this.decorations[this.decorationIndex]),n=this.editor.getSelection();if(null!==t&&n.startColumn===t.startColumn&&n.endColumn===t.endColumn&&n.startLineNumber===t.startLineNumber&&n.endLineNumber===t.endLineNumber){var o=e.getValueInRange(n),r=this.getReplaceString(o),i=new c.ReplaceCommand(n,r);this.editor.executeCommand("replace",i),this.startPosition=u.Position.create(n.startLineNumber,n.startColumn+r.length),this.decorationIndex=-1,this.didReplace=!0}else this.next()}},t.prototype.replaceAll=function(){var e=this;if(0!==this.decorations.length){for(var t=this.editor.getModel(),n=[],o=0,r=this.decorations.length;r>o;o++)n.push(t.getDecorationRange(this.decorations[o]));this.editor.changeDecorations(function(t){e.removeOldDecorations(t,!1)});for(var s=[],o=0,r=n.length;r>o;o++)s.push(this.getReplaceString(t.getValueInRange(n[o])));var a=new i.ReplaceAllCommand(n,s);this.editor.executeCommand("replaceAll",a)}},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),this.updateDecorationsScheduler.dispose(),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.editor.getModel()&&this.editor.changeDecorations(function(e){t.removeOldDecorations(e,!0)})},t.prototype.hasFindScope=function(){return!!this.findScopeDecorationId},t.prototype.previousIndex=function(e){return this.decorations.length>0?(e-1+this.decorations.length)%this.decorations.length:0},t.prototype.nextIndex=function(e){return this.decorations.length>0?(e+1)%this.decorations.length:0},t.prototype.indexAfterPosition=function(e){if(0===this.decorations.length)return 0;for(var t=0,n=this.decorations.length;n>t;t++){var o=this.decorations[t],r=this.editor.getModel().getDecorationRange(o);if(r&&!(r.startLineNumber<e.lineNumber)){if(r.startLineNumber>e.lineNumber)return t;if(!(r.startColumn<e.column))return t}}return 0},t.prototype.addStartEventListener=function(e){return this.addListener2(t._START_EVENT,e)},t.prototype._emitStartEvent=function(e){this.emit(t._START_EVENT,e)},t.prototype.addMatchesUpdatedEventListener=function(e){return this.addListener2(t._MATCHES_UPDATED_EVENT,e)},t.prototype._emitMatchesUpdatedEvent=function(e){this.emit(t._MATCHES_UPDATED_EVENT,e)},t._START_EVENT="start",t._MATCHES_UPDATED_EVENT="matches",t}(r.EventEmitter);t.FindModelBoundToEditorModel=l}),define("vs/css!vs/editor/contrib/find/browser/findWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/find/browser/findWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/errors","vs/base/common/eventEmitter","vs/base/browser/dom","vs/base/browser/keyboardEvent","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/editorBrowser","vs/editor/common/common","./findModel","vs/base/common/lifecycle","vs/css!./findWidget"],function(e,t,n,o,r,i,s,a,u,c,l,d,h){var p=function(e){function t(n,o,r){var s=this;e.call(this,[t._USER_INPUT_EVENT,t._USER_CLOSED_EVENT]),this._codeEditor=n,this._controller=o,this._contextViewProvider=r,this._isVisible=!1,this._isReplaceVisible=!1,this._isReplaceEnabled=!1,this._toDispose=[],this._model=null,this._modelListenersToDispose=[],this._buildDomNode(),this.focusTracker=i.trackFocus(this._domNode),this._codeEditor.addOverlayWidget(this),this.focusTracker.addFocusListener(function(){var e=s._codeEditor.getSelection();e.startLineNumber!==e.endLineNumber&&s._controller.enableSelectionFind()})}return __extends(t,e),t.prototype.dispose=function(){this.focusTracker.dispose(),this._removeModel(),this._findInput.destroy(),this._replaceInputBox.dispose(),this._toDispose=h.disposeAll(this._toDispose)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:c.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null},t.prototype.setSearchString=function(e){this._findInput.setValue(e)},t.prototype._setState=function(e,t){this._findInput.setValue(e.searchString),this._findInput.setCaseSensitive(e.properties.matchCase),this._findInput.setWholeWords(e.properties.wholeWord),this._findInput.setRegex(e.properties.isRegex),this._toggleSelectionFind.checkbox.disabled=!t,this._toggleSelectionFind.checkbox.checked=t,this._replaceInputBox.value=e.replaceString,e.isReplaceRevealed?this._enableReplace(!1):this._disableReplace(!1),this._onFindValueChange()},t.prototype.getState=function(){var e={searchString:this._findInput.getValue(),replaceString:this._replaceInputBox.value,properties:{isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},isReplaceRevealed:this._isReplaceEnabled,isVisible:this._isVisible};return e},t.prototype.setModel=function(e){var t=this;this._removeModel(),e?(this._model=e,this._modelListenersToDispose.push(this._model.addStartEventListener(function(e){t._reveal(e.shouldFocus),t._setState(e.state,e.selectionFindEnabled),e.shouldFocus&&t._findInput.select()})),this._modelListenersToDispose.push(this._model.addMatchesUpdatedEventListener(function(e){i.toggleClass(t._domNode,"no-results",""!==t._findInput.getValue()&&0===e.count)}))):this._hide(!1)},t.prototype._removeModel=function(){null!==this._model&&(this._modelListenersToDispose=h.disposeAll(this._modelListenersToDispose),this._model=null)},t.prototype._enableReplace=function(e){this._isReplaceEnabled=!0,this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._replaceInputBox.enable(),this._isReplaceVisible=!0,i.addClass(this._domNode,"replaceToggled"),this._toggleReplaceBtn.toggleClass("collapse",!1),this._toggleReplaceBtn.toggleClass("expand",!0),this._toggleReplaceBtn.setExpanded(!0)),e&&this._emitUserInputEvent(!1)},t.prototype._disableReplace=function(e){this._isReplaceEnabled=!1,this._isReplaceVisible&&(this._replaceInputBox.disable(),i.removeClass(this._domNode,"replaceToggled"),this._toggleReplaceBtn.toggleClass("expand",!1),this._toggleReplaceBtn.toggleClass("collapse",!0),this._toggleReplaceBtn.setExpanded(!1),this._isReplaceVisible=!1),e&&this._emitUserInputEvent(!1)},t.prototype._onFindInputKeyDown=function(e){var t=this,n=e.asString(),r=!1;switch(n){case"Enter":this._codeEditor.getAction(d.NEXT_MATCH_FIND_ID).run().done(null,o.onUnexpectedError),r=!0;break;case"Shift-Enter":this._codeEditor.getAction(d.PREVIOUS_MATCH_FIND_ID).run().done(null,o.onUnexpectedError),r=!0;break;case"Tab":this._isReplaceVisible?this._replaceInputBox.focus():this._findInput.focusOnCaseSensitive(),r=!0}r?e.preventDefault():setTimeout(function(){t._onFindValueChange(),t._emitUserInputEvent(!0)},10)},t.prototype._onReplaceInputKeyDown=function(e){var t=this,n=e.asString(),o=!1;switch(n){case"Enter":this._controller.replace(),o=!0;break;case"Meta-Enter":case"Ctrl-Enter":this._controller.replaceAll(),o=!0;break;case"Tab":this._findInput.focusOnCaseSensitive(),o=!0}o?e.preventDefault():setTimeout(function(){t._emitUserInputEvent(!0)},10)},t.prototype._onFindValueChange=function(){var e=this._findInput.getValue().length>0;this._prevBtn.setEnabled(e),this._nextBtn.setEnabled(e),this._replaceBtn.setEnabled(e),this._replaceAllBtn.setEnabled(e)},t.prototype._buildFindPart=function(){var e=this;this._findInput=new u.FindInput(null,this._contextViewProvider,{width:t.FIND_INPUT_AREA_WIDTH,label:n.localize("vs_editor_contrib_find_browser_findWidget",0),placeholder:n.localize("vs_editor_contrib_find_browser_findWidget",1),validation:function(t){if(0===t.length)return null;if(!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(n){return{content:n.message}}}}).on("keydown",function(t){e._onFindInputKeyDown(new s.KeyboardEvent(t))}).on(u.FindInput.OPTION_CHANGE,function(){e._emitUserInputEvent(!0)}),this._findInput.disable(),this._prevBtn=new m(n.localize("vs_editor_contrib_find_browser_findWidget",2),"previous").onTrigger(function(){e._codeEditor.getAction(d.PREVIOUS_MATCH_FIND_ID).run().done(null,o.onUnexpectedError)}),this._toDispose.push(this._prevBtn),this._nextBtn=new m(n.localize("vs_editor_contrib_find_browser_findWidget",3),"next").onTrigger(function(){e._codeEditor.getAction(d.NEXT_MATCH_FIND_ID).run().done(null,o.onUnexpectedError)}),this._toDispose.push(this._nextBtn);var r=document.createElement("div");return r.className="find-part",r.appendChild(this._findInput.domNode),r.appendChild(this._prevBtn.domNode),r.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=new f(r,n.localize("vs_editor_contrib_find_browser_findWidget",4)),this._toggleSelectionFind.disable(),this._toDispose.push(i.addStandardDisposableListener(this._toggleSelectionFind.checkbox,"change",function(){e._toggleSelectionFind.checkbox.checked?e._controller.enableSelectionFind():(e._controller.disableSelectionFind(),e._updateToggleSelectionFindButton())})),this._toDispose.push(this._toggleSelectionFind),this._codeEditor.addListener(l.EventType.CursorSelectionChanged,function(){e._updateToggleSelectionFindButton()}),this._closeBtn=new m(n.localize("vs_editor_contrib_find_browser_findWidget",5),"close-fw").onTrigger(function(){e._hide(!0),e._emitClosedEvent()}).onKeyDown(function(t){e._isReplaceVisible&&(e._replaceBtn.focus(),t.preventDefault())}),this._toDispose.push(this._closeBtn),r.appendChild(this._closeBtn.domNode),r},t.prototype._updateToggleSelectionFindButton=function(){if(this._isVisible&&!this._toggleSelectionFind.checkbox.checked){var e=this._codeEditor.getSelection();e.startLineNumber===e.endLineNumber?this._toggleSelectionFind.disable():this._toggleSelectionFind.enable()}},t.prototype._buildReplacePart=function(){var e=this,o=document.createElement("div");o.className="replace-input",o.style.width=t.REPLACE_INPUT_AREA_WIDTH+"px",this._replaceInputBox=new a.InputBox(o,null,{ariaLabel:n.localize("vs_editor_contrib_find_browser_findWidget",6),placeholder:n.localize("vs_editor_contrib_find_browser_findWidget",7)}),this._toDispose.push(i.addStandardDisposableListener(this._replaceInputBox.inputElement,"keydown",function(t){return e._onReplaceInputKeyDown(t)})),this._replaceInputBox.disable(),this._replaceBtn=new m(n.localize("vs_editor_contrib_find_browser_findWidget",8),"replace").onTrigger(function(){e._controller.replace()}),this._toDispose.push(this._replaceBtn),this._replaceAllBtn=new m(n.localize("vs_editor_contrib_find_browser_findWidget",9),"replace-all").onTrigger(function(){e._controller.replaceAll()}),this._toDispose.push(this._replaceAllBtn);var r=document.createElement("div");return r.className="replace-part",r.appendChild(o),r.appendChild(this._replaceBtn.domNode),r.appendChild(this._replaceAllBtn.domNode),r},t.prototype._buildDomNode=function(){var e=this,t=this._buildFindPart(),o=this._buildReplacePart();this._toggleReplaceBtn=new m(n.localize("vs_editor_contrib_find_browser_findWidget",10),"toggle left").onTrigger(function(){e._isReplaceVisible?e._disableReplace(!0):e._enableReplace(!0)}),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._toDispose.push(this._toggleReplaceBtn),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","false"),this._codeEditor.getConfiguration().readOnly||i.addClass(this._domNode,"can-replace"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(o)},t.prototype._reveal=function(e){var t=this;this._isVisible||(this._findInput.enable(),this._isReplaceVisible&&this._replaceInputBox.enable(),this._toggleSelectionFind.enable(),this._closeBtn.setEnabled(!0),this._onFindValueChange(),this._isVisible=!0,window.setTimeout(function(){i.addClass(t._domNode,"visible"),e||(i.addClass(t._domNode,"noanimation"),window.setTimeout(function(){i.removeClass(t._domNode,"noanimation")},200))},0),this._codeEditor.layoutOverlayWidget(this))},t.prototype._hide=function(e){this._isVisible&&(this._findInput.disable(),this._replaceInputBox.disable(),this._toggleSelectionFind.disable(),this._closeBtn.setEnabled(!1),this._prevBtn.setEnabled(!1),this._nextBtn.setEnabled(!1),this._replaceBtn.setEnabled(!1),this._replaceAllBtn.setEnabled(!1),i.removeClass(this._domNode,"visible"),this._isVisible=!1,e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this))},t.prototype.addUserInputEventListener=function(e){return this.addListener2(t._USER_INPUT_EVENT,e)},t.prototype._emitUserInputEvent=function(e){var n={jumpToNextMatch:e};this.emit(t._USER_INPUT_EVENT,n)},t.prototype.addClosedEventListener=function(e){return this.addListener2(t._USER_CLOSED_EVENT,e)},t.prototype._emitClosedEvent=function(){this.emit(t._USER_CLOSED_EVENT)},t._USER_CLOSED_EVENT="close",t._USER_INPUT_EVENT="userInputEvent",t.ID="editor.contrib.findWidget",t.PART_WIDTH=275,t.FIND_INPUT_AREA_WIDTH=t.PART_WIDTH-54,t.REPLACE_INPUT_AREA_WIDTH=t.FIND_INPUT_AREA_WIDTH,t}(r.EventEmitter);t.FindWidget=p;var f=function(){function e(t,n){this._domNode=document.createElement("div"),this._domNode.className="monaco-checkbox",this._domNode.title=n,this._checkbox=document.createElement("input"),this._checkbox.type="checkbox",this._checkbox.className="checkbox",this._checkbox.id="checkbox-"+e.COUNTER++,this.label=document.createElement("label"),this.label.className="label",this.label.htmlFor=this._checkbox.id,this._domNode.appendChild(this._checkbox),this._domNode.appendChild(this.label),t.appendChild(this._domNode)}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkbox",{get:function(){return this._checkbox},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._checkbox.focus()},e.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},e.prototype.disable=function(){this._checkbox.disabled=!0},e.prototype.dispose=function(){this._domNode=null,this._checkbox=null,this.label=null},e.COUNTER=0,e}();t.Checkbox=f;var m=function(){function e(e,t){var n=this;this._onTrigger=null,this._onKeyDown=null,this._domNode=document.createElement("div"),this._domNode.title=e,this._domNode.tabIndex=-1,this._domNode.className="button "+t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",e),this._toDispose=[],this._toDispose.push(i.addStandardDisposableListener(this._domNode,"click",function(e){n._invokeOnTrigger(),e.preventDefault()})),this._toDispose.push(i.addStandardDisposableListener(this._domNode,"keydown",function(e){var t=e.asString();return"Space"===t||"Enter"===t?(n._invokeOnTrigger(),e.preventDefault(),void 0):(n._invokeOnKeyDown(e),void 0)}))}return e.prototype.dispose=function(){this._toDispose=h.disposeAll(this._toDispose)},Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._domNode.focus()},e.prototype.setEnabled=function(e){i.toggleClass(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},e.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(e))},e.prototype.toggleClass=function(e,t){i.toggleClass(this._domNode,e,t)},e.prototype.onTrigger=function(e){return this._onTrigger=e,this},e.prototype.onKeyDown=function(e){return this._onKeyDown=e,this},e.prototype._invokeOnTrigger=function(){this._onTrigger&&this._onTrigger()},e.prototype._invokeOnKeyDown=function(e){this._onKeyDown&&this._onKeyDown(e)},e}()});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/find/browser/find",["require","exports","vs/base/common/winjs.base","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","./findWidget","./findModel","vs/nls!vs/editor/editor.main","vs/base/common/lifecycle","vs/editor/common/common","vs/editor/common/core/selection","vs/platform/keybinding/common/keybindingService","vs/platform/contextview/browser/contextView","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f){function m(e,t){var n,o,r=g.getFindController(e),i=r.getFindState(),s=!1,a=!1,u=!1;if(i&&(s=i.properties.isRegex,a=i.properties.wholeWord,u=i.properties.matchCase),!e.isFocused()&&i&&i.searchString.length>0)n=i.searchString;else{var c=e.getSelection();if(c.startLineNumber!==c.endLineNumber)return null;if(c.isEmpty()){var l=e.getModel().getWordAtPosition(c.getStartPosition());if(!l)return null;n=l.word,o=d.Selection.createSelection(c.startLineNumber,l.startColumn,c.startLineNumber,l.endColumn)}else n=e.getModel().getValueInRange(c);t&&r.setSearchString(n)}return{searchText:n,isRegex:s,matchCase:u,wholeWord:a,nextMatch:o}}var g=function(){function e(e,t,n){var o=this;this._findWidgetVisible=n.createKey(M,!1),this.editor=e,this.model=null,this.widgetIsVisible=!1,this.lastState=null,this.widget=new s.FindWidget(this.editor,this,t),this.widgetListeners=[],this.widgetListeners.push(this.widget.addUserInputEventListener(function(e){return o.onWidgetUserInput(e)})),this.widgetListeners.push(this.widget.addClosedEventListener(function(){return o.onWidgetClosed()})),this.editorListeners=[],this.editorListeners.push(this.editor.addListener(l.EventType.ModelChanged,function(){o.disposeBindingAndModel(),o.editor.getModel()&&o.lastState&&o.widgetIsVisible&&o._start(!1,!1,!1,!1)})),this.editorListeners.push(this.editor.addListener(l.EventType.Disposed,function(){o.editorListeners.forEach(function(e){e()}),o.editorListeners=[]}))}return e.getFindController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.widgetListeners=c.disposeAll(this.widgetListeners),this.widget&&(this.widget.dispose(),this.widget=null),this.disposeBindingAndModel()},e.prototype.disposeBindingAndModel=function(){this._findWidgetVisible.reset(),this.widget&&this.widget.setModel(null),this.model&&(this.model.dispose(),this.model=null)},e.prototype.closeFindWidget=function(){this.widgetIsVisible=!1,this.disposeBindingAndModel(),this.editor.focus()},e.prototype.onWidgetClosed=function(){this.widgetIsVisible=!1,this.disposeBindingAndModel()},e.prototype.getFindState=function(){return this.lastState},e.prototype.setSearchString=function(e){this.widget.setSearchString(e),this.lastState=this.widget.getState(),this.model&&this.model.recomputeMatches(this.lastState,!1)},e.prototype.onWidgetUserInput=function(e){this.lastState=this.widget.getState(),this.model&&this.model.recomputeMatches(this.lastState,e.jumpToNextMatch)},e.prototype._start=function(e,t,n,o){this.model||(this.model=new a.FindModelBoundToEditorModel(this.editor),this.widget.setModel(this.model)),this._findWidgetVisible.set(!0),this.lastState=this.lastState||this.widget.getState();var r=this.editor.getSelection();
if(r){t&&!r.isEmpty()&&r.startLineNumber===r.endLineNumber&&(this.lastState.searchString=this.editor.getModel().getValueInRange(r));var i=null;n&&r.startLineNumber<r.endLineNumber&&(i=r),e&&(this.lastState.isReplaceRevealed=e),this.model.start(this.lastState,i,o),this.widgetIsVisible=!0}},e.prototype.startFromAction=function(e){this._start(e,!0,!0,!0)},e.prototype.next=function(){return this.model?(this.model.next(),!0):!1},e.prototype.prev=function(){return this.model?(this.model.prev(),!0):!1},e.prototype.enableSelectionFind=function(){this.model&&this.model.setFindScope(this.editor.getSelection())},e.prototype.disableSelectionFind=function(){this.model&&this.model.setFindScope(null)},e.prototype.replace=function(){return this.model?(this.model.replace(),!0):!1},e.prototype.replaceAll=function(){return this.model?(this.model.replaceAll(),!0):!1},e.ID="editor.contrib.findController",e=__decorate([__param(1,p.IContextViewService),__param(2,h.IKeybindingService)],e)}();t.FindController=g;var v=function(e){function t(t,n,o){e.call(this,t,n,o||i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype._startController=function(e){e.startFromAction(!1)},t.prototype.run=function(){var e=g.getFindController(this.editor);return this._startController(e),n.TPromise.as(!0)},t}(i.EditorAction);t.BaseStartFindAction=v;var _=function(e){function t(t,n){e.call(this,t,n,i.Behaviour.WidgetFocus)}return __extends(t,e),t=__decorate([__param(2,f.INullService)],t)}(v);t.StartFindAction=_;var y=function(e){function t(t,n){e.call(this,t,n,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=g.getFindController(this.editor);return e.next()?n.TPromise.as(!0):this.editor.getAction(a.START_FIND_ID).run()},t=__decorate([__param(2,f.INullService)],t)}(i.EditorAction);t.NextMatchFindAction=y;var b=function(e){function t(t,n){e.call(this,t,n,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=g.getFindController(this.editor);return e.prev()?n.TPromise.as(!0):this.editor.getAction(a.START_FIND_ID).run()},t=__decorate([__param(2,f.INullService)],t)}(i.EditorAction);t.PreviousMatchFindAction=b;var C=function(e){function t(t,n){e.call(this,t,n,i.Behaviour.WidgetFocus|i.Behaviour.Writeable)}return __extends(t,e),t.prototype.getId=function(){return a.START_FIND_REPLACE_ID},t.prototype._startController=function(e){e.startFromAction(!0)},t=__decorate([__param(2,f.INullService)],t)}(v);t.StartFindReplaceAction=C,t.multiCursorFind=m;var S=function(e){function t(t,n){e.call(this,t,n,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype._getNextMatch=function(){var e=m(this.editor,!0);if(!e)return null;if(e.nextMatch)return e.nextMatch;var t=this.editor.getSelections(),n=t[t.length-1],o=this.editor.getModel().findNextMatch(e.searchText,n.getEndPosition(),e.isRegex,e.matchCase,e.wholeWord);return o?d.Selection.createSelection(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn):null},t=__decorate([__param(2,f.INullService)],t)}(i.EditorAction),w=function(e){function t(t,n,o){e.call(this,t,n,o)}return __extends(t,e),t.prototype.run=function(){var e=this._getNextMatch();if(!e)return n.TPromise.as(!1);var t=this.editor.getSelections();return this.editor.setSelections(t.concat(e)),this.editor.revealRangeInCenterIfOutsideViewport(e),n.TPromise.as(!0)},t.ID="editor.action.addSelectionToNextFindMatch",t=__decorate([__param(2,f.INullService)],t)}(S),E=function(e){function t(t,n,o){e.call(this,t,n,o)}return __extends(t,e),t.prototype.run=function(){var e=this._getNextMatch();if(!e)return n.TPromise.as(!1);{var t=this.editor.getSelections();t[t.length-1]}return this.editor.setSelections(t.slice(0,t.length-1).concat(e)),this.editor.revealRangeInCenterIfOutsideViewport(e),n.TPromise.as(!0)},t.ID="editor.action.moveSelectionToNextFindMatch",t=__decorate([__param(2,f.INullService)],t)}(S),T=function(e){function t(t,n){e.call(this,t,n,i.Behaviour.WidgetFocus)}return __extends(t,e),t.prototype.run=function(){var e=m(this.editor,!0);if(!e)return n.TPromise.as(!1);var t=this.editor.getModel().findMatches(e.searchText,!0,e.isRegex,e.matchCase,e.wholeWord);return t.length>0&&this.editor.setSelections(t.map(function(e){return d.Selection.createSelection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)})),n.TPromise.as(!0)},t.ID="editor.action.selectHighlights",t=__decorate([__param(2,f.INullService)],t)}(i.EditorAction),x=function(){function e(e){var t=this;this.editor=e,this.model=this.editor.getModel(),this.decorations=[],this.toUnhook=[],this.toUnhook.push(e.addListener(l.EventType.CursorPositionChanged,function(e){return t.onPositionChanged(e)})),this.toUnhook.push(e.addListener(l.EventType.ModelChanged,function(){t.removeDecorations(),t.model=t.editor.getModel()}))}return e.prototype.getId=function(){return e.ID},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},e.prototype.onPositionChanged=function(){if(this.editor.getConfiguration().selectionHighlight){var e=m(this.editor,!1);if(!e)return this.removeDecorations(),void 0;if(e.nextMatch)return this.removeDecorations(),void 0;if(/^[ \t]+$/.test(e.searchText))return this.removeDecorations(),void 0;if(e.searchText.length>200)return this.removeDecorations(),void 0;var t=this.editor.getModel().findMatches(e.searchText,!0,e.isRegex,e.matchCase,e.wholeWord),n=t.map(function(e){return{range:e,options:{stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!1,className:"selectionHighlight"}}});this.decorations=this.editor.deltaDecorations(this.decorations,n)}},e.prototype.dispose=function(){for(this.removeDecorations();this.toUnhook.length>0;)this.toUnhook.pop()()},e.ID="editor.contrib.selectionHighlighter",e=__decorate([__param(1,f.INullService)],e)}();t.SelectionHighlighter=x,r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(T,T.ID,u.localize("vs_editor_contrib_find_browser_find",0),{context:r.ContextKey.EditorFocus,primary:{ctrlCmd:!0,shift:!0,key:"L"}}));var M="findWidgetVisible";r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(_,a.START_FIND_ID,u.localize("vs_editor_contrib_find_browser_find",1),{context:r.ContextKey.None,primary:{ctrlCmd:!0,key:"F"},secondary:[{ctrlCmd:!0,key:"F3"}]})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(y,a.NEXT_MATCH_FIND_ID,u.localize("vs_editor_contrib_find_browser_find",2),{context:r.ContextKey.EditorFocus,primary:{key:"F3"},mac:{primary:{ctrlCmd:!0,key:"G"},secondary:[{key:"F3"}]}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(b,a.PREVIOUS_MATCH_FIND_ID,u.localize("vs_editor_contrib_find_browser_find",3),{context:r.ContextKey.EditorFocus,primary:{shift:!0,key:"F3"},mac:{primary:{ctrlCmd:!0,shift:!0,key:"G"},secondary:[{shift:!0,key:"F3"}]}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(C,a.START_FIND_REPLACE_ID,u.localize("vs_editor_contrib_find_browser_find",4),{context:r.ContextKey.None,primary:{ctrlCmd:!0,key:"H"},mac:{primary:{ctrlCmd:!0,alt:!0,key:"F"}}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(E,E.ID,u.localize("vs_editor_contrib_find_browser_find",5),{context:r.ContextKey.EditorFocus,primary:{ctrlCmd:!0,key:"K",chord:{ctrlCmd:!0,key:"D"}}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(w,w.ID,u.localize("vs_editor_contrib_find_browser_find",6),{context:r.ContextKey.EditorFocus,primary:{ctrlCmd:!0,key:"D"}})),o.EditorBrowserRegistry.registerEditorContribution(g),o.EditorBrowserRegistry.registerEditorContribution(x),r.CommonEditorRegistry.registerEditorCommand("closeFindWidget",r.CommonEditorRegistry.commandWeight(5),{primary:{key:"Escape"}},!1,M,function(e,t){g.getFindController(t).closeFindWidget()})}),define("vs/editor/contrib/format/common/formatCommand",["require","exports","vs/base/common/strings","vs/editor/common/core/range","vs/editor/common/core/position"],function(e,t,n,o,r){var i=function(){function e(e,t){this._edits=e,this._initialSelection=t}return e.prototype.getEditOperations=function(e,t){var n=this;this._edits.map(function(t){return n.fixLineTerminators(t,e)}).map(function(t){return n.trimEdit(t,e)}).filter(function(e){return null!==e}).forEach(function(e){return t.addEditOperation(o.Range.lift(e.range),e.text)});var r=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(r=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(r=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),r||(this._selectionId=t.trackSelection(this._initialSelection))},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e.prototype.fixLineTerminators=function(e,t){return e.text=e.text.replace(/\r\n|\r|\n/g,t.getEOL()),e},e.prototype.trimEdit=function(e,t){var o=t.getValueInRange(e.range),i=n.commonPrefixLength(e.text,o);if(i===o.length&&i===e.text.length)return null;var s=0;i!==o.length&&i!==e.text.length&&(s=n.commonSuffixLength(e.text,o));var a=r.Position.create(e.range.startLineNumber,e.range.startColumn);a=t.modifyPosition(a,i);var u=r.Position.create(e.range.endLineNumber,e.range.endColumn);u=t.modifyPosition(u,-s);var c=e.text.slice(i,e.text.length-s);return{text:c,range:{startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:u.lineNumber,endColumn:u.column}}},e}();t.EditOperationsCommand=i});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/format/common/format",["require","exports","vs/editor/common/common","vs/base/common/lifecycle","vs/base/common/arrays","vs/nls!vs/editor/editor.main","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","./formatCommand","vs/editor/common/core/range","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c,l){var d=function(){function e(e){var t=this;this.editor=e,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.addListener(n.EventType.ConfigurationChanged,function(){return t.update()})),this.callOnDispose.push(e.addListener(n.EventType.ModelChanged,function(){return t.update()})),this.callOnDispose.push(e.addListener(n.EventType.ModelModeChanged,function(){return t.update()})),this.callOnDispose.push(e.addListener(n.EventType.ModelModeSupportChanged,function(e){e.formattingSupport&&t.update()}))}return e.prototype.update=function(){var e=this;if(this.callOnModel=o.cAll(this.callOnModel),this.editor.getConfiguration().formatOnType&&this.editor.getModel()){var t=this.editor.getModel(),n=t.getMode();n.formattingSupport&&n.formattingSupport.getAutoFormatTriggerCharacters&&n.formattingSupport.formatAfterKeystroke&&(this.formattingOptions=this.editor.getIndentationOptions(),n.formattingSupport.getAutoFormatTriggerCharacters().forEach(function(t){e.callOnModel.push(e.editor.addTypingListener(t,e.trigger.bind(e,t)))}))}},e.prototype.trigger=function(e){var t=this;if(!(this.editor.getSelections().length>1)){var o=this.editor.getModel(),i=this.editor.getPosition(),s=!1,a=this.editor.addListener(n.EventType.ModelContentChanged,function(e){if(e.changeType===n.EventType.ModelContentChangedFlush)s=!0;else if(e.changeType===n.EventType.ModelContentChangedLineChanged){var t=e.lineNumber;s=t<=i.lineNumber}else if(e.changeType===n.EventType.ModelContentChangedLinesInserted){var o=e.fromLineNumber;s=o<=i.lineNumber}else if(e.changeType===n.EventType.ModelContentChangedLinesDeleted){var r=e.toLineNumber;s=r<=i.lineNumber}s&&a()});o.getMode().formattingSupport.formatAfterKeystroke(o.getAssociatedResource(),i,e,this.formattingOptions).then(function(e){a(),s||r.isFalsyOrEmpty(e)||t.editor.executeCommand(t.getId(),new u.EditOperationsCommand(e,t.editor.getSelection()))},function(e){throw a(),e})}},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()();for(;this.callOnModel.length>0;)this.callOnModel.pop()()},e.ID="editor.contrib.autoFormat",e=__decorate([__param(1,l.INullService)],e)}(),h=function(e){function t(t,n){e.call(this,t,n,a.Behaviour.WidgetFocus|a.Behaviour.Writeable|a.Behaviour.UpdateOnModelChange|a.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"2_change/2_format"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.formattingSupport&&(t.formattingSupport.formatDocument||t.formattingSupport.formatRange)&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e,t=this,o=this.editor.getModel(),r=o.getMode().formattingSupport,i="function"==typeof r.formatRange,s="function"==typeof r.formatDocument,a=this.editor.getSelection(),u=this.editor.getIndentationOptions();if(i){var l=a;l.isEmpty()?l=c.Range.create(1,1,o.getLineCount(),o.getLineMaxColumn(o.getLineCount())):l.startColumn=1,e=r.formatRange(o.getAssociatedResource(),l,u)}else s&&(e=r.formatDocument(o.getAssociatedResource(),u));var d=this.editor.captureState(n.CodeEditorStateFlag.Value,n.CodeEditorStateFlag.Position);return e.then(function(e){return d.validate(t.editor)?e&&0!==e.length?(t.apply(t.editor,a,e),t.editor.focus(),!0):!1:!1})},t.prototype.apply=function(e,t,n){var o=null;t.isEmpty()&&(o=e.saveViewState());var r=new u.EditOperationsCommand(n,t);e.executeCommand(this.id,r),o&&e.restoreViewState(o)},t.ID="editor.action.format",t=__decorate([__param(2,l.INullService)],t)}(a.EditorAction);t.FormatAction=h,s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(h,h.ID,i.localize("vs_editor_contrib_format_common_format",0),{context:s.ContextKey.EditorTextFocus,primary:{shift:!0,alt:!0,key:"F"},linux:{primary:{ctrlCmd:!0,shift:!0,key:"I"}}})),s.CommonEditorRegistry.registerEditorContribution(d)}),define("vs/base/common/severity",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/strings"],function(e,t,n,o){var r;!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(r||(r={}));var r;return function(e){function t(t){return t?o.equalsIgnoreCase(s,t)?e.Error:o.equalsIgnoreCase(a,t)||o.equalsIgnoreCase(u,t)?e.Warning:o.equalsIgnoreCase(c,t)?e.Info:e.Ignore:e.Ignore}function r(e){return l[e]||o.empty}function i(e,t){return t-e}var s="error",a="warning",u="warn",c="info",l=Object.create(null);l[e.Error]=n.localize("vs_base_common_severity",0),l[e.Warning]=n.localize("vs_base_common_severity",1),l[e.Info]=n.localize("vs_base_common_severity",2),e.fromValue=t,e.toString=r,e.compare=i}(r||(r={})),r}),define("vs/base/common/paths",["require","exports","vs/base/common/platform"],function(e,t,n){function o(e,n){e=r(e),n=r(n);for(var o=e.split(t.sep),i=n.split(t.sep);o.length>0&&i.length>0&&o[0]===i[0];)o.shift(),i.shift();for(var s=0,a=o.length;a>s;s++)i.unshift("..");return i.join(t.sep)}function r(e,n){if(!e)return e;for(var o=e.split(/[\\\/]/),r=0,i=o.length;i>r;r++)"."===o[r]&&o[r+1]&&(o.splice(r,1),r--);return o.join(n?t.nativeSep:t.sep)}function i(e){function t(){return"."===n||"/"===n||"\\"===n?(n=void 0,o=!0):n=s(n),{value:n,done:o}}var n=e,o=!1;return{next:t}}function s(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?".":0===~t?e[0]:e.substring(0,~t)}function a(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t===e.length-1?a(e.substring(0,e.length-1)):e.substr(~t+1)}function u(e){e=a(e);var t=~e.lastIndexOf(".");return t?e.substring(~t):""}function c(e){if(!e)return 0;if(e=e.replace(/\/|\\/g,"/"),"/"===e[0])return"/"!==e[1]?1:2;if(":"===e[1])return"/"===e[2]?3:2;if(0===e.indexOf("file:///"))return 8;var t=e.indexOf("://");return-1!==t?t+3:0}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n,o=c(e[0]);n=e[0].substr(0,o),e[0]=e[0].substr(o);for(var r=[],i=/[\\\/]$/.test(e[e.length-1]),s=0;s<e.length;s++)r.push.apply(r,e[s].split(/\/|\\/));for(var s=0;s<r.length;s++){var a=r[s];"."===a||0===a.length?(r.splice(s,1),s-=1):".."===a&&r[s-1]&&".."!==r[s-1]&&(r.splice(s-1,2),s-=2)}i&&r.push("");var u=r.join("/");return n&&(u=n.replace(/\/|\\/g,"/")+u),u}function d(e){return n.isWindows&&e?(e=this.normalize(e,!0),e[0]===t.nativeSep&&e[1]===t.nativeSep):!1}function h(e){return e&&"/"===e[0]}function p(e,n){return h(n?e:r(e))?e:t.sep+e}function f(e){return e&&e.length>1&&"."===e[0]}function m(e,t){var n=_(r(e)),o=_(r(t)),i=o.length;o[i-1]||(i-=1);for(var s=0;i>s;s++)if(n[s]!==o[s])return!1;return!0}t.sep="/",t.nativeSep=n.isWindows?"\\":"/",t.relative=o,t.normalize=r,t.dirnames=i,t.dirname=s,t.basename=a,t.extname=u,t.join=l,t.isUNC=d,t.isAbsolute=h,t.makeAbsolute=p,t.isRelative=f,t.isEqualOrParent=m;var g=function(e){return e.split(t.sep)},v=function(e){return e.split(t.sep).map(function(e){return e.toLowerCase()})},_=n.isLinux?g:v}),define("vs/base/common/uri",["require","exports","vs/base/common/marshalling","vs/base/common/platform"],function(e,t,n,o){function r(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var i,i=function(){function e(){this._scheme=e._empty,this._authority=e._empty,this._path=e._empty,this._query=e._empty,this._fragment=e._empty}return Object.defineProperty(e.prototype,"scheme",{get:function(){return this._scheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authority",{get:function(){return this._authority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this._fragment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fsPath",{get:function(){if(!this._fsPath){var t;t=this._authority&&"file"===this.scheme?"//"+this._authority+this._path:e._driveLetterPath.test(this._path)?this._path[1].toLowerCase()+this._path.substr(2):this._path,o.isWindows&&(t=t.replace(/\//g,"\\")),this._fsPath=t}return this._fsPath},enumerable:!0,configurable:!0}),e.prototype.with=function(t,n,o,r,i){var s=new e;return s._scheme=t||this.scheme,s._authority=n||this.authority,s._path=o||this.path,s._query=r||this.query,s._fragment=i||this.fragment,e._validate(s),s},e.prototype.withScheme=function(e){return this.with(e,void 0,void 0,void 0,void 0)},e.prototype.withAuthority=function(e){return this.with(void 0,e,void 0,void 0,void 0)},e.prototype.withPath=function(e){return this.with(void 0,void 0,e,void 0,void 0)},e.prototype.withQuery=function(e){return this.with(void 0,void 0,void 0,e,void 0)},e.prototype.withFragment=function(e){return this.with(void 0,void 0,void 0,void 0,e)},e.parse=function(t){var n=e._parse(t);return n=n.with(void 0,decodeURIComponent(n.authority),decodeURIComponent(n.path),decodeURIComponent(n.query),decodeURIComponent(n.fragment))},e.file=function(t){t=t.replace(/\\/g,"/"),t=t.replace(/%/g,"%25"),t=t.replace(/#/g,"%23"),t=t.replace(/\?/g,"%3F"),t=e._driveLetter.test(t)?"/"+t:t;var n=e._parse(t);if(n.scheme||n.fragment||n.query)throw new Error;return n=n.with("file",void 0,decodeURIComponent(n.path),void 0,void 0)},e._parse=function(t){var n=new e,o=e._regexp.exec(t);return o&&(n._scheme=o[2]||n._scheme,n._authority=o[4]||n._authority,n._path=o[5]||n._path,n._query=o[7]||n._query,n._fragment=o[9]||n._fragment),e._validate(n),n},e.create=function(t,n,o,r,i){return(new e).with(t,n,o,r,i)},e._validate=function(e){if(e.authority&&e.path&&"/"!==e.path[0])throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character');if(!e.authority&&0===e.path.indexOf("//"))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')},e.prototype.toString=function(){if(!this._formatted){var t=[];if(this._scheme&&(t.push(this._scheme),t.push(":")),(this._authority||"file"===this._scheme)&&t.push("//"),this._authority){var n,o=this._authority;o=o.toLowerCase(),n=o.indexOf(":"),-1===n?t.push(r(o)):(t.push(r(o.substr(0,n))),t.push(o.substr(n)))}if(this._path){var i,s=this._path;e._driveLetterPath.test(s)?s="/"+s[1].toLowerCase()+s.substr(2):e._driveLetter.test(s)&&(s=s[0].toLowerCase()+s.substr(1)),i=s.split("/");for(var a=0,u=i.length;u>a;a++)i[a]=r(i[a]);t.push(i.join("/"))}this._fragment&&(t.push("#"),t.push(r(this._fragment))),this._query&&(t.push("?"),t.push(r(this._query))),this._formatted=t.join("")}return this._formatted},e.prototype.toJSON=function(){return this.toString()},e.prototype._toSerialized=function(){return{$isURI:!0,$value:this.toString().replace(/URL_MARSHAL_REMOVE.*$/,"")}},e._empty="",e._regexp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,e._driveLetterPath=/^\/[a-zA-z]:/,e._driveLetter=/^[a-zA-z]:/,e}();return function(e){function t(t){return t instanceof e?!0:t?"string"!=typeof t.scheme?!1:"string"!=typeof t.authority?!1:"string"!=typeof t.fsPath?!1:"string"!=typeof t.query?!1:"string"!=typeof t.fragment?!1:"function"!=typeof t.with?!1:"function"!=typeof t.withScheme?!1:"function"!=typeof t.withAuthority?!1:"function"!=typeof t.withPath?!1:"function"!=typeof t.withQuery?!1:"function"!=typeof t.withFragment?!1:"function"!=typeof t.toString?!1:"function"!=typeof t.toJSON?!1:!0:!1}e.isURI=t}(i||(i={})),n.registerMarshallingContribution({canSerialize:function(e){return i.isURI(e)},serialize:function(e){return e._toSerialized()},canDeserialize:function(e){return e.$isURI},deserialize:function(e){return i.parse(e.$value)}}),i});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/common/network",["require","exports","vs/base/common/assert","vs/base/common/strings","vs/base/common/hash","vs/base/common/marshalling","vs/base/common/paths","vs/base/common/uri"],function(e,t,n,o,r,i,s,a){i.registerMarshallingContribution({canSerialize:function(e){return e instanceof p},serialize:function(e){return e._toSerialized()},canDeserialize:function(e){return e.$isURL},deserialize:function(e){return new p(e.$value)}});var u=":".charCodeAt(0),c="/".charCodeAt(0),l="?".charCodeAt(0),d="#".charCodeAt(0),h=function(){function e(e){this.spec=e||o.empty,this.specLength=this.spec.length,this.parse()}return e.prototype.forwardSubstring=function(e,t){return t>e?this.spec.substring(e,t):o.empty},e.prototype.getScheme=function(){return this.forwardSubstring(this.schemeStart,this.domainStart-1)},e.prototype.getProtocol=function(){return this.forwardSubstring(this.schemeStart,this.domainStart)},e.prototype.getDomain=function(){return this.forwardSubstring(this.domainStart+2,this.portStart)},e.prototype.getPort=function(){return this.forwardSubstring(this.portStart+1,this.pathStart)},e.prototype.getHost=function(){return this.forwardSubstring(this.domainStart+2,this.pathStart)},e.prototype.getPath=function(){return this.forwardSubstring(this.pathStart,this.queryStringStart)},e.prototype.getQueryString=function(){return this.forwardSubstring(this.queryStringStart+1,this.fragmentIdStart)},e.prototype.getFragmentId=function(){return this.forwardSubstring(this.fragmentIdStart+1,this.specLength)},e.prototype.getAllBeforePath=function(){return this.forwardSubstring(0,this.pathStart)},e.prototype.getAllBeforeFragmentId=function(){return this.forwardSubstring(0,this.fragmentIdStart)},e.prototype.combine=function(e){var t=e.indexOf("?"),n=e.indexOf("#"),r=e.length;-1!==t&&r>t&&(r=t),-1!==n&&r>n&&(r=n);var i=e.substring(0,r),a=e.substring(r);i=i.replace("\\","/");var u;for(u=o.startsWith(i,"/")?s.join(i):s.join(s.dirname(this.getPath()),i);"/"===u.charAt(0);)u=u.substr(1);for(;0===u.indexOf("../");)u=u.substr(3);return this.getAllBeforePath()+"/"+u+a},e.prototype.parse=function(){var e,t,n=0,o=1,r=2,i=3,s=4,a=n,h=this.spec,p=this.specLength,f=-1,m=-1;for(this.schemeStart=0,this.domainStart=this.specLength,this.portStart=this.specLength,this.pathStart=this.specLength,this.queryStringStart=this.specLength,this.fragmentIdStart=this.specLength,e=0;p>e;e++){switch(t=h.charCodeAt(e),a){case n:f===c&&t===c&&(a=o,this.domainStart=e-1);break;case o:t===u?(a=r,this.portStart=e):t===c?(a=i,this.portStart=e,this.pathStart=e):t===d&&(this.portStart=e,this.pathStart=e,this.queryStringStart=e,this.fragmentIdStart=e,e=p);break;case r:t===c?(a=i,this.pathStart=e):t===d&&(this.pathStart=e,this.queryStringStart=e,this.fragmentIdStart=e,e=p);break;case i:t===l?(a=s,this.queryStringStart=e):t===d&&(this.queryStringStart=e,this.fragmentIdStart=e,e=p);break;case s:t===d&&(this.fragmentIdStart=e,e=p)}m=f,f=t}a===n&&(this.schemeStart=this.specLength)},e}();t.ParsedUrl=h;var p=function(e){function t(t){e.call(this),n.ok(!!t,"spec must not be null"),this._uri="string"==typeof t?a.parse(t):t,this._spec=this._uri.toString(),this._parsed=null}return __extends(t,e),t.fromEncoded=function(e){return new t(decodeURIComponent(e))},t.fromValue=function(e){return new t(e)},t.fromUri=function(e){return new t(e)},t.prototype.equals=function(e){return this.toString()!==String(e)?!1:e instanceof t||a.isURI(e)},t.prototype.hashCode=function(){return r.computeMurmur2StringHashCode(this._spec)},t.prototype.isInMemory=function(){return this.scheme===f.inMemory},t.prototype.getScheme=function(){return this._ensureParsedUrl(),this._parsed.getScheme()},t.prototype.getPath=function(){return this._ensureParsedUrl(),this._parsed.getPath()},t.prototype.toUnique=function(){return this._ensureParsedUrl(),this._parsed.getAllBeforeFragmentId()},t.prototype.startsWith=function(e){return o.startsWith(this._spec,e._spec)},t.prototype.combine=function(e){return this._ensureParsedUrl(),new t(this._parsed.combine(e))},t.prototype._ensureParsedUrl=function(){null===this._parsed&&(this._parsed=new h(this._spec))},Object.defineProperty(t.prototype,"scheme",{get:function(){return this._uri.scheme},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authority",{get:function(){return this._uri.authority},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._uri.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._uri.fsPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"query",{get:function(){return this._uri.query},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fragment",{get:function(){return this._uri.fragment},enumerable:!0,configurable:!0}),t.prototype.withScheme=function(e){return a.create(e,this.authority,this.fsPath,this.query,this.fragment)},t.prototype.withAuthority=function(e){return a.create(this.scheme,e,this.fsPath,this.query,this.fragment)},t.prototype.withPath=function(e){return a.create(this.scheme,this.authority,e,this.query,this.fragment)},t.prototype.withQuery=function(e){return a.create(this.scheme,this.authority,this.fsPath,e,this.fragment)},t.prototype.withFragment=function(e){return a.create(this.scheme,this.authority,this.fsPath,this.query,e)},t.prototype.with=function(e,t,n,o,r){return a.create(e,t,n,o,r)},t.prototype.toString=function(){return this._spec},t.prototype.toJSON=function(){return this.toString()},t.prototype._toSerialized=function(){return{$isURL:!0,$value:this.toString().replace(/URL_MARSHAL_REMOVE.*$/,"")}},t}(a);t.URL=p;var f;!function(e){e.inMemory="inmemory",e.http="http",e.https="https",e.file="file"}(f=t.schemas||(t.schemas={}))}),define("vs/base/common/labels",["require","exports","vs/base/common/platform","vs/base/common/types","vs/base/common/paths"],function(e,t,n,o,r){function i(e,t){var o=t&&s(t),i=s(e);return o&&r.isEqualOrParent(i,o)?r.normalize(i.substr(o.length+1),n.isNative):n.isWindows&&":"===i[1]?r.normalize(i.charAt(0).toUpperCase()+i.slice(1),n.isNative):r.normalize(i,n.isNative)}function s(e){if(!e)return null;if("string"==typeof e)return e;if(o.isFunction(e.getWorkspace)){var t=e.getWorkspace();return t?t.resource.fsPath:void 0}return e.fsPath}var a=function(){function e(e){this.root=e&&s(e)}return e.prototype.getLabel=function(e){return i(s(e),this.root)},e}();t.PathLabelProvider=a,t.getPathLabel=i});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/widget/embeddedCodeEditorWidget",["require","exports","vs/editor/browser/widget/codeEditorWidget","vs/editor/common/common","vs/base/common/objects"],function(e,t,n,o,r){var i=function(e){function t(t,n,r,i){var s=this;e.call(this,t,n,i.getRawConfiguration()),this._parentEditor=i,this._overwriteOptions=r,e.prototype.updateOptions.call(this,this._overwriteOptions),this._lifetimeListeners.push(i.addListener(o.EventType.ConfigurationChanged,function(e){return s._onParentConfigurationChanged(e)}))}return __extends(t,e),t.prototype._onParentConfigurationChanged=function(){e.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){r.mixin(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t}(n.CodeEditorWidget);t.EmbeddedCodeEditorWidget=i}),define("vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/zoneWidget/browser/zoneWidget",["require","exports","vs/base/browser/dom","vs/base/common/objects","vs/base/common/eventEmitter","vs/editor/common/common","vs/css!./zoneWidget"],function(e,t,n,o,r,i){var s={showArrow:!0,showFrame:!0,frameColor:"",className:""},a="vs.editor.contrib.zoneWidget",u=function(){function e(e,t,n,o,r,i){this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=o,this._onDomNodeTop=r,this._onComputedHeight=i}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}(),c=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}(),l=function(e){function t(t,n){var r=this;void 0===n&&(n={}),e.call(this),this.editor=t,this.options=o.mixin(o.clone(s),n),this.zoneId=-1,this.overlayWidget=null,this.lastView=null,this.domNode=document.createElement("div"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation"),this.container=null,this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(i.EventType.EditorLayout,function(e){var t=r.getWidth(e);r.domNode.style.width=t+"px",r.onWidth(t)}))}return __extends(t,e),t.prototype.create=function(){n.addClass(this.domNode,"zone-widget"),n.addClass(this.domNode,this.options.className),this.container=document.createElement("div"),n.addClass(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.fillContainer(this.container)
},t.prototype.getWidth=function(e){return void 0===e&&(e=this.editor.getLayoutInfo()),e.width-e.verticalScrollbarWidth},t.prototype.onViewZoneTop=function(e){this.domNode.style.top=e+"px"},t.prototype.onViewZoneHeight=function(e){this.domNode.style.height=e+"px"},t.prototype.show=function(e,t){"number"==typeof e.startLineNumber?this.showImpl(e,t):this.showImpl({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},t)},t.prototype.showImpl=function(e,t){var n=this,o={lineNumber:e.startLineNumber,column:e.startColumn};this.domNode.style.width=this.getWidth()+"px",this.editor.revealPosition(o);var r=document.createElement("div"),i=document.createElement("div"),s=this.editor.getConfiguration().lineHeight,l=t*s,d=0,h=0;this.options.showArrow&&(d=Math.round(s/3),l-=2*d,i=document.createElement("div"),i.className="zone-widget-arrow below",i.style.top=-d+"px",i.style.borderWidth=d+"px",i.style.left=this.editor.getOffsetForColumn(o.lineNumber,o.column)+"px",i.style.borderBottomColor=this.options.frameColor,r.appendChild(i)),this.options.showFrame&&(h=Math.round(s/9),l-=2*h),this.editor.changeViewZones(function(e){-1!==n.zoneId&&e.removeZone(n.zoneId),n.overlayWidget&&(n.editor.removeOverlayWidget(n.overlayWidget),n.overlayWidget=null),n.domNode.style.top="-1000px";var i=new u(r,o.lineNumber,o.column,t,function(e){return n.onViewZoneTop(e)},function(e){return n.onViewZoneHeight(e)});n.zoneId=e.addZone(i),n.overlayWidget=new c(a+n.zoneId,n.domNode),n.editor.addOverlayWidget(n.overlayWidget)}),this.options.showFrame&&(this.container.style.borderTopColor=this.options.frameColor,this.container.style.borderBottomColor=this.options.frameColor,this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"),this.container.style.top=d+"px",this.container.style.height=l+"px",this.container.style.overflow="hidden",this.doLayout(l),this.editor.setSelection(e);var p=Math.min(this.editor.getModel().getLineCount(),Math.max(1,e.endLineNumber+1));this.editor.revealLine(p),this.position=o},t.prototype.dispose=function(){var e=this;this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.overlayWidget&&(this.editor.removeOverlayWidget(this.overlayWidget),this.overlayWidget=null),-1!==this.zoneId&&this.editor.changeViewZones(function(t){t.removeZone(e.zoneId),e.zoneId=-1})},t.prototype.fillContainer=function(){},t.prototype.onWidth=function(){},t.prototype.doLayout=function(){},t}(r.EventEmitter);t.ZoneWidget=l}),define("vs/css!vs/editor/contrib/zoneWidget/browser/peekViewWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/zoneWidget/browser/peekViewWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/browser/ui/actionbar/actionbar","vs/base/common/actions","vs/base/common/strings","vs/base/browser/builder","vs/base/browser/dom","./zoneWidget","vs/platform/instantiation/common/instantiation","vs/css!./peekViewWidget"],function(e,t,n,o,r,i,s,a,u,c){function l(e,t){var n=t.context[h];return n?e.codeEditorService.getCodeEditor(n):null}t.IPeekViewService=c.createDecorator("peekViewService");var d;!function(e){e.Closed="closed"}(d=t.Events||(t.Events={}));var h="outerEditorId";t.getOuterEditor=l;var p=function(e){function u(n,o,r,i){void 0===i&&(i={}),e.call(this,n,i),this.serviceId=t.IPeekViewService,this.contextKey=r,o.setContext(h,n.getId())}return __extends(u,e),u.prototype.dispose=function(){this._isActive=!1,e.prototype.dispose.call(this)},Object.defineProperty(u.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),u.prototype.getActiveWidget=function(){return this},u.prototype.show=function(t,n){this._isActive=!0,e.prototype.show.call(this,t,n)},u.prototype.fillContainer=function(e){s.$(e).addClass("peekview-widget"),this._headElement=s.$(".head").getHTMLElement(),this._bodyElement=s.$(".body").getHTMLElement(),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},u.prototype._fillHead=function(){var e=this,t=s.$(".peekview-title").on(a.EventType.CLICK,function(t){return e._onTitleClick(t)}).appendTo(this._headElement).getHTMLElement();this._primaryHeading=s.$("span.filename").appendTo(t).getHTMLElement(),this._secondaryHeading=s.$("span.dirname").appendTo(t).getHTMLElement(),this._actionbarWidget=new o.ActionBar(s.$(".peekview-actions").appendTo(this._headElement)),this._actionbarWidget.push(new r.Action("peekview.close",n.localize("vs_editor_contrib_zoneWidget_browser_peekViewWidget",0),"close-peekview-action",!0,function(){return e.dispose(),e.emit(d.Closed,e),null}),{label:!1,icon:!0})},u.prototype._onTitleClick=function(){},u.prototype.setTitle=function(e,t){s.$(this._primaryHeading).safeInnerHtml(e),t?s.$(this._secondaryHeading).safeInnerHtml(t):a.clearNode(this._secondaryHeading)},u.prototype._fillBody=function(){},u.prototype.doLayout=function(e){var t=Math.ceil(1.2*this.editor.getConfiguration().lineHeight),n=e-(t+2);this._doLayoutHead(t),this._doLayoutBody(n)},u.prototype._doLayoutHead=function(e){this._headElement.style.height=i.format("{0}px",e)},u.prototype._doLayoutBody=function(e){this._bodyElement.style.height=i.format("{0}px",e)},u}(u.ZoneWidget);t.PeekViewWidget=p}),define("vs/editor/common/modes/nullMode",["require","exports","vs/editor/common/modes"],function(e,t,n){function o(e,t,o,r){void 0===r&&(r=0);var i=[{startIndex:r,type:"",bracket:n.Bracket.None}],s=[{startIndex:r,mode:e}];return{tokens:i,actualStopOffset:r+t.length,endState:o,modeTransitions:s}}var r=function(){function e(e,t){this.mode=e,this.stateData=t}return e.prototype.clone=function(){var t=this.stateData?this.stateData.clone():null;return new e(this.mode,t)},e.prototype.equals=function(e){if(this.mode!==e.getMode())return!1;var t=e.getStateData();return this.stateData||t?this.stateData&&t?this.stateData.equals(t):!1:!0},e.prototype.getMode=function(){return this.mode},e.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e}();t.NullState=r;var i=function(){function e(){this.tokenTypeClassificationSupport=this}return e.createWordRegExp=function(e){void 0===e&&(e="");for(var t="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",n="(-?\\d*\\.\\d\\w*)|([^",o=0;o<t.length;o++)e.indexOf(t[o])>=0||(n+="\\"+t[o]);return n+="\\s]+)",new RegExp(n,"g")},e.prototype.getId=function(){return e.ID},e.prototype.bindModel=function(){},e.prototype.unbindModel=function(){},e.prototype.getWordDefinition=function(){return e.DEFAULT_WORD_REGEXP},e.DEFAULT_WORD_REGEXP=e.createWordRegExp(),e.ID="vs.editor.modes.nullMode",e}();t.NullMode=i,t.nullTokenize=o}),define("vs/editor/common/modes/textToHtmlTokenizer",["require","exports","vs/base/common/strings","vs/editor/common/modes/nullMode"],function(e,t,n,o){function r(e,t){return a(e,s(t))}function i(e,t,n){return u(e,s(t),n)}function s(e){return e&&e.tokenizationSupport?e.tokenizationSupport:{shouldGenerateEmbeddedModels:!1,getInitialState:function(){return new o.NullState(null,null)},tokenize:function(e,t,n,r){return void 0===n&&(n=0),o.nullTokenize(null,e,t,n,r)}}}function a(e,t){var n={tagName:"div",style:"white-space: pre",children:[]},o=function(e,t){n.children.push({tagName:"span",className:e,text:t})},r=function(){n.children.push({tagName:"br"})};return c(e,t,o,r),n}function u(e,t,o){void 0===o&&(o=""),o&&o.length>0&&(o=" "+o);var r="",i=function(e,t){r+='<span class="'+e+o+'">'+n.escape(t)+"</span>"},s=function(){r+="<br/>"};return r='<div style="white-space: pre;">',c(e,t,i,s),r+="</div>"}function c(e,t,n,o){for(var r=e.split(/\r\n|\r|\n/),i=t.getInitialState(),s=0;s<r.length;s++)i=l(r[s],t,n,i),s<r.length-1&&o()}function l(e,t,n,o){for(var r,i=t.tokenize(e,o),s=i.endState,a=i.tokens,u=0,c=0;c<a.length;c++){var l=a[c];c<a.length-1?(r=e.substring(u,a[c+1].startIndex),u=a[c+1].startIndex):r=e.substr(u);var d="token",h=l.type.replace(/[^a-z0-9\-]/gi," ");h.length>0&&(d+=" "+h),n(d,r)}return s}t.tokenizeToHtmlContent=r,t.tokenizeToString=i}),define("vs/platform/request/common/request",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IRequestService=n.createDecorator("requestService")}),define("vs/platform/message/browser/message",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IMessageService=n.createDecorator("messageService")}),define("vs/platform/telemetry/common/telemetry",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.ID="telemetryService",t.ITelemetryService=n.createDecorator(t.ID)}),define("vs/platform/editor/common/editor",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IEditorService=n.createDecorator("editorService"),function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(t.Position||(t.Position={}));var o=t.Position;t.POSITIONS=[o.LEFT,o.CENTER,o.RIGHT]}),define("vs/platform/workspace/common/workspace",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IWorkspaceContextService=n.createDecorator("contextService")}),define("vs/css!vs/editor/contrib/goToDeclaration/browser/goToDeclaration",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/goToDeclaration/browser/goToDeclaration",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/lifecycle","vs/base/common/severity","vs/base/common/platform","vs/base/browser/browser","vs/base/common/network","vs/base/common/async","vs/base/common/strings","vs/base/common/labels","vs/base/common/errors","vs/base/common/paths","vs/base/common/winjs.base","vs/base/browser/builder","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/editor/common/common","vs/editor/common/config/defaultConfig","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/core/range","vs/platform/request/common/request","vs/platform/message/browser/message","vs/platform/telemetry/common/telemetry","vs/platform/editor/common/editor","vs/platform/instantiation/common/instantiation","vs/platform/workspace/common/workspace","vs/platform/keybinding/common/keybindingService","vs/css!./goToDeclaration"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v,_,y,b,C,S,w,E,T,x,M,L,k,I){var N=function(e){function t(t,n,o,r,i){e.call(this,t,n,_.Behaviour.WidgetFocus|_.Behaviour.ShowInContextMenu|_.Behaviour.UpdateOnCursorPositionChange),this.messageService=o,this.editorService=i}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.editor.getModel(),n=this.editor.getPosition(),o=this.resolve(t.getAssociatedResource(),{lineNumber:n.lineNumber,column:n.column});return o.then(function(t){return t?(e.editorService.openEditor({resource:t.resourceUrl,options:{selection:e.getSelection(t)}}),!0):!1},function(t){return e.messageService.show(r.Error,t),!1})},t.prototype.resolve=function(){return p.TPromise.as(null)},t.prototype.getSelection=function(e){return e.range},t}(_.EditorAction);t.GoToTypeAction=N;var R=function(e){function t(t,n,o,r,i){e.call(this,t,n,o,r,i)}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/3_visitTypeDefinition"},t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().typeDeclarationSupport&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){if(!e.prototype.getEnablementState.call(this))return!1;var t=this.editor.getModel(),n=this.editor.getSelection().getStartPosition();return t.getMode().typeDeclarationSupport.canFindTypeDeclaration(t.getLineContext(n.lineNumber),n.column-1)},t.prototype.resolve=function(e,t){var n=this.editor.getModel().getMode().typeDeclarationSupport;return n?n.findTypeDeclaration(e,t):p.TPromise.as(null)},t.ID="editor.action.goToTypeDeclaration",t=__decorate([__param(2,T.IMessageService),__param(3,x.ITelemetryService),__param(4,M.IEditorService)],t)}(N);t.GoToTypeDeclarationActions=R;var O=function(e){function t(t,n,o,r,i){e.call(this,t,n,o,r,i)}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/2_visitDefinition"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.declarationSupport&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){if(!e.prototype.getEnablementState.call(this))return!1;var t=this.editor.getModel(),n=this.editor.getSelection().getStartPosition();return t.getMode().declarationSupport.canFindDeclaration(t.getLineContext(n.lineNumber),n.column-1)},t.prototype.resolve=function(e,t){var n=this.editor.getModel().getMode().declarationSupport;return n?n.findDeclaration(e,t):p.TPromise.as(null)},t.prototype.getSelection=function(e){return w.Range.collapseToStart(e.range)},t.ID="editor.action.goToDeclaration",t=__decorate([__param(2,T.IMessageService),__param(3,x.ITelemetryService),__param(4,M.IEditorService)],t)}(N);t.GoToDeclarationAction=O;var D=function(e){function t(n,o,r){e.call(this,n,o,t.INNER_EDITOR_CONTEXT_KEY,{frameColor:"#007ACC",showFrame:!1,showArrow:!0}),this.instantiationService=r.createChild({peekViewService:this}),this.create()}return __extends(t,e),t.prototype._onTitleClick=function(e){if(this.widget&&this.widget.getModel()){var n=this.widget.getModel(),o=this.widget.getPosition().lineNumber,r=w.Range.create(o,1,o,n.getLineMaxColumn(o));this.emit(t.Events.HeaderTabClick,{reference:n.getAssociatedResource(),range:r,originalEvent:e})}},t.prototype._fillBody=function(e){var t=f.$(e).addClass("preview-zone-widget preview"),n={scrollBeyondLastLine:!1,scrollbar:C.DefaultConfig.editor.scrollbar,overviewRulerLanes:2};this.widget=this.instantiationService.createInstance(m.EmbeddedCodeEditorWidget,t.getHTMLElement(),n,this.editor)},t.prototype.showPreview=function(e,t){this.widget.setModel(t.model);var n={lineNumber:t.range.startLineNumber,column:t.range.startColumn};this.widget.setPosition(n),this.widget.revealPositionInCenter(n),this.setTitle(t.primaryHeading,t.secondaryHeading),this.show(e,18)},t.prototype.doLayout=function(t){e.prototype.doLayout.call(this,t),this.widget.layout()},t.prototype.onWidth=function(){this.widget.layout()},t.prototype.dispose=function(){this.widget.dispose(),e.prototype.dispose.call(this)},t.INNER_EDITOR_CONTEXT_KEY="inPeekDeclarationEditor",t.Events={HeaderTabClick:"headerTabClick"},t}(y.PeekViewWidget),P=function(){function e(e,t,n,o,r,i,s,a){var u=this;this._startTime=-1,this.editor=e,this.toUnhook=[],this.toUnhook.push(e.addListener(b.EventType.ModelChanged,function(){return u.clear()})),this.telemetryService=t,this.editorService=n,this.requestService=o,this.instantiationService=r,this.peekViewService=i,this.keybindingService=s,this.contextService=a,this.peekViewService&&s.setContext(this.peekViewService.contextKey,!0),this._peekDeclarationVisible=s.createKey(F,!1)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.run=function(){var e=this;this.clear();var t=this.editor.getModel(),o=this.editor.getModel().getMode().declarationSupport,r=this.editor.getPosition(),i={lineNumber:r.lineNumber,column:r.column};return o.findDeclaration(t.getAssociatedResource(),i).then(function(t){return t?e.editorService.resolveEditorModel({resource:t.resourceUrl}).then(function(o){if(!o)return p.TPromise.as(null);var i={model:o.textEditorModel,range:t.range,primaryHeading:n.localize("vs_editor_contrib_goToDeclaration_browser_goToDeclaration",0)};if(i.model.getAssociatedResource().getScheme()!==a.schemas.inMemory){var s=i.model.getAssociatedResource();i.primaryHeading=h.basename(s.fsPath),i.secondaryHeading=l.getPathLabel(h.dirname(s.fsPath),e.contextService)}e.widget=new D(e.editor,e.keybindingService,e.instantiationService),e.widget.showPreview(r,i),e._startTime=(new Date).getTime(),e.toUnhook.push(e.widget.addListener(D.Events.HeaderTabClick,function(t){e.editorService.openEditor({resource:t.reference,options:{selection:t.range}},t.originalEvent.ctrlKey||t.originalEvent.metaKey).done(null,d.onUnexpectedError),e.clear()})),e._peekDeclarationVisible.set(!0)}):p.TPromise.as(null)})},e.prototype.closePeekDeclaration=function(){-1!==this._startTime&&(this.telemetryService.log("zoneWidgetShown",{mode:"go to declaration",elapsedTime:(new Date).getTime()-this._startTime}),this._startTime=-1),this.clear()},e.prototype.clear=function(){this._startTime=-1,this._peekDeclarationVisible.reset(),this.widget&&(this.widget.dispose(),this.widget=null)},e.prototype.dispose=function(){this.clear(),this.toUnhook=o.cAll(this.toUnhook)},e.ID="editor.contrib.previewDeclarationController",e=__decorate([__param(1,x.ITelemetryService),__param(2,M.IEditorService),__param(3,E.IRequestService),__param(4,L.IInstantiationService),__param(5,y.IPeekViewService),__param(6,I.IKeybindingService),__param(7,k.IWorkspaceContextService)],e)}();t.PreviewDeclarationController=P;var A=function(e){function t(t,n,o){e.call(this,t,n,_.Behaviour.WidgetFocus|_.Behaviour.ShowInContextMenu|_.Behaviour.UpdateOnCursorPositionChange),this.peekViewService=o}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/1_peekDefinition"},t.prototype.getEnablementState=function(){if(this.peekViewService&&this.peekViewService.isActive)return!1;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition();return e.getMode().declarationSupport.canFindDeclaration(e.getLineContext(t.lineNumber),t.column-1)},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.declarationSupport&&!!t.declarationSupport.findDeclaration&&e.prototype.isSupported.call(this)},t.prototype.run=function(){return P.get(this.editor).run()},t.ID="editor.action.previewDeclaration",t=__decorate([__param(2,y.IPeekViewService)],t)}(_.EditorAction);t.PreviewDeclarationAction=A;var W=function(){function e(e,t,n,o){var r=this;this.editorService=o,this.requestService=t,this.messageService=n,this.hasRequiredServices=!!this.messageService&&!!this.requestService&&!!this.editorService,this.toUnhook=[],this.decorations=[],this.editor=e,this.throttler=new u.Throttler,this.toUnhook.push(this.editor.addListener(b.EventType.MouseUp,function(e){return r.onEditorMouseUp(e)})),this.toUnhook.push(this.editor.addListener(b.EventType.MouseMove,function(e){return r.onEditorMouseMove(e)})),this.toUnhook.push(this.editor.addListener(b.EventType.KeyDown,function(e){return r.onEditorKeyDown(e)})),this.toUnhook.push(this.editor.addListener(b.EventType.KeyUp,function(e){return r.onEditorKeyUp(e)})),this.toUnhook.push(this.editor.addListener(b.EventType.ModelChanged,function(){return r.resetHandler()})),this.toUnhook.push(this.editor.addListener("change",function(){return r.resetHandler()})),this.toUnhook.push(this.editor.addListener("scroll",function(){return r.resetHandler()}))}return e.prototype.onEditorMouseMove=function(e,t){this.lastMouseEvent=e,this.startFindDefinition(e,t)},e.prototype.startFindDefinition=function(t,n){var o=this;if(!this.isEnabled(t,n))return this.currentWordUnderMouse=null,this.removeDecorations(),void 0;var r=t.target.position,i=r?this.editor.getModel().getWordAtPosition(r):null;if(!i)return this.currentWordUnderMouse=null,this.removeDecorations(),void 0;if(!this.currentWordUnderMouse||this.currentWordUnderMouse.startColumn!==i.startColumn||this.currentWordUnderMouse.endColumn!==i.endColumn||this.currentWordUnderMouse.word!==i.word){this.currentWordUnderMouse=i;var s=this.editor.captureState(b.CodeEditorStateFlag.Position,b.CodeEditorStateFlag.Value,b.CodeEditorStateFlag.Selection,b.CodeEditorStateFlag.Scroll);this.throttler.queue(function(){return s.validate(o.editor)?o.findDefinition(t.target):p.TPromise.as(null)}).then(function(t){return t&&s.validate(o.editor)?(o.editorService.resolveEditorModel({resource:t.resourceUrl}).then(function(n){var s;if(n&&n.textEditorModel){var a,u,l=Math.max(1,t.range.startLineNumber);u=n.textEditorModel,a=Math.min(l+e.MAX_SOURCE_PREVIEW_LINES,u.getLineCount()),s=u.getValueInRange({startLineNumber:l,startColumn:1,endLineNumber:a,endColumn:1});for(var d,h,p=Number.MAX_VALUE,f=/^[ \t]*/;a>=l&&p>0;)h=u.getLineContent(l++),0!==h.trim().length&&(d=f.exec(h),p=Math.min(p,d[0].length));s=s.replace(new RegExp("^([ \\t]{"+p+"})","gm"),c.empty)}o.addDecoration({startLineNumber:r.lineNumber,startColumn:i.startColumn,endLineNumber:r.lineNumber,endColumn:i.endColumn},s)}),void 0):(o.removeDecorations(),void 0)}).done(void 0,d.onUnexpectedError)}},e.prototype.addDecoration=function(e,t){var n=this.editor.getModel();if(n){var o={tagName:"div",className:"goto-definition-link-hover"};t&&t.trim().length>0&&(o.children=[S.tokenizeToHtmlContent(t,n.getMode())]);var r={range:e,options:{inlineClassName:"goto-definition-link",htmlMessage:[o]}};this.decorations=this.editor.deltaDecorations(this.decorations,[r])}},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},e.prototype.onEditorKeyDown=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.lastMouseEvent?this.startFindDefinition(this.lastMouseEvent,t):t[e.TRIGGER_MODIFIER]&&this.removeDecorations()},e.prototype.resetHandler=function(){this.lastMouseEvent=null,this.removeDecorations()},e.prototype.onEditorMouseUp=function(e){var t=this;this.isEnabled(e)&&this.gotoDefinition(e.target,e.event.altKey).done(function(){t.removeDecorations()},function(e){t.removeDecorations(),d.onUnexpectedError(e)})},e.prototype.onEditorKeyUp=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.removeDecorations()},e.prototype.isEnabled=function(t,n){return this.hasRequiredServices&&this.editor.getModel()&&(s.isIE11orEarlier||t.event.detail<=1)&&t.target.type===b.MouseTargetType.CONTENT_TEXT&&(t.event[e.TRIGGER_MODIFIER]||n&&n.key===e.TRIGGER_KEY_VALUE)&&!!this.editor.getModel().getMode().declarationSupport},e.prototype.findDefinition=function(e){var t=this.editor.getModel();if(!t)return p.TPromise.as(null);var n=e.position;return t.getMode().declarationSupport.findDeclaration(t.getAssociatedResource(),{lineNumber:n.lineNumber,column:n.column})},e.prototype.gotoDefinition=function(e,t){var n=this,o=this.editor.captureState(b.CodeEditorStateFlag.Position,b.CodeEditorStateFlag.Value,b.CodeEditorStateFlag.Selection,b.CodeEditorStateFlag.Scroll);return this.findDefinition(e).then(function(r){if(o.validate(n.editor)){var i=e.position,s=n.editor.getModel().getWordAtPosition(i);return!r||!r.range||s&&r.range.startColumn===s.startColumn&&r.range.startLineNumber===e.position.lineNumber?void 0:n.editorService.openEditor({resource:r.resourceUrl,options:{selection:w.Range.collapseToStart(r.range)}},t)}})},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this.toUnhook.length>0;)this.toUnhook.pop()()},e.ID="editor.contrib.gotodefinitionwithmouse",e.TRIGGER_MODIFIER=i.isMacintosh?"metaKey":"ctrlKey",e.TRIGGER_KEY_VALUE=i.isMacintosh?"Meta":"Ctrl",e.MAX_SOURCE_PREVIEW_LINES=7,e=__decorate([__param(1,E.IRequestService),__param(2,T.IMessageService),__param(3,M.IEditorService)],e)}(),F="peekDeclarationVisible";v.CommonEditorRegistry.registerEditorAction(new v.EditorActionDescriptor(A,A.ID,n.localize("vs_editor_contrib_goToDeclaration_browser_goToDeclaration",1),{context:v.ContextKey.EditorTextFocus,primary:{alt:!0,key:"F12"},linux:{primary:{ctrlCmd:!0,shift:!0,key:"F10"}}}));var V;V=i.isWeb?{ctrlCmd:!0,key:"F12"}:{key:"F12"},v.CommonEditorRegistry.registerEditorAction(new v.EditorActionDescriptor(O,O.ID,n.localize("vs_editor_contrib_goToDeclaration_browser_goToDeclaration",2),{context:v.ContextKey.EditorTextFocus,primary:V})),v.CommonEditorRegistry.registerEditorAction(new v.EditorActionDescriptor(R,R.ID,n.localize("vs_editor_contrib_goToDeclaration_browser_goToDeclaration",3))),g.EditorBrowserRegistry.registerEditorContribution(W),v.CommonEditorRegistry.registerEditorCommand("closePeekDeclaration",v.CommonEditorRegistry.commandWeight(50),{primary:{key:"Escape"}},!1,F,function(e,t,n){var o=y.getOuterEditor(e,n);if(o){var r=P.get(o);r.closePeekDeclaration()}}),v.CommonEditorRegistry.registerEditorCommand("closePeekDeclarationEditor",v.CommonEditorRegistry.commandWeight(-101),{primary:{key:"Escape"}},!1,D.INNER_EDITOR_CONTEXT_KEY,function(e,t,n){var o=y.getOuterEditor(e,n);if(o){var r=P.get(o);r.closePeekDeclaration()}}),g.EditorBrowserRegistry.registerEditorContribution(P)}),define("vs/base/common/callbackList",["require","exports"],function(){var e=function(){function e(){}return e.prototype.add=function(e,t,n){var o=this;void 0===t&&(t=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:function(){return o.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=null),this._callbacks){for(var n=!1,o=0,r=this._callbacks.length;r>o;o++)if(this._callbacks[o]===e){if(this._contexts[o]===t)return this._callbacks.splice(o,1),this._contexts.splice(o,1),void 0;n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(this._callbacks){for(var n=[],o=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,s=o.length;s>i;i++)n.push(o[i].apply(r[i],e));return n}},e}();return e}),define("vs/base/common/eventSource",["require","exports","vs/base/common/callbackList"],function(e,t,n){var o=function(){function e(){}return e.prototype.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this._value?this._value.invoke.apply(this._value,e):void 0},Object.defineProperty(e.prototype,"value",{get:function(){var e=this;return this._value||(this._value=new n),{add:function(t,n,o){e._value.add(t,n,o)},remove:this._value.remove.bind(this._value)}},enumerable:!0,configurable:!0}),e}();t.EventSource=o}),define("vs/platform/markers/common/markers",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IMarkerService=n.createDecorator("markerService"),function(e){e[e["transient"]=1]="transient",e[e.permanent=2]="permanent"}(t.MarkerType||(t.MarkerType={}));t.MarkerType}),define("vs/platform/event/common/event",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IEventService=n.createDecorator("eventService")}),define("vs/base/common/collections",["require","exports"],function(e,t){function n(){return Object.create(null)}function o(){return Object.create(null)}function r(e,t,n){void 0===n&&(n=null);var o=String(t);return a(e,o)?e[o]:n}function i(e,t,n){var o=String(t);return a(e,o)?e[o]:("function"==typeof n&&(n=n()),e[o]=n,n)}function s(e,t,n){e[n(t)]=t}function a(e,t){return g.call(e,t)}function u(e){return{every:function(t){for(var n in e)if(g.call(e,n)&&!t(n))return!1;return!0}}}function c(e){var t=[];for(var n in e)g.call(e,n)&&t.push(e[n]);return t}function l(e,t){for(var n in e)if(g.call(e,n)){var o=t({key:n,value:e[n]},function(){delete e[n]});if(o===!1)return}}function d(e,t){return g.call(e,t)?(delete e[t],!0):!1}function h(e,t){var o=n();return e.forEach(function(e){return i(o,t(e),[]).push(e)}),o}function p(e){var n=e.length;return 0===n?t.EmptyIterable:1===n?e[0]:{every:function(t){for(var o=0;n>o;o++)if(!e[o].every(t))return!1;return!0}}}function f(e){return{every:function(t){return t(e)}}}function m(e){if(Array.isArray(e))return e;var t=[];return e.every(function(e){return t.push(e),!0}),t}t.createStringDictionary=n,t.createNumberDictionary=o,t.lookup=r,t.lookupOrInsert=i,t.insert=s;var g=Object.prototype.hasOwnProperty;t.contains=a,t.keys=u,t.values=c,t.forEach=l,t.remove=d,t.groupBy=h,t.EmptyIterable={every:function(){return!0}},t.combine=p,t.singleton=f,t.toArray=m;var v=function(){function e(e){this.size=e,this.cache=Object.create(null),this.order=[]}return e.prototype.get=function(e){var t=this.cache[e];return t&&t.element},e.prototype.put=function(e,t,n){var o=this.cache[e],r={element:t,onRemove:n};this.cache[e]=r,o||this.order.push(e),this.swipe()},e.prototype.swipe=function(){for(;this.order.length>this.size;){var e=this.order.shift(),t=this.cache[e];t.onRemove(),delete this.cache[e]}},e}();t.LimitedSizeCache=v});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/rename/browser/renameModel",["require","exports","vs/base/common/winjs.base","vs/base/common/uri","vs/nls!vs/editor/editor.main","vs/base/common/arrays","vs/base/common/collections","vs/editor/common/core/range","vs/editor/common/core/selection"],function(e,t,n,o,r,i,s,a,u){var c=function(){function e(e){this._endCursorSelection=null,this._model=e,this._edits=[]}return e.prototype.addEdit=function(e){var t;t=e.range?e.range:this._model.getFullModelRange(),this._edits.push({range:a.Range.lift(t),text:e.newText,identifier:{major:0,minor:0}})},e.prototype.apply=function(){var t=this;0!==this._edits.length&&(this._edits.sort(e._editCompare),this._initialSelections=this._getInitialSelections(),this._model.pushEditOperations(this._initialSelections,this._edits,function(e){return t._getEndCursorSelections(e)}))},e.prototype._getInitialSelections=function(){var e=this._edits[0].range,t=u.Selection.createSelection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);return[t]},e.prototype._getEndCursorSelections=function(e){for(var t=0,n=0;n<e.length;n++)for(var o=e[n].range,r=0;r<this._initialSelections.length;r++){var i=this._initialSelections[r];if(a.Range.areIntersectingOrTouching(o,i)){t=n;break}}var s=e[t].range;return this._endCursorSelection=u.Selection.createSelection(s.endLineNumber,s.endColumn,s.endLineNumber,s.endColumn),[this._endCursorSelection]},e.prototype.getEndCursorSelection=function(){return this._endCursorSelection},e._editCompare=function(e,t){return a.Range.compareRangesUsingStarts(e.range,t.range)},e}(),l=function(e){function t(t,n){e.call(this,t),this._knownInitialSelections=n}return __extends(t,e),t.prototype._getInitialSelections=function(){return this._knownInitialSelections},t}(c),d=function(){function e(e,t,n,o){this._numberOfResourcesToModify=0,this._numberOfChanges=0,this._edits=Object.create(null),this._editorService=e,this._sourceModel=t,this._sourceSelections=n,this._sourceModelTask=null,"string"==typeof o?this.reject(o):o.forEach(this._addEdit,this)}return e.prototype.reject=function(e){this._rejectReasons||(this._rejectReasons=[]),this._rejectReasons.push(e)},e.prototype.isRejected=function(){return!i.isFalsyOrEmpty(this._rejectReasons)},e.prototype.rejectReasons=function(){return this._rejectReasons},e.prototype.resourcesCount=function(){return this._numberOfResourcesToModify},e.prototype.changeCount=function(){return this._numberOfChanges},e.prototype._addEdit=function(e){var t=this._edits[e.resource.toString()];t||(this._edits[e.resource.toString()]=t=[],this._numberOfResourcesToModify+=1),this._numberOfChanges+=1,t.push(e)
},e.prototype.prepare=function(){var e=this;if(this._tasks)throw new Error("illegal state - already prepared");this._tasks=[];var t=[];return s.forEach(this._edits,function(n){var i=e._editorService.resolveEditorModel({resource:o.parse(n.key)}).then(function(t){if(t&&t.textEditorModel){var o,i=t.textEditorModel;i.getAssociatedResource().equals(e._sourceModel)?(e._sourceModelTask=new l(i,e._sourceSelections),o=e._sourceModelTask):o=new c(i),n.value.forEach(function(e){return o.addEdit(e)}),e._tasks.push(o)}else e.reject(r.localize("vs_editor_contrib_rename_browser_renameModel",0,n.key))});t.push(i)}),n.TPromise.join(t).then(function(){return e})},e.prototype.apply=function(){this._tasks.forEach(function(e){return e.apply()});var e=null;return this._sourceModelTask&&(e=this._sourceModelTask.getEndCursorSelection()),e},e}();t.default=d}),define("vs/base/common/mime",["require","exports","vs/base/common/paths","vs/base/common/types","vs/base/common/strings"],function(e,t,n,o,r){function i(e){void 0===e&&(e=!0);var n=function(t){return e?/^\./.test(t):!0},o=function(e){return e.replace(/^\./,"")},r=[];r=r.concat(Object.keys(t.fileNameToTextMime)),r=r.concat(Object.keys(t.knownTextMimes)),r=r.concat(Object.keys(h)),r=r.filter(n).map(o),r.sort();for(var i=[],s=null,a=null,u=[],c=function(){u.length>0&&i.push("'"+u.join("', '")+"'")},l=0,d=r.length;d>l;l++){var p=r[l];if(0!==p.length&&p!==a){var f=p.charAt(0);s!==f&&(c(),s=f,u=[]),u.push(p),a=p}}return c(),i.join(",\n")}function s(e,t){e&&t&&(h[e]=t)}function a(e,t){e&&t&&p.push({regexp:e,mime:t})}function u(e){if(!e)return!1;var n;return n=o.isArray(e)?e:e.split(",").map(function(e){return e.trim()}),n.indexOf(t.MIME_BINARY)>=0}function c(e,o){if(!e)return[t.MIME_UNKNOWN];e=e.toLowerCase();var i=n.basename(e),s=n.extname(e);for(var a in h){var u=a.toLowerCase();if(i===u||"."===a[0]&&r.endsWith(i,u)){var c=[h[a]];return c.push(t.MIME_TEXT),c}}if(o&&r.startsWithUTF8BOM(o)&&(o=o.substr(1)),o&&o.length>0)for(var l=0;l<p.length;++l){var d=o.match(p[l].regexp);if(d&&d.length>0&&d[0].length===o.length)return[p[l].mime,t.MIME_TEXT]}if(t.fileNameToTextMime[i]){var c=[t.fileNameToTextMime[i]];return c.push(t.MIME_TEXT),c}if(t.knownTextMimes[s]){var c=[t.knownTextMimes[s]];return t.knownTextMimes[s]!==t.MIME_TEXT&&c.push(t.MIME_TEXT),c}if(t.knownBinaryMimes[s]){var c=[t.knownBinaryMimes[s]];return t.knownBinaryMimes[s]!==t.MIME_BINARY&&c.push(t.MIME_BINARY),c}return[t.MIME_UNKNOWN]}function l(e){return e?"string"==typeof e?e===t.MIME_BINARY||e===t.MIME_TEXT||e===t.MIME_UNKNOWN:1===e.length&&l(e[0]):!0}function d(e,n){for(var o in h){var r=h[o];if(r===e)return n+o}for(var o in t.knownTextMimes)if(t.knownTextMimes.hasOwnProperty(o)){var r=t.knownTextMimes[o];if(r===e)return n+o}for(var o in t.knownBinaryMimes)if(t.knownBinaryMimes.hasOwnProperty(o)){var r=t.knownBinaryMimes[o];if(r===e)return n+o}return null}t.MIME_TEXT="text/plain",t.MIME_BINARY="application/octet-stream",t.MIME_UNKNOWN="application/unknown",t.generateKnownFilenames=i,t.fileNameToTextMime={makefile:"text/x-makefile"},t.knownTextMimes={".dtd":"application/xml-dtd",".dot":"text/x-dot"},t.knownBinaryMimes={".bmp":"image/bmp",".gif":"image/gif",".jpg":"image/jpg",".jpeg":"image/jpg",".jpe":"image/jpg",".png":"image/png",".tiff":"image/tiff",".tif":"image/tiff",".ico":"image/x-icon",".tga":"image/x-tga",".psd":"image/vnd.adobe.photoshop",".mid":"audio/midi",".midi":"audio/midi",".mp4a":"audio/mp4",".mpga":"audio/mpeg",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".m2a":"audio/mpeg",".m3a":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".spx":"audio/ogg",".aac":"audio/x-aac",".wav":"audio/x-wav",".wma":"audio/x-ms-wma",".mp4":"video/mp4",".mp4v":"video/mp4",".mpg4":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpe":"video/mpeg",".m1v":"video/mpeg",".m2v":"video/mpeg",".ogv":"video/ogg",".qt":"video/quicktime",".mov":"video/quicktime",".webm":"video/webm",".mkv":"video/x-matroska",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".wmv":"video/x-ms-wmv",".flv":"video/x-flv",".avi":"video/x-msvideo",".movie":"video/x-sgi-movie",".exe":"application/x-msdownload-exe",".dll":"application/x-msdownload",".com":"application/x-msdownload",".msi":"application/x-msdownload",".pdf":"application/pdf",".doc":"application/msword",".dot":"application/msword",".ppt":"application/vnd.ms-powerpoint",".pps":"application/vnd.ms-powerpoint",".xls":"application/vnd.ms-excel",".xlm":"application/vnd.ms-excel",".xla":"application/vnd.ms-excel",".xlc":"application/vnd.ms-excel",".xlt":"application/vnd.ms-excel",".xlw":"application/vnd.ms-excel",".zip":"application/zip",".rar":"application/x-rar-compressed",".iso":"application/x-iso9660-image",".dmg":"application/x-apple-diskimage",".tar":"application/x-tar",".gz":"application/x-gzip",".7z":"application/x-7z-compressed",".cab":"application/vnd.ms-cab-compressed",".ttf":"application/x-font-ttf",".jar":"application/java-archive",".ai":"application/postscript",".swf":"application/x-shockwave-flash",".aif":"audio/x-aiff",".odt":"application/vnd.oasis.opendocument.text",".class":"application/java-vm",".jnilib":"application/octet-stream",".woff":"application/x-font-woff",".suo":"application/octet-stream",".deb":"application/x-debian-package",".sit":"application/x-stuffit",".sitx":"application/x-stuffitx",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template",".rtf":"application/rtf",".war":"application/octet-stream",".nupkg":"application/octet-stream",".cspkg":"application/octet-stream",".pyc":"application/octet-stream",".pyo":"application/octet-stream"};var h=Object.create(null);t.registerTextMimeByFilename=s;var p=[];t.registerTextMimeByFirstLine=a,t.isBinaryMime=u,t.guessMimeTypes=c,t.isUnspecific=l,t.suggestFilename=d});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/files/common/files",["require","exports","vs/base/common/assert","vs/base/common/paths","vs/base/common/uri","vs/base/common/types","vs/base/common/strings","vs/base/common/events","vs/base/common/mime","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c){t.IFileService=c.createDecorator("fileService"),function(e){e[e.UPDATED=0]="UPDATED",e[e.ADDED=1]="ADDED",e[e.DELETED=2]="DELETED"}(t.FileChangeType||(t.FileChangeType={}));var l=t.FileChangeType;t.EventType={FILE_CHANGES:"files:fileChanges"};var d=function(e){function t(t){e.call(this),this._changes=t}return __extends(t,e),Object.defineProperty(t.prototype,"changes",{get:function(){return this._changes},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return e?this.containsAny([e],t):!1},t.prototype.containsAny=function(e,t){return e&&e.length?this._changes.some(function(n){return n.type!==t?!1:t===l.DELETED?e.some(function(e){return e?o.isEqualOrParent(e.fsPath,n.resource.fsPath):!1}):e.some(function(e){return e?e.fsPath===n.resource.fsPath:!1})}):!1},t.prototype.getAdded=function(){return this.getOfType(l.ADDED)},t.prototype.gotAdded=function(){return this.hasType(l.ADDED)},t.prototype.getDeleted=function(){return this.getOfType(l.DELETED)},t.prototype.gotDeleted=function(){return this.hasType(l.DELETED)},t.prototype.getUpdated=function(){return this.getOfType(l.UPDATED)},t.prototype.gotUpdated=function(){return this.hasType(l.UPDATED)},t.prototype.getOfType=function(e){return this._changes.filter(function(t){return t.type===e})},t.prototype.hasType=function(e){return this._changes.some(function(t){return t.type===e})},t}(a.Event);t.FileChangesEvent=d,function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ANY=2]="ANY"}(t.StatType||(t.StatType={}));var h=t.StatType,p=function(){function e(e,t,s,a,c,l,d){n.ok(!a||s,"Only a directory can have children"),this.resource="string"==typeof e?r.parse(e):e,this.path=o.makeAbsolute(o.normalize(t)),i.isString(c)?this.name=c:this.path&&(this.name=o.basename(this.path)),this.isDirectory=!!s,this.hasChildren=s&&a,this.mime=s?void 0:u.guessMimeTypes(this.path).join(", "),this.isDirectoryResolved=!1,this.etag=d,this.mtime=l,this.isDirectory&&(this.children=[])}return e.fromRAW=function(t,n,r){var s=new e(t.resource,t.path,t.isDirectory,t.hasChildren,t.name,t.mtime,t.etag);if(n&&n instanceof e?n.addChild(s):i.isString(n)&&(s.path=o.makeAbsolute(o.normalize(n))),s.isDirectory&&(s.children=[],s.isDirectoryResolved=!!t.children||!!r&&r.some(function(e){return o.isEqualOrParent(e,s.path)}),t.children))for(var a=0,u=t.children.length;u>a;a++)e.fromRAW(t.children[a],s,r);return s},e.prototype.clone=function(){var t=new e(r.parse(this.resource.toString()),this.path,this.isDirectory,this.hasChildren,this.name,this.mtime,this.etag);return t.isDirectoryResolved=this.isDirectoryResolved,this.parent&&(t.parent=this.parent),this.isDirectory&&this.children.forEach(function(e){t.addChild(e.clone())}),t},e.prototype.addChild=function(e){n.ok(this.isDirectory,"Can only add a child to a folder"),this.removeChild(e),e.parent=this,e.updatePath(!1),this.children.push(e),this.hasChildren=this.children.length>0},e.prototype.hasChild=function(e,t,o){void 0===o&&(o=h.ANY),n.ok(this.isDirectory,"Can only call hasChild on a directory"),n.ok(i.isString(e),"Expected parameter of type String");for(var r=0;r<this.children.length;r++){var s=this.children[r];if(!(o===h.FILE&&s.isDirectory||o===h.FOLDER&&!s.isDirectory)){if(s.name===e)return!0;if(t&&s.name.toLowerCase()===e.toLowerCase())return!0}}return!1},e.prototype.removeChild=function(e){n.ok(this.isDirectory,"Can only remove a child from a directory"),n.ok(!!this.children,"Expected children for directory but found none: "+this.path);for(var t=0;t<this.children.length;t++)if(this.children[t].path===e.path){this.children.splice(t,1);break}this.hasChildren=this.children.length>0},e.prototype.move=function(e,t,o){var r=this;n.ok(e.isDirectory,"Can only move an element into a directory"),n.ok(!this.isRoot(),"Can not move the root"),t||(t=function(e){e()}),this.parent.removeChild(this),t(function(){e.addChild(r),r.updatePath(!0),o&&o()})},e.prototype.updatePath=function(e){this.resource=r.file(o.join(this.parent.resource.fsPath,this.name)),this.path=o.join(this.parent.path,this.name),e&&this.isDirectory&&this.hasChildren&&this.children&&this.children.forEach(function(e){e.updatePath(!0)})},e.prototype.rename=function(e){n.ok(!this.isRoot(),"Can not rename root"),this.name=e.name,this.mime=e.mime,this.mtime=e.mtime,this.updatePath(!0)},e.prototype.find=function(e){return n.ok(i.isString(e),"Expected String as parameter"),n.ok(this.isDirectory,"Can only find() in directories"),n.ok(this.isRoot(),"Can only find() from root"),this.doFind(e)},e.prototype.doFind=function(e){if(e===o.sep&&this.isRoot())return this;if(!this.hasChildren)return null;e=s.trim(e,o.sep);var t=e.split(o.sep);if(t.length>0)for(var n=0;n<this.children.length;n++)if(this.children[n].name===t[0])return 1===t.length?this.children[n]:this.children[n].doFind(e.substr(e.indexOf(o.sep)));return null},e.prototype.isRoot=function(){return this.path===o.sep},e.prototype.isAncestorOf=function(e){return this.isDirectory&&o.isEqualOrParent(e.path,this.path)},e.prototype.isParentOf=function(e){if(!this.isAncestorOf(e))return!1;var t=this.isRoot()?s.empty:this.path;return 2===e.path.substring(t.length).split(o.sep).length},e.prototype.equals=function(t){return t&&t instanceof e&&t.path===this.path},e}();t.FileStatImpl=p,function(e){e[e.FILE_IS_BINARY=0]="FILE_IS_BINARY",e[e.FILE_IS_DIRECTORY=1]="FILE_IS_DIRECTORY",e[e.FILE_NOT_FOUND=2]="FILE_NOT_FOUND",e[e.FILE_NOT_MODIFIED_SINCE=3]="FILE_NOT_MODIFIED_SINCE",e[e.FILE_MODIFIED_SINCE=4]="FILE_MODIFIED_SINCE",e[e.FILE_MOVE_CONFLICT=5]="FILE_MOVE_CONFLICT",e[e.FILE_READ_ONLY=6]="FILE_READ_ONLY",e[e.FILE_TOO_LARGE=7]="FILE_TOO_LARGE"}(t.FileOperationResult||(t.FileOperationResult={}));t.FileOperationResult}),define("vs/css!vs/editor/contrib/rename/browser/rename",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/rename/browser/changeRecorder",["require","exports","vs/base/common/collections","vs/base/common/arrays","vs/platform/files/common/files","vs/css!./rename"],function(e,t,n,o,r){var i=function(){function e(e){this._eventService=e}return e.prototype.start=function(){var e=Object.create(null),t=this._eventService.addListener(r.EventType.FILE_CHANGES,function(t){t.changes.forEach(function(t){var n=String(t.resource),o=e[n];o||(e[n]=o=[]),o.push(t)})});return{stop:t,hasChanged:function(t){return!!e[t.toString()]},allChanges:function(){return o.merge(n.values(e))}}},e}();t.default=i}),define("vs/editor/contrib/rename/browser/bulkEdit",["require","exports","./renameModel","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","./changeRecorder"],function(e,t,n,o,r,i){function s(e,t,n,o){var r=a(e,t,n);return r.add.apply(r,o),r.finish()}function a(e,t,s){function a(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];l.push.apply(l,e)}function u(){for(var e,t=0;t<l.length;t++){var n=l[t];d.hasChanged(n.resource)&&(e||(e=[]),e.push(n.resource.fsPath))}return e?o.localize("vs_editor_contrib_rename_browser_bulkEdit",0,e.join(", ")):void 0}function c(){if(0!==l.length){var e=u();if(e)return r.TPromise.wrapError(e);var o=new n.default(t,s.getModel().getAssociatedResource(),s.getSelections(),l);return o.prepare().then(function(){var e=u();return e?r.TPromise.wrapError(e):(d.stop(),o.apply(),o.resourcesCount)})}}var l=[],d=new i.default(e).start();return{add:a,finish:c}}t.default=s,t.createBulkEdit=a}),define("vs/css!vs/editor/contrib/gotoError/browser/gotoError",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/gotoError/browser/gotoError",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/lifecycle","vs/base/common/strings","vs/base/common/errors","vs/base/common/severity","vs/base/browser/dom","vs/base/common/winjs.base","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/base/browser/builder","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/common","vs/base/browser/htmlContentRenderer","vs/base/common/eventSource","vs/editor/common/core/position","vs/platform/markers/common/markers","vs/platform/telemetry/common/telemetry","vs/platform/keybinding/common/keybindingService","vs/platform/event/common/event","vs/platform/editor/common/editor","vs/editor/contrib/rename/browser/bulkEdit","vs/css!./gotoError"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v,_,y,b,C,S,w){var E=l.$,T=function(){function e(e,t){var n=this;this._editor=e,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new g.EventSource,this._onMarkerSetChanged=new g.EventSource,this.setMarkers(t),this._toUnbind.push(this._editor.addListener(f.EventType.Disposed,function(){return n.dispose()})),this._toUnbind.push(this._editor.addListener(f.EventType.CursorPositionChanged,function(){n._ignoreSelectionChange||(n._nextIdx=-1)}))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.value},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){this._markers=e||[],this._markers.sort(function(e,t){return e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber}),this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype.initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),o=0,r=this._markers.length;r>o&&!t;o++){var i={lineNumber:this._markers[o].startLineNumber,column:this._markers[o].startColumn};n.isBeforeOrEqual(i)&&(this._nextIdx=o+(e?0:-1),t=!0)}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},e.prototype.move=function(e){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(),void 0;-1===this._nextIdx?this.initIdx(e):e?(this._nextIdx+=1,this._nextIdx>=this._markers.length&&(this._nextIdx=0)):(this._nextIdx-=1,this._nextIdx<0&&(this._nextIdx=this._markers.length-1));var t=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(t)},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.next=function(){this.move(!0)},e.prototype.previous=function(){this.move(!1)},e.prototype.goTo=function(e){for(var t=0;t<this._markers.length;t++){var n=this._markers[t];if(n.startLineNumber<=e.lineNumber&&n.endLineNumber>=e.lineNumber&&n.startColumn<=e.column&&n.endColumn>=e.column)return this._onCurrentMarkerChanged.fire(n),void 0}return null},e.prototype.indexOf=function(e){return this._markers.indexOf(e)},e.prototype.length=function(){return this._markers.length},e.prototype.reveal=function(){var e=this;-1!==this._nextIdx&&this.withoutWatchingEditorPosition(function(){var t=v.Position.create(e._markers[e._nextIdx].startLineNumber,e._markers[e._nextIdx].startColumn);e._editor.setPosition(t),e._editor.revealPositionInCenter(t)})},e.prototype.dispose=function(){this._toUnbind=o.cAll(this._toUnbind)},e}(),x={showFrame:!0,showArrow:!0},M=function(e){function t(t,n,o,r){e.call(this,o,x),this._model=r,this._callOnDispose=[],this._eventService=t,this._editorService=n,this.create(),this._wireModelAndView()}return __extends(t,e),t.prototype.fillContainer=function(e){var t=this,n=E(e).addClass("marker-widget");n.div({class:"descriptioncontainer"},function(e){t._element=e}),n.div(function(e){t._quickFixSection=e}),n.on(a.EventType.CLICK,function(){t.editor.focus()})},t.prototype._wireModelAndView=function(){this._model.onCurrentMarkerChanged.add(this.showAtMarker,this,this._callOnDispose)},t.prototype.showAtMarker=function(e){var t=this;if(e){switch(e.severity){case s.Error:this.options.frameColor="#ff5a5a";break;case s.Warning:case s.Info:this.options.frameColor="#5aac5a"}this._element.text(r.format("({0}/{1}) ",this._model.indexOf(e)+1,this._model.length()));var o=this._element.getHTMLElement();m.renderHtml2(e.message).forEach(function(e){o.appendChild(e)});var u=this.editor.getModel().getMode();if(this._quickFixSection.hide(),u.quickFixSupport){var c=u.quickFixSupport.getQuickFixes(this.editor.getModel().getAssociatedResource(),e);c.then(function(o){if(t._quickFixSection.clearChildren(),o.length>0){var r=E(t._quickFixSection);r.span({class:"quickfixhead",text:o.length>1?n.localize("vs_editor_contrib_gotoError_browser_gotoError",0):n.localize("vs_editor_contrib_gotoError_browser_gotoError",1)}).span({class:"quickfixcontainer"},function(n){o.forEach(function(o,r){var i=E(n);r>0&&(i=i.span({text:", "})),i.span({class:"quickfixentry",text:o.label}).on(a.EventType.CLICK,function(){return u.quickFixSupport.runQuickFixAction(t.editor.getModel().getAssociatedResource(),e,o.id).then(function(e){return w.default(t._eventService,t._editorService,t.editor,e.edits)}),!0})})}),t._quickFixSection.show(),t.show(v.Position.create(e.startLineNumber,e.startColumn),4)}},function(e){i.onUnexpectedError(e)})}this._model.withoutWatchingEditorPosition(function(){t.show(v.Position.create(e.startLineNumber,e.startColumn),3)})}},t.prototype.dispose=function(){this._callOnDispose=o.disposeAll(this._callOnDispose),e.prototype.dispose.call(this)},t}(c.ZoneWidget),L=function(e){function t(t,n,o,r){e.call(this,t,n,p.Behaviour.WidgetFocus|p.Behaviour.Writeable|p.Behaviour.UpdateOnModelChange),this.telemetryService=r,this._isNext=o}return __extends(t,e),t.prototype.run=function(){var e=k.getMarkerController(this.editor).getOrCreateModel();return this.telemetryService.log("zoneWidgetShown",{mode:"go to error"}),e&&(this._isNext?e.next():e.previous(),e.reveal()),u.TPromise.as(!0)},t=__decorate([__param(3,y.ITelemetryService)],t)}(p.EditorAction),k=function(){function e(e,t,n,o,r){this._callOnClose=[],this.markerService=t,this.eventService=o,this.editorService=r,this.editor=e,this._markersNavigationVisible=n.createKey(R,!1)}return e.getMarkerController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._cleanUp()},e.prototype._cleanUp=function(){this._markersNavigationVisible.reset(),this.markerService.onMarkerChanged.remove(this._onMarkerChanged,this),this._callOnClose=o.disposeAll(this._callOnClose),this._zone=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();return this._model=new T(this.editor,t),this._zone=new M(this.eventService,this.editorService,this.editor,this._model),this._markersNavigationVisible.set(!0),this._callOnClose.push(this._model),this._callOnClose.push(this._zone),this._callOnClose.push(this.editor.addListener2(f.EventType.ModelChanged,function(){e._cleanUp()})),this._model.onCurrentMarkerChanged.add(function(t){t||e._cleanUp()},void 0,this._callOnClose),this.markerService.onMarkerChanged.add(this._onMarkerChanged,this),this._model},e.prototype.closeMarkersNavigation=function(){this._cleanUp()},e.prototype._onMarkerChanged=function(e){var t=this;e.some(function(e){return t.editor.getModel().getAssociatedResource().equals(e)})&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){var e=this.editor.getModel().getAssociatedResource(),t=this.markerService.read({resource:e});return t},e.ID="editor.contrib.markerController",e=__decorate([__param(1,_.IMarkerService),__param(2,b.IKeybindingService),__param(3,C.IEventService),__param(4,S.IEditorService)],e)}(),I=function(e){function t(t,n,o){e.call(this,t,n,!0,o)}return __extends(t,e),t.ID="editor.action.marker.next",t=__decorate([__param(2,y.ITelemetryService)],t)}(L),N=function(e){function t(t,n,o){e.call(this,t,n,!1,o)}return __extends(t,e),t.ID="editor.action.marker.prev",t=__decorate([__param(2,y.ITelemetryService)],t)}(L),R="markersNavigationVisible";h.CommonEditorRegistry.registerEditorAction(new h.EditorActionDescriptor(I,I.ID,n.localize("vs_editor_contrib_gotoError_browser_gotoError",2),{context:h.ContextKey.EditorFocus,primary:{key:"F8"}})),h.CommonEditorRegistry.registerEditorAction(new h.EditorActionDescriptor(N,N.ID,n.localize("vs_editor_contrib_gotoError_browser_gotoError",3),{context:h.ContextKey.EditorFocus,primary:{shift:!0,key:"F8"}})),h.CommonEditorRegistry.registerEditorCommand("closeMarkersNavigation",h.CommonEditorRegistry.commandWeight(50),{primary:{key:"Escape"}},!1,R,function(e,t){var n=k.getMarkerController(t);n.closeMarkersNavigation()}),d.EditorBrowserRegistry.registerEditorContribution(k)}),define("vs/editor/contrib/hover/browser/hoverOperation",["require","exports","vs/base/common/async","vs/base/common/errors"],function(e,t,n,o){var r;!function(e){e[e.IDLE=0]="IDLE",e[e.FIRST_WAIT=1]="FIRST_WAIT",e[e.SECOND_WAIT=2]="SECOND_WAIT",e[e.WAITING_FOR_ASYNC_COMPUTATION=3]="WAITING_FOR_ASYNC_COMPUTATION"}(r||(r={}));var i=function(){function e(e,t,o,i){var s=this;this._computer=e,this._state=r.IDLE,this._firstWaitScheduler=new n.RunOnceScheduler(function(){return s._triggerAsyncComputation()},this._getHoverTimeMillis()/2),this._secondWaitScheduler=new n.RunOnceScheduler(function(){return s._triggerSyncComputation()},this._getHoverTimeMillis()/2),this._loadingMessageScheduler=new n.RunOnceScheduler(function(){return s._showLoadingMessage()},3*this._getHoverTimeMillis()),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=o,this._progressCallback=i}return e.prototype.getComputer=function(){return this._computer},e.prototype._getHoverTimeMillis=function(){return this._computer.getHoverTimeMillis?this._computer.getHoverTimeMillis():e.HOVER_TIME},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=r.SECOND_WAIT,this._secondWaitScheduler.schedule(),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=this._computer.computeAsync(),this._asyncComputationPromise.then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)}).done(null,function(){return e._onError})):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=r.IDLE,this._onComplete(this._computer.getResult())):(this._state=r.WAITING_FOR_ASYNC_COMPUTATION,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){this._state===r.WAITING_FOR_ASYNC_COMPUTATION&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),this._state===r.WAITING_FOR_ASYNC_COMPUTATION&&(this._state=r.IDLE,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):o.onUnexpectedError(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(){this._state===r.IDLE&&(this._state=r.FIRST_WAIT,this._firstWaitScheduler.schedule(),this._loadingMessageScheduler.schedule())},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),this._state===r.FIRST_WAIT&&this._firstWaitScheduler.cancel(),this._state===r.SECOND_WAIT&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&this._asyncComputationPromise.cancel()),this._state===r.WAITING_FOR_ASYNC_COMPUTATION&&this._asyncComputationPromise&&this._asyncComputationPromise.cancel(),this._state=r.IDLE},e.HOVER_TIME=300,e}();t.HoverOperation=i}),define("vs/editor/contrib/hover/browser/hoverWidgets",["require","exports","vs/editor/browser/editorBrowser","vs/base/browser/dom","vs/editor/common/core/position"],function(e,t,n,o,r){var i=function(){function e(e,t){this.allowEditorOverflow=!0,this._id=e,this._editor=t,this._isVisible=!1,this._containerDomNode=document.createElement("div"),this._containerDomNode.className="monaco-editor-hover monaco-editor-background",this._domNode=document.createElement("div"),this._domNode.style.display="inline-block",this._containerDomNode.appendChild(this._domNode),this._editor.addContentWidget(this),this._showAtPosition=null}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._containerDomNode},e.prototype.showAt=function(e){this._showAtPosition=r.Position.create(e.lineNumber,e.column),this._isVisible=!0;var t=Math.min(800,parseInt(this._containerDomNode.style.maxWidth,10));o.StyleMutator.setWidth(this._containerDomNode,t),o.StyleMutator.setHeight(this._containerDomNode,0),o.StyleMutator.setLeft(this._containerDomNode,0);var n=Math.min(t,this._domNode.clientWidth+5),i=this._domNode.clientHeight+1;o.StyleMutator.setWidth(this._containerDomNode,n),o.StyleMutator.setHeight(this._containerDomNode,i),this._editor.layoutContentWidget(this),this._editor.getOffsetForColumn(this._showAtPosition.lineNumber,this._showAtPosition.column)},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this._isVisible?{position:this._showAtPosition,preference:[n.ContentWidgetPositionPreference.ABOVE,n.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.dispose=function(){this.hide()},e}();t.ContentHoverWidget=i;var s=function(){function e(e,t){this._id=e,this._editor=t,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover monaco-editor-background",this._domNode.style.display="none",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","presentation"),this._showAtLineNumber=-1,this._editor.addOverlayWidget(this)}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.showAt=function(e){this._showAtLineNumber=e,this._isVisible||(this._isVisible=!0,this._domNode.style.display="block");var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),o=this._editor.getScrollTop();this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=n-o+"px"},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},e.prototype.getPosition=function(){return null},e.prototype.dispose=function(){this.hide()},e}();t.GlyphHoverWidget=s}),define("vs/css!vs/base/browser/ui/progressbar/progressbar",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/hover/browser/modesContentHover",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","./hoverOperation","./hoverWidgets","vs/base/browser/htmlContentRenderer","vs/editor/common/core/range","vs/css!vs/base/browser/ui/progressbar/progressbar"],function(e,t,n,o,r,i,s,a){var u=function(){function e(e){this._editor=e,this._range=null}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(){var e=this._editor.getModel().getMode(),t=e.extraInfoSupport;return t?t.computeInfo(this._editor.getModel().getAssociatedResource(),{lineNumber:this._range.startLineNumber,column:this._range.startColumn}).then(function(e){if(e){var t="undefined"!=typeof e.range,n="undefined"!=typeof e.value,o="undefined"!=typeof e.htmlContent&&e.htmlContent&&e.htmlContent.length>0;if(t&&(n||o))return[e]}return null}):o.TPromise.as(null)},e.prototype.computeSync=function(){var e=this,t=[],n=this._range.startLineNumber;if(n>this._editor.getModel().getLineCount())return t;var o=this._editor.getLineDecorations(n),r=this._editor.getModel().getLineMaxColumn(n);return o.forEach(function(o){var i=o.range.startLineNumber===n?o.range.startColumn:1,s=o.range.endLineNumber===n?o.range.endColumn:r;if(i<=e._range.startColumn&&e._range.endColumn<=s&&(o.options.hoverMessage||o.options.htmlMessage&&o.options.htmlMessage.length>0)){var u={value:o.options.hoverMessage,range:a.Range.create(e._range.startLineNumber,i,e._range.startLineNumber,s)};o.options.htmlMessage&&(u.htmlContent=o.options.htmlMessage),t.push(u)}}),t},e.prototype.onResult=function(e,t){this._result=t?e.concat(this._result):this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,htmlContent:[{tagName:"div",className:"",children:[{text:n.localize("vs_editor_contrib_hover_browser_modesContentHover",0)}]}]}},e}(),c=function(e){function t(n){var o=this;e.call(this,t.ID,n),this._computer=new u(this._editor),this._highlightDecorations=[],this._hoverOperation=new r.HoverOperation(this._computer,function(e){return o._withResult(e,!0)
},null,function(e){return o._withResult(e,!1)})}return __extends(t,e),t.prototype.onModelDecorationsChanged=function(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition.lineNumber!==e.startLineNumber)this.hide();else{for(var t=[],n=0,o=this._messages.length;o>n;n++){var r=this._messages[n],i=r.range;i.startColumn<=e.startColumn&&i.endColumn>=e.endColumn&&t.push(r)}t.length>0?this._renderMessages(e,t):this.hide()}this._lastRange=e,this._computer.setRange(e),this._hoverOperation.start()}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[])},t.prototype._withResult=function(e,t){this._messages=e,this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,t){var n=Number.MAX_VALUE,o=t[0].range,r=document.createDocumentFragment();t.forEach(function(e){if(e.range){n=Math.min(n,e.range.startColumn),o=a.Range.plusRange(o,e.range);var t=document.createElement("div"),i=null,u=t;e.className&&(i=document.createElement("span"),i.className=e.className,u=i,t.appendChild(i)),e.htmlContent&&e.htmlContent.length>0?e.htmlContent.forEach(function(e){u.appendChild(s.renderHtml(e))}):u.textContent=e.value,r.appendChild(t)}}),this._domNode.textContent="",this._domNode.appendChild(r),this.showAt({lineNumber:e.startLineNumber,column:n}),this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:o,options:{className:"hoverHighlight"}}])},t.ID="editor.contrib.modesContentHoverWidget",t}(i.ContentHoverWidget);t.ModesContentHoverWidget=c});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/hover/browser/modesGlyphHover",["require","exports","./hoverOperation","./hoverWidgets"],function(e,t,n,o){var r=function(){function e(e){this._editor=e,this._lineNumber=-1}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){var e,t,n,o=[],r=this._editor.getLineDecorations(this._lineNumber);for(e=0,t=r.length;t>e;e++)n=r[e],n.options.glyphMarginClassName&&n.options.hoverMessage&&o.push({value:n.options.hoverMessage});return o},e.prototype.onResult=function(e){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),i=function(e){function t(o){var i=this;e.call(this,t.ID,o),-1===this._lastLineNumber,this._computer=new r(this._editor),this._hoverOperation=new n.HoverOperation(this._computer,function(e){return i._withResult(e)},null,function(e){return i._withResult(e)})}return __extends(t,e),t.prototype.onModelDecorationsChanged=function(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start())},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){var n=document.createDocumentFragment();t.forEach(function(e){var t=document.createElement("div"),o=null;e.className?(o=document.createElement("span"),o.textContent=e.value,o.className=e.className,t.appendChild(o)):t.textContent=e.value,n.appendChild(t)}),this._domNode.textContent="",this._domNode.appendChild(n),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(o.GlyphHoverWidget);t.ModesGlyphHoverWidget=i}),define("vs/css!vs/editor/contrib/hover/browser/hover",["vs/css!vs/editor/editor.main"],{});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/hover/browser/hover",["require","exports","vs/editor/browser/editorBrowserExtensions","vs/editor/common/common","vs/base/common/platform","./modesContentHover","./modesGlyphHover","vs/platform/instantiation/common/instantiation","vs/css!./hover"],function(e,t,n,o,r,i,s,a){var u=function(){function e(e){var t=this;this._editor=e,this._toUnhook=[],e.getConfiguration().hover&&(this._toUnhook.push(this._editor.addListener(o.EventType.MouseDown,function(e){return t._onEditorMouseDown(e)})),this._toUnhook.push(this._editor.addListener(o.EventType.MouseMove,function(e){return t._onEditorMouseMove(e)})),this._toUnhook.push(this._editor.addListener(o.EventType.MouseLeave,function(){return t._hideWidgets()})),this._toUnhook.push(this._editor.addListener(o.EventType.KeyDown,function(e){return t._onKeyDown(e)})),this._toUnhook.push(this._editor.addListener(o.EventType.ModelChanged,function(){return t._hideWidgets()})),this._toUnhook.push(this._editor.addListener(o.EventType.ModelDecorationsChanged,function(){return t._onModelDecorationsChanged()})),this._toUnhook.push(this._editor.addListener("scroll",function(){return t._hideWidgets()})),this._contentWidget=new i.ModesContentHoverWidget(e),this._glyphWidget=new s.ModesGlyphHoverWidget(e))}return e.prototype._onModelDecorationsChanged=function(){this._contentWidget.onModelDecorationsChanged(),this._glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorMouseDown=function(e){var t=e.target.type;(t!==o.MouseTargetType.CONTENT_WIDGET||e.target.detail!==i.ModesContentHoverWidget.ID)&&(t!==o.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==s.ModesGlyphHoverWidget.ID)&&this._hideWidgets()},e.prototype._onEditorMouseMove=function(e){var t=e.target.type,n=r.isMacintosh?"metaKey":"ctrlKey";(t!==o.MouseTargetType.CONTENT_WIDGET||e.target.detail!==i.ModesContentHoverWidget.ID||e.event[n])&&(t!==o.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==s.ModesGlyphHoverWidget.ID||e.event[n])&&(this._editor.getConfiguration().hover&&t===o.MouseTargetType.CONTENT_TEXT?(this._glyphWidget.hide(),this._contentWidget.startShowingAt(e.target.range)):this._editor.getConfiguration().hover&&t===o.MouseTargetType.GUTTER_GLYPH_MARGIN?(this._contentWidget.hide(),this._glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets())},e.prototype._onKeyDown=function(e){var t=r.isMacintosh?"Meta":"Ctrl";e.key!==t&&this._hideWidgets()},e.prototype._hideWidgets=function(){this._glyphWidget.hide(),this._contentWidget.hide()},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(;this._toUnhook.length>0;)this._toUnhook.pop()();this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},e.ID="editor.contrib.hover",e=__decorate([__param(1,a.INullService)],e)}();n.EditorBrowserRegistry.registerEditorContribution(u)}),define("vs/editor/contrib/inPlaceReplace/common/inPlaceReplaceCommand",["require","exports","vs/editor/common/core/selection"],function(e,t,n){var o=function(){function e(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var o=t.getInverseEditOperations(),r=o[0].range;return this._originalSelection.isEmpty()?n.Selection.createSelection(r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn),r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn)):n.Selection.createSelection(r.endLineNumber,r.endColumn-this._text.length,r.endLineNumber,r.endColumn)},e}();t.InPlaceReplaceCommand=o});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/inPlaceReplace/common/inPlaceReplace",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/common","./inPlaceReplaceCommand","vs/editor/common/core/range","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c){var l=function(e){function t(t,n,r){e.call(this,t,n),this.up=r,this.requestIdPool=0,this.currentRequest=o.TPromise.as(null),this.decorationRemover=o.TPromise.as(null),this.decorationIds=[]}return __extends(t,e),t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().inplaceReplaceSupport&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e=this;this.currentRequest.cancel();var n=this.editor.getSelection(),r=this.editor.getModel(),i=r.getMode().inplaceReplaceSupport;if(n.startLineNumber!==n.endLineNumber)return null;var c=this.editor.captureState(s.CodeEditorStateFlag.Value,s.CodeEditorStateFlag.Position);return this.currentRequest=i.navigateValueSet(r.getAssociatedResource(),n,this.up),this.currentRequest.then(function(r){if(r&&r.range&&r.value&&c.validate(e.editor)){var i=u.Range.lift(r.range),s=r.range,l=r.value.length-(n.endColumn-n.startColumn);s.endColumn=s.startColumn+r.value.length,n.endColumn+=l>1?l-1:0;var d=new a.InPlaceReplaceCommand(i,n,r.value);return e.editor.executeCommand(e.id,d),e.decorationIds=e.editor.deltaDecorations(e.decorationIds,[{range:s,options:t.DECORATION}]),e.decorationRemover.cancel(),e.decorationRemover=o.TPromise.timeout(350),e.decorationRemover.then(function(){e.editor.changeDecorations(function(t){for(;e.decorationIds.length>0;)t.removeDecoration(e.decorationIds.pop())})}),!0}})},t.DECORATION={isOverlay:!1,className:"valueSetReplacement"},t=__decorate([__param(3,c.INullService)],t)}(i.EditorAction),d=function(e){function t(t,n,o){e.call(this,t,n,!0,o)}return __extends(t,e),t.ID="editor.action.inPlaceReplace.up",t=__decorate([__param(2,c.INullService)],t)}(l),h=function(e){function t(t,n,o){e.call(this,t,n,!1,o)}return __extends(t,e),t.ID="editor.action.inPlaceReplace.down",t=__decorate([__param(2,c.INullService)],t)}(l);r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(d,d.ID,n.localize("vs_editor_contrib_inPlaceReplace_common_inPlaceReplace",0),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,shift:!0,key:","}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(h,h.ID,n.localize("vs_editor_contrib_inPlaceReplace_common_inPlaceReplace",1),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,shift:!0,key:"."}}))}),define("vs/css!vs/editor/contrib/iPadShowKeyboard/browser/iPadShowKeyboard",["vs/css!vs/editor/editor.main"],{});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/iPadShowKeyboard/browser/iPadShowKeyboard",["require","exports","vs/base/browser/browser","vs/editor/browser/editorBrowserExtensions","vs/base/browser/dom","vs/editor/browser/editorBrowser","vs/editor/common/common","vs/base/common/lifecycle","vs/platform/instantiation/common/instantiation","vs/css!./iPadShowKeyboard"],function(e,t,n,o,r,i,s,a,u){var c=function(){function e(e){var t=this;this.editor=e,this.toDispose=[],n.isIPad&&(this.toDispose.push(e.addListener2(s.EventType.ConfigurationChanged,function(){return t.update()})),this.update())}return e.prototype.update=function(){var e=!!this.widget,t=!this.editor.getConfiguration().readOnly;!e&&t?this.widget=new l(this.editor):e&&!t&&(this.widget.dispose(),this.widget=null)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=a.disposeAll(this.toDispose),this.widget&&(this.widget.dispose(),this.widget=null)},e.ID="editor.contrib.iPadShowKeyboard",e=__decorate([__param(1,u.INullService)],e)}();t.iPadShowKeyboard=c;var l=function(){function e(e){var t=this;this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._toDispose=[],this._toDispose.push(r.addDisposableListener(this._domNode,"touchstart",function(){t.editor.focus()})),this._toDispose.push(r.addDisposableListener(this._domNode,"focus",function(){t.editor.focus()})),this.editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this.editor.removeOverlayWidget(this),this._toDispose=a.disposeAll(this._toDispose)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:i.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}},e.ID="editor.contrib.ShowKeyboardWidget",e}();o.EditorBrowserRegistry.registerEditorContribution(c)}),define("vs/editor/contrib/linesOperations/common/copyLinesCommand",["require","exports","vs/editor/common/core/range","vs/editor/common/core/selection"],function(e,t,n,o){var r=function(){function e(e,t){this._selection=e,this._isCopyingDown=t}return e.prototype.getEditOperations=function(e,t){var o=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._endLineNumberDelta=1,o=o.setEndPosition(o.endLineNumber-1,e.getLineMaxColumn(o.endLineNumber-1)));for(var r=[],i=o.startLineNumber;i<=o.endLineNumber;i++)r.push(e.getLineContent(i));var s=r.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(n.Range.create(o.startLineNumber,1,o.startLineNumber,1),s+"\n"):t.addEditOperation(n.Range.create(o.endLineNumber,e.getLineMaxColumn(o.endLineNumber),o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),"\n"+s),this._selectionId=t.trackSelection(o),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var r=n.startLineNumber,i=n.startColumn,s=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(r+=this._startLineNumberDelta,i=1),0!==this._endLineNumberDelta&&(s+=this._endLineNumberDelta,a=1),n=o.Selection.createWithDirection(r,i,s,a,this._selectionDirection)}return n},e}();t.CopyLinesCommand=r}),define("vs/editor/contrib/linesOperations/common/deleteLinesCommand",["require","exports","vs/editor/common/core/range","vs/editor/common/core/selection"],function(e,t,n,o){function r(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),new i(e.startLineNumber,t,e.positionColumn)}t.createFromSelection=r;var i=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.restoreCursorToColumn=n}return e.prototype.getEditOperations=function(e,t){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var o=this.startLineNumber,r=this.endLineNumber,i=1,s=e.getLineMaxColumn(r);r<e.getLineCount()?(r+=1,s=1):o>1&&(o-=1,i=e.getLineMaxColumn(o)),t.addEditOperation(n.Range.create(o,i,r,s),null)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),r=n[0].range;return o.Selection.createSelection(r.endLineNumber,this.restoreCursorToColumn,r.endLineNumber,this.restoreCursorToColumn)},e}();t.DeleteLinesCommand=i}),define("vs/editor/contrib/linesOperations/common/moveLinesCommand",["require","exports","vs/editor/common/core/range","vs/editor/common/core/selection"],function(e,t,n,o){var r=function(){function e(e,t){this._selection=e,this._isMovingDown=t}return e.prototype.getEditOperations=function(e,t){var r=e.getLineCount();if(!(this._isMovingDown&&this._selection.endLineNumber===r||!this._isMovingDown&&1===this._selection.startLineNumber)){this._moveEndPositionDown=!1;var i=this._selection;if(i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1))),i.startLineNumber===i.endLineNumber&&1===e.getLineMaxColumn(i.startLineNumber)){var s=i.startLineNumber,a=this._isMovingDown?s+1:s-1;1===e.getLineMaxColumn(a)?t.addEditOperation(n.Range.create(1,1,1,1),null):(t.addEditOperation(n.Range.create(s,1,s,1),e.getLineContent(a)),t.addEditOperation(n.Range.create(a,1,a,e.getLineMaxColumn(a)),null)),i=o.Selection.createSelection(a,1,a,1)}else{var u,c;this._isMovingDown?(u=i.endLineNumber+1,c=e.getLineContent(u),t.addEditOperation(n.Range.create(u-1,e.getLineMaxColumn(u-1),u,e.getLineMaxColumn(u)),null),t.addEditOperation(n.Range.create(i.startLineNumber,1,i.startLineNumber,1),c+"\n")):(u=i.startLineNumber-1,c=e.getLineContent(u),t.addEditOperation(n.Range.create(u,1,u+1,1),null),t.addEditOperation(n.Range.create(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+c))}this._selectionId=t.trackSelection(i)}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),n},e}();t.MoveLinesCommand=r}),define("vs/editor/common/commands/trimTrailingWhitespaceCommand",["require","exports","vs/editor/common/core/range","vs/base/common/strings"],function(e,t,n,o){function r(e,t){t.sort(function(e,t){return e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber});for(var r=t.length-2;r>=0;r--)t[r].lineNumber===t[r+1].lineNumber&&t.splice(r,1);var i,s,a,u,c,l,d,h=[],p=0,f=t.length;for(i=1,s=e.getLineCount();s>=i;i++)if(a=e.getLineContent(i),c=a.length+1,u=0,!(f>p&&t[p].lineNumber===i&&(u=t[p].column,p++,u===c))&&0!==a.length){if(d=o.lastNonWhitespaceIndex(a),l=0,-1===d)l=1;else{if(d===a.length-1)continue;l=d+2}l=Math.max(u,l),h.push({identifier:null,range:new n.Range(i,l,i,c),text:null})}return h}var i=function(){function e(e){this.selection=e}return e.prototype.getEditOperations=function(e,t){for(var n=r(e,[]),o=0,i=n.length;i>o;o++){var s=n[o];t.addEditOperation(s.range,s.text)}this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.TrimTrailingWhitespaceCommand=i,t.trimTrailingWhitespace=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/linesOperations/common/linesOperations",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","./copyLinesCommand","./deleteLinesCommand","./moveLinesCommand","vs/editor/common/common","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c,l,d){var h=function(e){function t(t,n,o){e.call(this,t,n),this.down=o}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new s.CopyLinesCommand(t[n],this.down));return this.editor.executeCommands(this.id,e),o.TPromise.as(!0)},t}(i.EditorAction),p=function(e){function t(t,n){e.call(this,t,n,!1)}return __extends(t,e),t.ID="editor.action.copyLinesUpAction",t=__decorate([__param(2,d.INullService)],t)}(h),f=function(e){function t(t,n){e.call(this,t,n,!0)}return __extends(t,e),t.ID="editor.action.copyLinesDownAction",t=__decorate([__param(2,d.INullService)],t)}(h),m=function(e){function t(t,n,o){e.call(this,t,n),this.down=o}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),n=0;n<t.length;n++)e.push(new u.MoveLinesCommand(t[n],this.down));return this.editor.executeCommands(this.id,e),o.TPromise.as(!0)},t}(i.EditorAction),g=function(e){function t(t,n){e.call(this,t,n,!1)}return __extends(t,e),t.ID="editor.action.moveLinesUpAction",t=__decorate([__param(2,d.INullService)],t)}(m),v=function(e){function t(t,n){e.call(this,t,n,!0)}return __extends(t,e),t.ID="editor.action.moveLinesDownAction",t=__decorate([__param(2,d.INullService)],t)}(m),_=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.run=function(){var e=new l.TrimTrailingWhitespaceCommand(this.editor.getSelection());return this.editor.executeCommands(this.id,[e]),o.TPromise.as(!0)},t.ID="editor.action.trimTrailingWhitespace",t=__decorate([__param(2,d.INullService)],t)}(i.EditorAction),y=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype._getLinesToRemove=function(){var e=this.editor.getSelections().map(function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});e.sort(function(e,t){return e.startLineNumber-t.startLineNumber});for(var t=[],n=e[0],o=1;o<e.length;o++)n.endLineNumber+1===e[o].startLineNumber?n.endLineNumber=e[o].endLineNumber:(t.push(n),n=e[o]);return t.push(n),t},t}(i.EditorAction),b=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.run=function(){var e=this._getLinesToRemove(),t=e.map(function(e){return new a.DeleteLinesCommand(e.startLineNumber,e.endLineNumber,e.positionColumn)});return this.editor.executeCommands(this.id,t),o.TPromise.as(!0)},t.ID="editor.action.deleteLines",t=__decorate([__param(2,d.INullService)],t)}(y),C=function(e){function t(t,n){e.call(this,t,n,c.Handler.Indent)}return __extends(t,e),t.ID="editor.action.indentLines",t=__decorate([__param(2,d.INullService)],t)}(i.HandlerEditorAction),S=function(e){function t(t,n){e.call(this,t,n,c.Handler.Outdent)}return __extends(t,e),t.ID="editor.action.outdentLines",t=__decorate([__param(2,d.INullService)],t)}(i.HandlerEditorAction),w=function(e){function t(t,n){e.call(this,t,n,c.Handler.LineInsertBefore)}return __extends(t,e),t.ID="editor.action.insertLineBefore",t=__decorate([__param(2,d.INullService)],t)}(i.HandlerEditorAction),E=function(e){function t(t,n){e.call(this,t,n,c.Handler.LineInsertAfter)}return __extends(t,e),t.ID="editor.action.insertLineAfter",t=__decorate([__param(2,d.INullService)],t)}(i.HandlerEditorAction);r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(b,b.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",0),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,shift:!0,key:"K"}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(_,_.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",1),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,shift:!0,key:"X"}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(v,v.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",2),{context:r.ContextKey.EditorTextFocus,primary:{alt:!0,key:"DownArrow"},linux:{primary:{ctrlCmd:!0,key:"DownArrow"}}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(g,g.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",3),{context:r.ContextKey.EditorTextFocus,primary:{alt:!0,key:"UpArrow"},linux:{primary:{ctrlCmd:!0,key:"UpArrow"}}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(f,f.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",4),{context:r.ContextKey.EditorTextFocus,primary:{alt:!0,shift:!0,key:"DownArrow"},linux:{primary:{ctrlCmd:!0,alt:!0,shift:!0,key:"DownArrow"}}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(p,p.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",5),{context:r.ContextKey.EditorTextFocus,primary:{alt:!0,shift:!0,key:"UpArrow"},linux:{primary:{ctrlCmd:!0,alt:!0,shift:!0,key:"UpArrow"}}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(C,C.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",6),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"]"}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(S,S.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",7),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"["}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(w,w.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",8),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,shift:!0,key:"Enter"}})),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(E,E.ID,n.localize("vs_editor_contrib_linesOperations_common_linesOperations",9),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"Enter"}}))}),define("vs/css!vs/editor/contrib/links/browser/links",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/links/browser/links",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","vs/base/common/platform","vs/base/common/errors","vs/base/common/network","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/common","vs/platform/editor/common/editor","vs/css!./links"],function(e,t,n,o,r,i,s,a,u,c,l){var d=function(){function e(e,t){this.link=e,this.decorationId=t.addDecoration({startLineNumber:this.link.range.startLineNumber,startColumn:this.link.range.startColumn,endLineNumber:this.link.range.startLineNumber,endColumn:this.link.range.endColumn},this.getOptions(!1))}return e.prototype._linkHoverMessage=function(){return h.HOVER_MESSAGE_GENERAL},e.prototype.dispose=function(e){e.removeDecoration(this.decorationId)},e.prototype.getOptions=function(e){var t="";return this.link.extraInlineClassName&&(t=this.link.extraInlineClassName+" "),t+=e?h.CLASS_NAME_ACTIVE:h.CLASS_NAME,{stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:t,hoverMessage:this._linkHoverMessage()}},e.prototype.activate=function(e){e.changeDecorationOptions(this.decorationId,this.getOptions(!0))},e.prototype.deactivate=function(e){e.changeDecorationOptions(this.decorationId,this.getOptions(!1))},e}(),h=function(){function e(e,t){var n=this;this.editor=e,this.editorService=t,this.listenersToRemove=[],this.listenersToRemove.push(e.addListener("change",function(){return n.onChange()})),this.listenersToRemove.push(e.addListener(c.EventType.ModelChanged,function(){return n.onModelChanged()})),this.listenersToRemove.push(e.addListener(c.EventType.ModelModeChanged,function(){return n.onModelModeChanged()})),this.listenersToRemove.push(e.addListener(c.EventType.ModelModeSupportChanged,function(e){e.linkSupport&&n.onModelModeChanged()})),this.listenersToRemove.push(this.editor.addListener(c.EventType.MouseUp,function(e){return n.onEditorMouseUp(e)})),this.listenersToRemove.push(this.editor.addListener(c.EventType.MouseMove,function(e){return n.onEditorMouseMove(e)})),this.listenersToRemove.push(this.editor.addListener(c.EventType.KeyDown,function(e){return n.onEditorKeyDown(e)})),this.listenersToRemove.push(this.editor.addListener(c.EventType.KeyUp,function(e){return n.onEditorKeyUp(e)})),this.timeoutPromise=null,this.computePromise=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.prototype.isComputing=function(){return o.TPromise.is(this.computePromise)},e.prototype.onModelChanged=function(){this.lastMouseEvent=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},e.prototype.onChange=function(){var t=this;this.timeoutPromise||(this.timeoutPromise=o.TPromise.timeout(e.RECOMPUTE_TIME),this.timeoutPromise.then(function(){t.timeoutPromise=null,t.beginCompute()}))},e.prototype.beginCompute=function(){var e=this;if(this.editor.getModel()){var t=this.editor.getModel().getMode();t.linkSupport&&(this.computePromise=t.linkSupport.computeLinks(this.editor.getModel().getAssociatedResource()),this.computePromise.then(function(t){e.updateDecorations(t),e.computePromise=null}))}},e.prototype.updateDecorations=function(e){var t=this;this.editor.changeDecorations(function(n){for(var o in t.currentOccurences)if(t.currentOccurences.hasOwnProperty(o)){var r=t.currentOccurences[o];r.dispose(n)}if(t.currentOccurences={},t.activeLinkDecorationId=null,e)for(var i=0;i<e.length;i++){var r=new d(e[i],n);t.currentOccurences[r.decorationId]=r}})},e.prototype.onEditorKeyDown=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.lastMouseEvent&&this.onEditorMouseMove(this.lastMouseEvent,t)},e.prototype.onEditorKeyUp=function(t){t.key===e.TRIGGER_KEY_VALUE&&this.cleanUpActiveLinkDecoration()},e.prototype.onEditorMouseMove=function(e,t){var n=this;if(this.lastMouseEvent=e,this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var o=this.getLinkOccurence(e.target.position);o&&this.editor.changeDecorations(function(e){o.activate(e),n.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){if(this.activeLinkDecorationId){var e=this.currentOccurences[this.activeLinkDecorationId];e&&this.editor.changeDecorations(function(t){e.deactivate(t)}),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurence(e.target.position);t&&this.openLinkOccurence(t,e.event.altKey)}},e.prototype.openLinkOccurence=function(e,t){if(this.editorService){var n=e.link,o=n.url,r=o.indexOf("#"),a=-1,u=-1;if(r>=0){var c=o.substr(r+1),l=c.split(",");l.length>0&&(a=Number(l[0])),l.length>1&&(u=Number(l[1])),(a>=0||u>=0)&&(o=o.substr(0,r))
}var d={resource:new s.URL(o)};a>=0&&(d.options={selection:{startLineNumber:a,startColumn:u}}),this.editorService.openEditor(d,t).done(null,i.onUnexpectedError)}},e.prototype.getLinkOccurence=function(e){for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},null,!0),n=0;n<t.length;n++){var o=t[n],r=this.currentOccurences[o.id];if(r)return r}return null},e.prototype.isEnabled=function(t,n){return t.target.type===c.MouseTargetType.CONTENT_TEXT&&(t.event[e.TRIGGER_MODIFIER]||n&&n.key===e.TRIGGER_KEY_VALUE)&&!!this.editor.getModel().getMode().linkSupport},e.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.dispose=function(){this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[],this.stop()},e.RECOMPUTE_TIME=1e3,e.TRIGGER_KEY_VALUE=r.isMacintosh?"Meta":"Ctrl",e.TRIGGER_MODIFIER=r.isMacintosh?"metaKey":"ctrlKey",e.HOVER_MESSAGE_GENERAL=r.isMacintosh?n.localize("vs_editor_contrib_links_browser_links",0):n.localize("vs_editor_contrib_links_browser_links",1),e.CLASS_NAME="detected-link",e.CLASS_NAME_ACTIVE="detected-link-active",e}(),p=function(e){function t(t,n,o){e.call(this,t,n,u.Behaviour.WidgetFocus|u.Behaviour.UpdateOnCursorPositionChange),this._linkDetector=new h(n,o)}return __extends(t,e),t.prototype.dispose=function(){this._linkDetector.dispose(),e.prototype.dispose.call(this)},t.prototype.getEnablementState=function(){return this._linkDetector.isComputing()?!0:!!this._linkDetector.getLinkOccurence(this.editor.getPosition())},t.prototype.run=function(){var e=this._linkDetector.getLinkOccurence(this.editor.getPosition());return e&&this._linkDetector.openLinkOccurence(e,!1),o.TPromise.as(null)},t.ID="editor.action.openLink",t=__decorate([__param(2,l.IEditorService)],t)}(u.EditorAction);a.CommonEditorRegistry.registerEditorAction(new a.EditorActionDescriptor(p,p.ID,n.localize("vs_editor_contrib_links_browser_links",2)))});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/multicursor/common/multicursor",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/common","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s){var a=function(e){function t(t,n){e.call(this,t,n,i.Handler.AddCursorUp)}return __extends(t,e),t.ID="editor.action.insertCursorAbove",t=__decorate([__param(2,s.INullService)],t)}(r.HandlerEditorAction),u=function(e){function t(t,n){e.call(this,t,n,i.Handler.AddCursorDown)}return __extends(t,e),t.ID="editor.action.insertCursorBelow",t=__decorate([__param(2,s.INullService)],t)}(r.HandlerEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(a,a.ID,n.localize("vs_editor_contrib_multicursor_common_multicursor",0),{context:o.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,alt:!0,key:"UpArrow"},linux:{primary:{ctrlCmd:!0,winCtrl:!0,key:"UpArrow"}}})),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(u,u.ID,n.localize("vs_editor_contrib_multicursor_common_multicursor",1),{context:o.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,alt:!0,key:"DownArrow"},linux:{primary:{ctrlCmd:!0,winCtrl:!0,key:"DownArrow"}}}))}),define("vs/css!vs/editor/contrib/outlineMarker/browser/outlineMarker",["vs/css!vs/editor/editor.main"],{});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/outlineMarker/browser/outlineMarker",["require","exports","vs/base/common/lifecycle","vs/base/common/async","vs/base/common/errors","vs/editor/common/common","vs/editor/browser/editorBrowserExtensions","vs/editor/common/core/range","vs/platform/instantiation/common/instantiation","vs/css!./outlineMarker"],function(e,t,n,o,r,i,s,a,u){var c=function(){function e(e,t){this.afterLineNumber=e.startLineNumber-1,this.heightInPx=4,this.suppressMouseDown=!0,this.domNode=document.createElement("div");var n=document.createElement("hr");n.className="outlineRule "+t,this.domNode.appendChild(n)}return e}(),l=function(){function e(e,t,n,o,r){this._editor=n,this._viewZone=new c(e,t),this._viewZoneId=r.addZone(this._viewZone),this._decorationId=o.addDecoration(e,{})}return e.prototype.dispose=function(e){e.removeZone(this._viewZoneId)},e.prototype.getLine=function(){return this._viewZone.afterLineNumber},e.prototype.update=function(e){var t=this._editor.getModel().getDecorationRange(this._decorationId);this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId)},e}(),d=function(){function e(e){var t=this;this._editor=e,this._globalToDispose=[],this._localToDispose=[],this._markers=[],this._currentOutlinePromise=null,this._globalToDispose.push(this._editor.addListener2(i.EventType.ModelChanged,function(){return t.onChange(!0)})),this._globalToDispose.push(this._editor.addListener2(i.EventType.ModelModeChanged,function(){return t.onChange(!1)})),this._globalToDispose.push(this._editor.addListener2(i.EventType.ModelModeSupportChanged,function(e){e.outlineSupport&&t.onChange(!1)})),this._globalToDispose.push(this._editor.addListener2(i.EventType.ConfigurationChanged,function(e){e.outlineMarkers&&t.onChange(!1)})),this.onChange(!1)}return e.prototype.dispose=function(){this.localDispose(),this._globalToDispose=n.disposeAll(this._globalToDispose)},e.prototype.localDispose=function(){this._currentOutlinePromise&&this._currentOutlinePromise.cancel(),this._localToDispose=n.disposeAll(this._localToDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onChange=function(e){var t=this;if(e&&(this._markers=[]),this.localDispose(),this._editor.getConfiguration().outlineMarkers){var n=this._editor.getModel();if(n){var i=n.getMode();if(i.outlineSupport){var s=new o.RunOnceScheduler(function(){t._currentOutlinePromise&&t._currentOutlinePromise.cancel(),t._currentOutlinePromise=i.outlineSupport.getOutline(n.getAssociatedResource()),t._currentOutlinePromise.then(function(e){t.renderOutlines(e)},function(e){r.onUnexpectedError(e)})},250);this._localToDispose.push(s),this._localToDispose.push(this._editor.addListener2("change",function(){t._editor.changeViewZones(function(e){t._markers.forEach(function(t){t.update(e)})}),s.schedule()})),this._localToDispose.push({dispose:function(){t._markers.length>0&&t._editor.changeViewZones(function(e){t._markers.forEach(function(t){return t.dispose(e)}),t._markers=[]})}}),s.schedule()}}}},e.prototype.renderOutlines=function(e){var t=this,n=this._editor.getCenteredRangeInViewport(),o=this._markers.length;this._editor.changeDecorations(function(n){t._editor.changeViewZones(function(o){t._markers.forEach(function(e){return e.dispose(o)}),t._markers=[],t.renderOutlinesRecursive(e,n,o)})});var r=this._markers.length;Math.abs(o-r)>1&&this._editor.revealRangeInCenter(n)},e.prototype.renderOutlinesRecursive=function(e,t,n){var o=this;e&&e.forEach(function(e){if("class"===e.type||"method"===e.type||"function"===e.type){var r=a.Range.lift(e.range);if(!o.alreadyHasMarkerAtRange(r)){var i=new l(r,e.type,o._editor,t,n);o._markers.push(i)}}o.renderOutlinesRecursive(e.children,t,n)})},e.prototype.alreadyHasMarkerAtRange=function(e){for(var t=0;t<this._markers.length;++t)if(this._markers[t].getLine()===e.startLineNumber-1)return!0;return!1},e.ID="editor.outlineMarker",e=__decorate([__param(1,u.INullService)],e)}();t.OutlineMarkerContribution=d,s.EditorBrowserRegistry.registerEditorContribution(d)}),define("vs/base/common/bits/bits",["require","exports"],function(e,t){function n(e,t,n){return void 0===n&&(n="0"),new Array(t-e.length+1).join(n)+e}function o(e,t){return void 0===t&&(t=32),n((e>>>0).toString(16),t/4)}function r(e,t,n){void 0===n&&(n=32);var o=n-t,r=~((1<<o)-1);return(e<<t|(r&e)>>>o)>>>0}function i(e,t){var n=65535&e,o=e>>>16,r=65535&t,i=t>>>16,s=0,a=0,u=0,c=0,l=r*n;return s+=65535&l,a+=l>>>16,l=r*o,a+=65535&l,u+=l>>>16,l=i*n,a+=65535&l,u+=l>>>16,u+=a>>>16,a=65535&a,l=i*o,u+=65535&l,c+=l>>>16,c+=u>>>16,u=65535&u,[(c<<16|u)>>>0,(a<<16|s)>>>0]}t.leftPad=n,t.toHexString=o,t.leftRotate=r,t.multiply64=i}),define("vs/base/common/bits/encoding",["require","exports","./bits"],function(e,t,n){function o(e){if(e>>>=0,128>e)return 1;if(2048>e)return 2;if(65536>e)return 3;if(2097152>e)return 4;if(67108864>e)return 5;if(2147483648>e)return 6;throw new Error("Code point 0x"+n.toHexString(e)+" not encodable in UTF8.")}function r(e,t,n){var r=o(e);if(1===r)return t[n]=e,1;t[n]=255&(252<<6-r|e>>>6*(r-1));for(var i=1;r>i;i++)t[n+i]=255&(128|63&e>>>6*(r-i-1));return r}function i(e,t){var n,i,s=0,a=0,u=0,c=0;for(n=0,i=e.length;i>n;n++){if(a=e.charCodeAt(n),a>=55296&&56320>a){if(u=e.charCodeAt(++n),!(u>=56320&&57344>u))throw new Error("Invalid char code");c=((a-55296&1023)<<10|u-56320&1023)+65536}else c=a;s+=o(c)}t&&(s+=3);var l=new ArrayBuffer(s),d=new Uint8Array(l),h=0;for(t&&(d[0]=239,d[1]=187,d[2]=191,h+=3),n=0,i=e.length;i>n;n++)a=e.charCodeAt(n),a>=55296&&56320>a?(u=e.charCodeAt(++n),c=((a-55296&1023)<<10|u-56320&1023)+65536):c=a,h+=r(c,d,h);return l}function s(e,t,n,o){var r=2*e.length;if(r>o)throw Error("Unable to encode string to UTF16. Need "+r+" bytes, but only have "+o+" bytes.");for(var i=0;i<e.length;i++)t.setUint16(n+2*i,e.charCodeAt(i),!1);return r}t.UTF8="utf8",t.encodeToUTF8=i,t.encodeToUTF16=s,t.SUPPORTED_ENCODINGS={utf8:{labelLong:"UTF-8",labelShort:"UTF-8",order:1},utf16le:{labelLong:"UTF-16 LE",labelShort:"UTF-16 LE",order:2},utf16be:{labelLong:"UTF-16 BE",labelShort:"UTF-16 BE",order:3},windows1252:{labelLong:"Western (Windows 1252)",labelShort:"Windows 1252",order:4},iso88591:{labelLong:"Western (ISO 8859-1)",labelShort:"ISO 8859-1",order:5},iso88593:{labelLong:"Western (ISO 8859-3)",labelShort:"ISO 8859-3",order:6},iso885915:{labelLong:"Western (ISO 8859-15)",labelShort:"ISO 8859-15",order:7},macroman:{labelLong:"Western (Mac Roman)",labelShort:"Mac Roman",order:8},cp437:{labelLong:"DOS (CP 437)",labelShort:"CP437",order:9},windows1256:{labelLong:"Arabic (Windows 1256)",labelShort:"Windows 1256",order:10},iso88596:{labelLong:"Arabic (ISO 8859-6)",labelShort:"ISO 8859-6",order:11},windows1257:{labelLong:"Baltic (Windows 1257)",labelShort:"Windows 1257",order:12},iso88594:{labelLong:"Baltic (ISO 8859-4)",labelShort:"ISO 8859-4",order:13},iso885914:{labelLong:"Celtic (ISO 8859-14)",labelShort:"ISO 8859-14",order:14},windows1250:{labelLong:"Central European (Windows 1250)",labelShort:"Windows 1250",order:15},iso88592:{labelLong:"Central European (ISO 8859-2)",labelShort:"ISO 8859-2",order:16},windows1251:{labelLong:"Cyrillic (Windows 1251)",labelShort:"Windows 1251",order:17},cp866:{labelLong:"Cyrillic (CP 866)",labelShort:"CP 866",order:18},iso88595:{labelLong:"Cyrillic (ISO 8859-5)",labelShort:"ISO 8859-5",order:19},koi8r:{labelLong:"Cyrillic (KOI8-R)",labelShort:"KOI8-R",order:20},koi8u:{labelLong:"Cyrillic (KOI8-U)",labelShort:"KOI8-U",order:21},iso885913:{labelLong:"Estonian (ISO 8859-13)",labelShort:"ISO 8859-13",order:22},windows1253:{labelLong:"Greek (Windows 1253)",labelShort:"Windows 1253",order:23},iso88597:{labelLong:"Greek (ISO 8859-7)",labelShort:"ISO 8859-7",order:24},windows1255:{labelLong:"Hebrew (Windows 1255)",labelShort:"Windows 1255",order:25},iso88598:{labelLong:"Hebrew (ISO 8859-8)",labelShort:"ISO 8859-8",order:26},iso885910:{labelLong:"Nordic (ISO 8859-10)",labelShort:"ISO 8859-10",order:27},iso885916:{labelLong:"Romanian (ISO 8859-16)",labelShort:"ISO 8859-16",order:28},windows1254:{labelLong:"Turkish (Windows 1254)",labelShort:"Windows 1254",order:29},iso88599:{labelLong:"Turkish (ISO 8859-9)",labelShort:"ISO 8859-9",order:30},windows1258:{labelLong:"Vietnamese (Windows 1258)",labelShort:"Windows 1258",order:31},gbk:{labelLong:"Chinese (GBK)",labelShort:"GBK",order:32},gb18030:{labelLong:"Chinese (GB18030)",labelShort:"GB18030",order:33},cp950:{labelLong:"Traditional Chinese (Big5)",labelShort:"Big5",order:34},big5hkscs:{labelLong:"Traditional Chinese (Big5-HKSCS)",labelShort:"Big5-HKSCS",order:35},shiftjis:{labelLong:"Japanese (Shift JIS)",labelShort:"Shift JIS",order:36},eucjp:{labelLong:"Japanese (EUC-JP)",labelShort:"EUC-JP",order:37},euckr:{labelLong:"Korean (EUC-KR)",labelShort:"EUC-KR",order:38},windows874:{labelLong:"Thai (Windows 874)",labelShort:"Windows 874",order:39},iso885911:{labelLong:"Latin/Thai (ISO 8859-11)",labelShort:"ISO 8859-11",order:40},"koi8-ru":{labelLong:"Cyrillic (KOI8-RU)",labelShort:"KOI8-RU",order:41},"koi8-t":{labelLong:"Tajik (KOI8-T)",labelShort:"KOI8-T",order:42},GB2312:{labelLong:"Simplified Chinese (GB 2312)",labelShort:"GB 2312",order:43}}}),define("vs/base/common/bits/hash",["require","exports","vs/base/common/bits/bits","vs/base/common/bits/encoding","vs/base/common/types"],function(e,t,n,o,r){function i(e,t,n,o,r){for(var i=0,s=Math.min(e.byteLength-t,n.byteLength-o,r);s>i;i++)e[t+i]=n[o+i];return s}function s(e,t,n,o){void 0===t&&(t=0),void 0===n&&(n=e.byteLength),void 0===o&&(o=0);for(var r=0;n>r;r++)e[t+r]=o}function a(e,t,n){if("undefined"==typeof ArrayBuffer)return null;var i=r.isString(e)?o.encodeToUTF8(e,t):e,s=new u;return n&&s.update(n(i.byteLength)),i.byteLength&&s.update(i),s.digest()}var u=function(){function e(){this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.length=0,this.buffer=new Uint8Array(e.BLOCK_SIZE),this.bufferDV=new DataView(this.buffer.buffer),this.bufferLength=0,this.bigBlock32=new DataView(new ArrayBuffer(320))}return e.digest=function(t){var n=new e;return n.update(t),n.digest()},e.prototype.update=function(t){if(!this.buffer)throw new Error("Digest already computed.");var n;n=r.isString(t)?new Uint8Array(o.encodeToUTF8(t)):t instanceof ArrayBuffer?new Uint8Array(t):t instanceof DataView?new Uint8Array(t.buffer):t;for(var s=0,a=0;a<n.byteLength;)s=i(this.buffer,this.bufferLength,n,a,n.byteLength),this.bufferLength+=s,a+=s,this.bufferLength===e.BLOCK_SIZE&&(this.step(this.bufferDV),this.bufferLength=0);this.length+=a},e.prototype.digest=function(){return this.buffer&&this.wrapUp(),n.toHexString(this.h0)+n.toHexString(this.h1)+n.toHexString(this.h2)+n.toHexString(this.h3)+n.toHexString(this.h4)},e.prototype.wrapUp=function(){this.buffer[this.bufferLength++]=128,s(this.buffer,this.bufferLength),this.bufferLength>56&&(this.step(this.bufferDV),s(this.buffer));var e=n.multiply64(8,this.length);this.bufferDV.setUint32(56,e[0],!1),this.bufferDV.setUint32(60,e[1],!1),this.step(this.bufferDV),this.buffer=null,this.bufferDV=null,this.bufferLength=-1},e.prototype.step=function(e){for(var t=0;64>t;t+=4)this.bigBlock32.setUint32(t,e.getUint32(t,!1),!1);for(t=64;320>t;t+=4)this.bigBlock32.setUint32(t,n.leftRotate(this.bigBlock32.getUint32(t-12,!1)^this.bigBlock32.getUint32(t-32,!1)^this.bigBlock32.getUint32(t-56,!1)^this.bigBlock32.getUint32(t-64,!1),1),!1);var o,r,i,s=this.h0,a=this.h1,u=this.h2,c=this.h3,l=this.h4;for(t=0;80>t;t++)20>t?(o=a&u|~a&c,r=1518500249):40>t?(o=a^u^c,r=1859775393):60>t?(o=a&u|a&c|u&c,r=2400959708):(o=a^u^c,r=3395469782),i=n.leftRotate(s,5)+o+l+r+this.bigBlock32.getUint32(4*t,!1)&4294967295,l=c,c=u,u=n.leftRotate(a,30),a=s,s=i;this.h0=this.h0+s&4294967295,this.h1=this.h1+a&4294967295,this.h2=this.h2+u&4294967295,this.h3=this.h3+c&4294967295,this.h4=this.h4+l&4294967295},e.BLOCK_SIZE=64,e}();t.SHA1=u,t.computeSHA1Hash=a});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/parameterHints/browser/parameterHintsModel",["require","exports","vs/base/common/winjs.base","vs/base/common/lifecycle","vs/base/common/bits/hash","vs/base/common/async","vs/base/common/eventEmitter","vs/editor/common/common"],function(e,t,n,o,r,i,s,a){function u(e){if(!e)return null;var t=new r.SHA1;return e.signatures.forEach(function(e){t.update(e.documentation||""),t.update(e.label||""),e.parameters.forEach(function(e){t.update(e.documentation||""),t.update(e.label||""),t.update(e.signatureLabelEnd.toString()),t.update(e.signatureLabelOffset.toString())})}),t.digest()}var c=function(e){function t(n){var o=this;e.call(this,["cancel","hint","destroy"]),this.editor=n,this.toDispose=[],this.triggerCharactersListeners=[],this.throttledDelayer=new i.ThrottledDelayer(t.DELAY),this.active=!1,this.hash=null,this.event(this.editor,a.EventType.ModelChanged,function(){return o.onModelChanged()}),this.event(this.editor,a.EventType.ModelModeChanged,function(){return o.onModelChanged()}),this.event(this.editor,a.EventType.ModelModeSupportChanged,function(e){return o.onModeChanged(e)}),this.event(this.editor,a.EventType.CursorSelectionChanged,function(e){return o.onCursorChange(e)}),this.onModelChanged()}return __extends(t,e),t.prototype.cancel=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.active=!1,t||(this.hash=null),this.throttledDelayer.cancel(),e||this.emit("cancel")},t.prototype.trigger=function(e){var n=this;return void 0===e&&(e=t.DELAY),this.editor.getModel().getMode().parameterHintsSupport?(this.cancel(!0,!0),this.throttledDelayer.trigger(function(){return n.doTrigger()},e)):void 0},t.prototype.doTrigger=function(){var e=this,t=this.editor.getModel();if(!t||!t.getMode().parameterHintsSupport)return n.TPromise.as(!1);var o=t.getMode().parameterHintsSupport;return o.getParameterHints(t.getAssociatedResource(),this.editor.getPosition()).then(function(t){var n=u(t);if(!t||0===t.signatures.length||e.hash&&n!==e.hash)return e.cancel(),e.emit("cancel"),!1;e.active=!0,e.hash=n;var o={hints:t};return e.emit("hint",o),!0})},t.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isTriggered()},t.prototype.onModelChanged=function(){var e=this;this.triggerCharactersListeners=o.disposeAll(this.triggerCharactersListeners);var t=this.editor.getModel();if(t){var n=t.getMode();n.parameterHintsSupport&&(this.triggerCharactersListeners=n.parameterHintsSupport.getParameterHintsTriggerCharacters().map(function(o){var r=e.editor.addTypingListener(o,function(){var o=e.editor.getPosition(),r=t.getLineContext(o.lineNumber);n.parameterHintsSupport.shouldTriggerParameterHints(r,o.column-1)&&e.trigger()});return{dispose:r}}))}},t.prototype.onModeChanged=function(e){e.parameterHintsSupport&&this.onModelChanged()},t.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered()&&this.trigger()},t.prototype.event=function(e,t,n){this.toDispose.push(e.addListener2(t,n))},t.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=o.disposeAll(this.triggerCharactersListeners),this.toDispose=o.disposeAll(this.toDispose),this.emit("destroy",null),e.prototype.dispose.call(this)},t.DELAY=120,t}(s.EventEmitter);t.ParameterHintsModel=c}),define("vs/css!vs/editor/contrib/parameterHints/browser/parameterHints",["vs/css!vs/editor/editor.main"],{}),define("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",["require","exports","vs/base/common/winjs.base","vs/base/common/lifecycle","vs/base/browser/builder","vs/editor/browser/editorBrowser","vs/editor/common/common","vs/css!./parameterHints"],function(e,t,n,o,r,i,s){var a=r.$,u=function(){function e(e,t,n,o){var r=this;this.allowEditorOverflow=!0,this._onShown=n,this._onHidden=o,this.editor=t,this.modelListenersToRemove=[],this.model=null,this.isVisible=!1,this.isDisposed=!1,this.setModel(e),this.$el=a(".editor-widget.parameter-hints-widget").on("click",function(){r.selectNext(),r.editor.focus()}),this.$wrapper=a(".wrapper.monaco-editor-background").appendTo(this.$el);var i=a(".buttons").appendTo(this.$wrapper);a(".button.previous").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.selectPrevious()}).appendTo(i),a(".button.next").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.selectNext()}).appendTo(i),this.$overloads=a(".overloads").appendTo(this.$wrapper),this.$signatures=a(".signatures").appendTo(this.$wrapper),this.signatureViews=[],this.currentSignature=0,this.editor.addContentWidget(this),this.hide(),this.toDispose=[],this.toDispose.push(this.editor.addListener2(s.EventType.CursorSelectionChanged,function(){r.editor.layoutContentWidget(r)}))}return e.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListenersToRemove.push(this.model.addListener("hint",function(e){t.show(),t.render(e.hints),t.currentSignature=e.hints.currentSignature,t.select(t.currentSignature)})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(){t.hide()}))},e.prototype.show=function(){var e=this;this.isDisposed||(this._onShown(),this.isVisible=!0,n.TPromise.timeout(100).done(function(){e.$el.addClass("visible")}),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){this.isDisposed||(this._onHidden(),this.isVisible=!1,this.$el.removeClass("visible"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.isVisible?{position:this.editor.getPosition(),preference:[i.ContentWidgetPositionPreference.ABOVE,i.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.render=function(e){e.signatures.length>1?this.$el.addClass("multiple"):this.$el.removeClass("multiple"),this.$signatures.empty(),this.signatureViews=[];for(var t=0,n=0,o=e.signatures.length;o>n;n++){var r=e.signatures[n],i=this.renderSignature(this.$signatures,r,e.currentParameter);this.renderDocumentation(i,r,e.currentParameter);var s=i.getClientArea().height;this.signatureViews.push({top:t,height:s}),t+=s}},e.prototype.renderSignature=function(e,t,n){var o=a(".signature").appendTo(e),r=t.parameters.length>0;if(r){for(var i=a("span.parameters"),s=0,u=0,c=t.parameters.length;c>u;u++){var l=t.parameters[u];(0===u?o:i).append(a("span").text(t.label.substring(s,l.signatureLabelOffset))),i.append(a("span.parameter").addClass(u===n?"active":"").text(t.label.substring(l.signatureLabelOffset,l.signatureLabelEnd))),s=l.signatureLabelEnd}o.append(i),o.append(a("span").text(t.label.substring(s)))}else o.append(a("span").text(t.label));return o},e.prototype.renderDocumentation=function(e,t,n){t.documentation&&e.append(a(".documentation").text(t.documentation));var o=t.parameters[n];if(o&&o.documentation){var r=a(".documentation");r.append(a("span.parameter").text(o.label)),r.append(a("span").text(o.documentation)),e.append(r)}},e.prototype.select=function(e){var t=this.signatureViews[e];if(t){this.$signatures.style({height:t.height+"px"}),this.$signatures.getHTMLElement().scrollTop=t.top;var n=""+(e+1);this.signatureViews.length<10&&(n+="/"+this.signatureViews.length),this.$overloads.text(n),this.editor.layoutContentWidget(this)}},e.prototype.selectNext=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature+1)%this.signatureViews.length,this.select(this.currentSignature),!0)},e.prototype.selectPrevious=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature--,this.currentSignature<0&&(this.currentSignature=this.signatureViews.length-1),this.select(this.currentSignature),!0)},e.prototype.cancel=function(){this.model.cancel()},e.prototype.getDomNode=function(){return this.$el.getHTMLElement()},e.prototype.getId=function(){return e.ID},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model&&(this.model.dispose(),this.model=null)},e.prototype.destroy=function(){this.toDispose=o.disposeAll(this.toDispose),this.releaseModel(),this.$overloads&&(this.$overloads.destroy(),delete this.$overloads),this.$signatures&&(this.$signatures.destroy(),delete this.$signatures),this.$wrapper&&(this.$wrapper.destroy(),delete this.$wrapper),this.$el&&(this.$el.destroy(),delete this.$el),this.isDisposed=!0},e.ID="editor.widget.parameterHintsWidget",e}();t.ParameterHintsWidget=u});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/parameterHints/browser/parameterHints",["require","exports","vs/nls!vs/editor/editor.main","./parameterHintsModel","./parameterHintsWidget","vs/base/common/winjs.base","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/platform/keybinding/common/keybindingService","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c,l){var d=function(){function e(e,t){var n=this;this.editor=e,this.model=new o.ParameterHintsModel(this.editor),this.parameterHintsVisible=t.createKey(p,!1),this.widget=new r.ParameterHintsWidget(this.model,this.editor,function(){n.parameterHintsVisible.set(!0)},function(){n.parameterHintsVisible.reset()})}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this.model.dispose(),this.model=null,this.widget.destroy(),this.widget=null},e.prototype.getId=function(){return e.ID},e.prototype.closeWidget=function(){this.widget.cancel()},e.prototype.showPrevHint=function(){this.widget.selectPrevious()},e.prototype.showNextHint=function(){this.widget.selectNext()},e.prototype.trigger=function(){this.model.trigger(0)},e.ID="editor.controller.parameterHints",e=__decorate([__param(1,c.IKeybindingService)],e)}(),h=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().parameterHintsSupport&&e.prototype.isSupported.call(this)},t.prototype.run=function(){return d.get(this.editor).trigger(),i.TPromise.as(!0)},t.ID="editor.action.triggerParameterHints",t=__decorate([__param(2,l.INullService)],t)}(u.EditorAction);t.TriggerParameterHintsAction=h;var p="parameterHintsVisible",f=a.CommonEditorRegistry.commandWeight(75);s.EditorBrowserRegistry.registerEditorContribution(d),a.CommonEditorRegistry.registerEditorAction(new a.EditorActionDescriptor(h,h.ID,n.localize("vs_editor_contrib_parameterHints_browser_parameterHints",0),{context:a.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,shift:!0,key:"Space"}})),a.CommonEditorRegistry.registerEditorCommand("closeParameterHints",f,{primary:{key:"Escape"}},!0,p,function(e,t){d.get(t).closeWidget()}),a.CommonEditorRegistry.registerEditorCommand("showPrevParameterHint",f,{primary:{key:"UpArrow"}},!0,p,function(e,t){d.get(t).showPrevHint()}),a.CommonEditorRegistry.registerEditorCommand("showNextParameterHint",f,{primary:{key:"DownArrow"}},!0,p,function(e,t){d.get(t).showNextHint()})}),define("vs/base/parts/tree/browser/treeDefaults",["require","exports","vs/base/common/platform","vs/base/common/errors","vs/base/browser/dom"],function(e,t,n,o,r){var i=function(){function e(){}return e.prototype.getHeight=function(){return 20},e.prototype.getTemplateId=function(){return"legacy"},e.prototype.renderTemplate=function(e,t,n){return{root:n,previousCleanupFn:null}},e.prototype.renderElement=function(e,t,n,o){for(o.previousCleanupFn&&o.previousCleanupFn(e,t);o.root.firstChild;)o.root.removeChild(o.root.firstChild);o.previousCleanupFn=this.render(e,t,o.root)},e.prototype.disposeTemplate=function(){},e.prototype.render=function(e,t,n){return n.textContent=""+t,null},e}();t.LegacyRenderer=i,function(e){e[e.ON_MOUSE_DOWN=0]="ON_MOUSE_DOWN",e[e.ON_MOUSE_UP=1]="ON_MOUSE_UP"}(t.ClickBehavior||(t.ClickBehavior={}));var s=t.ClickBehavior,a=function(){function e(e){var t=this;void 0===e&&(e={clickBehavior:s.ON_MOUSE_UP}),this.options=e,this.downKeyBindings={Space:function(e,n){return t.onSpace(e,n)},UpArrow:function(e,n){return t.onUp(e,n)},PageUp:function(e,n){return t.onPageUp(e,n)},DownArrow:function(e,n){return t.onDown(e,n)},PageDown:function(e,n){return t.onPageDown(e,n)},LeftArrow:function(e,n){return t.onLeft(e,n)},RightArrow:function(e,n){return t.onRight(e,n)},Escape:function(e,n){return t.onEscape(e,n)}},this.upKeyBindings={Enter:this.onEnter.bind(this)},n.isMacintosh?this.upKeyBindings["Meta-Enter"]=this.onEnter.bind(this):this.upKeyBindings["Ctrl-Enter"]=this.onEnter.bind(this)}return e.prototype.onMouseDown=function(e,t,n,o){if(void 0===o&&(o="mouse"),this.options.clickBehavior===s.ON_MOUSE_DOWN&&n.leftButton){if(n.target){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(r.findParentWithClass(n.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(e,t,n,o)}return!1},e.prototype.onClick=function(e,t,o){var r=n.isMacintosh;return r&&o.ctrlKey?(o.preventDefault(),o.stopPropagation(),!1):o.middleButton?!1:o.target&&o.target.tagName&&"input"===o.target.tagName.toLowerCase()?!1:this.options.clickBehavior===s.ON_MOUSE_DOWN&&o.leftButton?!1:this.onLeftClick(e,t,o)},e.prototype.onLeftClick=function(e,t,n,r){void 0===r&&(r="mouse");var i={origin:r,originalEvent:n};if(e.getInput()===t)e.clearFocus(i),e.clearSelection(i);else{var s=n&&n.browserEvent&&"mousedown"===n.browserEvent.type;s||n.preventDefault(),n.stopPropagation(),e.DOMFocus(),e.setSelection([t],i),e.setFocus(t,i),e.isExpanded(t)?e.collapse(t).done(null,o.onUnexpectedError):e.expand(t).done(null,o.onUnexpectedError)}return!0},e.prototype.onContextMenu=function(e,t,n){return n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase()?!1:(n&&(n.preventDefault(),n.stopPropagation()),!1)},e.prototype.onTap=function(e,t,n){var o=n.initialTarget;return o&&o.tagName&&"input"===o.tagName.toLowerCase()?!1:this.onLeftClick(e,t,n,"touch")},e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindings,e,t)},e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindings,e,t)},e.prototype.onKey=function(e,t,n){var o=e[n.asString()];return o&&o(t,n)?(n.preventDefault(),n.stopPropagation(),!0):!1},e.prototype.onUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPrevious(1,n),e.reveal(e.getFocus())),!0},e.prototype.onPageUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPreviousPage(n),e.reveal(e.getFocus())),!0},e.prototype.onDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNext(1,n),e.reveal(e.getFocus())),!0},e.prototype.onPageDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNextPage(n),e.reveal(e.getFocus())),!0},e.prototype.onLeft=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);
else{var o=e.getFocus();e.collapse(o).done(function(t){o&&!t&&e.focusParent(n)})}return!0},e.prototype.onRight=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var r=e.getFocus();e.expand(r).done(null,o.onUnexpectedError)}return!0},e.prototype.onEnter=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var o=e.getFocus();return o&&e.setSelection([o],n),!0},e.prototype.onSpace=function(e){if(e.getHighlight())return!1;var t=e.getFocus();return t&&e.toggleExpansion(t),!0},e.prototype.onEscape=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(n),!0):e.getFocus()||e.getSelection().length?(e.clearFocus(n),e.clearSelection(n),!0):!1},e}();t.DefaultController=a;var u=function(){function e(){}return e.prototype.getDragURI=function(){return null},e.prototype.onDragStart=function(){},e.prototype.onDragOver=function(){return null},e.prototype.drop=function(){},e}();t.DefaultDragAndDrop=u;var c=function(){function e(){}return e.prototype.isVisible=function(){return!0},e}();t.DefaultFilter=c;var l=function(){function e(){}return e.prototype.compare=function(){return 0},e}();t.DefaultSorter=l});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/parts/tree/common/treeModel",["require","exports","vs/base/common/assert","vs/base/common/arrays","vs/base/common/eventEmitter","vs/base/common/winjs.base"],function(e,t,n,o,r,i){function s(e,t){for(var n=e.getHierarchy(),r=t.getHierarchy(),i=o.commonPrefixLength(n,r),s=n[i-1],a=s.getNavigator(),u=null,c=null,l=0,d=[];s&&(null===u||null===c);)d.push(s),s===e&&(u=l),s===t&&(c=l),l++,s=a.next();if(null===u||null===c)return[];var h=Math.min(u,c),p=Math.max(u,c);return d.slice(h,p+1)}var a=function(e){function t(t){e.call(this),this._item=t}return __extends(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.emit("unlock"),e.prototype.dispose.call(this)},t}(r.EventEmitter);t.LockData=a;var u=function(){function e(){this.locks=Object.create({})}return e.prototype.isLocked=function(e){return!!this.locks[e.id]},e.prototype.run=function(e,t){var n=this,o=this.getLock(e);if(o){var r;return new i.Promise(function(i,s){r=o.addOneTimeListener("unlock",function(){return n.run(e,t).then(i,s)})},function(){return r()})}var s;return new i.Promise(function(o,r){if(e.isDisposed())return r(new Error("Item is disposed."));var i=n.locks[e.id]=new a(e);return s=t().then(function(t){return delete n.locks[e.id],i.dispose(),t}).then(o,r)},function(){return s.cancel()})},e.prototype.getLock=function(e){var t;for(t in this.locks){var n=this.locks[t];if(e.intersects(n.item))return n}return null},e}();t.Lock=u;var c=function(e){function t(){e.call(this),this.items={}}return __extends(t,e),t.prototype.register=function(e){n.ok(!this.isRegistered(e.id),"item already registered: "+e.id),this.items[e.id]=e,this.emit("register",e)},t.prototype.deregister=function(e){n.ok(this.isRegistered(e.id),"item not registered: "+e.id),delete this.items[e.id],this.emit("deregister",e)},t.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},t.prototype.getItem=function(e){return this.items[e]||null},t.prototype.dispose=function(){e.prototype.dispose.call(this),delete this.items},t}(r.EventEmitter);t.ItemRegistry=c;var l=function(e){function t(t,n,o,r,i){e.call(this),this.registry=n,this.context=o,this.lock=r,this.element=i,this.id=t,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.userContent=null,this.traits={},this.depth=0,this.maxDepth=0,this.expanded=!1,this.emit("item:create",{item:this}),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return __extends(t,e),t.prototype.getElement=function(){return this.element},t.prototype.hasChildren=function(){return this.doesHaveChildren},t.prototype.getDepth=function(){return this.depth},t.prototype.getMaxDepth=function(){return this.maxDepth},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(e){this.visible=e},t.prototype.isExpanded=function(){return this.expanded},t.prototype._setExpanded=function(e){this.expanded=e},t.prototype.reveal=function(e){void 0===e&&(e=null);var t={item:this,relativeTop:e};this.emit("item:reveal",t)},t.prototype.expand=function(){var e=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return i.Promise.as(!1);var t=this.lock.run(this,function(){var t,n={item:e};return e.emit("item:expanding",n),t=e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):i.Promise.as(null),t.then(function(){return e._setExpanded(!0),e.emit("item:expanded",n),!0})});return t.then(function(t){return e.isDisposed()?!1:t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):t})},t.prototype.collapse=function(e){var t=this;if(void 0===e&&(e=!1),e){var n=i.Promise.as(null);return this.forEachChild(function(e){n=n.then(function(){return e.collapse(!0)})}),n.then(function(){return t.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?i.Promise.as(!1):this.lock.run(this,function(){var e={item:t};return t.emit("item:collapsing",e),t._setExpanded(!1),t.emit("item:collapsed",e),i.Promise.as(!0)})},t.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this.emit("item:addTrait",t)},t.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this.emit("item:removeTrait",t)},t.prototype.hasTrait=function(e){return this.traits[e]||!1},t.prototype.getAllTraits=function(){var e,t=[];for(e in this.traits)this.traits.hasOwnProperty(e)&&this.traits[e]&&t.push(e);return t},t.prototype.getHeight=function(){return this.height},t.prototype.refreshChildren=function(e,n,o){var r=this;if(void 0===n&&(n=!1),void 0===o&&(o=!1),!o&&!this.isExpanded())return this.needsChildrenRefresh=!0,i.Promise.as(this);this.needsChildrenRefresh=!1;var s=function(){var o={item:r,isNested:n};r.emit("item:childrenRefreshing",o);var s;return s=r.doesHaveChildren?r.context.dataSource.getChildren(r.context.tree,r.element):i.Promise.as([]),s.then(function(n){n=n?n.slice(0):[],n=r.sort(n);for(var o={};null!==r.firstChild;)o[r.firstChild.id]=r.firstChild,r.removeChild(r.firstChild);for(var s=0,a=n.length;a>s;s++){var u=n[s],c=r.context.dataSource.getId(r.context.tree,u),l=o[c]||new t(c,r.registry,r.context,r.lock,u);l.element=u,e&&(l.needsChildrenRefresh=e),delete o[c],r.addChild(l)}for(var d in o)o.hasOwnProperty(d)&&o[d].dispose();return e?i.Promise.join(r.mapEachChild(function(t){return t.doRefresh(e,!0)})):i.Promise.as(null)}).then(function(){r.emit("item:childrenRefreshed",o)})};return n?s():this.lock.run(this,s)},t.prototype.doRefresh=function(e,t){void 0===t&&(t=!1);var n={item:this};return this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.setVisible(this._isVisible()),this.emit("item:refresh",n),this.refreshChildren(e,t)},t.prototype.refresh=function(e){return this.doRefresh(e)},t.prototype.getNavigator=function(){return new h(this)},t.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},t.prototype.getHierarchy=function(){var e=[],t=this;do e.push(t),t=t.parent;while(t);return e.reverse(),e},t.prototype.isAncestorOf=function(e){for(;e;){if(e.id===this.id)return!0;e=e.parent}return!1},t.prototype.addChild=function(e,t){void 0===t&&(t=this.lastChild);var n=null===this.firstChild,o=null===t,r=t===this.lastChild;n?(this.firstChild=this.lastChild=e,e.next=e.previous=null):o?(this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e):r?(this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e):(e.previous=t,e.next=t.next,t.next.previous=e,t.next=e),e.parent=this,e.depth=this.depth+1;for(var i=this,s=e.maxDepth+1;i&&i.maxDepth<s;)i.maxDepth=s++,i=i.parent},t.prototype.removeChild=function(e){var t=this.firstChild===e,n=this.lastChild===e;t&&n?this.firstChild=this.lastChild=null:t?(e.next.previous=null,this.firstChild=e.next):n?(e.previous.next=null,this.lastChild=e.previous):(e.next.previous=e.previous,e.previous.next=e.next),e.parent=null,e.depth=null;for(var o=this,r=e.maxDepth+1;o&&o.maxDepth===r;)r=o.maxDepth+1,o.maxDepth=Math.max.apply(null,this.mapEachChild(function(e){return e.maxDepth}))+1,o=o.parent},t.prototype.forEachChild=function(e){for(var t,n=this.firstChild;n;)t=n.next,e(n),n=t},t.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(n){t.push(e(n))}),t},t.prototype.sort=function(e){var t=this;return this.context.sorter?e.sort(function(e,n){return t.context.sorter.compare(t.context.tree,e,n)}):e},t.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},t.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),delete this.parent,delete this.previous,delete this.next,delete this.firstChild,delete this.lastChild;var t={item:this};this.emit("item:dispose",t),this.registry.deregister(this),e.prototype.dispose.call(this),this._isDisposed=!0},t}(r.EventEmitter);t.Item=l;var d=function(e){function t(t,n,o,r,i){e.call(this,t,n,o,r,i)}return __extends(t,e),t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(){},t.prototype.isExpanded=function(){return!0},t.prototype._setExpanded=function(){},t.prototype.render=function(){},t.prototype._getHeight=function(){return 0},t.prototype._isVisible=function(){return!1},t}(l),h=function(){function e(e,t){void 0===t&&(t=!0),this.item=e,this.start=t?e:null}return e.lastDescendantOf=function(t){return t?t.isVisible()&&t.isExpanded()&&null!==t.lastChild?e.lastDescendantOf(t.lastChild):t:null},e.prototype.current=function(){return this.item||null},e.prototype.next=function(){if(this.item)do if((this.item instanceof d||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.previous=function(){if(this.item)do{var t=e.lastDescendantOf(this.item.previous);this.item=t?t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item.parent:null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.parent=function(){if(this.item){var e=this.item.parent;this.item=e&&e!==this.start&&e.isVisible()?e:null}return this.item||null},e.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},e.prototype.last=function(){return this.start&&this.start.isExpanded()&&(this.item=this.start.lastChild,this.item&&!this.item.isVisible()&&this.previous()),this.item||null},e}();t.TreeNavigator=h;var p=function(e){function t(t){e.call(this),this.context=t,this.input=null,this.traitsToItems={}}return __extends(t,e),t.prototype.setInput=function(e){var t=this,n={item:this.input};this.emit("clearingInput",n),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new u,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.unbindRegistryListener()),this.registry=new c,this.unbindRegistryListener=this.registry.addListener("register",function(e){var n=t.addEmitter(e),o=t.registry.addListener("deregister",function(r){if(r.id===e.id){for(var i=r.getAllTraits(),s=0,a=i.length;a>s;s++){var u=i[s];delete t.traitsToItems[u][r.id]}n(),o()}})});var o=this.context.dataSource.getId(this.context.tree,e);return this.input=new d(o,this.registry,this.context,this.lock,e),n={item:this.input},this.emit("setInput",n),this.refresh(this.input)},t.prototype.getInput=function(){return this.input?this.input.getElement():null},t.prototype.refresh=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=!0);var o=this.getItem(e);if(!o)return i.Promise.as(null);var r={item:o,recursive:t};return this.emit("refreshing",r),o.refresh(t).then(function(){n.emit("refreshed",r)})},t.prototype.refreshAll=function(e,t){var n=this;void 0===t&&(t=!0);var o=[];return this.deferredEmit(function(){for(var r=0,i=e.length;i>r;r++)o.push(n.refresh(e[r],t))}),i.Promise.join(o)},t.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():i.Promise.as(!1)},t.prototype.expandAll=function(e){if(!e){e=[];for(var t,n=this.getNavigator();t=n.next();)e.push(t)}for(var o=[],r=0,s=e.length;s>r;r++)o.push(this.expand(e[r]));return i.Promise.join(o)},t.prototype.collapse=function(e,t){void 0===t&&(t=!1);var n=this.getItem(e);return n?n.collapse(t):i.Promise.as(!1)},t.prototype.collapseAll=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),e||(e=[this.input],t=!0);for(var n=[],o=0,r=e.length;r>o;o++)n.push(this.collapse(e[o],t));return i.Promise.join(n)},t.prototype.toggleExpansion=function(e){return this.isExpanded(e)?this.collapse(e):this.expand(e)},t.prototype.toggleExpansionAll=function(e){for(var t=[],n=0,o=e.length;o>n;n++)t.push(this.toggleExpansion(e[n]));return i.Promise.join(t)},t.prototype.isExpanded=function(e){var t=this.getItem(e);return t?t.isExpanded():!1},t.prototype.getExpandedElements=function(){for(var e,t=[],n=this.getNavigator();e=n.next();)e.isExpanded()&&t.push(e);return t},t.prototype.reveal=function(e,t){var n=this;return void 0===t&&(t=null),this.resolveUnknownParentChain(e).then(function(e){var t=i.Promise.as(null);return e.forEach(function(e){t=t.then(function(){return n.expand(e)})}),t}).then(function(){var o=n.getItem(e);o&&o.reveal(t)})},t.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(e){return e?t.resolveUnknownParentChain(e).then(function(t){return t.push(e),t}):i.Promise.as([])})},t.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var n={highlight:this.getHighlight(),payload:t};this.emit("highlight",n)},t.prototype.getHighlight=function(e){var t=this.getElementsWithTrait("highlighted",e);return 0===t.length?null:t[0]},t.prototype.isHighlighted=function(e){var t=this.getItem(e);return t?t.hasTrait("highlighted"):!1},t.prototype.select=function(e,t){this.selectAll([e],t)},t.prototype.selectRange=function(e,t,n){var o=this.getItem(e),r=this.getItem(t);o&&r&&this.selectAll(s(o,r),n)},t.prototype.deselectRange=function(e,t,n){var o=this.getItem(e),r=this.getItem(t);o&&r&&this.deselectAll(s(o,r),n)},t.prototype.selectAll=function(e,t){this.addTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.deselect=function(e,t){this.deselectAll([e],t)},t.prototype.deselectAll=function(e,t){this.removeTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.setSelection=function(e,t){this.setTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.toggleSelection=function(e,t){this.toggleTrait("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.isSelected=function(e){var t=this.getItem(e);return t?t.hasTrait("selected"):!1},t.prototype.getSelection=function(e){return this.getElementsWithTrait("selected",e)},t.prototype.selectNext=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=!0);for(var o,r=this.getSelection(),i=r.length>0?r[0]:this.input,s=this.getNavigator(i,!1),a=0;e>a&&(o=s.next(),o);a++)i=o;t?this.setSelection([i],n):this.select(i,n)},t.prototype.selectPrevious=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=!0);var o=this.getSelection(),r=null,i=null;if(0===o.length){for(var s=this.getNavigator(this.input);r=s.next();)i=r;r=i}else{r=o[0];for(var s=this.getNavigator(r,!1),a=0;e>a&&(i=s.previous(),i);a++)r=i}t?this.setSelection([r],n):this.select(r,n)},t.prototype.selectParent=function(e,t){void 0===t&&(t=!0);var n=this.getSelection(),o=n.length>0?n[0]:this.input,r=this.getNavigator(o,!1),i=r.parent();i&&(t?this.setSelection([i],e):this.select(i,e))},t.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var n={focus:this.getFocus(),payload:t};this.emit("focus",n)},t.prototype.isFocused=function(e){var t=this.getItem(e);return t?t.hasTrait("focused"):!1},t.prototype.getFocus=function(e){var t=this.getElementsWithTrait("focused",e);return 0===t.length?null:t[0]},t.prototype.focusNext=function(e,t){void 0===e&&(e=1);for(var n,o=this.getFocus()||this.input,r=this.getNavigator(o,!1),i=0;e>i&&(n=r.next(),n);i++)o=n;this.setFocus(o,t)},t.prototype.focusPrevious=function(e,t){void 0===e&&(e=1);for(var n,o=this.getFocus()||this.input,r=this.getNavigator(o,!1),i=0;e>i&&(n=r.previous(),n);i++)o=n;this.setFocus(o,t)},t.prototype.focusParent=function(e){var t=this.getFocus()||this.input,n=this.getNavigator(t,!1),o=n.parent();o&&this.setFocus(o,e)},t.prototype.focusFirst=function(e){this.focusNth(0,e)},t.prototype.focusNth=function(e,t){for(var n=this.getNavigator(this.input),o=n.first(),r=0;e>r;r++)o=n.next();o&&this.setFocus(o,t)},t.prototype.focusLast=function(e){var t=this.getNavigator(this.input),n=t.last();n&&this.setFocus(n,e)},t.prototype.getNavigator=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),new h(this.getItem(e),t)},t.prototype.getItem=function(e){return void 0===e&&(e=null),null===e?this.input:e instanceof l?e:"string"==typeof e?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},t.prototype.addTraits=function(e,t){for(var n,o=this.traitsToItems[e]||{},r=0,i=t.length;i>r;r++)n=this.getItem(t[r]),n&&(n.addTrait(e),o[n.id]=n);this.traitsToItems[e]=o},t.prototype.removeTraits=function(e,t){var n,o,r=this.traitsToItems[e]||{};if(0===t.length){for(o in r)r.hasOwnProperty(o)&&(n=r[o],n.removeTrait(e));delete this.traitsToItems[e]}else for(var i=0,s=t.length;s>i;i++)n=this.getItem(t[i]),n&&(n.removeTrait(e),delete r[n.id])},t.prototype.hasTrait=function(e,t){var n=this.getItem(t);return n&&n.hasTrait(e)},t.prototype.toggleTrait=function(e,t){var n=this.getItem(t);n&&(n.hasTrait(e)?this.removeTraits(e,[t]):this.addTraits(e,[t]))},t.prototype.setTraits=function(e,t){if(0===t.length)this.removeTraits(e,t);else{for(var n,o={},r=0,i=t.length;i>r;r++)n=this.getItem(t[r]),n&&(o[n.id]=n);var s,a=this.traitsToItems[e]||{},u=[];for(s in a)a.hasOwnProperty(s)&&(o.hasOwnProperty(s)?delete o[s]:u.push(a[s]));for(var r=0,i=u.length;i>r;r++)n=u[r],n.removeTrait(e),delete a[n.id];for(s in o)o.hasOwnProperty(s)&&(n=o[s],n.addTrait(e),a[s]=n);this.traitsToItems[e]=a}},t.prototype.getElementsWithTrait=function(e,t){var n,o=[],r=this.traitsToItems[e]||{};for(n in r)r.hasOwnProperty(n)&&(r[n].isVisible()||t)&&o.push(r[n].getElement());return o},t.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),e.prototype.dispose.call(this)},t}(r.EventEmitter);t.TreeModel=p}),define("vs/base/common/diff/diffChange",["require","exports"],function(e,t){t.DifferenceType={Add:0,Remove:1,Change:2};var n=function(){function e(e,t,n,o){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=o}return e.prototype.getChangeType=function(){return 0===this.originalLength?t.DifferenceType.Add:0===this.modifiedLength?t.DifferenceType.Remove:t.DifferenceType.Change},e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();t.DiffChange=n}),define("vs/base/common/diff/diff",["require","exports","vs/base/common/diff/diffChange"],function(e,t,n){var o=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}();t.Debug=o;var r=function(){function e(){}return e.Copy=function(e,t,n,o,r){for(var i=0;r>i;i++)n[o+i]=e[t+i]},e}();t.MyArray=r;// Copyright (C) 2008 Microsoft Corporation
var i=1447,s=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new n.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),a=function(){function e(e,t,n){void 0===n&&(n=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()}return e.prototype.ComputeUniqueIdentifiers=function(){var e=this.OriginalSequence.getLength(),t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e),this.m_modifiedIds=new Array(t);var n,o={},r=1;for(n=0;e>n;n++){var i=this.OriginalSequence.getElementHash(n);o.hasOwnProperty(i)?this.m_originalIds[n]=o[i]:(this.m_originalIds[n]=r++,o[i]=this.m_originalIds[n])}for(n=0;t>n;n++){var s=this.ModifiedSequence.getElementHash(n);o.hasOwnProperty(s)?this.m_modifiedIds[n]=o[s]:(this.m_modifiedIds[n]=r++,o[s]=this.m_modifiedIds[n])}},e.prototype.ElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]},e.prototype.ComputeDiff=function(){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1)},e.prototype._ComputeDiff=function(e,t,n,o){var r=[!1];return this.ComputeDiffRecursive(e,t,n,o,r)},e.prototype.ComputeDiffRecursive=function(e,t,r,i,s){for(s[0]=!1;t>=e&&i>=r&&this.ElementsAreEqual(e,r);)e++,r++;for(;t>=e&&i>=r&&this.ElementsAreEqual(t,i);)t--,i--;if(e>t||r>i){var a;return i>=r?(o.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a=[new n.DiffChange(e,0,r,i-r+1)]):t>=e?(o.Assert(r===i+1,"modifiedStart should only be one more than modifiedEnd"),a=[new n.DiffChange(e,t-e+1,r,0)]):(o.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o.Assert(r===i+1,"modifiedStart should only be one more than modifiedEnd"),a=[]),a}var u=[0],c=[0],l=this.ComputeRecursionPoint(e,t,r,i,u,c,s),d=u[0],h=c[0];if(null!==l)return l;if(!s[0]){var p=this.ComputeDiffRecursive(e,d,r,h,s),f=[];return f=s[0]?[new n.DiffChange(d+1,t-(d+1)+1,h+1,i-(h+1)+1)]:this.ComputeDiffRecursive(d+1,t,h+1,i,s),this.ConcatenateChanges(p,f)}return[new n.DiffChange(e,t-e+1,r,i-r+1)]},e.prototype.WALKTRACE=function(e,t,o,r,i,a,u,c,l,d,h,p,f,m,g,v,_,y){var b,C=null,S=null,w=new s,E=t,T=o,x=f[0]-v[0]-r,M=Number.MIN_VALUE,L=this.m_forwardHistory.length-1;do b=x+e,b===E||T>b&&l[b-1]<l[b+1]?(h=l[b+1],m=h-x-r,M>h&&w.MarkNextChange(),M=h,w.AddModifiedElement(h+1,m),x=b+1-e):(h=l[b-1]+1,m=h-x-r,M>h&&w.MarkNextChange(),M=h-1,w.AddOriginalElement(h,m+1),x=b-1-e),L>=0&&(l=this.m_forwardHistory[L],e=l[0],E=1,T=l.length-1);while(--L>=-1);if(C=w.getReverseChanges(),y[0]){var k=f[0]+1,I=v[0]+1;if(null!==C&&C.length>0){var N=C[C.length-1];k=Math.max(k,N.getOriginalEnd()),I=Math.max(I,N.getModifiedEnd())}S=[new n.DiffChange(k,p-k+1,I,g-I+1)]}else{w=new s,E=a,T=u,x=f[0]-v[0]-c,M=Number.MAX_VALUE,L=_?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do b=x+i,b===E||T>b&&d[b-1]>=d[b+1]?(h=d[b+1]-1,m=h-x-c,h>M&&w.MarkNextChange(),M=h+1,w.AddOriginalElement(h+1,m+1),x=b+1-i):(h=d[b-1],m=h-x-c,h>M&&w.MarkNextChange(),M=h,w.AddModifiedElement(h+1,m+1),x=b-1-i),L>=0&&(d=this.m_reverseHistory[L],i=d[0],E=1,T=d.length-1);while(--L>=-1);S=w.getChanges()}return this.ConcatenateChanges(C,S)},e.prototype.ComputeRecursionPoint=function(e,t,o,s,a,u,c){var l,d,h,p=0,f=0,m=0,g=0;e--,o--,a[0]=0,u[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var v=t-e+(s-o),_=v+1,y=new Array(_),b=new Array(_),C=s-o,S=t-e,w=e-o,E=t-s,T=S-C,x=T%2===0;y[C]=e,b[S]=t,c[0]=!1;var M,L;for(h=1;v/2+1>=h;h++){var k=0,I=0;for(p=this.ClipDiagonalBound(C-h,h,C,_),f=this.ClipDiagonalBound(C+h,h,C,_),M=p;f>=M;M+=2){for(l=M===p||f>M&&y[M-1]<y[M+1]?y[M+1]:y[M-1]+1,d=l-(M-C)-w,L=l;t>l&&s>d&&this.ElementsAreEqual(l+1,d+1);)l++,d++;if(y[M]=l,l+d>k+I&&(k=l,I=d),!x&&Math.abs(M-S)<=h-1&&l>=b[M])return a[0]=l,u[0]=d,L<=b[M]&&i>0&&i+1>=h?this.WALKTRACE(C,p,f,w,S,m,g,E,y,b,l,t,a,d,s,u,x,c):null}var N=(k-e+(I-o)-h)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(k,this.OriginalSequence,N))return c[0]=!0,a[0]=k,u[0]=I,N>0&&i>0&&i+1>=h?this.WALKTRACE(C,p,f,w,S,m,g,E,y,b,l,t,a,d,s,u,x,c):(e++,o++,[new n.DiffChange(e,t-e+1,o,s-o+1)]);for(m=this.ClipDiagonalBound(S-h,h,S,_),g=this.ClipDiagonalBound(S+h,h,S,_),M=m;g>=M;M+=2){for(l=M===m||g>M&&b[M-1]>=b[M+1]?b[M+1]-1:b[M-1],d=l-(M-S)-E,L=l;l>e&&d>o&&this.ElementsAreEqual(l,d);)l--,d--;if(b[M]=l,x&&Math.abs(M-C)<=h&&l<=y[M])return a[0]=l,u[0]=d,L>=y[M]&&i>0&&i+1>=h?this.WALKTRACE(C,p,f,w,S,m,g,E,y,b,l,t,a,d,s,u,x,c):null}if(i>=h){var R=new Array(f-p+2);R[0]=C-p+1,r.Copy(y,p,R,1,f-p+1),this.m_forwardHistory.push(R),R=new Array(g-m+2),R[0]=S-m+1,r.Copy(b,m,R,1,g-m+1),this.m_reverseHistory.push(R)}}return this.WALKTRACE(C,p,f,w,S,m,g,E,y,b,l,t,a,d,s,u,x,c)},e.prototype.ConcatenateChanges=function(e,t){var n=[],o=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(o=new Array(e.length+t.length-1),r.Copy(e,0,o,0,e.length-1),o[e.length-1]=n[0],r.Copy(t,1,o,e.length,t.length-1),o):(o=new Array(e.length+t.length),r.Copy(e,0,o,0,e.length),r.Copy(t,0,o,e.length,t.length),o)},e.prototype.ChangesOverlap=function(e,t,r){if(o.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),o.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var i=e.originalStart,s=e.originalLength,a=e.modifiedStart,u=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(u=t.modifiedStart+t.modifiedLength-e.modifiedStart),r[0]=new n.DiffChange(i,s,a,u),!0}return r[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,o){if(e>=0&&o>e)return e;var r=n,i=o-n-1,s=t%2===0;if(0>e){var a=r%2===0;return s===a?0:1}var u=i%2===0;return s===u?o-1:o-2},e}();t.LcsDiff=a}),define("vs/base/parts/tree/browser/treeDnd",["require","exports"],function(e,t){var n=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}();t.ElementsDragAndDropData=n;var o=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}();t.ExternalElementsDragAndDropData=o;var r=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){e.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,e.dataTransfer.types)),e.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,e.dataTransfer.files),this.files=this.files.filter(function(e){return e.size||e.type}))},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}();t.DesktopDragAndDropData=r}),define("vs/base/common/iterator",["require","exports"],function(e,t){var n=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.items=e,this.start=t,this.end=n,this.index=t-1}return e.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.index===this.end?null:this.items[this.index]},e}();t.ArrayIterator=n;var o=function(){function e(e,t){this.iterator=e,this.fn=t}return e.prototype.next=function(){return this.fn(this.iterator.next())},e}();t.MappedIterator=o});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/parts/tree/common/treeViewModel",["require","exports","vs/base/common/eventEmitter","vs/base/common/iterator"],function(e,t,n,o){var r=function(e){function t(){e.call(this),this.heightMap=[],this.indexes={}}return __extends(t,e),t.prototype.getTotalHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},t.prototype.onInsertItems=function(e,t){void 0===t&&(t=null);var n,o,r,i,s,a=0;if(null===t)r=0,s=0;else{if(r=this.indexes[t]+1,o=this.heightMap[r-1],!o)throw new Error("Tree error, onInsertItems: viewItem doesn't exist.");s=o.top+o.height}for(var u=this.heightMap.splice.bind(this.heightMap,r,0),c=[];n=e.next();)o=this.createViewItem(n),o.top=s+a,this.emit("viewItem:create",{item:o.model}),this.indexes[n.id]=r++,c.push(o),a+=o.height;for(u.apply(this.heightMap,c),i=r;i<this.heightMap.length;i++)o=this.heightMap[i],o.top+=a,this.indexes[o.model.id]=i;for(i=c.length-1;i>=0;i--)this.onInsertItem(c[i]);for(i=this.heightMap.length-1;i>=r;i--)this.onRefreshItem(this.heightMap[i]);return a},t.prototype.onInsertItem=function(){},t.prototype.onRemoveItems=function(e){for(var t,n,o,r=null,i=0;t=e.next();){if(o=this.indexes[t],n=this.heightMap[o],!n)throw new Error("Tree error, onRemoveItems: viewItem doesn't exist.");i-=n.height,delete this.indexes[t],this.onRemoveItem(n),null===r&&(r=o)}if(0!==i)for(this.heightMap.splice(r,o-r+1),o=r;o<this.heightMap.length;o++)n=this.heightMap[o],n.top+=i,this.indexes[n.model.id]=o,this.onRefreshItem(n)},t.prototype.onRemoveItem=function(){},t.prototype.onRefreshItemSet=function(e){var t=this,n=e.sort(function(e,n){return t.indexes[e.id]-t.indexes[n.id]});this.onRefreshItems(new o.ArrayIterator(n))},t.prototype.onRefreshItems=function(e){for(var t,n,o,r,i=null,s=0;t=e.next();){for(r=this.indexes[t.id];0!==s&&null!==i&&r>i;i++)n=this.heightMap[i],n.top+=s,this.onRefreshItem(n);n=this.heightMap[r],o=t.getHeight(),n.top+=s,s+=o-n.height,n.height=o,this.onRefreshItem(n,!0),i=r+1}if(0!==s&&null!==i)for(;i<this.heightMap.length;i++)n=this.heightMap[i],n.top+=s,this.onRefreshItem(n)},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1)},t.prototype.itemsCount=function(){return this.heightMap.length},t.prototype.itemAt=function(e){return this.heightMap[this.indexAt(e)].model.id},t.prototype.withItemsInRange=function(e,t,n){e=this.indexAt(e),t=this.indexAt(t);for(var o=e;t>=o;o++)n(this.heightMap[o].model.id)},t.prototype.indexAt=function(e){for(var t,n,o=0,r=this.heightMap.length;r>o;)if(t=Math.floor((o+r)/2),n=this.heightMap[t],e<n.top)r=t;else{if(!(e>=n.top+n.height))return t;if(o===t)break;o=t}return this.heightMap.length},t.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},t.prototype.itemAtIndex=function(e){return this.heightMap[e]},t.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null},t.prototype.createViewItem=function(){throw new Error("not implemented")},t.prototype.dispose=function(){this.heightMap=null,this.indexes=null},t}(n.EventEmitter);t.HeightMap=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/parts/tree/common/tree",["require","exports"],function(e,t){var n=function(){function e(e,t,n){this._posx=e,this._posy=t,this._target=n}return e.prototype.preventDefault=function(){},e.prototype.stopPropagation=function(){},Object.defineProperty(e.prototype,"posx",{get:function(){return this._posx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"posy",{get:function(){return this._posy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}();t.ContextMenuEvent=n;var o=function(e){function t(t){e.call(this,t.posx,t.posy,t.target),this.originalEvent=t}return __extends(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.MouseContextMenuEvent=o;var r=function(e){function t(t,n,o){e.call(this,t,n,o.target),this.originalEvent=o}return __extends(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.KeyboardContextMenuEvent=r,function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(t.DragOverEffect||(t.DragOverEffect={}));var i=t.DragOverEffect;!function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(t.DragOverBubble||(t.DragOverBubble={}));var s=t.DragOverBubble;t.DRAG_OVER_REJECT={accept:!1},t.DRAG_OVER_ACCEPT={accept:!0},t.DRAG_OVER_ACCEPT_BUBBLE_UP={accept:!0,bubble:s.BUBBLE_UP},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN={accept:!0,bubble:s.BUBBLE_DOWN},t.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY={accept:!0,bubble:s.BUBBLE_UP,effect:i.COPY},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY={accept:!0,bubble:s.BUBBLE_DOWN,effect:i.COPY}});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/parts/tree/browser/treeView",["require","exports","vs/base/common/platform","vs/base/browser/browser","vs/base/common/winjs.base","vs/base/browser/dom","vs/base/common/diff/diff","vs/base/browser/touch","vs/base/browser/mouseEvent","vs/base/browser/keyboardEvent","./treeDnd","vs/base/common/iterator","vs/base/browser/ui/scrollbar/impl/scrollableElement","vs/base/parts/tree/common/treeViewModel","vs/base/parts/tree/common/tree"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f){function m(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0}function g(e){try{e.parentElement.removeChild(e)}catch(t){}}function v(e,t){return e||t?e&&t?e.accept!==t.accept?!1:e.bubble!==t.bubble?!1:e.effect!==t.effect?!1:!0:!1:!0}var _=function(){function e(e){this.context=e,this._cache={"":[]},this.scrollingRow=null}return e.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var n=document.createElement("div");n.className="content";var o=document.createElement("div");o.appendChild(n),t={element:o,templateId:e,templateData:this.context.renderer.renderTemplate(this.context.tree,e,n)}}return t},e.prototype.release=function(e,t){var n=m(t.element);if(!n)return g(t.element),this.cache(e).push(t),void 0;if(this.scrollingRow){var o=m(this.scrollingRow.element);if(o>n)return g(t.element),this.cache(e).push(t),void 0;this.scrollingRow.element.parentElement&&(g(this.scrollingRow.element),i.removeClass(this.scrollingRow.element,"scrolling"),this.cache(this.scrollingRow.templateId).push(this.scrollingRow))}this.scrollingRow=t,i.addClass(this.scrollingRow.element,"scrolling")},e.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},e.prototype.dispose=function(){var e=this;this._cache&&(Object.keys(this._cache).forEach(function(t){e._cache[t].forEach(function(n){e.context.renderer.disposeTemplate(e.context.tree,t,n.templateData),n.element=null,n.templateData=null}),e._cache[t]=null}),this._cache=null),this.scrollingRow&&(this.context.renderer.disposeTemplate(this.context.tree,this.scrollingRow.templateId,this.scrollingRow.templateData),this.scrollingRow=null),this.context=null},e}();t.RowCache=_;var y=function(){function e(e,t){var n=this;this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(e){return n._styles[e]=!0}),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var t=this;if(void 0===e&&(e=!1),this.model&&this.element){var n=["monaco-tree-row"];n.push.apply(n,Object.keys(this._styles)),this.model.hasChildren()&&n.push("has-children"),this.element.className=n.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px";var o=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());o!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart(),delete this.unbindDragStart),o?(this.uri=o,this.draggable=!0,this.unbindDragStart=i.addListener(this.element,"dragstart",function(e){t.onDragStart(e)})):this.uri=null),e||this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}},e.prototype.insertInDOM=function(e,t){this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[C.BINDING]=this),this.element.parentElement||(null===t?e.appendChild(this.element):e.insertBefore(this.element,t),this.render())},e.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart&&(this.unbindDragStart(),this.unbindDragStart=null),this.uri=null,this.element[C.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},e.prototype.dispose=function(){this.row=null,this.model=null},e}();t.ViewItem=y;var b=function(e){function t(t,n,o){e.call(this,t,n),this.row={element:o,templateData:null,templateId:null}}return __extends(t,e),t.prototype.render=function(){if(this.model&&this.element){var e=["monaco-tree-wrapper"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.element.className=e.join(" ")}},t.prototype.insertInDOM=function(){},t.prototype.removeFromDOM=function(){},t}(y),C=function(e){function t(t,n){var r=this;e.call(this),this.lastClickTimeStamp=0,this.isRefreshing=!1,this.refreshingPreviousChildrenIds={},this.context={dataSource:t.dataSource,renderer:t.renderer,controller:t.controller,dnd:t.dnd,filter:t.filter,sorter:t.sorter,tree:t.tree,options:t.options,cache:new _(t)},this.modelListeners=[],this.viewListeners=[],this.dragAndDropListeners=[],this.model=null,this.items={},this.domNode=document.createElement("div"),this.domNode.className="monaco-tree",this.domNode.tabIndex=0,this.context.options.alwaysFocused&&i.addClass(this.domNode,"focused"),this.context.options.bare&&i.addClass(this.domNode,"bare"),this.wrapper=document.createElement("div"),this.wrapper.className="monaco-tree-wrapper",this.scrollableElement=new h.ScrollableElement(this.wrapper,{forbidTranslate3dUse:!0,scrollable:this,horizontal:"hidden",vertical:t.options.verticalScrollMode||"auto",useShadows:t.options.useShadows,saveLastScrollTimeOnClassName:"monaco-tree-row"}),o.isIE11orEarlier?(this.wrapper.style.msTouchAction="none",this.wrapper.style.msContentZooming="none"):this.wrapperGesture=new a.Gesture(this.wrapper),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-tree-rows",this.fakeRow=document.createElement("div"),this.fakeRow.className="monaco-tree-row fake",this.fakeContent=document.createElement("div"),this.fakeContent.className="content",this.fakeRow.appendChild(this.fakeContent),this.rowsContainer.appendChild(this.fakeRow);var s=i.trackFocus(this.domNode);s.addFocusListener(function(e){return r.onFocus(e)}),s.addBlurListener(function(e){return r.onBlur(e)}),this.viewListeners.push(function(){s.dispose()}),this.viewListeners.push(i.addListener(this.domNode,"keydown",function(e){return r.onKeyDown(e)})),this.viewListeners.push(i.addListener(this.domNode,"keyup",function(e){return r.onKeyUp(e)})),this.viewListeners.push(i.addListener(this.domNode,"mousedown",function(e){return r.onMouseDown(e)})),this.viewListeners.push(i.addListener(this.domNode,"mouseup",function(e){return r.onMouseUp(e)})),this.viewListeners.push(i.addListener(this.wrapper,"click",function(e){return r.onClick(e)})),this.viewListeners.push(i.addListener(this.domNode,"contextmenu",function(e){return r.onContextMenu(e)})),this.viewListeners.push(i.addListener(this.wrapper,a.EventType.Tap,function(e){return r.onTap(e)})),this.viewListeners.push(i.addListener(this.wrapper,a.EventType.Change,function(e){return r.onTouchChange(e)})),o.isIE11orEarlier&&(this.viewListeners.push(i.addListener(this.wrapper,"MSPointerDown",function(e){return r.onMsPointerDown(e)})),this.viewListeners.push(i.addListener(this.wrapper,"MSGestureTap",function(e){return r.onMsGestureTap(e)})),this.viewListeners.push(i.addThrottledListener(this.wrapper,"MSGestureChange",function(e){return r.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation(),t.preventDefault();var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}))),this.viewListeners.push(i.addListener(window,"dragover",function(e){return r.onDragOver(e)})),this.viewListeners.push(i.addListener(window,"drop",function(e){return r.onDrop(e)})),this.viewListeners.push(i.addListener(window,"dragend",function(e){return r.onDragEnd(e)})),this.viewListeners.push(i.addListener(window,"dragleave",function(e){return r.onDragOver(e)})),this.wrapper.appendChild(this.rowsContainer),this.domNode.appendChild(this.scrollableElement.getDomNode()),n.appendChild(this.domNode),this._scrollTop=0,this._viewHeight=0,this.renderTop=0,this.renderHeight=0,this.didJustPressContextMenuKey=!1,this.currentDropTarget=null,this.currentDropTargets=[],this.shouldInvalidateDropReaction=!1,this.dragAndDropScrollInterval=null,this.dragAndDropScrollTimeout=null,this.onHiddenScrollTop=null,this.onRowsChanged(),this.layout(),this.setupMSGesture()}return __extends(t,e),t.prototype.createViewItem=function(e){return new y(this.context,e)},t.prototype.getHTMLElement=function(){return this.domNode},t.prototype.focus=function(){this.domNode.focus()},t.prototype.isFocused=function(){return document.activeElement===this.domNode},t.prototype.blur=function(){this.domNode.blur()},t.prototype.onVisible=function(){this.scrollTop=this.onHiddenScrollTop,this.onHiddenScrollTop=null,this.scrollableElement.onElementDimensions(),this.scrollableElement.onElementInternalDimensions(),this.setupMSGesture()},t.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return e.msGesture.target=e.wrapper},100))},t.prototype.onHidden=function(){this.onHiddenScrollTop=this.scrollTop},t.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},t.prototype.layout=function(e){this.isTreeVisible()&&(this.viewHeight=e||i.getContentHeight(this.wrapper),this.scrollTop=this.scrollTop,this.scrollableElement.onElementDimensions(),this.scrollableElement.onElementInternalDimensions())},t.prototype.render=function(e,t){var n,o,r=e+t,i=this.scrollTop+this.viewHeight,s=e;s=Math.max(s,0);var a=r,u=0===i?0:i;for(n=this.indexAfter(a)-1,o=this.indexAt(Math.max(u,s));n>=o;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=Math.min(this.indexAt(this.renderTop),this.indexAfter(a))-1,o=this.indexAt(s);n>=o;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=this.indexAt(this.renderTop),o=Math.min(this.indexAt(s),this.indexAfter(u));o>n;n++)this.removeItemFromDOM(this.itemAtIndex(n));for(n=Math.max(this.indexAfter(a),this.indexAt(this.renderTop)),o=this.indexAfter(u);o>n;n++)this.removeItemFromDOM(this.itemAtIndex(n));var c=this.itemAtIndex(this.indexAt(s));c&&(this.rowsContainer.style.top=c.top-s+"px"),this.renderTop=s,this.renderHeight=a-s},t.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListeners.push(this.model.addBulkListener(function(e){return t.onModelEvents(e)}))},t.prototype.onModelEvents=function(e){for(var t=[],n=0,o=e.length;o>n;n++){var r=e[n],i=r.getData();switch(r.getType()){case"refreshing":this.onRefreshing();break;case"refreshed":this.onRefreshed();break;case"clearingInput":this.onClearingInput(i);break;case"setInput":this.onSetInput(i);break;case"item:childrenRefreshing":this.onItemChildrenRefreshing(i);break;case"item:childrenRefreshed":this.onItemChildrenRefreshed(i);break;case"item:refresh":t.push(i.item);break;case"item:expanding":this.onItemExpanding(i);break;case"item:expanded":this.onItemExpanded(i);break;case"item:collapsing":this.onItemCollapsing(i);break;case"item:reveal":this.onItemReveal(i);break;case"item:addTrait":this.onItemAddTrait(i);break;case"item:removeTrait":this.onItemRemoveTrait(i)}}t.length>0&&this.onItemsRefresh(t)},t.prototype.onRefreshing=function(){this.isRefreshing=!0},t.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},t.prototype.onRowsChanged=function(e){void 0===e&&(e=this.scrollTop),this.isRefreshing||(this.scrollTop=e,this.scrollableElement.onElementInternalDimensions())},t.prototype.withFakeRow=function(e){return e(this.fakeContent)},t.prototype.focusNextPage=function(e){var t=this,n=this.indexAt(this.scrollTop+this.viewHeight);n=0===n?0:n-1;var o=this.itemAtIndex(n).model.getElement(),r=this.model.getFocus();if(r!==o)this.model.setFocus(o,e);else{var i=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==i&&setTimeout(function(){t.focusNextPage(e)},0)}},t.prototype.focusPreviousPage=function(e){var t,n=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var o=this.itemAtIndex(t).model.getElement(),r=this.model.getFocus();if(r!==o)this.model.setFocus(o,e);else{var i=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==i&&setTimeout(function(){n.focusPreviousPage(e)},0)}},Object.defineProperty(t.prototype,"viewHeight",{get:function(){return this._viewHeight},set:function(e){this.render(this.scrollTop,e),this._viewHeight=e},enumerable:!0,configurable:!0}),t.prototype.getScrollHeight=function(){return this.getTotalHeight()},t.prototype.getScrollWidth=function(){return 0},t.prototype.getScrollLeft=function(){return 0},t.prototype.setScrollLeft=function(){},Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this._scrollTop},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),t.prototype.getScrollTop=function(){return this._scrollTop},t.prototype.setScrollTop=function(e){e=Math.min(e,this.getTotalHeight()-this.viewHeight),e=Math.max(e,0),this.render(e,this.viewHeight),this._scrollTop=e,this.emit("scroll",{vertical:!0,horizontal:!1})},t.prototype.addScrollListener=function(e){return this.addListener2("scroll",e)},t.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(new d.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onSetInput=function(e){this.inputItem=new b(this.context,e.item,this.wrapper),this.emit("viewItem:create",{item:this.inputItem.model})},t.prototype.onItemChildrenRefreshing=function(e){var n=e.item,o=this.items[n.id];if(o&&(o.loadingPromise=r.Promise.timeout(t.LOADING_DECORATION_DELAY).then(function(){o.loadingPromise=null,o.loading=!0})),!e.isNested){for(var i,s=[],a=n.getNavigator();i=a.next();)s.push(i.id);this.refreshingPreviousChildrenIds[n.id]=s}},t.prototype.onItemChildrenRefreshed=function(e){var t=this,n=e.item,o=this.items[n.id];if(o&&(o.loadingPromise&&(o.loadingPromise.cancel(),o.loadingPromise=null),o.loading=!1),!e.isNested){for(var r,i=this.refreshingPreviousChildrenIds[n.id],a=[],u=n.getNavigator();r=u.next();)a.push(r);var c=new s.LcsDiff({getLength:function(){return i.length},getElementHash:function(e){return i[e]}},{getLength:function(){return a.length},getElementHash:function(e){return a[e].id}},null),l=c.ComputeDiff(),h=l.some(function(e){if(e.modifiedLength>0)for(var n=e.modifiedStart,o=e.modifiedStart+e.modifiedLength;o>n;n++)if(t.items.hasOwnProperty(a[n].id))return!0;return!1});if(h)l.length&&(this.onRemoveItems(new d.ArrayIterator(i)),this.onInsertItems(new d.ArrayIterator(a)));else for(var p=0,f=l.length;f>p;p++){var m=l[p];if(m.originalLength>0&&this.onRemoveItems(new d.ArrayIterator(i,m.originalStart,m.originalStart+m.originalLength)),m.modifiedLength>0){var g=a[m.modifiedStart-1]||n;g=g.getDepth()>0?g:null,this.onInsertItems(new d.ArrayIterator(a,m.modifiedStart,m.modifiedStart+m.modifiedLength),g?g.id:null)}}l.length&&this.onRowsChanged()}},t.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter(function(e){return t.items.hasOwnProperty(e.id)})),this.onRowsChanged()},t.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},t.prototype.onItemExpanded=function(e){var t=e.item,n=this.items[t.id];if(n){n.expanded=!0;var o=this.onInsertItems(t.getNavigator(),t.id),r=this.scrollTop;n.top+n.height<=this.scrollTop&&(r+=o),this.onRowsChanged(r)}},t.prototype.onItemCollapsing=function(e){var t=e.item,n=this.items[t.id];n&&(n.expanded=!1,this.onRemoveItems(new d.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onItemReveal=function(e){var t=e.item,n=e.relativeTop,o=this.items[t.id];if(o)if(null!==n){n=0>n?0:n,n=n>1?1:n;var r=o.height-this.viewHeight;this.scrollTop=r*n+o.top}else{var i=o.top+o.height,s=this.scrollTop+this.viewHeight;o.top<this.scrollTop?this.scrollTop=o.top:i>=s&&(this.scrollTop=i-this.viewHeight)}},t.prototype.onItemAddTrait=function(e){var t=e.item,n=e.trait,o=this.items[t.id];o&&o.addClass(n),"highlighted"===n&&(i.addClass(this.domNode,n),o&&(this.highlightedItemWasDraggable=!!o.draggable,o.draggable&&(o.draggable=!1)))},t.prototype.onItemRemoveTrait=function(e){var t=e.item,n=e.trait,o=this.items[t.id];o&&o.removeClass(n),"highlighted"===n&&(i.removeClass(this.domNode,n),this.highlightedItemWasDraggable&&(o.draggable=!0),delete this.highlightedItemWasDraggable)},t.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(n){t.onDragStart(e,n)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},t.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),this.emit("viewItem:dispose",{item:this.inputItem.model}),delete this.items[e.id]},t.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},t.prototype.onClick=function(e){if(!this.lastPointerType||"mouse"===this.lastPointerType){var t=new u.StandardMouseEvent(e),n=this.getItemAround(t.target);n&&(o.isIE10orLater&&Date.now()-this.lastClickTimeStamp<300&&(t.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,n.model.getElement(),t))
}},t.prototype.onMouseDown=function(e){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new u.StandardMouseEvent(e);if(!(t.ctrlKey&&n.isNative&&n.isMacintosh)){var o=this.getItemAround(t.target);o&&this.context.controller.onMouseDown(this.context.tree,o.model.getElement(),t)}}},t.prototype.onMouseUp=function(e){if(this.context.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new u.StandardMouseEvent(e);if(!(t.ctrlKey&&n.isNative&&n.isMacintosh)){var o=this.getItemAround(t.target);o&&this.context.controller.onMouseUp(this.context.tree,o.model.getElement(),t)}}},t.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.context.controller.onTap(this.context.tree,t.model.getElement(),e)},t.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},t.prototype.onContextMenu=function(e){var t,n;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var o=new c.KeyboardEvent(e);if(n=this.model.getFocus(),!n)return;var r=this.context.dataSource.getId(this.context.tree,n),s=this.items[r],a=i.getDomNodePosition(s.element);t=new f.KeyboardContextMenuEvent(a.left+a.width,a.top,o)}else{var l=new u.StandardMouseEvent(e),d=this.getItemAround(l.target);if(!d)return;n=d.model.getElement(),t=new f.MouseContextMenuEvent(l)}this.context.controller.onContextMenu(this.context.tree,n,t)},t.prototype.onKeyDown=function(e){var t=new c.KeyboardEvent(e);this.didJustPressContextMenuKey="ContextMenu"===t.key||t.shiftKey&&"F10"===t.key,this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),t.target&&t.target.tagName&&"input"===t.target.tagName.toLowerCase()||this.context.controller.onKeyDown(this.context.tree,t)},t.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new c.KeyboardEvent(e))},t.prototype.onDragStart=function(e,n){if(!this.model.getHighlight()){var o,r=e.model.getElement(),i=this.model.getSelection();if(o=i.indexOf(r)>-1?i:[r],n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData("URL",e.uri),n.dataTransfer.setDragImage)if(1===o.length&&e.element)n.dataTransfer.setDragImage(e.element,n.offsetX||6,n.offsetY||6);else if(o.length>1){var s=document.createElement("div");s.className="monaco-tree-drag-image",s.textContent=""+o.length,document.body.appendChild(s),n.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragAndDropData=new l.ElementsDragAndDropData(o),t.currentExternalDragAndDropData=new l.ExternalElementsDragAndDropData(o),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new u.DragMouseEvent(n))}},t.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=i.getTopLeftOffset(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==e.dragAndDropMouseY){var n=e.dragAndDropMouseY-t,o=0,r=e.viewHeight-35;35>n?o=Math.max(-14,.2*(n-35)):n>r&&(o=Math.min(14,.2*(n-r))),e.scrollTop+=o}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},t.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},t.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},t.prototype.onDragOver=function(e){var n=this,o=new u.DragMouseEvent(e),i=this.getItemAround(o.target);if(!i)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.cancelDragAndDropScrollInterval(),delete this.currentDropTarget,delete this.currentDropElement,delete this.dragAndDropMouseY,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=o.posy,!this.currentDragAndDropData)if(t.currentExternalDragAndDropData)this.currentDragAndDropData=t.currentExternalDragAndDropData;else{if(!o.dataTransfer.types)return!1;this.currentDragAndDropData=new l.DesktopDragAndDropData}this.currentDragAndDropData.update(o);var s,a,c=i.model;do{if(s=c?c.getElement():this.model.getInput(),a=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,s,o),!a||a.bubble!==f.DragOverBubble.BUBBLE_UP)break;c=c&&c.parent}while(c);if(!c)return delete this.currentDropElement,!1;var d=a&&a.accept;d?(this.currentDropElement=c.getElement(),o.preventDefault(),o.dataTransfer.dropEffect=a.effect===f.DragOverEffect.COPY?"copy":"move"):delete this.currentDropElement;var h=c.id===this.inputItem.id?this.inputItem:this.items[c.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==h||!v(this.currentDropElementReaction,a))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.currentDropTarget=h,this.currentDropElementReaction=a,d)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),a.bubble===f.DragOverBubble.BUBBLE_DOWN)for(var p,m=c.getNavigator();p=m.next();)i=this.items[p.id],i&&(i.dropTarget=!0,this.currentDropTargets.push(i));this.currentDropPromise=r.Promise.timeout(500).then(function(){return n.context.tree.expand(n.currentDropElement).then(function(){n.shouldInvalidateDropReaction=!0})})}return!0},t.prototype.onDrop=function(e){if(this.currentDropElement){var t=new u.DragMouseEvent(e);t.preventDefault(),this.currentDragAndDropData.update(t),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},t.prototype.onDragEnd=function(){this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),delete this.currentDragAndDropData,t.currentExternalDragAndDropData=null,delete this.currentDropElement,delete this.currentDropTarget,delete this.dragAndDropMouseY},t.prototype.onFocus=function(){this.context.options.alwaysFocused||i.addClass(this.domNode,"focused")},t.prototype.onBlur=function(){this.context.options.alwaysFocused||i.removeClass(this.domNode,"focused")},t.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;return t===(e.MSPOINTER_TYPE_MOUSE||"mouse")?(this.lastPointerType="mouse",void 0):(t===(e.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId)),void 0)}},t.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},t.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},t.prototype.insertItemInDOM=function(e){var t=null,n=this.itemAfter(e);n&&n.element&&(t=n.element),e.insertInDOM(this.rowsContainer,t)},t.prototype.removeItemFromDOM=function(e){e.removeFromDOM()},t.prototype.shouldBeRendered=function(e){return e.top<this.renderTop+this.renderHeight&&e.top+e.height>this.renderTop},t.prototype.getItemAround=function(e){var n=this.inputItem;do{if(e[t.BINDING]&&(n=e[t.BINDING]),e===this.wrapper||e===this.domNode)return n;if(e===document.body)return null}while(e=e.parentElement)},t.prototype.releaseModel=function(){if(this.model){for(;this.modelListeners.length;)this.modelListeners.pop()();this.model=null}},t.prototype.dispose=function(){for(this.scrollableElement.destroy(),this.releaseModel(),this.modelListeners=null;this.viewListeners.length;)this.viewListeners.pop()();this.viewListeners=null,this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.wrapperGesture&&(this.wrapperGesture.dispose(),this.wrapperGesture=null),this.context.cache&&(this.context.cache.dispose(),this.context.cache=null),e.prototype.dispose.call(this)},t.BINDING="monaco-tree-row",t.LOADING_DECORATION_DELAY=800,t.currentExternalDragAndDropData=null,t}(p.HeightMap);t.TreeView=C}),define("vs/css!vs/base/parts/tree/browser/tree",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/parts/tree/browser/treeImpl",["require","exports","vs/base/parts/tree/browser/treeDefaults","vs/base/common/eventEmitter","vs/base/parts/tree/common/treeModel","./treeView","vs/css!./tree"],function(e,t,n,o,r,i){var s=function(){function e(e,t,o){if(void 0===o&&(o={}),this.tree=e,this.configuration=t,this.options=o,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer||new n.LegacyRenderer,this.controller=t.controller||new n.DefaultController,this.dnd=t.dnd||new n.DefaultDragAndDrop,this.filter=t.filter||new n.DefaultFilter,this.sorter=t.sorter||null}return e}();t.TreeContext=s;var a=function(e){function t(t,n,o){void 0===o&&(o={}),e.call(this),this.container=t,this.configuration=n,this.options=o,this.options.twistiePixels="number"==typeof this.options.twistiePixels?this.options.twistiePixels:32,this.options.indentPixels="number"==typeof this.options.indentPixels?this.options.indentPixels:12,this.options.alwaysFocused=this.options.alwaysFocused===!0?!0:!1,this.options.bare=this.options.bare===!0?!0:!1,this.options.useShadows=this.options.useShadows===!1?!1:!0,this.context=new s(this,n,o),this.model=new r.TreeModel(this.context),this.view=new i.TreeView(this.context,this.container),this.view.setModel(this.model),this.addEmitter(this.model),this.addEmitter(this.view)}return __extends(t,e),t.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},t.prototype.layout=function(e){this.view.layout(e)},t.prototype.DOMFocus=function(){this.view.focus()},t.prototype.isDOMFocused=function(){return this.view.isFocused()},t.prototype.DOMBlur=function(){this.view.blur()},t.prototype.onVisible=function(){this.view.onVisible()},t.prototype.onHidden=function(){this.view.onHidden()},t.prototype.setInput=function(e){return this.model.setInput(e)},t.prototype.getInput=function(){return this.model.getInput()},t.prototype.refresh=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),this.model.refresh(e,t)},t.prototype.refreshAll=function(e,t){return void 0===t&&(t=!0),this.model.refreshAll(e,t)},t.prototype.expand=function(e){return this.model.expand(e)},t.prototype.expandAll=function(e){return this.model.expandAll(e)},t.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.collapse(e)},t.prototype.collapseAll=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.model.collapseAll(e,t)},t.prototype.toggleExpansion=function(e){return this.model.toggleExpansion(e)},t.prototype.toggleExpansionAll=function(e){return this.model.toggleExpansionAll(e)},t.prototype.isExpanded=function(e){return this.model.isExpanded(e)},t.prototype.getExpandedElements=function(){return this.model.getExpandedElements()},t.prototype.reveal=function(e,t){return void 0===t&&(t=null),this.model.reveal(e,t)},t.prototype.setHighlight=function(e,t){this.model.setHighlight(e,t)},t.prototype.getHighlight=function(){return this.model.getHighlight()},t.prototype.isHighlighted=function(e){return this.model.isFocused(e)},t.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},t.prototype.select=function(e,t){this.model.select(e,t)},t.prototype.selectRange=function(e,t,n){this.model.selectRange(e,t,n)},t.prototype.deselectRange=function(e,t,n){this.model.deselectRange(e,t,n)},t.prototype.selectAll=function(e,t){this.model.selectAll(e,t)},t.prototype.deselect=function(e,t){this.model.deselect(e,t)},t.prototype.deselectAll=function(e,t){this.model.deselectAll(e,t)},t.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},t.prototype.toggleSelection=function(e,t){this.model.toggleSelection(e,t)},t.prototype.isSelected=function(e){return this.model.isSelected(e)},t.prototype.getSelection=function(){return this.model.getSelection()},t.prototype.clearSelection=function(e){this.model.setSelection([],e)},t.prototype.selectNext=function(e,t,n){this.model.selectNext(e,t,n)},t.prototype.selectPrevious=function(e,t,n){this.model.selectPrevious(e,t,n)},t.prototype.selectParent=function(e,t){this.model.selectParent(e,t)},t.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},t.prototype.isFocused=function(e){return this.model.isFocused(e)},t.prototype.getFocus=function(){return this.model.getFocus()},t.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},t.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},t.prototype.focusParent=function(e){this.model.focusParent(e)},t.prototype.focusFirst=function(e){this.model.focusFirst(e)},t.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},t.prototype.focusLast=function(e){this.model.focusLast(e)},t.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},t.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},t.prototype.clearFocus=function(e){this.model.setFocus(null,e)},t.prototype.addTraits=function(e,t){this.model.addTraits(e,t)},t.prototype.removeTraits=function(e,t){this.model.removeTraits(e,t)},t.prototype.toggleTrait=function(e,t){this.model.hasTrait(e,t)?this.model.removeTraits(e,[t]):this.model.addTraits(e,[t])},t.prototype.hasTrait=function(e,t){return this.model.hasTrait(e,t)},t.prototype.withFakeRow=function(e){return this.view.withFakeRow(e)},t.prototype.dispose=function(){null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),e.prototype.dispose.call(this)},t}(o.EventEmitter);t.Tree=a}),define("vs/css!vs/editor/contrib/quickFix/browser/quickFix",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/quickFix/browser/quickFixSelectionWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","vs/base/common/errors","vs/base/browser/dom","vs/base/parts/tree/browser/treeImpl","vs/base/parts/tree/browser/treeDefaults","vs/editor/browser/editorBrowser","vs/editor/common/common","vs/css!./quickFix"],function(e,t,n,o,r,i,s,a,u,c){function l(e){return e&&e.id&&e.label}function d(e,t){var n=t;return t instanceof p||!n.documentation||!e.isFocused(n)?19:35}var h=i.emmet,p=function(){function e(e,t){this.parent=e,this.message=t}return e}();t.Message=p;var f=function(){function e(e){this.child=new p(this,e)}return e}();t.MessageRoot=f;var m=function(){function e(){this.root=null}return e.prototype.isRoot=function(e){return e instanceof f?!0:e instanceof p?!1:Array.isArray(e)?(this.root=e,!0):!1},e.prototype.getId=function(e,t){if(t instanceof f)return"messageroot";if(t instanceof p)return"message"+t.message;if(Array.isArray(t))return"root";if(l(t))return t.id;throw r.illegalArgument("element")},e.prototype.getParent=function(e,t){return t instanceof f?o.TPromise.as(null):t instanceof p?o.TPromise.as(t.parent):o.TPromise.as(this.isRoot(t)?null:this.root)},e.prototype.getChildren=function(e,t){return t instanceof f?o.TPromise.as([t.child]):t instanceof p?o.TPromise.as([]):o.TPromise.as(this.isRoot(t)?t:[])},e.prototype.hasChildren=function(e,t){return this.isRoot(t)},e}(),g=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onLeftClick=function(e,t,n){return n.preventDefault(),n.stopPropagation(),t instanceof p||e.setSelection([t],{origin:"mouse"}),!0},t}(a.DefaultController),v=function(){function e(){}return e.prototype.getHeight=function(e,t){return d(e,t)},e.prototype.getTemplateId=function(e,t){return t instanceof p?"message":"default"},e.prototype.renderTemplate=function(e,t,n){if("message"===t){var o=i.append(n,h("span"));return o.style.opacity="0.7",o.style.paddingLeft="12px",{element:o}}var r={},s=i.append(n,h(".text"));r.main=i.append(s,h(".main"));var a=i.append(s,h(".docs"));return r.documentationLabel=i.append(a,h("span.docs-label")),r},e.prototype.renderElement=function(e,t,n,o){if("message"===n)return o.element.textContent=t.message,void 0;var r=t;o.main.textContent=r.label,o.documentationLabel.textContent=r.documentation||""},e.prototype.disposeTemplate=function(){},e}(),_=function(){function e(t,n,o,i){var a=this;this.allowEditorOverflow=!0,this.editor=t,this._onShown=o,this._onHidden=i,this.shouldShowEmptyList=!0,this.isActive=!1,this.isLoading=!1,this.isAuto=!1,this.modelListenersToRemove=[],this.model=null,this.telemetryData=Object.create(null),this.telemetryService=n,this.listenersToRemove=[],this.domnode=h(".editor-widget.quickfix-widget.monaco-editor-background.no-icons"),this.domnode.style.width=e.WIDTH+"px",this.tree=new s.Tree(this.domnode,{dataSource:new m,renderer:new v,controller:new g},{twistiePixels:0,alwaysFocused:!0,verticalScrollMode:"visible",useShadows:!1}),this.listenersToRemove.push(this.tree.addListener("selection",function(e){if(e.selection&&e.selection.length>0){var t=e.selection[0];!l(t)||t instanceof f||t instanceof p||(a.telemetryData.selectedIndex=a.tree.getInput().indexOf(t),a.telemetryData.wasCancelled=!1,a.submitTelemetryData(),a.model.accept(t,a.range),a.editor.focus())}}));var u=null;this.listenersToRemove.push(this.tree.addListener("focus",function(e){var t=e.focus,n=e.payload;if(t!==u){var o=[];u&&o.push(u),t&&o.push(t),u=t,a.tree.refreshAll(o).done(function(){a.updateWidgetHeight(),t&&a.tree.reveal(t,n&&n.firstSuggestion?0:null)},r.onUnexpectedError)}})),this.editor.addContentWidget(this),this.listenersToRemove.push(this.editor.addListener(c.EventType.CursorSelectionChanged,function(){a.isActive&&a.editor.layoutContentWidget(a)})),this.hide()}return e.prototype.setModel=function(t){var n=this;this.releaseModel(),this.model=t;var o,s=null;this.modelListenersToRemove.push(this.model.addListener("loading",function(t){n.isActive||(s=n.telemetryService.start("QuickFixSelectionWidgetLoadingTime"),n.isLoading=!0,n.isAuto=!!t.auto,n.isAuto||(o=setTimeout(function(){i.removeClass(n.domnode,"empty"),n.tree.setInput(e.LOADING_MESSAGE).done(null,r.onUnexpectedError),n.updateWidgetHeight(),n.show()},50)),t.retrigger||(n.telemetryData={wasAutomaticallyTriggered:t.characterTriggered}))})),this.modelListenersToRemove.push(this.model.addListener("suggest",function(e){n.isLoading=!1,"undefined"!=typeof o&&(clearTimeout(o),o=void 0);for(var t=e.fixes,a=-1,u=t[0],c=-1,l=0,d=t.length;d>l;l++){var h=t[l],p=h.score;p>c&&(c=p,u=h,a=l)}i.removeClass(n.domnode,"empty"),n.tree.setInput(t).done(null,r.onUnexpectedError),n.tree.setFocus(u,{firstSuggestion:!0}),n.updateWidgetHeight(),n.range=e.range,n.show(),n.telemetryData=n.telemetryData||{},n.telemetryData.suggestionCount=t.length,n.telemetryData.suggestedIndex=a,s&&(s.data={reason:"results"},s.stop(),s=null)})),this.modelListenersToRemove.push(this.model.addListener("empty",function(t){var a=n.isLoading;n.isLoading=!1,"undefined"!=typeof o&&(clearTimeout(o),o=void 0),t.auto?n.hide():a?n.shouldShowEmptyList?(i.removeClass(n.domnode,"empty"),n.tree.setInput(e.NO_SUGGESTIONS_MESSAGE).done(null,r.onUnexpectedError),n.updateWidgetHeight(),n.show()):n.hide():i.addClass(n.domnode,"empty"),s&&(s.data={reason:"empty"},s.stop(),s=null)})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(e){n.isLoading=!1,"undefined"!=typeof o&&(clearTimeout(o),o=void 0),e.retrigger||(n.hide(),n.telemetryData&&(n.telemetryData.selectedIndex=-1,n.telemetryData.wasCancelled=!0,n.submitTelemetryData())),s&&(s.data={reason:"cancel"},s.stop(),s=null)}))},e.prototype.selectNextPage=function(){return this.isLoading?!this.isAuto:this.isActive?(this.tree.focusNextPage(),!0):!1},e.prototype.selectNext=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusNext(1),e===this.tree.getFocus()&&this.tree.focusFirst(),!0}return!1},e.prototype.selectPreviousPage=function(){return this.isLoading?!this.isAuto:this.isActive?(this.tree.focusPreviousPage(),!0):!1},e.prototype.selectPrevious=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusPrevious(1),e===this.tree.getFocus()&&this.tree.focusLast(),!0}return!1},e.prototype.acceptSelectedSuggestion=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return e?this.tree.setSelection([e]):this.model.cancelDialog(),!0}return!1},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model=null},e.prototype.show=function(){this.isActive=!0,this.tree.layout(),this.editor.layoutContentWidget(this),this._onShown()},e.prototype.hide=function(){this._onHidden(),this.isActive=!1,this.editor.layoutContentWidget(this)},e.prototype.getPosition=function(){return this.isActive?{position:this.editor.getPosition(),preference:[u.ContentWidgetPositionPreference.BELOW,u.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.getDomNode=function(){return this.domnode},e.prototype.getId=function(){return e.ID},e.prototype.submitTelemetryData=function(){this.telemetryService.publicLog("QuickFixSelectionWidget",this.telemetryData),this.telemetryData=Object.create(null)},e.prototype.updateWidgetHeight=function(){var t,n=this.tree.getInput();if(n===e.LOADING_MESSAGE||n===e.NO_SUGGESTIONS_MESSAGE)t=19;else{var o=n;t=19*Math.min(o.length-1,11);var r=this.tree.getFocus();t+=r?d(this.tree,r):19}this.domnode.style.height=t+"px",this.tree.layout(t),this.editor.layoutContentWidget(this)},e.prototype.destroy=function(){this.releaseModel(),this.domnode=null,this.tree.dispose(),this.tree=null,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null},e.ID="editor.widget.QuickFixSelectionWidget",e.WIDTH=360,e.LOADING_MESSAGE=new f(n.localize("vs_editor_contrib_quickFix_browser_quickFixSelectionWidget",0)),e.NO_SUGGESTIONS_MESSAGE=new f(n.localize("vs_editor_contrib_quickFix_browser_quickFixSelectionWidget",1)),e}();t.QuickFixSelectionWidget=_}),define("vs/editor/contrib/quickFix/browser/lightBulpWidget",["require","exports","vs/editor/browser/editorBrowser","vs/base/browser/dom"],function(e,t,n,o){var r=function(){function e(e,t){this.allowEditorOverflow=!0,this.editor=e,this.onclick=t,this.listenersToRemove=[],this.editor.addContentWidget(this)}return e.prototype.dispose=function(){this.editor.removeContentWidget(this),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype.getId=function(){return"__lightBulpWidget"},e.prototype.getDomNode=function(){var e=this;return this.domNode||(this.domNode=document.createElement("div"),this.domNode.style.width="20px",this.domNode.style.height="20px",this.domNode.className="lightbulp-glyph",this.listenersToRemove.push(o.addListener(this.domNode,"click",function(){e.editor.focus(),e.onclick(e.position)}))),this.domNode},e.prototype.getPosition=function(){return this.visible?{position:this.position,preference:[n.ContentWidgetPositionPreference.BELOW,n.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.show=function(e){this.position=e,this.visible=!0,this.editor.layoutContentWidget(this)},e.prototype.hide=function(){this.visible=!1,this.editor.layoutContentWidget(this)},e}();return r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/quickFix/browser/quickFixModel",["require","exports","vs/base/common/winjs.base","vs/base/common/eventEmitter","vs/base/common/timer","vs/base/common/lifecycle","vs/editor/common/common","vs/base/common/arrays","vs/base/common/async","vs/base/common/errors","vs/editor/common/core/range","./lightBulpWidget"],function(e,t,n,o,r,i,s,a,u,c,l,d){var h;!function(e){e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.MANUAL_TRIGGER=1]="MANUAL_TRIGGER",e[e.AUTO_TRIGGER=2]="AUTO_TRIGGER"}(h||(h={}));var p=function(e){function t(t,n,o){var r=this;e.call(this),this.editor=t,this.markerService=n,this.onAccept=o,this.quickFixRequestPromise=null,this.lightBulpDecoration=[],this.toDispose=[],this.toLocalDispose=[],this.lightBulp=new d(t,function(e){r.onLightBulpClicked(e)}),this.enableAutoQuckFix=!1,this.autoSuggestDelay=this.editor.getConfiguration().quickSuggestionsDelay,(isNaN(this.autoSuggestDelay)||!this.autoSuggestDelay&&0!==this.autoSuggestDelay||this.autoSuggestDelay>2e3||this.autoSuggestDelay<0)&&(this.autoSuggestDelay=300),this.toDispose.push(this.editor.addListener2(s.EventType.ModelChanged,function(){return r.onModelChanged()})),this.toDispose.push(this.editor.addListener2(s.EventType.ModelModeChanged,function(){return r.onModelChanged()})),this.toDispose.push(this.editor.addListener2(s.EventType.ModelModeSupportChanged,function(e){e.quickFixSupport&&r.onModelChanged()}))}return __extends(t,e),t.prototype.onModelChanged=function(){var e=this;this.cancelDialog(),this.localDispose(),this.lastMarker=null,this.lightBulpPosition=null,this.markers=null,this.updateScheduler=null;var t=this.editor.getModel();return t&&t.getMode().quickFixSupport&&!this.editor.getConfiguration().readOnly?(this.markerService.onMarkerChanged.add(this.onMarkerChanged,this,this.toLocalDispose),this.toLocalDispose.push(this.editor.addListener2(s.EventType.CursorPositionChanged,function(){e.onCursorPositionChanged()})),void 0):(this.setDecoration(null),void 0)},t.prototype.onLightBulpClicked=function(e){this.triggerDialog(!0,e)},t.prototype.isSimilarMarker=function(e,t){return e?t&&e.owner===t.owner&&e.code===t.code:!t},t.prototype.onMarkerChanged=function(e){var t=this.editor.getModel();if(t){var n=t.getAssociatedResource();if(e.some(function(e){return n.equals(e)})){var o=this.lastMarker;this.markers=null,this.lastMarker=null;var r=this.findMarker(this.editor.getPosition(),!1);this.isSimilarMarker(r,o)?this.lastMarker=r:this.onCursorPositionChanged()}}},t.prototype.setDecoration=function(e){this.lightBulpPosition=e,this.updateDecoration()},t.prototype.updateDecoration=function(){this.lightBulpPosition&&this.state===h.NOT_ACTIVE?this.lightBulp.show(this.lightBulpPosition):this.lightBulp.hide()},t.prototype.onCursorPositionChanged=function(){var e=this;this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.cancelDialog(),this.updateScheduler||(this.updateScheduler=new u.RunOnceScheduler(function(){var t=e.lastMarker,n=e.editor.getPosition();if(t&&l.Range.containsPosition(t,n))return e.lightBulpPosition&&e.setDecoration(n),void 0;if(e.lastMarker=t=e.findMarker(n,!1),!t)return e.setDecoration(null),void 0;var o=r.start(r.Topic.EDITOR,"quickfix/lighbulp"),i=e.computeFixes(t);i.done(function(r){e.setDecoration(a.isFalsyOrEmpty(r)?null:n),e.triggerAutoSuggest(t),o.stop()},function(t){c.onUnexpectedError(t),e.setDecoration(null),o.stop()})},250),this.toLocalDispose.push(this.updateScheduler)),this.updateScheduler.schedule()},t.prototype.computeFixes=function(e){var t=this.editor.getModel();return t&&t.getMode().quickFixSupport?this.quickFixRequestPromise&&e===this.quickFixRequestPromiseRange?this.quickFixRequestPromise:(this.quickFixRequestPromise&&(this.quickFixRequestPromise.cancel(),this.quickFixRequestPromise=null),this.quickFixRequestPromiseRange=e,this.quickFixRequestPromise=t.getMode().quickFixSupport.getQuickFixes(t.getAssociatedResource(),e),this.quickFixRequestPromise):n.TPromise.as(null)},t.prototype.getMarkers=function(){if(null!==this.markers)return this.markers;var e=this.editor.getModel();if(e)return this.markers=this.markerService.read({resource:e.getAssociatedResource()}).sort(function(e,t){return e.startLineNumber-t.startLineNumber}),this.markers},t.prototype.findMarker=function(e,t){if(this.lastMarker&&l.Range.containsPosition(this.lastMarker,e))return this.lastMarker;for(var n=this.getMarkers(),o=null,r=0,i=e.lineNumber,s=a.findFirst(n,function(e){return e.startLineNumber>=i});s<n.length&&n[s].startLineNumber===i;){var u=n[s];if(u.startColumn<=e.column&&u.endColumn>=e.column)return u;if(t){var c=e.column<u.startColumn?u.startColumn-e.column:e.column-u.endColumn;(!o||r>c)&&(o=u,r=c)}s++}return o},t.prototype.cancelDialog=function(e){return void 0===e&&(e=!1),this.state!==h.NOT_ACTIVE?(this.state=h.NOT_ACTIVE,e||this.emit("cancel"),this.updateDecoration(),!0):!1},t.prototype.isAutoSuggest=function(){return this.state===h.AUTO_TRIGGER},t.prototype.triggerAutoSuggest=function(e){var t=this;this.enableAutoQuckFix&&this.state===h.NOT_ACTIVE&&(this.triggerAutoSuggestPromise=n.TPromise.timeout(this.autoSuggestDelay),this.triggerAutoSuggestPromise.then(function(){t.triggerAutoSuggestPromise=null,e===t.lastMarker&&t.triggerDialog(!0,t.editor.getPosition())}))},t.prototype.triggerDialog=function(e,t){var n=this;this.cancelDialog(!1);var o;if(e){if(o=this.findMarker(t,!0),!o)return}else o=this.findMarker(t,!0),o||(o=this.editor.getSelection()),l.Range.containsPosition(o,t)||this.editor.setPosition({lineNumber:o.startLineNumber,column:o.startColumn});var i=r.start(r.Topic.EDITOR,"quickfix/triggerdialog");this.state=e?h.AUTO_TRIGGER:h.MANUAL_TRIGGER,this.updateDecoration(),this.emit("loading",{auto:this.isAutoSuggest()}),this.computeFixes(o).done(function(e){e&&e.length>0?(e.sort(function(e,t){return t.score-e.score}),n.emit("suggest",{fixes:e,range:o,auto:n.isAutoSuggest()})):n.emit("empty",{auto:n.isAutoSuggest()}),i.stop()},function(e){c.onUnexpectedError(e),n.emit("empty",{auto:n.isAutoSuggest()}),i.stop()})},t.prototype.accept=function(e,t){return this.cancelDialog(),e?(this.onAccept(e,t),!0):!1},t.prototype.localDispose=function(){this.toLocalDispose=i.disposeAll(this.toLocalDispose),this.quickFixRequestPromise&&(this.quickFixRequestPromise.cancel(),this.quickFixRequestPromise=null)},t.prototype.dispose=function(){this.localDispose(),this.toDispose=i.disposeAll(this.toDispose),this.emit("destroy",null)},t}(o.EventEmitter);t.QuickFixModel=p});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/quickFix/browser/quickFix",["require","exports","vs/nls!vs/editor/editor.main","./quickFixSelectionWidget","./quickFixModel","vs/base/common/winjs.base","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/base/common/severity","vs/platform/keybinding/common/keybindingService","vs/platform/markers/common/markers","vs/platform/telemetry/common/telemetry","vs/platform/instantiation/common/instantiation","vs/platform/event/common/event","vs/platform/editor/common/editor","vs/platform/message/browser/message","vs/editor/contrib/rename/browser/bulkEdit"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v){var _=function(){function e(e,t,n,i,s,a,u){var c=this;
this.editor=e,this.model=new r.QuickFixModel(this.editor,t,this.onAccept.bind(this)),this.eventService=s,this.editorService=a,this.messageService=u,this.quickFixWidgetVisible=n.createKey(b,!1),this.suggestWidget=new o.QuickFixSelectionWidget(this.editor,i,function(){c.quickFixWidgetVisible.set(!0)},function(){c.quickFixWidgetVisible.reset()}),this.suggestWidget.setModel(this.model)}return e.getQuickFixController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.onAccept=function(e,t){var n=this,o=this.editor.getModel();o&&o.getMode().quickFixSupport.runQuickFixAction(this.editor.getModel().getAssociatedResource(),t,e.id).then(function(e){return e.message&&n.messageService.show(c.Info,e.message),e.edits?v.default(n.eventService,n.editorService,n.editor,e.edits):i.TPromise.as(0)})},e.prototype.run=function(){return this.model.triggerDialog(!1,this.editor.getPosition()),this.editor.focus(),i.TPromise.as(!1)},e.prototype.dispose=function(){this.suggestWidget&&(this.suggestWidget.destroy(),this.suggestWidget=null),this.model&&(this.model.dispose(),this.model=null)},e.prototype.acceptSelectedSuggestion=function(){this.suggestWidget&&this.suggestWidget.acceptSelectedSuggestion()},e.prototype.closeWidget=function(){this.model&&this.model.cancelDialog()},e.prototype.selectNextSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNext()},e.prototype.selectNextPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNextPage()},e.prototype.selectPrevSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPreviousPage()},e.ID="editor.contrib.quickFixController",e=__decorate([__param(1,d.IMarkerService),__param(2,l.IKeybindingService),__param(3,h.ITelemetryService),__param(4,f.IEventService),__param(5,m.IEditorService),__param(6,g.IMessageService)],e)}();t.QuickFixController=_;var y=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.isSupported=function(){var e=this.editor.getModel();return e&&!!e.getMode().quickFixSupport&&!this.editor.getConfiguration().readOnly},t.prototype.run=function(){return _.getQuickFixController(this.editor).run()},t.ID="editor.action.quickFix",t=__decorate([__param(2,p.INullService)],t)}(u.EditorAction);t.QuickFixAction=y;var b="quickFixWidgetVisible",C=a.CommonEditorRegistry.commandWeight(80);a.CommonEditorRegistry.registerEditorAction(new a.EditorActionDescriptor(y,y.ID,n.localize("vs_editor_contrib_quickFix_browser_quickFix",0),{context:a.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"."}})),a.CommonEditorRegistry.registerEditorCommand("acceptQuickFixSuggestion",C,{primary:{key:"Enter"},secondary:[{key:"Tab"}]},!1,b,function(e,t){var n=_.getQuickFixController(t);n.acceptSelectedSuggestion()}),a.CommonEditorRegistry.registerEditorCommand("closeQuickFixWidget",C,{primary:{key:"Escape"}},!1,b,function(e,t){var n=_.getQuickFixController(t);n.closeWidget()}),a.CommonEditorRegistry.registerEditorCommand("selectNextQuickFix",C,{primary:{key:"DownArrow"}},!1,b,function(e,t){var n=_.getQuickFixController(t);n.selectNextSuggestion()}),a.CommonEditorRegistry.registerEditorCommand("selectNextPageQuickFix",C,{primary:{key:"PageDown"}},!1,b,function(e,t){var n=_.getQuickFixController(t);n.selectNextPageSuggestion()}),a.CommonEditorRegistry.registerEditorCommand("selectPrevQuickFix",C,{primary:{key:"UpArrow"}},!1,b,function(e,t){var n=_.getQuickFixController(t);n.selectPrevSuggestion()}),a.CommonEditorRegistry.registerEditorCommand("selectPrevPageQuickFix",C,{primary:{key:"PageUp"}},!1,b,function(e,t){var n=_.getQuickFixController(t);n.selectPrevPageSuggestion()}),s.EditorBrowserRegistry.registerEditorContribution(_)}),define("vs/css!vs/base/browser/ui/filelabel/filelabel",["vs/css!vs/editor/editor.main"],{}),define("vs/base/browser/ui/filelabel/fileLabel",["require","exports","vs/base/browser/dom","vs/base/common/paths","vs/base/common/types","vs/base/common/labels","vs/css!./filelabel"],function(e,t,n,o,r,i){function s(e){if(!e)return null;if("string"==typeof e)return e;if(r.isFunction(e.getWorkspace)){var t=e.getWorkspace();return t?t.resource.fsPath:void 0}return e.fsPath}var a=function(){function e(e,t,n){this.domNode=document.createElement("span"),this.domNode.className="monaco-file-label",e.appendChild(this.domNode),n&&(this.basepath=s(n)),t&&this.setValue(t)}return e.prototype.getHTMLElement=function(){return this.domNode},e.prototype.setValue=function(e){var t=s(e);this.renderedOnce&&this.path===t||(this.path=t,this.render(),this.renderedOnce=!0)},e.prototype.render=function(){n.clearNode(this.domNode);var e=[];e.push('<span class="file-name">'),e.push(o.basename(this.path)),e.push("</span>");var t=o.dirname(this.path);if(t&&"."!==t){var r=i.getPathLabel(t,this.basepath);e.push('<span class="file-path" title="'+r+'">'),e.push(r),e.push("</span>")}this.domNode.innerHTML=e.join("")},e}();t.FileLabel=a}),define("vs/css!vs/base/browser/ui/leftRightWidget/leftRightWidget",["vs/css!vs/editor/editor.main"],{}),define("vs/base/browser/ui/leftRightWidget/leftRightWidget",["require","exports","vs/base/browser/builder","vs/css!./leftRightWidget"],function(e,t,n){var o=n.$,r=function(){function e(e,t,n){this.$el=o(".monaco-left-right-widget").appendTo(e),this.toDispose=[n(o(".right").appendTo(this.$el).getHTMLElement()),t(o("span.left").appendTo(this.$el).getHTMLElement())].filter(function(e){return!!e})}return e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.LeftRightWidget=r}),define("vs/css!vs/base/browser/ui/countBadge/countBadge",["vs/css!vs/editor/editor.main"],{}),define("vs/base/browser/ui/countBadge/countBadge",["require","exports","vs/base/browser/builder","vs/base/common/strings","vs/css!./countBadge"],function(e,t,n,o){var r=n.$,i=function(){function e(e,t,n){this.$el=r(".monaco-count-badge").appendTo(e),this.titleFormat=n||"",this.setCount(t||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.$el.text(""+this.count),this.$el.title(o.format(this.titleFormat,this.count))},e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.CountBadge=i}),define("vs/editor/common/model/modelLine",["require","exports","vs/base/common/strings","vs/editor/common/common"],function(e,t,n,o){function r(e,t,n){return 0===n?p.INSTANCE:!t||0===t.length||1===t.length&&0===t[0].startIndex&&""===t[0].type&&!t[0].bracket?f.INSTANCE:new h(e,t)}function i(e,t,n){return 0===n?p.INSTANCE:!t||0===t.length||1===t.length&&0===t[0]?f.INSTANCE:new h(e,t)}function s(e,t){return t&&0!==t.length?1===t.length&&0===t[0].startIndex?t[0].mode===e?m.INSTANCE:new g(t[0].mode):new v(t):m.INSTANCE}var a=function(){function e(e,t){this.lineNumber=e,this.text=t,this.isInvalid=!1,this._recreateLineTokens(null,null),this._recreateModeTransitions(null,null)}return e.prototype.setState=function(e){this._state=e},e.prototype.getState=function(){return this._state||null},e.prototype._setLineTokens=function(e){("undefined"!=typeof this._lineTokens||e!==p.INSTANCE&&e!==f.INSTANCE)&&(this._lineTokens=e)},e.prototype.getTokens=function(){return this._lineTokens?this._lineTokens:0===this.text.length?p.INSTANCE:f.INSTANCE},e.prototype.getModeTransitions=function(){return this._modeTransitions?this._modeTransitions:m.INSTANCE},e.prototype._recreateLineTokens=function(e,t){this._setLineTokens(r(e,t,this.text.length))},e.prototype._recreateLineTokens2=function(e,t){this._setLineTokens(i(e,t,this.text.length))},e.prototype._setModeTransitions=function(e){("undefined"!=typeof this._modeTransitions||e!==m.INSTANCE)&&(this._modeTransitions=e)},e.prototype._recreateModeTransitions=function(e,t){this._setModeTransitions(s(e,t))},e.prototype.insertText=function(e,t,n,r){var i=this.text,s=i.length+1,a=this.getTokens(),u=a.getBinaryEncodedTokens(),c=a instanceof h,l=n.text.length;t=Math.max(1,t),t=Math.min(t,s);var d,p;if(l>0){var f=i.substring(0,t-1)+n.text+i.substring(t-1,i.length);if(c){var m,g,v,_,y,b,C=o.LineTokensBinaryEncoding;for(d=0,p=u.length;p>d;d++)m=u[d],g=m/C.START_INDEX_OFFSET&C.START_INDEX_MASK,g>=t-1&&g>0&&(y=m/C.TYPE_OFFSET&C.TYPE_MASK,b=m/C.BRACKET_OFFSET&C.BRACKET_MASK,_=g+l,v=b*C.BRACKET_OFFSET+y*C.TYPE_OFFSET+_*C.START_INDEX_OFFSET,u[d]=v)}if(this._markers){var S;for(d=0,p=this._markers.length;p>d;d++)S=this._markers[d],(S.column>t||S.column===t&&(r||!S.stickToPreviousCharacter))&&(e[S.id]=!0,S.oldLineNumber=S.oldLineNumber||this.lineNumber,S.oldColumn=S.oldColumn||S.column,S.column+=l)}this.text=f,this._recreateLineTokens2(a.getBinaryEncodedTokensMap(),u)}if(n.markers&&(p=n.markers.length,p>0))for(this._markers||(this._markers=[]),d=0;p>d;d++)S=n.markers[d],e[S.id]=!0,S.oldLineNumber=S.oldLineNumber||this.lineNumber,S.oldColumn=S.oldColumn||S.column,S.line=this,S.column+=t-1,this._markers.push(S)},e.prototype.removeText=function(e,t,n,r,i){var s=n,a="",u=[],c=this.text,l=c.length+1,d=this.getTokens(),p=d.getBinaryEncodedTokens(),f=d instanceof h;t=Math.max(1,t),n=Math.max(1,n),t=Math.min(t,l),n=Math.min(n,l);var m;if(n>t&&n>1&&l>t){a=c.substring(t-1,n-1);var g=c.substring(0,t-1)+c.substring(n-1,c.length);if(f){var v,_,y,b,C,S,w,E=o.LineTokensBinaryEncoding;for(m=0;m<p.length;m++)v=p[m],_=v/E.START_INDEX_OFFSET&E.START_INDEX_MASK,b=_,_>=n-1?b=_-a.length:_>=t-1&&(b=t-1),b>=g.length?(p.splice(m,1),m--):(C=v/E.TYPE_OFFSET&E.TYPE_MASK,S=v/E.BRACKET_OFFSET&E.BRACKET_MASK,y=S*E.BRACKET_OFFSET+C*E.TYPE_OFFSET+b*E.START_INDEX_OFFSET,p[m]=y,m>0&&(w=p[m-1]/E.START_INDEX_OFFSET&E.START_INDEX_MASK,w>=b&&(p.splice(m-1,1),m--)))}this.text=g,this._recreateLineTokens2(d.getBinaryEncodedTokensMap(),p)}if(this._markers){var T;for(m=0;m<this._markers.length;m++)T=this._markers[m],T.column>s||T.column===s&&(i||!T.stickToPreviousCharacter)?(e[T.id]=!0,T.oldLineNumber=T.oldLineNumber||this.lineNumber,T.oldColumn=T.oldColumn||T.column,T.column-=a.length):(T.column>t||T.column===t&&(i||!T.stickToPreviousCharacter))&&(e[T.id]=!0,T.oldLineNumber=T.oldLineNumber||this.lineNumber,T.oldColumn=T.oldColumn||T.column,r?(T.line=null,T.column-=t-1,this._markers.splice(m,1),m--,u.push(T)):T.column=t)}return{text:a,markers:u}},e.prototype.addMarker=function(e){e.line=this,this._markers?this._markers.push(e):this._markers=[e]},e.prototype.addMarkers=function(e){var t,n;for(t=0,n=e.length;n>t;t++)e[t].line=this;this._markers=this._markers?this._markers.concat(e):e.slice(0)},e.prototype.removeMarker=function(e){var t=this._indexOfMarkerId(e.id);t>=0&&this._markers.splice(t,1),e.line=null},e.prototype.getMarkers=function(){return this._markers?this._markers.slice(0):[]},e.prototype.updateLineNumber=function(e,t){if(this._markers){var n,o,r,i=this._markers;for(n=0,o=i.length;o>n;n++)r=i[n],e[r.id]=!0,r.oldLineNumber=r.oldLineNumber||this.lineNumber}this.lineNumber=t},e.prototype.deleteLine=function(e,t,n){if(this._markers){var o,r,i,s=this._markers;for(o=0,r=s.length;r>o;o++)i=s[o],e[i.id]=!0,i.oldColumn=i.oldColumn||i.column,i.oldLineNumber=i.oldLineNumber||n,i.column=t;return s}return[]},e.prototype._indexOfMarkerId=function(e){if(this._markers){var t,n,o=this._markers;for(t=0,n=o.length;n>t;t++)if(o[t].id===e)return t}return-1},e.prototype.setTokens=function(e,t,n,o){this._recreateLineTokens(e,t),this._recreateModeTransitions(n,o)},e}();t.ModelLine=a;var u=o.LineTokensBinaryEncoding.getStartIndex,c=o.LineTokensBinaryEncoding.getType,l=o.LineTokensBinaryEncoding.getBracket,d=o.LineTokensBinaryEncoding.findIndexOfOffset,h=function(){function e(e,t){this.map=e,this._tokens="number"==typeof t[0]?t:o.LineTokensBinaryEncoding.deflateArr(e,t)}return e.prototype.getBinaryEncodedTokensMap=function(){return this.map},e.prototype.getBinaryEncodedTokens=function(){return this._tokens},e.prototype.getTokenCount=function(){return this._tokens.length},e.prototype.getTokenStartIndex=function(e){return u(this._tokens[e])},e.prototype.getTokenType=function(e){return c(this.map,this._tokens[e])},e.prototype.getTokenBracket=function(e){return l(this._tokens[e])},e.prototype.getTokenEndIndex=function(e,t){return e+1<this._tokens.length?u(this._tokens[e+1]):t},e.prototype.equals=function(e){return this===e},e.prototype.findIndexOfOffset=function(e){return d(this._tokens,e)},e}();t.LineTokens=h;var p=function(){function e(){}return e.prototype.getBinaryEncodedTokens=function(){return e.TOKENS},e.prototype.getBinaryEncodedTokensMap=function(){return null},e.prototype.getTokenCount=function(){return 0},e.prototype.getTokenStartIndex=function(){return 0},e.prototype.getTokenType=function(){return n.empty},e.prototype.getTokenBracket=function(){return 0},e.prototype.getTokenEndIndex=function(){return 0},e.prototype.equals=function(e){return e===this},e.prototype.findIndexOfOffset=function(){return 0},e.INSTANCE=new e,e.TOKENS=[],e}(),f=function(){function e(){}return e.prototype.getBinaryEncodedTokensMap=function(){return null},e.prototype.getBinaryEncodedTokens=function(){return e.TOKENS},e.prototype.getTokenCount=function(){return 1},e.prototype.getTokenStartIndex=function(){return 0},e.prototype.getTokenType=function(){return n.empty},e.prototype.getTokenBracket=function(){return 0},e.prototype.getTokenEndIndex=function(e,t){return t},e.prototype.equals=function(e){return this===e},e.prototype.findIndexOfOffset=function(){return 0},e.INSTANCE=new e,e.TOKENS=[0],e}();t.DefaultLineTokens=f;var m=function(){function e(){}return e.prototype.toArray=function(e){return[{startIndex:0,mode:e}]},e.INSTANCE=new e,e}(),g=function(){function e(e){this._mode=e}return e.prototype.toArray=function(){return[{startIndex:0,mode:this._mode}]},e}(),v=function(){function e(e){this._modeTransitions=e}return e.prototype.toArray=function(){return this._modeTransitions.slice(0)},e}()});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/model/textModel",["require","exports","vs/base/common/eventEmitter","vs/base/common/strings","vs/editor/common/core/position","vs/editor/common/core/range","vs/editor/common/model/modelLine","vs/editor/common/common","vs/base/common/platform","vs/base/common/eventSource"],function(e,t,n,o,r,i,s,a,u,c){var l=" ".charCodeAt(0),d="	".charCodeAt(0),h=999,p=u.isLinux||u.isMacintosh?"\n":"\r\n",f=function(e){function t(t,n){t.push(a.EventType.ModelContentChanged),e.call(this,t),this._constructLines(n),this._setVersionId(1),this._isDisposed=!1,this._onContentChanged=new c.EventSource,this.onContentChanged=this._onContentChanged.value}return __extends(t,e),t.prototype.getVersionId=function(){if(this._isDisposed)throw new Error("TextModel.getVersionId: Model is disposed");return this._versionId},t.prototype.getAlternativeVersionId=function(){if(this._isDisposed)throw new Error("TextModel.getAlternativeVersionId: Model is disposed");return this._alternativeVersionId},t.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},t.prototype._setVersionId=function(e){this._versionId=e,this._alternativeVersionId=this._versionId},t.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){if(this._isDisposed)throw new Error("TextModel.dispose: Model is disposed");this._isDisposed=!0,this._lines=null,this._EOL=null,this._BOM=null,e.prototype.dispose.call(this)},t.prototype._createContentChangedFlushEvent=function(){return{changeType:a.EventType.ModelContentChangedFlush,detail:null,versionId:-1,isUndoing:!1,isRedoing:!1}},t.prototype._emitContentChanged2=function(e,t,n,o,r,s,u,c){var l={range:new i.Range(e,t,n,o),rangeLength:r,text:s,versionId:this.getVersionId(),isUndoing:u,isRedoing:c};this.emit(a.EventType.ModelContentChanged2,l),this._onContentChanged.fire([l])},t.prototype._resetValue=function(e,n){this._constructLines(t.toRawText(n)),this._increaseVersionId(),e.detail=this.toRawText(),e.versionId=this._versionId},t.prototype.toRawText=function(){return{BOM:this._BOM,EOL:this._EOL,lines:this.getLinesContent(),length:this.getValueLength()}},t.prototype.setValue=function(e){if(this._isDisposed)throw new Error("TextModel.setValue: Model is disposed");if(null!==e){var t=this.getFullModelRange(),n=this.getValueLengthInRange(t),o=this.getLineCount(),r=this.getLineMaxColumn(o),i=this._createContentChangedFlushEvent();this._resetValue(i,e),this._emitModelContentChangedFlushEvent(i),this._emitContentChanged2(1,1,o,r,n,this.getValue(),!1,!1)}},t.prototype.getValue=function(e,t){if(void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModel.getValue: Model is disposed");var n=this.getFullModelRange(),o=this.getValueInRange(n,e);return t?this._BOM+o:o},t.prototype.getValueLength=function(e,t){if(void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModel.getValueLength: Model is disposed");var n=this.getFullModelRange(),o=this.getValueLengthInRange(n,e);return t?this._BOM.length+o:o},t.prototype.getEmptiedValueInRange=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=a.EndOfLinePreference.TextDefined),this._isDisposed)throw new Error("TextModel.getEmptiedValueInRange: Model is disposed");var o=this.validateRange(e);if(o.isEmpty())return"";if(o.startLineNumber===o.endLineNumber)return this._repeatCharacter(t,o.endColumn-o.startColumn);var r=this._getEndOfLine(n),i=o.startLineNumber-1,s=o.endLineNumber-1,u=[];u.push(this._repeatCharacter(t,this._lines[i].text.length-o.startColumn+1));for(var c=i+1;s>c;c++)u.push(this._repeatCharacter(t,this._lines[c].text.length));return u.push(this._repeatCharacter(t,o.endColumn-1)),u.join(r)},t.prototype._repeatCharacter=function(e,t){for(var n="",o=0;t>o;o++)n+=e;return n},t.prototype.getValueInRange=function(e,t){if(void 0===t&&(t=a.EndOfLinePreference.TextDefined),this._isDisposed)throw new Error("TextModel.getValueInRange: Model is disposed");var n=this.validateRange(e);if(n.isEmpty())return"";if(n.startLineNumber===n.endLineNumber)return this._lines[n.startLineNumber-1].text.substring(n.startColumn-1,n.endColumn-1);var o=this._getEndOfLine(t),r=n.startLineNumber-1,i=n.endLineNumber-1,s=[];s.push(this._lines[r].text.substring(n.startColumn-1));for(var u=r+1;i>u;u++)s.push(this._lines[u].text);return s.push(this._lines[i].text.substring(0,n.endColumn-1)),s.join(o)},t.prototype.getValueLengthInRange=function(e,t){if(void 0===t&&(t=a.EndOfLinePreference.TextDefined),this._isDisposed)throw new Error("TextModel.getValueInRange: Model is disposed");var n=this.validateRange(e);if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;var o=this._getEndOfLine(t).length,r=n.startLineNumber-1,i=n.endLineNumber-1,s=0;s+=this._lines[r].text.length-n.startColumn+1;for(var u=r+1;i>u;u++)s+=o+this._lines[u].text.length;return s+=o+(n.endColumn-1)},t.prototype.isDominatedByLongLines=function(e){if(this._isDisposed)throw new Error("TextModel.isDominatedByLongLines: Model is disposed");var t,n,o,r=0,i=0,s=this._lines;for(t=0,n=this._lines.length;n>t;t++)o=s[t].text.length,o>=e?i+=o:r+=o;return i>r},t.prototype._extractIndentationFactors=function(){var e,t,n,o,r,i,s,a,u,c,h,p=this._lines,f=0,m="",g=0,v=[],_=0,y=[];for(e=0,t=p.length;t>e;e++){for(s=p[e].text,a=!1,u=0,h=0,c=0,n=0,o=s.length;o>n;n++)if(r=s.charCodeAt(n),r===d)c++;else{if(r!==l){a=!0,u=n;break}h++}if(1===h&&(h=0),a&&(c>0||h>0)&&(f++,c>0&&_++,h>0&&(y[h]=(y[h]||0)+1)),a){h=0;var b=!0;for(n=0;g>n&&u>n;n++)i=m.charCodeAt(n),r=s.charCodeAt(n),b&&i!==r&&(b=!1),b||(i===l&&h++,r===l&&h++);for(;g>n;n++)i=m.charCodeAt(n),i===l&&h++;for(;u>n;n++)r=s.charCodeAt(n),r===l&&h++;1===h&&(h=0),h>0&&(v[h]=(v[h]||0)+1),g=u,m=s}}return{linesWithIndentationCount:f,linesIndentedWithTabs:_,relativeSpaceCounts:v,absoluteSpaceCounts:y}},t.prototype.guessIndentation=function(e){if(this._isDisposed)throw new Error("TextModel.guessIndentation: Model is disposed");var t,n,o=this._extractIndentationFactors(),r=o.linesWithIndentationCount,i=o.linesIndentedWithTabs,s=o.absoluteSpaceCounts,a=o.relativeSpaceCounts,u=0;for(t=1,n=s.length;n>t;t++)u+=s[t]||0;if(i>=u)return{insertSpaces:!1,tabSize:e};if(6>r&&i>0)return{insertSpaces:!1,tabSize:e};var c,l,d,h,p=[];for(c=2,n=s.length;n>c;c++)if(s[c]){for(l=0,d=0,h=c;n>h;h+=c)s[h]?l+=s[h]:d+=c/h;p[c]=l/(1+d)}var f=e,m=0,g=[2,4,6,8];for(t=0;t<g.length;t++)c=g[t],l=(p[c]||0)+(a[c]||0),l>m&&(f=c,m=l);return{insertSpaces:!0,tabSize:f}},t.prototype.getLineCount=function(){if(this._isDisposed)throw new Error("TextModel.getLineCount: Model is disposed");return this._lines.length},t.prototype.getLineContent=function(e){if(this._isDisposed)throw new Error("TextModel.getLineContent: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text},t.prototype.getLinesContent=function(){if(this._isDisposed)throw new Error("TextModel.getLineContent: Model is disposed");for(var e=[],t=0,n=this._lines.length;n>t;t++)e[t]=this._lines[t].text;return e},t.prototype.getEOL=function(){if(this._isDisposed)throw new Error("TextModel.getEOL: Model is disposed");return this._EOL},t.prototype.setEOL=function(e){var t=e===a.EndOfLineSequence.CRLF?"\r\n":"\n";if(this._EOL!==t){var n=this.getFullModelRange(),o=this.getValueLengthInRange(n),r=this.getLineCount(),i=this.getLineMaxColumn(r);this._EOL=t,this._increaseVersionId();var s=this._createContentChangedFlushEvent();s.detail=this.toRawText(),s.versionId=this._versionId,this._emitModelContentChangedFlushEvent(s),this._emitContentChanged2(1,1,r,i,o,this.getValue(),!1,!1)}},t.prototype.getLineMinColumn=function(){return 1},t.prototype.getLineMaxColumn=function(e){if(this._isDisposed)throw new Error("TextModel.getLineMaxColumn: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text.length+1},t.prototype.getLineFirstNonWhitespaceColumn=function(e){if(this._isDisposed)throw new Error("TextModel.getLineFirstNonWhitespaceColumn: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=o.firstNonWhitespaceIndex(this._lines[e-1].text);return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){if(this._isDisposed)throw new Error("TextModel.getLineLastNonWhitespaceColumn: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=o.lastNonWhitespaceIndex(this._lines[e-1].text);return-1===t?0:t+2},t.prototype.validateLineNumber=function(e){if(this._isDisposed)throw new Error("TextModel.validateLineNumber: Model is disposed");return 1>e&&(e=1),e>this._lines.length&&(e=this._lines.length),e},t.prototype.validatePosition=function(e){if(this._isDisposed)throw new Error("TextModel.validatePosition: Model is disposed");var t=e.lineNumber?e.lineNumber:1,n=e.column?e.column:1;1>t&&(t=1),t>this._lines.length&&(t=this._lines.length),1>n&&(n=1);var o=this.getLineMaxColumn(t);return n>o&&(n=o),new r.Position(t,n)},t.prototype.validateRange=function(e){if(this._isDisposed)throw new Error("TextModel.validateRange: Model is disposed");var t=this.validatePosition(new r.Position(e.startLineNumber,e.startColumn)),n=this.validatePosition(new r.Position(e.endLineNumber,e.endColumn));return new i.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.modifyPosition=function(e,t){if(this._isDisposed)throw new Error("TextModel.modifyPosition: Model is disposed");for(var n=this.validatePosition(e);t>0;){var o=this.getLineMaxColumn(n.lineNumber);if(n.column<o){var r=Math.min(t,o-n.column);t-=r,n.column+=r}if(0===t)break;if(t-=this._EOL.length,0>t)throw new Error("TextModel.modifyPosition: Breaking line terminators");if(++n.lineNumber,n.lineNumber>this._lines.length)throw new Error("TextModel.modifyPosition: Offset goes beyond the end of the model");n.column=1}for(;0>t;){if(n.column>1){var i=Math.min(-t,n.column-1);t+=i,n.column-=i}if(0===t)break;if(t+=this._EOL.length,t>0)throw new Error("TextModel.modifyPosition: Breaking line terminators");if(--n.lineNumber,n.lineNumber<1)throw new Error("TextModel.modifyPosition: Offset goes beyond the beginning of the model");n.column=this.getLineMaxColumn(n.lineNumber)}return n},t.prototype.getFullModelRange=function(){if(this._isDisposed)throw new Error("TextModel.getFullModelRange: Model is disposed");var e=this.getLineCount();return new i.Range(1,1,e,this.getLineMaxColumn(e))},t.prototype._emitModelContentChangedFlushEvent=function(e){this.emit(a.EventType.ModelContentChanged,e)},t.toRawText=function(e){for(var t=0,n=-1;-1!==(n=e.indexOf("\r",n+1));)t++;var r=e.split(/\r\n|\r|\n/),i="";o.startsWithUTF8BOM(r[0])&&(i=o.UTF8_BOM_CHARACTER,r[0]=r[0].substr(1));var s=r.length-1,a="";return a=0===s?p:t>s/2?"\r\n":"\n",{BOM:i,EOL:a,lines:r,length:e.length}},t.prototype._constructLines=function(e){var t,n,o=e.lines,r=[];for(t=0,n=o.length;n>t;t++)r.push(new s.ModelLine(t+1,o[t]));this._BOM=e.BOM,this._EOL=e.EOL,this._lines=r},t.prototype._getEndOfLine=function(e){switch(e){case a.EndOfLinePreference.LF:return"\n";case a.EndOfLinePreference.CRLF:return"\r\n";case a.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")},t.prototype._toRegExp=function(e,t,n,r){if(""===e)return null;var i=null;try{i=o.createRegExp(e,t,n,r)}catch(s){return null}try{if(o.regExpLeadsToEndlessLoop(i))return null}catch(s){return null}return i},t.prototype.findMatches=function(e,t,n,o,r){if(this._isDisposed)throw new Error("Model.findMatches: Model is disposed");var s=this._toRegExp(e,n,o,r);if(!s)return[];var a;return a=i.Range.isIRange(t)?t:this.getFullModelRange(),this._doFindMatches(a,s)},t.prototype.findNextMatch=function(e,t,n,o,r){if(this._isDisposed)throw new Error("Model.findNextMatch: Model is disposed");var i=this._toRegExp(e,n,o,r);if(!i)return null;var s,a,u=this.validatePosition(t),c=this.getLineCount(),l=u.lineNumber;if(s=this._lines[l-1].text.substring(u.column-1),a=this._findMatchInLine(i,s,l,u.column-1))return a;for(var d=1;c>d;d++){var h=(l+d-1)%c;if(s=this._lines[h].text,a=this._findMatchInLine(i,s,h+1,0))return a}return null},t.prototype._doFindMatches=function(e,t){var n,o=[],r=0;if(e.startLineNumber===e.endLineNumber)return n=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1,e.endColumn-1),r=this._findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,r,o),o;n=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1),r=this._findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,r,o);for(var i=e.startLineNumber+1;i<e.endLineNumber&&h>r;i++)r=this._findMatchesInLine(t,this._lines[i-1].text,i,0,r,o);return h>r&&(n=this._lines[e.endLineNumber-1].text.substring(0,e.endColumn-1),r=this._findMatchesInLine(t,n,e.endLineNumber,0,r,o)),o},t.prototype._findMatchInLine=function(e,t,n,o){var r=e.exec(t);return r?new i.Range(n,r.index+1+o,n,r.index+1+r[0].length+o):null},t.prototype._findMatchesInLine=function(e,t,n,o,r,s){var a;do if(a=e.exec(t),a&&(s.push(new i.Range(n,a.index+1+o,n,a.index+1+a[0].length+o)),r++,r>=h))return r;while(a);return r},t}(n.EventEmitter);t.TextModel=f}),define("vs/editor/common/model/modelEditOperation",["require","exports","vs/editor/common/core/range"],function(e,t,n){var o=function(){function e(){}return e.execute=function(t,n){var o=t.change(function(o){return e._apply(t,o,n.operations)});return{operations:o}},e._apply=function(t,n,o){o.sort(e._compareOperations);for(var r=1;r<o.length;r++)if(o[r-1].range.getStartPosition().isBeforeOrEqual(o[r].range.getEndPosition()))throw new Error("Overlapping ranges are not allowed!");var i=t.getEditableRange(),s=i.getStartPosition(),a=i.getEndPosition();for(r=0;r<o.length;r++){var u=o[r].range;if(!s.isBeforeOrEqual(u.getStartPosition())||!u.getEndPosition().isBeforeOrEqual(a))throw new Error("Editing outside of editable range not allowed!")}var c=e._applyWithMarkers(t,n,o),l=e._squashMarkers(t,c);for(l.sort(e._compareOperations),r=1;r<l.length;r++)if(l[r-1].range.getStartPosition().isBeforeOrEqual(l[r].range.getEndPosition()))throw new Error("Inverse edit operations: Overlapping ranges are not allowed!");return l},e._squashMarkers=function(e,t){var o,r,i,s,a,u,c,l,d=[];for(o=0,r=t.length;r>o;o++)l=t[o].identifier,a=t[o].text,i=t[o].selectionStartMarkerId,s=t[o].positionMarkerId,u=e._getMarker(i),c=e._getMarker(s),d.push({identifier:l,range:new n.Range(u.lineNumber,u.column,c.lineNumber,c.column),text:a}),e._removeMarker(i),e._removeMarker(s);return d},e._applyWithMarkers=function(e,t,n){var o,r,i,s,a,u,c,l,d,h,p=[];for(o=0,r=n.length;r>o;o++)h=n[o].identifier,s=n[o].range,i=n[o].text,s.isEmpty()&&!i?(d={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},l=""):(s.isEmpty()?(l="",a={lineNumber:s.startLineNumber,column:s.startColumn}):(c=t.deleteText(s),l=c.deletedText,a=c.position),i?(u=t.insertText(a,i),d={startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:u.lineNumber,endColumn:u.column}):d={startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:a.lineNumber,endColumn:a.column}),p.push({identifier:h,text:l,selectionStartMarkerId:e._addMarker(d.startLineNumber,d.startColumn,!0),positionMarkerId:e._addMarker(d.endLineNumber,d.endColumn,!1)});return p},e._compareOperations=function(e,t){return-n.Range.compareRangesUsingEnds(e.range,t.range)},e}();t.ModelEditOperation=o}),define("vs/editor/common/model/editStack",["require","exports","vs/editor/common/model/modelEditOperation","vs/base/common/errors"],function(e,t,n,o){var r=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEditOperation=function(e,t,r){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeVersionId:this.model.getAlternativeVersionId(),beforeCursorState:e,editOperations:[],afterCursorState:null,afterVersionId:-1});var i=n.ModelEditOperation.execute(this.model,{operations:t});this.currentOpenStackElement.editOperations.push(i);try{this.currentOpenStackElement.afterCursorState=r?r(i.operations):null}catch(s){o.onUnexpectedError(s),this.currentOpenStackElement.afterCursorState=null}return this.currentOpenStackElement.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement.afterCursorState},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{for(var t=e.editOperations.length-1;t>=0;t--)e.editOperations[t]=n.ModelEditOperation.execute(this.model,e.editOperations[t])}catch(o){return this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},e.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement)throw new Error("How is this possible?");var e=this.future.pop();try{for(var t=0;t<e.editOperations.length;t++)e.editOperations[t]=n.ModelEditOperation.execute(this.model,e.editOperations[t])}catch(o){return this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},e}();t.EditStack=r}),define("vs/editor/common/model/textModelWithTokensHelpers",["require","exports","vs/editor/common/modes/nullMode","vs/editor/common/core/range","vs/editor/common/common","vs/editor/common/core/arrays","vs/base/common/errors"],function(e,t,n,o,r,i,s){var a=r.LineTokensBinaryEncoding.getType,u=r.LineTokensBinaryEncoding.getBracket,c=r.LineTokensBinaryEncoding.getStartIndex,l=function(){function e(){}return e._safeGetWordDefinition=function(e){var t=null;
if(e.tokenTypeClassificationSupport)try{t=e.tokenTypeClassificationSupport.getWordDefinition()}catch(n){s.onUnexpectedError(n)}return t},e.ensureValidWordDefinition=function(e){var t=n.NullMode.DEFAULT_WORD_REGEXP;if(e&&e instanceof RegExp)if(e.global)t=e;else{var o="g";e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),t=new RegExp(e.source,o)}return t.lastIndex=0,t},e.massageWordDefinitionOf=function(t){return e.ensureValidWordDefinition(e._safeGetWordDefinition(t))},e.getWords=function(t,n){if(!t._lineIsTokenized(n))return e._getWordsInText(t.getLineContent(n),e.massageWordDefinitionOf(t.getMode()));var o=[],r=t.getLineContent(n);if(r.length>0){var i,s,a,u,c,l,d,h,p,f,m,g,v=t._getLineModeTransitions(n);for(i=0,c=0,s=v.length;s>i;i++)if(d=e.massageWordDefinitionOf(v[i].mode),c=v[i].startIndex,l=s>i+1?v[i+1].startIndex:r.length,h=r.substring(c,l),p=h.match(d))for(m=0,a=0,u=p.length;u>a;a++)g=p[a],g.length>0&&(f=h.indexOf(g,m),m=f+g.length,o.push({start:c+f,end:c+m}))}return o},e._getWordsInText=function(e,t){var n,o,r,i,s,a,u=e.match(t)||[],c=[];for(n=0;n<u.length;n++)a=u[n].trim(),a.length>0&&(o=e.indexOf(a,r),r=o+a.length,i=o,s=r,c.push({start:i,end:s}));return c},e._getWordAtColumn=function(t,n,o,r){var i=r[o].startIndex,s=o+1<r.length?r[o+1].startIndex:t.length,a=r[o].mode;return e._getWordAtText(n,e.massageWordDefinitionOf(a),t.substring(i,s),i)},e.getWordAtPosition=function(t,n){if(!t._lineIsTokenized(n.lineNumber))return e._getWordAtText(n.column,e.massageWordDefinitionOf(t.getMode()),t.getLineContent(n.lineNumber),0);var o=null,r=t.getLineContent(n.lineNumber),s=t._getLineModeTransitions(n.lineNumber),a=n.column-1,u=i.Arrays.findIndexInSegmentsArray(s,a);return o=e._getWordAtColumn(r,n.column,u,s),!o&&u>0&&s[u].startIndex===a&&(o=e._getWordAtColumn(r,n.column,u-1,s)),o},e._getWordAtText=function(e,t,n,o){var r,i,s,a,u,c,l=n.match(t);if(l)for(r=0;r<l.length;r++)if(c=l[r].trim(),c.length>0&&(i=n.indexOf(c,s),s=i+c.length,a=o+i+1,u=o+s+1,e>=a&&u>=e))return{word:c,startColumn:a,endColumn:u};return null},e}();t.WordHelper=l;var d=function(){function e(){}return e._sign=function(e){return 0>e?-1:e>0?1:0},e._findMatchingBracketUp=function(t,n,r,i,s){var l,d,h,p=s;for(l=r;l>=1;l--){var f=t.getLineTokens(l,!1),m=f.getBinaryEncodedTokens(),g=f.getBinaryEncodedTokensMap(),v=t.getLineContent(l);for(h=(l===r?i:m.length)-1;h>=0;h--)if(a(g,m[h])===n&&(p+=e._sign(u(m[h])),0===p))return d=h===m.length-1?v.length:c(m[h+1]),new o.Range(l,c(m[h])+1,l,d+1)}return null},e._findMatchingBracketDown=function(t,n,r,i,s){var l,d,h,p,f,m=1;for(l=r,d=t.getLineCount();d>=l;l++){if(s&&!t._lineIsTokenized(l))return{range:null,isAccurate:!1};var g=t.getLineTokens(l,!1),v=g.getBinaryEncodedTokens(),_=g.getBinaryEncodedTokensMap(),y=t.getLineContent(l);for(p=l===r?i+1:0,f=v.length;f>p;p++)if(a(_,v[p])===n&&(m+=e._sign(u(v[p])),0===m))return h=p===v.length-1?y.length:c(v[p+1]),{range:new o.Range(l,c(v[p])+1,l,h+1),isAccurate:!0}}return{range:null,isAccurate:!0}},e.findMatchingBracketUp=function(t,n,o){var r,i,s,a=o.column-1,u=-1,l=t.getLineTokens(o.lineNumber,!1),d=l.getBinaryEncodedTokens(),h=t.getLineContent(o.lineNumber);for(r=0,i=d.length;-1===u&&i>r;r++)s=r===i-1?h.length:c(d[r+1]),c(d[r])<=a&&s>=a&&(u=r);return e._findMatchingBracketUp(t,n,o.lineNumber,u+1,0)},e.matchBracket=function(t,n,r){if(r&&!t._lineIsTokenized(n.lineNumber))return{brackets:null,isAccurate:!1};var i,s,l=t.getLineContent(n.lineNumber),d={brackets:null,isAccurate:!0};if(l.length>0){var h,p,f,m,g,v=n.column-1,_=t.getLineTokens(n.lineNumber,!1),y=_.getBinaryEncodedTokens(),b=_.getBinaryEncodedTokensMap();for(i=0,s=y.length;null===d.brackets&&s>i;i++)if(h=y[i],f=c(h),g=a(b,h),m=u(h),p=i===s-1?l.length:c(y[i+1]),v>=f&&p>=v){if(0>m){var C=e._findMatchingBracketUp(t,g,n.lineNumber,i,-1);C&&(d.brackets=[new o.Range(n.lineNumber,f+1,n.lineNumber,p+1),C])}if(null===d.brackets&&m>0){var S=e._findMatchingBracketDown(t,g,n.lineNumber,i,r);d.isAccurate=S.isAccurate,S.range&&(d.brackets=[new o.Range(n.lineNumber,f+1,n.lineNumber,p+1),S.range])}}}return d},e}();t.BracketsHelper=d}),define("vs/editor/common/model/tokenIterator",["require","exports","vs/editor/common/common"],function(e,t,n){var o=n.LineTokensBinaryEncoding.getStartIndex,r=n.LineTokensBinaryEncoding.inflate,i=function(){function e(e,t){this._model=e,this._currentLineNumber=t.lineNumber,this._currentTokenIndex=0,this._readLineTokens(this._currentLineNumber),this._next=null,this._prev=null;for(var n=t.column-1,r=Number.MAX_VALUE,i=this._currentTokens.length-1;i>=0;i--){if(o(this._currentTokens[i])<=n&&r>=n){this._currentTokenIndex=i,this._next=this._current(),this._prev=this._current();break}r=o(this._currentTokens[i])}}return e.prototype._readLineTokens=function(e){this._currentLineTokens=this._model.getLineTokens(e,!1),this._currentTokens=this._currentLineTokens.getBinaryEncodedTokens(),this._map=this._currentLineTokens.getBinaryEncodedTokensMap()},e.prototype._advanceNext=function(){if(this._prev=this._next,this._next=null,this._currentTokenIndex+1<this._currentTokens.length)this._currentTokenIndex++,this._next=this._current();else{for(;this._currentLineNumber+1<=this._model.getLineCount();)if(this._currentLineNumber++,this._readLineTokens(this._currentLineNumber),this._currentTokens.length>0){this._currentTokenIndex=0,this._next=this._current();break}null===this._next&&(this._readLineTokens(this._currentLineNumber),this._currentTokenIndex=this._currentTokens.length,this._advancePrev(),this._next=null)}},e.prototype._advancePrev=function(){if(this._next=this._prev,this._prev=null,this._currentTokenIndex>0)this._currentTokenIndex--,this._prev=this._current();else for(;this._currentLineNumber>1;)if(this._currentLineNumber--,this._readLineTokens(this._currentLineNumber),this._currentTokens.length>0){this._currentTokenIndex=this._currentTokens.length-1,this._prev=this._current();break}},e.prototype._current=function(){return{token:r(this._map,this._currentTokens[this._currentTokenIndex]),lineNumber:this._currentLineNumber,startColumn:o(this._currentTokens[this._currentTokenIndex])+1,endColumn:this._currentTokenIndex+1<this._currentTokens.length?o(this._currentTokens[this._currentTokenIndex+1])+1:this._model.getLineContent(this._currentLineNumber).length+1}},e.prototype.hasNext=function(){return null!==this._next},e.prototype.next=function(){var e=this._next;return this._advanceNext(),e},e.prototype.hasPrev=function(){return null!==this._prev},e.prototype.prev=function(){var e=this._prev;return this._advancePrev(),e},e.prototype._invalidate=function(){var e=function(){throw new Error("iteration isn't valid anymore")};this.hasNext=e,this.next=e,this.hasPrev=e,this.prev=e},e}();t.TokenIterator=i});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/model/textModelWithTokens",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/timer","vs/editor/common/modes/nullMode","vs/editor/common/model/textModelWithTokensHelpers","vs/editor/common/model/tokenIterator","vs/editor/common/model/textModel","vs/editor/common/config/defaultConfig","vs/editor/common/common","vs/base/common/async","vs/editor/common/core/arrays","vs/base/common/errors","vs/base/common/lifecycle","vs/base/common/stopwatch","vs/base/common/winjs.base"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m){var g=function(){function e(){this._inflate=[""],this._deflate={"":0}}return e}();t.TokensInflatorMap=g;var v=function(){function e(e,t){var n=this;this._modePromise=e,this._externalModePromise=new m.TPromise(function(e,t){n._externalModePromise_c=e,n._externalModePromise_e=t},function(){}),this._model=t,this._isDisposed=!1,m.TPromise.timeout(0).then(function(){return n._modePromise}).then(function(e){if(n._isDisposed)return n._externalModePromise_c(!1),void 0;var t=n._model;n.dispose(),t.setMode(e),t._warmUpTokens(),n._externalModePromise_c(!0)}).done(null,function(e){n._externalModePromise_e(e),h.onUnexpectedError(e)})}return e.prototype.getModePromise=function(){return this._externalModePromise},e.prototype.dispose=function(){this._modePromise=null,this._model=null,this._isDisposed=!0},e}(),_=function(){function e(e,t){var n=this;this._retokenizePromise=e,this._model=t,this._isDisposed=!1,this.isFulfilled=!1,m.TPromise.timeout(0).then(function(){return n._retokenizePromise}).then(function(){n._isDisposed||(n.isFulfilled=!0,n._model.onRetokenizerFulfilled())}).done(null,h.onUnexpectedError)}return e.prototype.getRange=function(){return null},e.prototype.dispose=function(){this._retokenizePromise=null,this._model=null,this._isDisposed=!0},e}();t.FullModelRetokenizer=_;var y=function(){function e(e,t){this.modeTransitions=t.getModeTransitions().toArray(e),this._text=t.text,this._lineTokens=t.getTokens()}return e.prototype.getLineContent=function(){return this._text},e.prototype.getTokenCount=function(){return this._lineTokens.getTokenCount()},e.prototype.getTokenStartIndex=function(e){return this._lineTokens.getTokenStartIndex(e)},e.prototype.getTokenEndIndex=function(e){return this._lineTokens.getTokenEndIndex(e,this._text.length)},e.prototype.getTokenType=function(e){return this._lineTokens.getTokenType(e)},e.prototype.getTokenBracket=function(e){return this._lineTokens.getTokenBracket(e)},e.prototype.getTokenText=function(e){var t=this._lineTokens.getTokenStartIndex(e),n=this._lineTokens.getTokenEndIndex(e,this._text.length);return this._text.substring(t,n)},e.prototype.findIndexOfOffset=function(e){return this._lineTokens.findIndexOfOffset(e)},e}(),b=function(e){function t(n,o,i,s){var a=this;if(n.push(c.EventType.ModelTokensChanged),n.push(c.EventType.ModelModeChanged),n.push(c.EventType.ModelModeSupportChanged),e.call(this,n,o),this._shouldAutoTokenize=i,this._shouldSimplifyMode=o.length>t.MODEL_SYNC_LIMIT,this._shouldDenyMode=o.length>t.MODEL_TOKENIZATION_LIMIT,this._stopLineTokenizationAfter=u.DefaultConfig.editor.stopLineTokenizationAfter,s)if(m.TPromise.is(s)){var d=s;this._modeToModelBinder=new v(d,this),this._mode=new r.NullMode}else this._mode=this._massageMode(s),this._resetModeListener(this._mode);else this._mode=new r.NullMode;this._revalidateTokensTimeout=-1,this._scheduleRetokenizeNow=new l.RunOnceScheduler(function(){return a._retokenizeNow()},200),this._retokenizers=[],this._resetTokenizationState()}return __extends(t,e),t.prototype.dispose=function(){this._modeToModelBinder&&(this._modeToModelBinder.dispose(),this._modeToModelBinder=null),this._resetModeListener(null),this._clearTimers(),this._mode=null,this._lastState=null,this._tokensInflatorMap=null,this._retokenizers=p.disposeAll(this._retokenizers),this._scheduleRetokenizeNow.dispose(),e.prototype.dispose.call(this)},t.prototype._massageMode=function(e){return this._shouldDenyMode?new r.NullMode:this._shouldSimplifyMode?new C(e):e},t.prototype.whenModeIsReady=function(){var e=this;return this._modeToModelBinder?this._modeToModelBinder.getModePromise().then(function(){return e._mode}):m.TPromise.as(this._mode)},t.prototype.onRetokenizerFulfilled=function(){this._scheduleRetokenizeNow.schedule()},t.prototype._retokenizeNow=function(){var e=this._retokenizers.filter(function(e){return e.isFulfilled});this._retokenizers=this._retokenizers.filter(function(e){return!e.isFulfilled});for(var t=!1,n=0;n<e.length;n++)e[n].getRange()||(t=!0);if(t){for(var n=0,o=this._lines.length;o>n;n++)this._lines[n].isInvalid=!0;this._invalidLineStartIndex=0}else{for(var r=Number.MAX_VALUE,n=0;n<e.length;n++){var i=e[n].getRange();r=Math.min(r,i.startLineNumber);for(var s=i.startLineNumber;s<=i.endLineNumber;s++)this._lines[s-1].isInvalid=!0}r-1<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=r-1)}this._beginBackgroundTokenization();for(var n=0;n<e.length;n++)e[n].dispose()},t.prototype._createRetokenizer=function(e){return new _(e,this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._resetTokenizationState()},t.prototype._resetMode=function(e,t){this._mode=t,this._resetModeListener(t),this._resetTokenizationState(),this.emitModelTokensChangedEvent(1,this.getLineCount())},t.prototype._resetModeListener=function(e){var t=this;this._modeListener&&(this._modeListener.dispose(),this._modeListener=null),e&&"function"==typeof e.addSupportChangedListener&&(this._modeListener=e.addSupportChangedListener(function(e){return t._onModeSupportChanged(e)}))},t.prototype._onModeSupportChanged=function(e){this._emitModelModeSupportChangedEvent(e),e.tokenizationSupport&&(this._resetTokenizationState(),this.emitModelTokensChangedEvent(1,this.getLineCount()))},t.prototype._resetTokenizationState=function(){this._retokenizers=p.disposeAll(this._retokenizers),this._scheduleRetokenizeNow.cancel(),this._clearTimers(),this._initializeTokenizationState(),this._tokenizationElapsedTime=0,this._tokenizationTotalCharacters=1},t.prototype._clearTimers=function(){-1!==this._revalidateTokensTimeout&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},t.prototype._initializeTokenizationState=function(){var e=null;if(this._mode.tokenizationSupport)try{e=this._mode.tokenizationSupport.getInitialState()}catch(n){n.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,h.onUnexpectedError(n),this._mode=new r.NullMode}e||(e=new r.NullState(this._mode,null)),this._lines[0].setState(e),this._lastState=null,this._tokensInflatorMap=new g,this._invalidLineStartIndex=0,this._beginBackgroundTokenization()},t.prototype.setStopLineTokenizationAfter=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.setStopLineTokenizationAfter: Model is disposed");this._stopLineTokenizationAfter=e},t.prototype.getLineTokens=function(e,t){if(void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModelWithTokens.getLineTokens: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return t||this._updateTokensUntilLine(e,!0),this._lines[e-1].getTokens()},t.prototype.getLineContext=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.getLineContext: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._updateTokensUntilLine(e,!0),new y(this._mode,this._lines[e-1])},t.prototype._getInternalTokens=function(e){return this._updateTokensUntilLine(e,!0),this._lines[e-1].getTokens()},t.prototype.setValue=function(t,n){if(void 0===n&&(n=null),this._isDisposed)throw new Error("TextModelWithTokens.setValue: Model is disposed");if(null!==t&&e.prototype.setValue.call(this,t),n)if(this._modeToModelBinder&&(this._modeToModelBinder.dispose(),this._modeToModelBinder=null),m.TPromise.is(n))this._modeToModelBinder=new v(n,this);else{var o=this._massageMode(n);if(this._mode!==o){var r={oldMode:this._mode,newMode:o};this._resetMode(r,o),this._emitModelModeChangedEvent(r)}}},t.prototype.getMode=function(){if(this._isDisposed)throw new Error("TextModelWithTokens.getMode: Model is disposed");return this._mode},t.prototype.setMode=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.setMode: Model is disposed");e&&this.setValue(null,e)},t.prototype.getModeAtPosition=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTokens.getModeAtPosition: Model is disposed");var n=this.validatePosition({lineNumber:e,column:t}),o=n.lineNumber,r=n.column;if(1===r)return this.getStateBeforeLine(o).getMode();if(r===this.getLineMaxColumn(o))return this.getStateAfterLine(o).getMode();var i=this._getLineModeTransitions(o),s=d.Arrays.findIndexInSegmentsArray(i,r-1);return i[s].mode},t.prototype._invalidateLine=function(e){this._lines[e].isInvalid=!0,e<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=e,this._beginBackgroundTokenization())},t.prototype._updateLineTokens=function(e,t,n,o){this._lines[e].setTokens(t,o.tokens,n,o.modeTransitions)},t.prototype._beginBackgroundTokenization=function(){var e=this;this._shouldAutoTokenize&&-1===this._revalidateTokensTimeout&&(this._revalidateTokensTimeout=setTimeout(function(){e._revalidateTokensTimeout=-1,e._revalidateTokensNow()},0))},t.prototype._warmUpTokens=function(){if(this._isDisposed)throw new Error("TextModelWithTokens._warmUpTokens: Model is disposed");for(var e=Math.min(100,this.getLineCount()),t=e,n=1;e>=n;n++){var o=this._lines[n-1].text;if(o.length>=200){t=n-1;break}}this._revalidateTokensNow(t)},t.prototype._revalidateTokensNow=function(e){void 0===e&&(e=this._invalidLineStartIndex+1e6);var t=o.start(o.Topic.EDITOR,"backgroundTokenization");e=Math.min(this._lines.length,e);for(var n,r=20,i=this._invalidLineStartIndex+1,s=0,a=0,u=0,c=this._stopLineTokenizationAfter,l=f.StopWatch.create(),d=i;e>=d;d++){if(n=l.elapsed(),n>r){e=d-1;break}if(a=this._lines[d-1].text.length,-1!==c&&a>c&&(a=c),s>0&&(u=n/s*a,n+u>r)){e=d-1;break}this._updateTokensUntilLine(d,!1),s+=a}n=l.elapsed();var h=o.start(o.Topic.EDITOR,"**speed: "+this._tokenizationTotalCharacters/this._tokenizationElapsedTime);h.stop(),e>=i&&this.emitModelTokensChangedEvent(i,e),this._invalidLineStartIndex<this._lines.length&&this._beginBackgroundTokenization(),t.stop()},t.prototype.getStateBeforeLine=function(e){return this._updateTokensUntilLine(e-1,!0),this._lines[e-1].getState()},t.prototype.getStateAfterLine=function(e){return this._updateTokensUntilLine(e,!0),e<this._lines.length?this._lines[e].getState():this._lastState},t.prototype._getLineModeTransitions=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens._getLineModeTransitions: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._updateTokensUntilLine(e,!0),this._lines[e-1].getModeTransitions().toArray(this._mode)},t.prototype._updateTokensUntilLine=function(e,n){var o=this._lines.length,i=e-1,s=this._stopLineTokenizationAfter;-1===s&&(s=1e9);for(var a=f.StopWatch.create(),u=0,c=this._invalidLineStartIndex+1,l=e,d=this._invalidLineStartIndex;i>=d;d++){var p=d+1,m=null,g=this._lines[d].text;if(this._mode.tokenizationSupport){try{m=this._mode.tokenizationSupport.tokenize(this._lines[d].text,this._lines[d].getState(),0,s),u=m?m.actualStopOffset:this._lines[d].text.length}catch(v){v.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,h.onUnexpectedError(v)}m&&m.retokenize&&this._retokenizers.push(this._createRetokenizer(m.retokenize,d+1)),m&&m.tokens&&m.tokens.length>0&&(m.actualStopOffset=Math.max(m.actualStopOffset,m.tokens[m.tokens.length-1].startIndex+1)),m&&m.actualStopOffset<g.length&&(m.tokens.push({startIndex:m.actualStopOffset,type:"",bracket:0}),m.endState=this._lines[d].getState())}if(m||(m=r.nullTokenize(this._mode,g,this._lines[d].getState())),m.modeTransitions||(m.modeTransitions=[]),0===m.modeTransitions.length&&m.modeTransitions.push({startIndex:0,mode:this._mode}),this._updateLineTokens(d,this._tokensInflatorMap,this._mode,m),this._lines[d].isInvalid&&(this._lines[d].isInvalid=!1),o>p)if(null!==this._lines[p].getState()&&m.endState.equals(this._lines[p].getState())){for(var _=d+1;o>_&&!this._lines[_].isInvalid;){if(o>_+1){if(null===this._lines[_+1].getState())break}else if(null===this._lastState)break;_++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,_),d=_-1}else this._lines[p].setState(m.endState);else this._lastState=m.endState}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,i+1),this._tokenizationElapsedTime+=a.elapsed(),this._tokenizationTotalCharacters+=u,n&&l>=c&&this.emitModelTokensChangedEvent(c,l)},t.prototype.emitModelTokensChangedEvent=function(e,t){var n={fromLineNumber:e,toLineNumber:t};this.emit(c.EventType.ModelTokensChanged,n)},t.prototype._emitModelModeChangedEvent=function(e){this.emit(c.EventType.ModelModeChanged,e)},t.prototype._emitModelModeSupportChangedEvent=function(e){this.emit(c.EventType.ModelModeSupportChanged,e)},t.prototype._lineIsTokenized=function(e){return this._invalidLineStartIndex>e-1},t.prototype._getWordDefinition=function(){return i.WordHelper.massageWordDefinitionOf(this._mode)},t.prototype.getWordAtPosition=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.getWordAtPosition: Model is disposed");return i.WordHelper.getWordAtPosition(this,this.validatePosition(e))},t.prototype.getWordUntilPosition=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.getWordUntilPosition: Model is disposed");var t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.getWords=function(e){if(this._isDisposed)throw new Error("TextModelWithTokens.getWords: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return i.WordHelper.getWords(this,this.validateLineNumber(e))},t.prototype.tokenIterator=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTokens.tokenIterator: Model is disposed");var n=new s.TokenIterator(this,this.validatePosition(e)),o=t(n);return n._invalidate(),o},t.prototype.findMatchingBracketUp=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTokens.findMatchingBracketUp: Model is disposed");return i.BracketsHelper.findMatchingBracketUp(this,e,this.validatePosition(t))},t.prototype.matchBracket=function(e,t){if(void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModelWithTokens.matchBracket: Model is disposed");return i.BracketsHelper.matchBracket(this,this.validatePosition(e),t)},t.MODE_TOKENIZATION_FAILED_MSG=n.localize("vs_editor_common_model_textModelWithTokens",0),t.MODEL_SYNC_LIMIT=5242880,t.MODEL_TOKENIZATION_LIMIT=52428800,t}(a.TextModel);t.TextModelWithTokens=b;var C=function(){function e(e){this._id="vs.editor.modes.simplifiedMode:"+e.getId(),this.tokenizationSupport=e.tokenizationSupport,this.electricCharacterSupport=e.electricCharacterSupport,this.commentsSupport=e.commentsSupport,this.characterPairSupport=e.characterPairSupport,this.tokenTypeClassificationSupport=e.tokenTypeClassificationSupport}return e.prototype.getId=function(){return this._id},e}()}),define("vs/editor/common/core/idGenerator",["require","exports"],function(e,t){var n=function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.generate=function(){return this._prefix+ ++this._lastId},e}();t.IdGenerator=n});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/model/textModelWithMarkers",["require","exports","vs/editor/common/core/position","vs/editor/common/model/textModelWithTokens","vs/editor/common/core/idGenerator"],function(e,t,n,o,r){var i=function(){function e(e,t,n){this.id=e,this.column=t,this.stickToPreviousCharacter=n,this.oldLineNumber=0,this.oldColumn=0,this.line=null}return e}(),s=0,a=function(e){function t(t,n,o){e.call(this,t,n,!0,o),this._markerIdGenerator=new r.IdGenerator(++s+";"),this._markerIdToMarker={}}return __extends(t,e),t.prototype.dispose=function(){this._markerIdToMarker=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._markerIdToMarker={}},t.prototype._addMarker=function(e,t,o){if(this._isDisposed)throw new Error("TextModelWithMarkers._addMarker: Model is disposed");var r=this.validatePosition(new n.Position(e,t)),s=new i(this._markerIdGenerator.generate(),r.column,o);return this._markerIdToMarker[s.id]=s,this._lines[r.lineNumber-1].addMarker(s),s.id},t.prototype._changeMarker=function(e,t,o){if(this._isDisposed)throw new Error("TextModelWithMarkers._changeMarker: Model is disposed");if(this._markerIdToMarker.hasOwnProperty(e)){var r=this._markerIdToMarker[e],i=this.validatePosition(new n.Position(t,o));i.lineNumber!==r.line.lineNumber&&(r.line.removeMarker(r),this._lines[i.lineNumber-1].addMarker(r)),r.column=i.column}},t.prototype._changeMarkerStickiness=function(e,t){if(this._isDisposed)throw new Error("TextModelWithMarkers._changeMarkerStickiness: Model is disposed");if(this._markerIdToMarker.hasOwnProperty(e)){var n=this._markerIdToMarker[e];n.stickToPreviousCharacter!==t&&(n.stickToPreviousCharacter=t)}},t.prototype._getMarker=function(e){if(this._isDisposed)throw new Error("TextModelWithMarkers._getMarker: Model is disposed");if(this._markerIdToMarker.hasOwnProperty(e)){var t=this._markerIdToMarker[e];return new n.Position(t.line.lineNumber,t.column)}return null},t.prototype._getLineMarkers=function(e){if(this._isDisposed)throw new Error("TextModelWithMarkers._getLineMarkers: Model is disposed");if(1>e||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].getMarkers()},t.prototype._removeMarker=function(e){if(this._isDisposed)throw new Error("TextModelWithMarkers._removeMarker: Model is disposed");if(this._markerIdToMarker.hasOwnProperty(e)){var t=this._markerIdToMarker[e];t.line.removeMarker(t),delete this._markerIdToMarker[e]}},t.prototype._getMarkersInMap=function(e){if(this._isDisposed)throw new Error("TextModelWithMarkers._getMarkersInMap: Model is disposed");var t,n=[];for(t in e)e.hasOwnProperty(t)&&this._markerIdToMarker.hasOwnProperty(t)&&n.push(this._markerIdToMarker[t]);return n},t}(o.TextModelWithTokens);t.TextModelWithMarkers=a});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/model/textModelWithTrackedRanges",["require","exports","vs/editor/common/core/range","vs/editor/common/model/textModelWithMarkers","vs/editor/common/model/textModelWithTokens","vs/editor/common/common","vs/editor/common/core/idGenerator"],function(e,t,n,o,r,i,s){var a=function(e){function t(t,n,o){e.call(this,t,o),this.trackedRangeId=o.addTrackedRange({startLineNumber:n,startColumn:1,endLineNumber:n,endColumn:o.getLineMaxColumn(n)},i.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges)}return __extends(t,e),t.prototype.getRange=function(){return this._model.getTrackedRange(this.trackedRangeId)},t.prototype.dispose=function(){var t=this._model;t.isValidTrackedRange(this.trackedRangeId)&&t.removeTrackedRange(this.trackedRangeId),e.prototype.dispose.call(this)},t}(r.FullModelRetokenizer),u=function(){function e(e,t,n){this.id=e,this.startMarkerId=t,this.endMarkerId=n}return e}(),c=0,l=function(e){function t(t,n,o){e.call(this,t,n,o),this._rangeIdGenerator=new s.IdGenerator(++c+";"),this._ranges={},this._markerIdToRangeId={},this._multiLineTrackedRanges={}}return __extends(t,e),t.prototype._createRetokenizer=function(e,t){return new a(e,t,this)},t.prototype.dispose=function(){this._ranges=null,this._markerIdToRangeId=null,this._multiLineTrackedRanges=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._ranges={},this._markerIdToRangeId={},this._multiLineTrackedRanges={}},t.prototype._setRangeIsMultiLine=function(e,t){var n=this._multiLineTrackedRanges.hasOwnProperty(e);!n&&t?this._multiLineTrackedRanges[e]=!0:n&&!t&&delete this._multiLineTrackedRanges[e]},t.prototype._shouldStartMarkerSticksToPreviousCharacter=function(e){return e===i.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges||e===i.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore?!0:!1},t.prototype._shouldEndMarkerSticksToPreviousCharacter=function(e){return e===i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges||e===i.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore?!0:!1},t.prototype.addTrackedRange=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.addTrackedRange: Model is disposed");e=this.validateRange(e);var n=this._shouldStartMarkerSticksToPreviousCharacter(t),o=this._shouldEndMarkerSticksToPreviousCharacter(t),r=this._addMarker(e.startLineNumber,e.startColumn,n),i=this._addMarker(e.endLineNumber,e.endColumn,o),s=new u(this._rangeIdGenerator.generate(),r,i);return this._ranges[s.id]=s,this._markerIdToRangeId[r]=s.id,this._markerIdToRangeId[i]=s.id,this._setRangeIsMultiLine(s.id,e.startLineNumber!==e.endLineNumber),s.id},t.prototype.changeTrackedRange=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.changeTrackedRange: Model is disposed");if(this._ranges.hasOwnProperty(e)){t=this.validateRange(t);var n=this._ranges[e];this._changeMarker(n.startMarkerId,t.startLineNumber,t.startColumn),this._changeMarker(n.endMarkerId,t.endLineNumber,t.endColumn),this._setRangeIsMultiLine(n.id,t.startLineNumber!==t.endLineNumber)}},t.prototype.changeTrackedRangeStickiness=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.changeTrackedRangeStickiness: Model is disposed");if(this._ranges.hasOwnProperty(e)){var n=this._ranges[e];this._changeMarkerStickiness(n.startMarkerId,this._shouldStartMarkerSticksToPreviousCharacter(t)),this._changeMarkerStickiness(n.endMarkerId,this._shouldEndMarkerSticksToPreviousCharacter(t))}},t.prototype.isValidTrackedRange=function(e){return this._isDisposed||!this._ranges?!1:this._ranges.hasOwnProperty(e)},t.prototype.removeTrackedRange=function(e){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.removeTrackedRange: Model is disposed");if(this._ranges.hasOwnProperty(e)){var t=this._ranges[e];this._removeMarker(t.startMarkerId),this._removeMarker(t.endMarkerId),this._setRangeIsMultiLine(t.id,!1),delete this._ranges[t.id],delete this._markerIdToRangeId[t.startMarkerId],delete this._markerIdToRangeId[t.endMarkerId]}},t.prototype._newEditorRange=function(e,t){return t.isBefore(e)?new n.Range(e.lineNumber,e.column,e.lineNumber,e.column):new n.Range(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.getTrackedRange=function(e){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.getTrackedRange: Model is disposed");var t=this._ranges[e],n=this._getMarker(t.startMarkerId),o=this._getMarker(t.endMarkerId);return this._newEditorRange(n,o)},t.prototype._getMultiLineTrackedRanges=function(e,t){var n,o,r,i,s=[];for(n in this._multiLineTrackedRanges)if(this._multiLineTrackedRanges.hasOwnProperty(n)){if(o=this._ranges[n],r=this._getMarker(o.startMarkerId),r.lineNumber>t)continue;if(i=this._getMarker(o.endMarkerId),i.lineNumber<e)continue;s.push({id:o.id,range:this._newEditorRange(r,i)})}return s},t.prototype.getLinesTrackedRanges=function(e,t){if(this._isDisposed)throw new Error("TextModelWithTrackedRanges.getLinesTrackedRanges: Model is disposed");var n,o,r,i,s,a,u,c,l=this._getMultiLineTrackedRanges(e,t),d={};for(i=0,s=l.length;s>i;i++)d[l[i].id]=!0;for(a=e;t>=a;a++)for(n=this._getLineMarkers(a),i=0,s=n.length;s>i;i++)o=n[i],this._markerIdToRangeId.hasOwnProperty(o.id)&&(r=this._markerIdToRangeId[o.id],d.hasOwnProperty(r)||(u=this._getMarker(this._ranges[r].startMarkerId),c=this._getMarker(this._ranges[r].endMarkerId),l.push({id:r,range:this._newEditorRange(u,c)}),d[r]=!0));return l},t.prototype._onChangedMarkers=function(e){var t,n,o,r,i,s,a={};for(i=0,s=e.length;s>i;i++)r=e[i],this._markerIdToRangeId.hasOwnProperty(r.id)&&(o=this._markerIdToRangeId[r.id],n=this._ranges[o],a.hasOwnProperty(n.id)?t=a[n.id]:(t={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},a[n.id]=t),r.id===n.startMarkerId?(t.startLineNumber=r.oldLineNumber,t.startColumn=r.oldColumn):(t.endLineNumber=r.oldLineNumber,t.endColumn=r.oldColumn),this._setRangeIsMultiLine(n.id,this._getMarker(n.startMarkerId).lineNumber!==this._getMarker(n.endMarkerId).lineNumber));return a},t}(o.TextModelWithMarkers);t.TextModelWithTrackedRanges=l});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n
};define("vs/editor/common/model/textModelWithDecorations",["require","exports","vs/base/common/strings","vs/editor/common/model/textModelWithTrackedRanges","vs/editor/common/common","vs/base/common/errors","vs/editor/common/core/idGenerator"],function(e,t,n,o,r,i,s){function a(e){return e.replace(/[^a-z0-9\-]/gi," ")}function u(e){return new g(e)}function c(e,t){return void 0===t&&(t=null),new v(e,t)}function l(e,t){var n=[t.stickiness,e.startLineNumber.toString(),e.startColumn.toString(),e.endLineNumber.toString(),e.endColumn.toString(),t.className,t.hoverMessage,t.htmlMessage.reduce(function(e,t){return e+d(t)},""),t.isWholeLine+"",t.overviewRuler.color,t.overviewRuler.position,t.glyphMarginClassName,t.linesDecorationsClassName,t.inlineClassName];return n.join("-")}function d(e){var t=[e.tagName,e.text,e.className];return e.children&&e.children.forEach(function(e,n){t.push("child"+n+"-"+d(e))}),t.join("-")}var h=function(){function e(){this.changedMarkers={},this.oldDecorationRange={},this.oldDecorationOptions={},this.newOrChangedDecorations={},this.removedDecorations={}}return e.prototype.addNewDecoration=function(e){this.newOrChangedDecorations[e]=!0},e.prototype.addRemovedDecoration=function(e,t,n,o){this.newOrChangedDecorations.hasOwnProperty(e)&&delete this.newOrChangedDecorations[e],this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=n),this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=o),this.removedDecorations[e]=!0},e.prototype.addMovedDecoration=function(e,t){this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=t),this.newOrChangedDecorations[e]=!0},e.prototype.addUpdatedDecoration=function(e,t){this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=t),this.newOrChangedDecorations[e]=!0},e}();t.DeferredEventsBuilder=h;var p=0,f=function(e){function t(t,n,o){t.push(r.EventType.ModelDecorationsChanged),e.call(this,t,n,o),this._decorationIdGenerator=new s.IdGenerator(++p+";"),this.decorations={},this.rangeIdToDecorationId={},this._currentDeferredEvents=null}return __extends(t,e),t.prototype.dispose=function(){this.decorations=null,this.rangeIdToDecorationId=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this.decorations={},this.rangeIdToDecorationId={}},t.prototype.changeDecorations=function(e,t){var n=this;if(void 0===t&&(t=0),this._isDisposed)throw new Error("TextModelWithDecorations.changeDecorations: Model is disposed");return this._withDeferredEvents(function(o){var r={addDecoration:function(e,r){return n._addDecorationImpl(o,t,e,r)},changeDecoration:function(e,t){n._changeDecorationImpl(o,e,t)},changeDecorationOptions:function(e,t){n._changeDecorationOptionsImpl(o,e,t)},removeDecoration:function(e){n._removeDecorationImpl(o,e)},deltaDecorations:function(e,r){return n._deltaDecorationsImpl(o,t,e,r)}},s=null;try{s=e(r)}catch(a){i.onUnexpectedError(a)}return r.addDecoration=null,r.changeDecoration=null,r.removeDecoration=null,r.deltaDecorations=null,s})},t.prototype.deltaDecorations=function(e,t,n){if(void 0===n&&(n=0),this._isDisposed)throw new Error("TextModelWithDecorations.deltaDecorations: Model is disposed");return e||(e=[]),this.changeDecorations(function(n){return n.deltaDecorations(e,t)},n)},t.prototype.removeAllDecorationsWithOwnerId=function(e){if(this._isDisposed)throw new Error("TextModelWithDecorations.removeAllDecorationsWithOwnerId: Model is disposed");var t,n,o=[];for(t in this.decorations)this.decorations.hasOwnProperty(t)&&(n=this.decorations[t],n.ownerId===e&&o.push(n.id));for(var r=0;r<o.length;r++)this._removeDecorationImpl(null,o[r])},t.prototype.getDecorationOptions=function(e){if(this._isDisposed)throw new Error("TextModelWithDecorations.getDecorationOptions: Model is disposed");return this.decorations.hasOwnProperty(e)?this.decorations[e].options:null},t.prototype.getDecorationRange=function(e){if(this._isDisposed)throw new Error("TextModelWithDecorations.getDecorationRange: Model is disposed");if(this.decorations.hasOwnProperty(e)){var t=this.decorations[e];return this.getTrackedRange(t.rangeId)}return null},t.prototype.getLineDecorations=function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=!1),this._isDisposed)throw new Error("TextModelWithDecorations.getLineDecorations: Model is disposed");return 1>e||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)},t.prototype._getDecorationsInRange=function(e,t,n,o,i,s){var a,u,c,l,d=[],h=this.getLinesTrackedRanges(e,n);for(u=0,l=h.length;l>u;u++)if(c=h[u],this.rangeIdToDecorationId.hasOwnProperty(c.id)){if(a=this.decorations[this.rangeIdToDecorationId[c.id]],i&&a.ownerId&&a.ownerId!==i)continue;if(s&&(a.options.className===r.ClassName.EditorErrorDecoration||a.options.className===r.ClassName.EditorWarningDecoration))continue;if(c.range.startLineNumber===e&&c.range.endColumn<t)continue;if(c.range.endLineNumber===n&&c.range.startColumn>o)continue;d.push({id:a.id,ownerId:a.ownerId,range:c.range,options:a.options})}return d},t.prototype.getLinesDecorations=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=!1),this._isDisposed)throw new Error("TextModelWithDecorations.getLinesDecorations: Model is disposed");var r=this.getLineCount();return e=Math.min(r,Math.max(1,e)),t=Math.min(r,Math.max(1,t)),this._getDecorationsInRange(e,1,t,Number.MAX_VALUE,n,o)},t.prototype.getDecorationsInRange=function(e,t,n){if(this._isDisposed)throw new Error("TextModelWithDecorations.getDecorationsInRange: Model is disposed");var o=this.validateRange(e);return this._getDecorationsInRange(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn,t,n)},t.prototype.getAllDecorations=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=!1),this._isDisposed)throw new Error("TextModelWithDecorations.getAllDecorations: Model is disposed");var n,o,i=[];for(n in this.decorations)if(this.decorations.hasOwnProperty(n)){if(o=this.decorations[n],e&&o.ownerId&&o.ownerId!==e)continue;if(t&&(o.options.className===r.ClassName.EditorErrorDecoration||o.options.className===r.ClassName.EditorWarningDecoration))continue;i.push({id:o.id,ownerId:o.ownerId,range:this.getTrackedRange(o.rangeId),options:o.options})}return i},t.prototype._withDeferredEvents=function(e){var t=this;return this.deferredEmit(function(){var n=t._currentDeferredEvents?!1:!0;n&&(t._currentDeferredEvents=new h);try{var o=e(t._currentDeferredEvents);n&&t._handleCollectedEvents(t._currentDeferredEvents)}finally{n&&(t._currentDeferredEvents=null)}return o})},t.prototype._handleCollectedEvents=function(e){var t=this._getMarkersInMap(e.changedMarkers),n=this._onChangedMarkers(t);this._onChangedRanges(e,n),this._handleCollectedDecorationsEvents(e);for(var o=0,r=t.length;r>o;o++)t[o].oldLineNumber=0,t[o].oldColumn=0},t.prototype._onChangedRanges=function(e,t){var n,o;for(n in t)t.hasOwnProperty(n)&&this.rangeIdToDecorationId.hasOwnProperty(n)&&(o=this.rangeIdToDecorationId[n],e.addMovedDecoration(o,t[n]))},t.prototype._handleCollectedDecorationsEvents=function(e){var t,n,o,i=[],s=[],a=[];for(t in e.newOrChangedDecorations)e.newOrChangedDecorations.hasOwnProperty(t)&&(a.push(t),n=this._getDecorationData(t),n.isForValidation=n.options.className===r.ClassName.EditorErrorDecoration||n.options.className===r.ClassName.EditorWarningDecoration,i.push(n),e.oldDecorationRange.hasOwnProperty(t)&&(o=e.oldDecorationRange[t],o.startLineNumber=o.startLineNumber||n.range.startLineNumber,o.startColumn=o.startColumn||n.range.startColumn,o.endLineNumber=o.endLineNumber||n.range.endLineNumber,o.endColumn=o.endColumn||n.range.endColumn));for(t in e.removedDecorations)e.removedDecorations.hasOwnProperty(t)&&(a.push(t),s.push(t));if(a.length>0){var u={ids:a,addedOrChangedDecorations:i,removedDecorations:s,oldOptions:e.oldDecorationOptions,oldRanges:e.oldDecorationRange};this.emitModelDecorationsChangedEvent(u)}},t.prototype._getDecorationData=function(e){var t=this.decorations[e];return{id:t.id,ownerId:t.ownerId,range:this.getTrackedRange(t.rangeId),isForValidation:!1,options:t.options}},t.prototype.emitModelDecorationsChangedEvent=function(e){this.emit(r.EventType.ModelDecorationsChanged,e)},t.prototype._addDecorationImpl=function(e,t,n,o){o=u(o);var r=this.addTrackedRange(n,o.stickiness),i=new m(this._decorationIdGenerator.generate(),t,r,o);return this.decorations[i.id]=i,this.rangeIdToDecorationId[r]=i.id,e.addNewDecoration(i.id),i.id},t.prototype._changeDecorationImpl=function(e,t,n){if(this.decorations.hasOwnProperty(t)){var o=this.decorations[t],r=this.getTrackedRange(o.rangeId);this.changeTrackedRange(o.rangeId,n),e.addMovedDecoration(t,r)}},t.prototype._changeDecorationOptionsImpl=function(e,t,n){if(n=u(n),this.decorations.hasOwnProperty(t)){var o=this.decorations[t],r=o.options;r.stickiness!==n.stickiness&&this.changeTrackedRangeStickiness(o.rangeId,n.stickiness),o.options=n,e.addUpdatedDecoration(t,r)}},t.prototype._removeDecorationImpl=function(e,t){if(this.decorations.hasOwnProperty(t)){var n=this.decorations[t],o=null;e&&(o=this.getTrackedRange(n.rangeId)),this.removeTrackedRange(n.rangeId),delete this.rangeIdToDecorationId[n.rangeId],delete this.decorations[t],e&&e.addRemovedDecoration(t,n.ownerId,o,n.options)}},t.prototype._deltaDecorationsImpl=function(e,t,n,o){var r,i,s=[],a=[];for(r=0,i=o.length;i>r;r++)s[r]=u(o[r].options),a[r]=this.validateRange(o[r].range);return this._deltaImpl(e,t,n,i,a,s)},t.prototype._deltaImpl=function(e,t,n,o,r,i){var s,a,u,c,d={};for(s=0,a=n.length;a>s;s++)this.decorations.hasOwnProperty(n[s])&&(c=this.decorations[n[s]],u=l(this.getTrackedRange(c.rangeId),c.options),d[u]=d[u]||[],d[u].push(n[s]));var h,p,f,m,g=[],v={};for(s=0;o>s;s++){if(u=l(r[s],i[s]),m=!1,d.hasOwnProperty(u))for(f=d[u],h=0,p=f.length;p>h;h++)if(!v.hasOwnProperty(f[h])){m=!0,v[f[h]]=!0,g.push(f[h]);break}m||g.push(this._addDecorationImpl(e,t,r[s],i[s]))}for(s=0,a=n.length;a>s;s++)v.hasOwnProperty(n[s])||this._removeDecorationImpl(e,n[s]);return g},t}(o.TextModelWithTrackedRanges);t.TextModelWithDecorations=f;var m=function(){function e(e,t,n,o){this.id=e,this.ownerId=t,this.rangeId=n,this.options=o}return e}(),g=function(){function e(e){this.stickiness=e.stickiness||r.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,this.className=a(e.className||n.empty),this.hoverMessage=e.hoverMessage||n.empty,this.htmlMessage=e.htmlMessage||[],this.isWholeLine=e.isWholeLine||!1,this.overviewRuler=c(e.overviewRuler,e.showInOverviewRuler),this.glyphMarginClassName=a(e.glyphMarginClassName||n.empty),this.linesDecorationsClassName=a(e.linesDecorationsClassName||n.empty),this.inlineClassName=a(e.inlineClassName||n.empty)}return e}(),v=function(){function e(e,t){this.color=n.empty,this.position=r.OverviewRulerLane.Center,t&&(this.color=t),e&&e.color&&(this.color=e.color),e&&e.hasOwnProperty("position")&&(this.position=e.position)}return e}()});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/model/editableTextModel",["require","exports","vs/editor/common/core/position","vs/editor/common/model/editStack","vs/editor/common/model/modelLine","vs/editor/common/model/textModelWithDecorations","vs/editor/common/common","vs/base/common/errors"],function(e,t,n,o,r,i,s,a){var u=function(e){function t(t,n,r){t.push(s.EventType.ModelContentChanged),t.push(s.EventType.ModelContentChanged2),e.call(this,t,n,r),this._commandManager=new o.EditStack(this),this._isUndoing=!1,this._isRedoing=!1,this._hasEditableRange=!1,this._editableRangeId=null}return __extends(t,e),t.prototype.dispose=function(){this._commandManager=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,n){e.prototype._resetValue.call(this,t,n),this._commandManager=new o.EditStack(this),this._hasEditableRange=!1,this._editableRangeId=null},t.prototype.change=function(e){var t=this;if(this._isDisposed)throw new Error("EditableTextModel.change: Model is disposed");return this._withDeferredEvents(function(n){var o={insertText:function(e,o,r){return void 0===r&&(r=!1),t._insertText(n.changedMarkers,e,o,r)},deleteText:function(e){return t._deleteText(n.changedMarkers,e)}},r=null;try{r=e(o)}catch(i){a.onUnexpectedError(i)}return o.insertText=null,o.deleteText=null,r})},t.prototype.pushStackElement=function(){if(this._isDisposed)throw new Error("EditableTextModel.pushStackElement: Model is disposed");this._commandManager.pushStackElement()},t.prototype.pushEditOperations=function(e,t,n){if(this._isDisposed)throw new Error("EditableTextModel.pushEditOperations: Model is disposed");return this._commandManager.pushEditOperation(e,t,n)},t.prototype.undo=function(){var e=this;if(this._isDisposed)throw new Error("EditableTextModel.undo: Model is disposed");return this._withDeferredEvents(function(){e._isUndoing=!0;var t=e._commandManager.undo();return e._isUndoing=!1,t?(e._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null})},t.prototype.redo=function(){var e=this;if(this._isDisposed)throw new Error("EditableTextModel.redo: Model is disposed");return this._withDeferredEvents(function(){e._isRedoing=!0;var t=e._commandManager.redo();return e._isRedoing=!1,t?(e._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null})},t.prototype.setEditableRange=function(e){if(this._isDisposed)throw new Error("EditableTextModel.setEditableRange: Model is disposed");this._commandManager.clear(),this._hasEditableRange&&(this.removeTrackedRange(this._editableRangeId),this._editableRangeId=null,this._hasEditableRange=!1),e&&(this._hasEditableRange=!0,this._editableRangeId=this.addTrackedRange(e,s.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges))},t.prototype.hasEditableRange=function(){if(this._isDisposed)throw new Error("EditableTextModel.hasEditableRange: Model is disposed");return this._hasEditableRange},t.prototype.getEditableRange=function(){if(this._isDisposed)throw new Error("EditableTextModel.getEditableRange: Model is disposed");return this._hasEditableRange?this.getTrackedRange(this._editableRangeId):this.getFullModelRange()},t.prototype.callInsertTextOnLine=function(e,t,n,o,r,i){this._lines[t].insertText(e,n,o,r),i&&(this._invalidateLine(t),this.emitModelContentChangedLineChangedEvent(t+1))},t.prototype.callDeleteTextOnLine=function(e,t,n,o,r,i,s){var a=this._lines[t].removeText(e,n,o,r,i);return s&&(this._invalidateLine(t),this.emitModelContentChangedLineChangedEvent(t+1)),a},t.prototype._updateLineNumbers=function(e,t){var n,o,r=this._lines;for(n=t-1,o=r.length;o>n;n++)r[n].updateLineNumber(e,n+1)},t.prototype._insertText=function(e,t,n,o){var r=this.validatePosition(t);if(0===n.length)return r;var i,s=n.split(/\r\n|\r|\n/);return i=1===s.length?this._insertTextOneLine(e,r,s[0],o):this._insertTextMultiline(e,r,s,o),this._emitContentChanged2(r.lineNumber,r.column,r.lineNumber,r.column,0,s.join(this.getEOL()),!1,!1),i},t.prototype._insertTextOneLine=function(e,t,o,r){return this.callInsertTextOnLine(e,t.lineNumber-1,t.column,{text:o,markers:null},r,!0),new n.Position(t.lineNumber,t.column+o.length)},t.prototype._insertTextMultiline=function(e,t,o,i){var s,a,u=this.callDeleteTextOnLine(e,t.lineNumber-1,t.column,Number.MAX_VALUE,!0,i,!1);this.callInsertTextOnLine(e,t.lineNumber-1,t.column,{text:o[0],markers:null},i,!0);var c="";for(s=1,a=o.length-1;a>s;s++)c+=o[s]+"\n",this._lines.splice(t.lineNumber+s-1,0,new r.ModelLine(t.lineNumber+s,o[s]));var l=t.lineNumber-1+o.length-1;return this._lines.splice(l,0,new r.ModelLine(l+1,o[o.length-1])),this.callInsertTextOnLine(e,l,Number.MAX_VALUE,u,i,!1),this._updateLineNumbers(e,l+2),this.emitModelContentChangedLinesInsertedEvent(t.lineNumber-1+2,l+1,c+this._lines[l].text),new n.Position(l+1,1+o[o.length-1].length)},t.prototype._deleteText=function(e,t){var o=this.validateRange(t);if(o.isEmpty())return{position:new n.Position(o.startLineNumber,o.startColumn),deletedText:""};var r,i=this.getValueLengthInRange(o);return r=o.startLineNumber===o.endLineNumber?this._deleteTextOneLine(e,o):this._deleteTextMultiline(e,o),this._emitContentChanged2(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn,i,"",!1,!1),r},t.prototype._deleteTextOneLine=function(e,t){var o=this.callDeleteTextOnLine(e,t.startLineNumber-1,t.startColumn,t.endColumn,!1,!1,!0);return{position:new n.Position(t.startLineNumber,t.startColumn),deletedText:o.text}},t.prototype._deleteWholeLines=function(e,t,n,o){var r,i=[],s=[];for(r=n;o>=r;r++)i.push(this._lines[r].text),s=s.concat(this._lines[r].deleteLine(e,t,r+1));return this._lines.splice(n,o-n+1),{deletedText:i.join("\n"),deletedMarkers:s}},t.prototype._deleteTextMultiline=function(e,t){if(1===t.startColumn){var o=this._lines[t.startLineNumber-1].getState(),r=this._deleteWholeLines(e,t.startColumn,t.startLineNumber-1,t.endLineNumber-2);this.emitModelContentChangedLinesDeletedEvent(t.startLineNumber,t.endLineNumber-1);var i=this.callDeleteTextOnLine(e,t.startLineNumber-1,1,t.endColumn,!1,!1,!0).text;this._lines[t.startLineNumber-1].addMarkers(r.deletedMarkers),this._lines[t.startLineNumber-1].setState(o),this._updateLineNumbers(e,t.startLineNumber);var s=r.deletedText+"\n"+i}else{var a=this.callDeleteTextOnLine(e,t.startLineNumber-1,t.startColumn,Number.MAX_VALUE,!1,!1,!1).text,u=this.callDeleteTextOnLine(e,t.endLineNumber-1,t.endColumn,Number.MAX_VALUE,!0,!1,!1),r=this._deleteWholeLines(e,t.startColumn,t.startLineNumber,t.endLineNumber-1);this._lines[t.startLineNumber-1].addMarkers(r.deletedMarkers),this.callInsertTextOnLine(e,t.startLineNumber-1,Number.MAX_VALUE,u,!1,!0),this._updateLineNumbers(e,t.startLineNumber+1),this.emitModelContentChangedLinesDeletedEvent(t.startLineNumber+1,t.endLineNumber);var s=a+"\n"+r.deletedText}return{position:new n.Position(t.startLineNumber,t.startColumn),deletedText:s}},t.prototype.emitModelContentChangedLineChangedEvent=function(e){this._increaseVersionId();var t={changeType:s.EventType.ModelContentChangedLineChanged,lineNumber:e,detail:this._lines[e-1].text,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(s.EventType.ModelContentChanged,t)},t.prototype.emitModelContentChangedLinesDeletedEvent=function(e,t){this._increaseVersionId();var n={changeType:s.EventType.ModelContentChangedLinesDeleted,fromLineNumber:e,toLineNumber:t,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(s.EventType.ModelContentChanged,n)},t.prototype.emitModelContentChangedLinesInsertedEvent=function(e,t,n){this._increaseVersionId();var o={changeType:s.EventType.ModelContentChangedLinesInserted,fromLineNumber:e,toLineNumber:t,detail:n,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing};this.emit(s.EventType.ModelContentChanged,o)},t}(i.TextModelWithDecorations);t.EditableTextModel=u});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/model/model",["require","exports","vs/editor/common/model/textModel","vs/editor/common/model/editableTextModel","vs/editor/common/common","vs/base/common/network","vs/base/common/objects"],function(e,t,n,o,r,i,s){var a=0,u={},c=function(e){function t(t,o,s){void 0===s&&(s=null),e.call(this,[r.EventType.ModelPropertiesChanged,r.EventType.ModelDispose],n.TextModel.toRawText(t),o),a++,this.id="$model"+a,("undefined"==typeof s||null===s)&&(s=new i.URL("inmemory://model/"+a)),this._associatedResource=s,this._bindToMode(),this._extraProperties={},this._attachedEditorCount=0,u[String(this._associatedResource)]=!0}return __extends(t,e),t.prototype.getURL=function(){return this._associatedResource},t.prototype.getModeId=function(){return this.getMode().getId()},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){delete u[String(this._associatedResource)],this.emit(r.EventType.ModelDispose),this._unbindFromMode(),e.prototype.dispose.call(this)},t.prototype._resetMode=function(t,n){e.prototype._resetMode.call(this,t,n),t.oldMode.modelSyncSupport&&t.oldMode.modelSyncSupport.unbindModel(this),t.newMode.modelSyncSupport&&t.newMode.modelSyncSupport.bindModel(this)},t.prototype._bindToMode=function(){var e=this.getMode().modelSyncSupport;e&&e.bindModel(this)},t.prototype._unbindFromMode=function(){if(this.getMode()){var e=this.getMode().modelSyncSupport;e&&e.unbindModel(this)}},t.prototype.onBeforeAttached=function(){if(this._isDisposed)throw new Error("Model.onBeforeAttached: Model is disposed");this._attachedEditorCount++,this._warmUpTokens()},t.prototype.onBeforeDetached=function(){if(this._isDisposed)throw new Error("Model.onBeforeDetached: Model is disposed");this._attachedEditorCount--},t.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},t.prototype.getAssociatedResource=function(){if(this._isDisposed)throw new Error("Model.getAssociatedResource: Model is disposed");return this._associatedResource},t.prototype.setProperty=function(e,t){if(this._isDisposed)throw new Error("Model.setProperty: Model is disposed");this._extraProperties[e]=t,this.emitModelPropertiesChangedEvent()},t.prototype.getProperty=function(e){if(this._isDisposed)throw new Error("Model.getProperty: Model is disposed");return this._extraProperties.hasOwnProperty(e)?this._extraProperties[e]:null},t.prototype.getProperties=function(){if(this._isDisposed)throw new Error("Model.getProperties: Model is disposed");return s.clone(this._extraProperties)},t.prototype.emitModelPropertiesChangedEvent=function(){var e={properties:this._extraProperties};this.emit(r.EventType.ModelPropertiesChanged,e)},t}(o.EditableTextModel);t.Model=c});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/common/uuid",["require","exports"],function(e,t){function n(e,t){return"function"==typeof e[t]&&0===e[t].length}function o(e){return e instanceof a||e instanceof u||n(e,"asHex",0)&&n(e,"equals",1)}function r(){return new u}function i(e){if(!c.test(e))throw new Error("invalid uuid");return new a(e)}function s(){return r().asHex()}t.isUUID=o;var a=function(){function e(e){this._value=e}return e.prototype.asHex=function(){return this._value},e.prototype.equals=function(e){return this.asHex()===e.asHex()},e}(),u=function(e){function t(){e.call(this,[t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}return __extends(t,e),t._oneOf=function(e){var t=Math.floor(e.length*Math.random());return e[t]},t._randomHex=function(){return t._oneOf(t._chars)},t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],t._timeHighBits=["8","9","a","b"],t}(a);t.empty=new a("00000000-0000-0000-0000-000000000000"),t.v4=r;var c=/^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$/;t.parse=i,t.generateUuid=s});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/referenceSearch/browser/referenceSearchModel",["require","exports","vs/base/common/collections","vs/base/common/strings","vs/base/common/uuid","vs/base/common/hash","vs/base/common/eventEmitter","vs/base/common/winjs.base","vs/base/common/paths","vs/editor/common/core/range"],function(e,t,n,o,r,i,s,a,u,c){var l;!function(e){e.OnReferenceRangeChanged="refrence.rangeChanged",e.CurrentReferenceChanged="reference.currentChanged"}(l=t.EventType||(t.EventType={}));var d=function(){function e(e,t){this._parent=e,this._id=r.generateUuid(),this._range=t.range}return e.prototype.equals=function(t){return t===this?!0:t instanceof e?t.resource.equals(this.resource)?c.Range.equalsRange(t.range,this.range)?!0:!1:!1:!1},e.prototype.hashCode=function(){return this.resource.hashCode()+c.Range.hashCode(this.range)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this._parent.resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return this._parent.directory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this.parent.parent.emit(l.OnReferenceRangeChanged,this)},enumerable:!0,configurable:!0}),e}();t.OneReference=d;var h=function(){function e(e){this._value=e,this._lineStarts=o.computeLineStarts(e)}return e.prototype._getOffsetFromPosition=function(e,t){return this._lineStarts[e-1]+t-1},e.prototype.preview=function(e,t){void 0===t&&(t=8);var n=this._lineStarts[e.startLineNumber-1],r=n+e.startColumn-1,i=this._lineStarts[e.endLineNumber-1]+e.endColumn-1,s=e.endLineNumber>=this._lineStarts.length?this._value.length:this._lineStarts[e.endLineNumber],a={before:this._value.substring(n,r).replace(/^\s+/,o.empty),inside:this._value.substring(r,i),after:this._value.substring(i,s).replace(/\s+$/,o.empty)};return a.before=o.lcut(a.before,t),a},e}();t.FilePreview=h;var p=function(){function e(e,t){this._parent=e,this._resource=t,this._children=[]}return Object.defineProperty(e.prototype,"id",{get:function(){return this._resource.toString()},enumerable:!0,configurable:!0}),e.prototype.hashCode=function(){return i.computeMurmur2StringHashCode(this._resource.toString())},e.prototype.equals=function(t){return t===this?!0:t instanceof e?t.resource.equals(this.resource)?!0:!1:!1},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return u.basename(this.resource.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return u.dirname(this.resource.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){var t=this;return this._resolved?a.TPromise.as(this):e.resolveEditorModel({resource:this._resource}).then(function(e){return t._preview=new h(e.textEditorModel.getValue()),t._resolved=!0,t})},e}();t.FileReferences=p;var f=function(e){function t(t){var r=this;e.call(this,[l.CurrentReferenceChanged,l.OnReferenceRangeChanged]);var i=n.createStringDictionary();t.forEach(function(e){var t=e.resourceUrl,o=new p(r,t);o=n.lookupOrInsert(i,o.id,o),o.children.push(new d(o,e))}),this._references=n.values(i),this._references.sort(function(e,t){return o.localeCompare(e.directory,t.directory)||o.localeCompare(e.name,t.name)})}return __extends(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this._references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentReference",{get:function(){return this._currentReference},set:function(e){this._currentReference=e,this.emit(l.CurrentReferenceChanged,this)},enumerable:!0,configurable:!0}),t.prototype.nextReference=function(e){var t=e.parent.children.indexOf(e),n=e.parent.children.length,o=e.parent.parent.children.length;return n>t+1||1===o?e.parent.children[(t+1)%n]:(t=e.parent.parent.children.indexOf(e.parent),t=(t+1)%o,e.parent.parent.children[t].children[0])},t.prototype.findReference=function(e,t){for(var n=0,o=this._references.length;o>n;n++){var r=this._references[n];if(r.resource.equals(e)){var i;if(r.children.some(function(e){return c.Range.containsPosition(e.range,t)?(i=e,!0):!1}),i)return i}}return this._references.length>0?this._references[0].children[0]:null},t}(s.EventEmitter);t.Model=f}),define("vs/css!vs/editor/contrib/referenceSearch/browser/referenceSearchWidget",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/referenceSearch/browser/referenceSearchWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/collections","vs/base/common/lifecycle","vs/base/browser/dom","vs/base/common/winjs.base","vs/base/common/strings","vs/base/common/network","vs/base/browser/ui/filelabel/fileLabel","vs/base/common/errors","vs/base/browser/builder","vs/base/parts/tree/browser/treeImpl","vs/base/parts/tree/browser/treeDefaults","vs/base/browser/ui/leftRightWidget/leftRightWidget","vs/base/browser/ui/countBadge/countBadge","vs/editor/common/common","vs/editor/common/config/defaultConfig","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/common/model/model","vs/editor/contrib/zoneWidget/browser/peekViewWidget","./referenceSearchModel","vs/editor/common/core/range","vs/platform/editor/common/editor","vs/platform/workspace/common/workspace","vs/css!./referenceSearchWidget"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v,_,y,b,C,S,w,E){var T=function(){function e(e,t){var n=this;this.editor=e,this.model=t,this._decorationSet=o.createStringDictionary(),this._decorationIgnoreSet=o.createStringDictionary(),this.callOnDispose=[],this.callOnModelChange=[],this.callOnDispose.push(this.editor.addListener(g.EventType.ModelChanged,function(){return n.onModelChanged()})),this.onModelChanged()}return e.prototype.dispose=function(){this.callOnModelChange=r.cAll(this.callOnModelChange),this.callOnDispose=r.cAll(this.callOnDispose),this.removeDecorations()},e.prototype.onModelChanged=function(){this.removeDecorations(),this.callOnModelChange=r.cAll(this.callOnModelChange);var e=this.editor.getModel();if(e)for(var t=0,n=this.model.children.length;n>t;t++)if(this.model.children[t].resource.equals(e.getAssociatedResource()))return this.addDecorations(this.model.children[t]),void 0},e.prototype.addDecorations=function(t){var n=this;this.callOnModelChange.push(this.editor.getModel().addListener(g.EventType.ModelDecorationsChanged,function(e){return n.onDecorationChanged(e)})),this.editor.getModel().changeDecorations(function(o){for(var r=0,i=t.children.length;i>r;r++){var s=t.children[r];if(!n._decorationIgnoreSet[s.id]){var a=o.addDecoration(s.range,e.DecorationOptions);n._decorationSet[a]=s}}})},e.prototype.onDecorationChanged=function(e){for(var t=this,n=e.addedOrChangedDecorations,r=[],i=0,s=n.length;s>i;i++){var a=o.lookup(this._decorationSet,n[i].id);if(a){var u=n[i].range,c=!1;if(!S.Range.equalsRange(u,a.range)){if(S.Range.spansMultipleLines(u))c=!0;
else{var l=a.range.endColumn-a.range.startColumn,d=u.endColumn-u.startColumn;l!==d&&(c=!0)}c?(this._decorationIgnoreSet[a.id]=a,r.push(n[i].id)):a.range=u}}}this.editor.changeDecorations(function(e){for(;r.length>0;){var n=r.pop();e.removeDecoration(n),delete t._decorationSet[n]}})},e.prototype.removeDecorations=function(){var e=Object.keys(this._decorationSet);e.length>0&&this.editor.changeDecorations(function(t){for(;e.length>0;)t.removeDecoration(e.pop())}),this._decorationSet={}},e.DecorationOptions={stickiness:g.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"reference-decoration"},e}(),x=function(){function e(e){this._editorService=e}return e.prototype.getId=function(e,t){return t instanceof C.Model?"root":t instanceof C.FileReferences?t.id:t instanceof C.OneReference?t.id:void 0},e.prototype.hasChildren=function(e,t){return t instanceof C.FileReferences||t instanceof C.Model},e.prototype.getChildren=function(e,t){return t instanceof C.Model?s.TPromise.as(t.children):t instanceof C.FileReferences?t.resolve(this._editorService).then(function(e){return e.children}):s.TPromise.as([])},e.prototype.getParent=function(e,t){var n=null;return t instanceof C.FileReferences?n=t.parent:t instanceof C.OneReference&&(n=t.parent),s.TPromise.as(n)},e=__decorate([__param(0,w.IEditorService)],e)}(),M=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onMouseDown=function(n,o,r){if(r.leftButton){if(o instanceof C.FileReferences)return r.preventDefault(),r.stopPropagation(),this.expandCollapse(n,o);var i=e.prototype.onClick.call(this,n,o,r);return r.ctrlKey||r.metaKey?n.emit(t.Events.OPEN_TO_SIDE,o):2===r.detail?n.emit(t.Events.SELECTED,o):n.emit(t.Events.FOCUSED,o),i}return!1},t.prototype.onClick=function(t,n,o){return o.leftButton?!1:e.prototype.onClick.call(this,t,n,o)},t.prototype.expandCollapse=function(e,t){return e.isExpanded(t)?e.collapse(t).done(null,l.onUnexpectedError):e.expand(t).done(null,l.onUnexpectedError),!0},t.prototype.onEscape=function(){return!1},t.prototype.onEnter=function(n,o){var r=n.getFocus();if(r instanceof C.FileReferences)return this.expandCollapse(n,r);var i=e.prototype.onEnter.call(this,n,o);return o.ctrlKey||o.metaKey?n.emit(t.Events.OPEN_TO_SIDE,r):n.emit(t.Events.SELECTED,r),i},t.prototype.onUp=function(t,n){return e.prototype.onUp.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onPageUp=function(t,n){return e.prototype.onPageUp.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onLeft=function(t,n){return e.prototype.onLeft.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onDown=function(t,n){return e.prototype.onDown.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onPageDown=function(t,n){return e.prototype.onPageDown.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.onRight=function(t,n){return e.prototype.onRight.call(this,t,n),this.fakeFocus(t,n),!0},t.prototype.fakeFocus=function(e){var n=e.getFocus();e.setSelection([n]),e.emit(t.Events.FOCUSED,n)},t.Events={FOCUSED:"events/custom/focused",SELECTED:"events/custom/selected",OPEN_TO_SIDE:"events/custom/opentoside"},t}(p.DefaultController),L=function(e){function t(t,n){e.call(this),this.editor=t,this._contextService=n}return __extends(t,e),t.prototype.getHeight=function(){return 1.2*this.editor.getConfiguration().lineHeight},t.prototype.render=function(e,t,o){var r=this;if(i.clearNode(o),t instanceof C.FileReferences){var s=t,u=d.$(".reference-file");new f.LeftRightWidget(u,function(e){var t=s.resource;return new c.FileLabel(e,t,r._contextService),null},function(e){var t=s.children.length;return new m.CountBadge(e,t,t>1?n.localize("vs_editor_contrib_referenceSearch_browser_referenceSearchWidget",0,t):n.localize("vs_editor_contrib_referenceSearch_browser_referenceSearchWidget",1,t))}),u.appendTo(o)}else if(t instanceof C.OneReference){var l=t,h=d.$(".reference"),p=l.parent.preview.preview(l.range);h.innerHtml(a.format('<span>{0}</span><span class="referenceMatch">{1}</span><span>{2}</span>',p.before,p.inside,p.after)).appendTo(o)}return null},t=__decorate([__param(1,E.IWorkspaceContextService)],t)}(p.LegacyRenderer),k=function(e){function t(n,o,r,i){e.call(this,i,o,t.INNER_EDITOR_CONTEXT_KEY,{frameColor:"#007ACC",showFrame:!1,showArrow:!0}),this.editorService=n,this.instantiationService=r.createChild({peekViewService:this}),this.callOnModel=[],this.tree=null,this.treeContainer=null,this.preview=null,this.previewContainer=null,this.previewDecorations=[],this.lastHeight=null,this.create()}return __extends(t,e),t.prototype._onTitleClick=function(e){if(this.preview&&this.preview.getModel()){var n=this.preview.getModel(),o=this.preview.getPosition().lineNumber,r=S.Range.create(o,1,o,n.getLineMaxColumn(o));this.emit(t.Events.EditorDoubleClick,{reference:this.getFocusedReference(),range:r,originalEvent:e})}},t.prototype._fillBody=function(e){var t=this,o=d.$(e);o.addClass("reference-zone-widget"),o.div({class:"messages"},function(e){t.messageContainer=e.hide()}),o.div({class:"preview inline"},function(e){var o={scrollBeyondLastLine:!1,scrollbar:v.DefaultConfig.editor.scrollbar,overviewRulerLanes:2};t.preview=t.instantiationService.createInstance(_.EmbeddedCodeEditorWidget,e.getHTMLElement(),o,t.editor),t.previewContainer=e.hide(),t.previewNotAvailableMessage=new y.Model(n.localize("vs_editor_contrib_referenceSearch_browser_referenceSearchWidget",2),null)}),o.div({class:"tree inline"},function(e){var n={dataSource:t.instantiationService.createInstance(x),renderer:t.instantiationService.createInstance(L,t.editor),controller:new M},o={allowHorizontalScroll:!1,twistiePixels:20};t.tree=new h.Tree(e.getHTMLElement(),n,o),t.treeContainer=e.hide()})},t.prototype._doLayoutBody=function(t){e.prototype._doLayoutBody.call(this,t);var n=t+"px";n!==this.lastHeight&&(this.treeContainer.style({height:n}),this.previewContainer.style({height:n}),this.tree.layout(t),this.preview.layout(),this.lastHeight=n)},t.prototype.onWidth=function(){this.preview.layout()},t.prototype.setModel=function(e){this.callOnModel=r.disposeAll(this.callOnModel),this.model=e,this.model&&this._onNewModel()},t.prototype.showMessage=function(e){this.setTitle(""),this.messageContainer.innerHtml(e).show()},t.prototype._onNewModel=function(){var e=this;this.messageContainer.hide(),this.decorationsManager=new T(this.preview,this.model),this.callOnModel.push(this.decorationsManager),this.callOnModel.push(this.model.addListener2(C.EventType.OnReferenceRangeChanged,function(t){e.tree.refresh(t)})),this.callOnModel.push(this.tree.addListener2(M.Events.FOCUSED,function(t){t instanceof C.OneReference&&e.showReferencePreview(t)})),this.callOnModel.push(this.tree.addListener2(M.Events.SELECTED,function(t){t instanceof C.OneReference&&(e.showReferencePreview(t),e.model.currentReference=t)})),this.callOnModel.push(this.tree.addListener2(M.Events.OPEN_TO_SIDE,function(t){t instanceof C.OneReference&&e.editorService.openEditor({resource:t.resource,options:{selection:t.range}},!0)}));var n=1===this.model.children.length?this.model.children[0]:this.model;this.tree.setInput(n).then(function(){e.tree.setSelection([e.model.currentReference])}).done(null,l.onUnexpectedError),this.callOnModel.push(this.preview.addListener2(g.EventType.MouseDown,function(n){2===n.event.detail&&e.emit(t.Events.EditorDoubleClick,{reference:e.getFocusedReference(),range:n.target.range,originalEvent:n.event})})),i.addClass(this.container,"results-loaded"),this.treeContainer.show(),this.previewContainer.show(),this.preview.layout(),this.tree.layout(),this.focus(),this.showReferencePreview(this.model.nextReference(this.model.currentReference))},t.prototype.getFocusedReference=function(){var e=this.tree.getFocus();if(e instanceof C.OneReference)return e.resource;if(e instanceof C.FileReferences){var t=e;if(t.children.length>0)return t.children[0].resource}return null},t.prototype.focus=function(){this.tree.DOMFocus()},t.prototype.showReferencePreview=function(e){var t=this;this.editorService.resolveEditorModel({resource:e.resource}).done(function(o){if(o){t.preview.setModel(o.textEditorModel);var r=S.Range.lift(e.range).collapseToStart();t.preview.setSelection(r),t.preview.revealRangeInCenter(r)}else t.preview.setModel(t.previewNotAvailableMessage);e.resource.getScheme()!==u.schemas.inMemory?t.setTitle(e.name,e.directory):t.setTitle(n.localize("vs_editor_contrib_referenceSearch_browser_referenceSearchWidget",3))},l.onUnexpectedError),this.tree.reveal(e),this.tree.setSelection([e]),this.tree.setFocus(e)},t.prototype.dispose=function(){this.setModel(null),r.disposeAll([this.preview,this.previewNotAvailableMessage,this.tree]),e.prototype.dispose.call(this)},t.INNER_EDITOR_CONTEXT_KEY="inReferenceSearchEditor",t.Events={EditorDoubleClick:"editorDoubleClick"},t}(b.PeekViewWidget);t.ReferenceWidget=k});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/referenceSearch/browser/referenceSearch",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/arrays","vs/base/common/winjs.base","vs/base/common/severity","vs/base/common/lifecycle","vs/base/common/errors","vs/editor/common/common","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","./referenceSearchWidget","./referenceSearchModel","vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/platform/editor/common/editor","vs/platform/instantiation/common/instantiation","vs/platform/message/browser/message","vs/platform/telemetry/common/telemetry","vs/platform/workspace/common/workspace","vs/platform/keybinding/common/keybindingService"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v,_,y,b){var C=f.IPeekViewService,S=function(){function e(e,t,n,o,r,i,s,a){this._startTime=-1,this.requestIdPool=0,this.callOnClear=[],this.editorService=t,this.telemetryService=n,this.messageService=o,this.instantiationService=r,this.peekViewService=i,this.contextService=s,this.keybindingService=a,this.modelRevealing=!1,this.editor=e,this._referenceSearchVisible=a.createKey(E,!1)}return e.getController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.widget&&(this.widget.dispose(),this.widget=null),this.editor=null},e.prototype.isInPeekView=function(){return this.peekViewService&&this.peekViewService.isActive},e.prototype.closeReferenceSearch=function(){this.clear()},e.prototype.processRequest=function(e,t){var r=this,s=this.widget?this.widget.position:null,c=this.clear();if(c&&s&&e.containsPosition(s))return null;this._referenceSearchVisible.set(!0),this.callOnClear.push(this.editor.addListener(u.EventType.ModelModeChanged,function(){r.clear()})),this.callOnClear.push(this.editor.addListener(u.EventType.ModelChanged,function(){r.modelRevealing||r.clear()})),this.widget=new h.ReferenceWidget(this.editorService,this.keybindingService,this.instantiationService,this.editor),this.widget.setTitle(n.localize("vs_editor_contrib_referenceSearch_browser_referenceSearch",0)),this.widget.show(e,18),this.callOnClear.push(this.widget.addListener(f.Events.Closed,function(){r.widget=null,r.clear()})),this.callOnClear.push(this.widget.addListener(h.ReferenceWidget.Events.EditorDoubleClick,function(e){e.reference&&(r.editorService.openEditor({resource:e.reference,options:{selection:e.range}},e.originalEvent.ctrlKey||e.originalEvent.metaKey).done(null,a.onUnexpectedError),e.originalEvent.ctrlKey||e.originalEvent.metaKey||r.clear())}));var l=++this.requestIdPool,d=this.editor.getModel(),m=this.telemetryService.start("findReferences",{mode:d.getMode().getId()});return t.then(function(t){if(l!==r.requestIdPool)return m.stop(),void 0;if(o.isFalsyOrEmpty(t))return r.widget.showMessage(n.localize("vs_editor_contrib_referenceSearch_browser_referenceSearch",1)),m.stop(),void 0;r.model=new p.Model(t),r.model.currentReference=r.model.findReference(d.getAssociatedResource(),e.getStartPosition());var i=r.model.addListener(p.EventType.CurrentReferenceChanged,function(){r.modelRevealing=!0,r.editorService.openEditor({resource:r.model.currentReference.resource,options:{selection:r.model.currentReference.range}}).done(function(e){return e&&e.getControl()===r.editor?(r.modelRevealing=!1,r.widget.show(r.model.currentReference.range,18),r.widget.focus(),void 0):(r.clear(),void 0)},function(e){r.modelRevealing=!1,a.onUnexpectedError(e)})});r.callOnClear.push(i),r._startTime=Date.now(),r.widget&&r.widget.setModel(r.model),m.stop()},function(e){r.messageService.show(i.Error,e),m.stop()}),this.widget},e.prototype.clear=function(){-1!==this._startTime&&(this.telemetryService.log("zoneWidgetShown",{mode:"reference search",elapsedTime:Date.now()-this._startTime}),this._startTime=-1),this._referenceSearchVisible.reset(),s.cAll(this.callOnClear),this.model=null;var e=!1;return this.widget&&(this.widget.dispose(),this.widget=null,e=!0),this.editor.focus(),this.requestIdPool+=1,e},e.ID="editor.contrib.findReferencesController",e=__decorate([__param(1,m.IEditorService),__param(2,_.ITelemetryService),__param(3,v.IMessageService),__param(4,g.IInstantiationService),__param(5,C),__param(6,y.IWorkspaceContextService),__param(7,b.IKeybindingService)],e)}();t.FindReferencesController=S;var w=function(e){function t(t,o,r,i){e.call(this,t,o,d.Behaviour.WidgetFocus|d.Behaviour.ShowInContextMenu|d.Behaviour.UpdateOnCursorPositionChange),this.label=n.localize("vs_editor_contrib_referenceSearch_browser_referenceSearch",2),this.peekViewService=r,this.peekViewService&&i.setContext(this.peekViewService.contextKey,!0)}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/4_references"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.referenceSupport&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){if(this.peekViewService&&this.peekViewService.isActive)return!1;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition();return e.getMode().referenceSupport.canFindReferences(e.getLineContext(t.lineNumber),t.column-1)},t.prototype.run=function(){var e=this.editor.getSelection(),t=this.editor.getModel(),n=t.getMode().referenceSupport,o=n.findReferences(t.getAssociatedResource(),e.getStartPosition(),!0),i=S.getController(this.editor);return r.TPromise.as(i.processRequest(e,o)).then(function(){return!0})},t.ID="editor.action.referenceSearch.trigger",t=__decorate([__param(2,C),__param(3,b.IKeybindingService)],t)}(d.EditorAction);t.ReferenceAction=w;var E="referenceSearchVisible";c.EditorBrowserRegistry.registerEditorContribution(S),l.CommonEditorRegistry.registerEditorAction(new l.EditorActionDescriptor(w,w.ID,n.localize("vs_editor_contrib_referenceSearch_browser_referenceSearch",3),{context:l.ContextKey.EditorTextFocus,primary:{shift:!0,key:"F12"}})),l.CommonEditorRegistry.registerEditorCommand("closeReferenceSearch",l.CommonEditorRegistry.commandWeight(50),{primary:{key:"Escape"}},!1,E,function(e,t,n){var o=f.getOuterEditor(e,n);if(o){var r=S.getController(o);r.closeReferenceSearch()}}),l.CommonEditorRegistry.registerEditorCommand("closeReferenceSearchEditor",l.CommonEditorRegistry.commandWeight(-101),{primary:{key:"Escape"}},!1,h.ReferenceWidget.INNER_EDITOR_CONTEXT_KEY,function(e,t,n){var o=f.getOuterEditor(e,n);if(o){var r=S.getController(o);r.closeReferenceSearch()}})}),define("vs/platform/progress/common/progress",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IProgressService=n.createDecorator("progressService")});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/rename/browser/rename",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/common","vs/base/common/severity","vs/editor/common/core/range","vs/platform/message/browser/message","vs/platform/progress/common/progress","vs/platform/keybinding/common/keybindingService","vs/css!./rename"],function(e,t,n,o,r,i,s,a,u,c,l){var d=function(){function e(e,t,n,o){var r=this;this._onDispose=o,this.editor=e,this.isDisposed=!1,this.editor.changeDecorations(function(e){r.decorations=[];for(var o=0,i=t.length;i>o;o++){var s="linked-editing-placeholder";r.decorations.push(e.addDecoration(n[o],{className:s}))}}),this.editor.setSelections(t),this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(i.EventType.CursorPositionChanged,function(e){if(!r.isDisposed){var t=1+e.secondaryPositions.length;t!==r.decorations.length&&r.dispose()}}))}return e.prototype.onEnterOrEscape=function(){return this.isDisposed?void 0:(this.editor.setSelection(this.editor.getSelection()),this.dispose(),!0)},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._onDispose(),this.decorations=this.editor.deltaDecorations(this.decorations,[]),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[])},e}(),h=function(){function e(e){this._editor=e,this.serviceId=c.IProgressService}return e.prototype.showWhile=function(e,t){var n,o,r=this;return o=setTimeout(function(){n=r._addDecoration()},t||0),e.then(function(e){return clearTimeout(o),r._removeDecoration(n),e},function(e){throw clearTimeout(o),r._removeDecoration(n),e})},e.prototype._addDecoration=function(){var e,t=this._editor.getPosition(),n=this._editor.getModel().getWordAtPosition(t);return this._editor.changeDecorations(function(o){e=o.addDecoration({startLineNumber:t.lineNumber,startColumn:n.startColumn,endLineNumber:t.lineNumber,endColumn:n.endColumn},{inlineClassName:"word-level-progress"})}),e},e.prototype._removeDecoration=function(e){e&&this._editor.changeDecorations(function(t){t.removeDecoration(e)})},e.prototype.show=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];throw new Error("not implemented")},e}(),p=function(e){function t(t,n,o,i){e.call(this,t,n,r.Behaviour.WidgetFocus|r.Behaviour.Writeable|r.Behaviour.ShowInContextMenu|r.Behaviour.UpdateOnCursorPositionChange),this._idPool=0,this._messageService=o,this._progressService=new h(this.editor),this._currentController=null,this._changeAllMode=i.createKey(f,!1)}return __extends(t,e),t.prototype.getGroupId=function(){return"2_change/1_changeAll"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.occurrencesSupport&&e.prototype.isSupported.call(this)},t.prototype.computeInfos=function(e){var t=e.getSelection(),n=t.getStartPosition(),o=e.getModel();return this.editor.getModel().getMode().occurrencesSupport.findOccurrences(o.getAssociatedResource(),n)},t.prototype.run=function(){var e=this,t=++this._idPool,n=this.editor.captureState(i.CodeEditorStateFlag.Position,i.CodeEditorStateFlag.Value),o=this.editor.getSelection(),r=this.computeInfos(this.editor);return this._progressService&&this._progressService.showWhile(r,500),r.then(function(r){if(t===e._idPool&&n.validate(e.editor)&&0!==r.length){var i=r.map(function(e){return e.range});return e._beginLinkedEditing(i,o),!0}},function(t){e._messageService.show(s.Info,t)})},t.prototype._indexOf=function(e,t,n){for(var o={lineNumber:t,column:n},r=0;r<e.length;r++)if(e[r].startLineNumber===t&&a.Range.containsPosition(e[r],o))return r;return-1},t.prototype._beginLinkedEditing=function(e,t){var n=this;this._currentController&&(this._currentController.dispose(),this._currentController=null);var o=this.editor.getSelection(),r=this._indexOf(e,o.positionLineNumber,o.positionColumn);if(-1!==r||(o=t,r=this._indexOf(e,o.positionLineNumber,o.positionColumn),-1!==r)){var i=!1;o.isEmpty()||a.Range.containsPosition(e[r],{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn})&&(i=!0);var s,u;i?(s=o.positionColumn-e[r].startColumn,u=o.selectionStartColumn-e[r].startColumn):(s=e[r].endColumn-e[r].startColumn,u=0);var c=[];c.push({selectionStartLineNumber:e[r].startLineNumber,selectionStartColumn:e[r].startColumn+u,positionLineNumber:e[r].startLineNumber,positionColumn:e[r].startColumn+s});for(var l=0;l<e.length;l++)l!==r&&c.push({selectionStartLineNumber:e[l].startLineNumber,selectionStartColumn:e[l].startColumn+u,positionLineNumber:e[l].startLineNumber,positionColumn:e[l].startColumn+s});this._changeAllMode.set(!0),this._currentController=new d(this.editor,c,e,function(){n._changeAllMode.reset()})}},t.prototype.leaveChangeAllMode=function(){this._currentController&&(this._currentController.onEnterOrEscape(),this._currentController=null)},t.ID="editor.action.changeAll",t=__decorate([__param(2,u.IMessageService),__param(3,l.IKeybindingService)],t)}(r.EditorAction);t.ChangeAllAction=p;var f="inChangeAllMode",m=o.CommonEditorRegistry.commandWeight(30);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(p,p.ID,n.localize("vs_editor_contrib_rename_browser_rename",0),{context:o.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"F2"}})),o.CommonEditorRegistry.registerEditorCommand("leaveChangeAllMode",m,{primary:{key:"Enter"},secondary:[{key:"Escape"}]},!0,f,function(e,t){var n=t.getAction(p.ID);n.leaveChangeAllMode()})}),define("vs/editor/common/modes/lineStream",["require","exports"],function(e,t){var n=function(){function e(e){this._source=e,this.sourceLength=e.length,this._pos=0,this.whitespace="	  ",this.whitespaceArr=this.stringToArray(this.whitespace),this.separators="",this.separatorsArr=this.stringToArray(this.separators),this.tokenStart=-1,this.tokenEnd=-1}return e.prototype.stringToArray=function(t){return e.STRING_TO_ARRAY_CACHE.hasOwnProperty(t)||(e.STRING_TO_ARRAY_CACHE[t]=this.actualStringToArray(t)),e.STRING_TO_ARRAY_CACHE[t]},e.prototype.actualStringToArray=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n);var o=[];for(n=0;t>n;n++)o[n]=!1;for(n=0;n<e.length;n++)o[e.charCodeAt(n)]=!0;return o},e.prototype.pos=function(){return this._pos},e.prototype.eos=function(){return this._pos>=this.sourceLength},e.prototype.peek=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this._source[this._pos]},e.prototype.next=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this.tokenStart=-1,this.tokenEnd=-1,this._source[this._pos++]},e.prototype.next2=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");this.tokenStart=-1,this.tokenEnd=-1,this._pos++},e.prototype.advance=function(e){if(0===e)return"";var t=this._pos;return this._pos+=e,this.tokenStart=-1,this.tokenEnd=-1,this._source.substring(t,this._pos)},e.prototype._advance2=function(e){return 0===e?e:(this._pos+=e,this.tokenStart=-1,this.tokenEnd=-1,e)},e.prototype.advanceToEOS=function(){var e=this._pos;return this._pos=this.sourceLength,this.resetPeekedToken(),this._source.substring(e,this._pos)},e.prototype.goBack=function(e){this._pos-=e,this.resetPeekedToken()},e.prototype.createPeeker=function(e){var t=this;if(e instanceof RegExp)return function(){var n=e.exec(t._source.substr(t._pos));if(null===n)return 0;if(0!==n.index)throw new Error('Regular expression must begin with the character "^"');return n[0].length};if((e instanceof String||"string"==typeof e)&&e)return function(){for(var n=e.length,o=t._pos+n<=t.sourceLength,r=0;o&&n>r;r++)o=t._source.charCodeAt(t._pos+r)===e.charCodeAt(r);return o?n:0};throw new Error("Condition must be either a regular expression, function or a non-empty string")},e.prototype._advanceIfStringCaseInsensitive=function(e){var t,n=this._pos,o=this._source,r=e.length;if(1>r||n+r>this.sourceLength)return 0;for(t=0;r>t;t++)if(o.charAt(n+t).toLowerCase()!==e.charAt(t).toLowerCase())return 0;return r},e.prototype.advanceIfStringCaseInsensitive=function(e){return this.advance(this._advanceIfStringCaseInsensitive(e))},e.prototype.advanceIfStringCaseInsensitive2=function(e){return this._advance2(this._advanceIfStringCaseInsensitive(e))},e.prototype._advanceIfString=function(e){var t,n=this._pos,o=this._source,r=e.length;if(1>r||n+r>this.sourceLength)return 0;for(t=0;r>t;t++)if(o.charCodeAt(n+t)!==e.charCodeAt(t))return 0;return r},e.prototype.advanceIfString=function(e){return this.advance(this._advanceIfString(e))},e.prototype.advanceIfString2=function(e){return this._advance2(this._advanceIfString(e))},e.prototype._advanceIfCharCode=function(e){return this._pos<this.sourceLength&&this._source.charCodeAt(this._pos)===e?1:0},e.prototype.advanceIfCharCode=function(e){return this.advance(this._advanceIfCharCode(e))},e.prototype.advanceIfCharCode2=function(e){return this._advance2(this._advanceIfCharCode(e))},e.prototype._advanceIfRegExp=function(e){return this._pos>=this.sourceLength?0:e.test(this._source.substr(this._pos))?RegExp.lastMatch.length:0},e.prototype.advanceIfRegExp=function(e){return this.advance(this._advanceIfRegExp(e))},e.prototype.advanceIfRegExp2=function(e){return this._advance2(this._advanceIfRegExp(e))},e.prototype.advanceLoop=function(e,t,n){if(this.eos())return"";var o=this.createPeeker(e),r=this._pos,i=0,s=null;for(s=t?function(e){return e>0}:function(e){return 0===e};!this.eos()&&s(i=o());)i>0?this.advance(i):this.next();return n&&!this.eos()&&this.advance(i),this._source.substring(r,this._pos)},e.prototype.advanceWhile=function(e){return this.advanceLoop(e,!0,!1)},e.prototype.advanceUntil=function(e,t){return this.advanceLoop(e,!1,t)},e.prototype._advanceUntilString=function(e,t){if(this.eos()||0===e.length)return 0;var n=this._pos,o=this._source.indexOf(e,n);return-1===o?this.sourceLength-n:t?o+e.length-n:o-n},e.prototype.advanceUntilString=function(e,t){return this.advance(this._advanceUntilString(e,t))},e.prototype.advanceUntilString2=function(e,t){return this._advance2(this._advanceUntilString(e,t))},e.prototype.resetPeekedToken=function(){this.tokenStart=-1,this.tokenEnd=-1},e.prototype.setTokenRules=function(e,t){(this.separators!==e||this.whitespace!==t)&&(this.separators=e,this.separatorsArr=this.stringToArray(this.separators),this.whitespace=t,this.whitespaceArr=this.stringToArray(this.whitespace),this.resetPeekedToken())},e.prototype.peekToken=function(){if(-1!==this.tokenStart)return this._source.substring(this.tokenStart,this.tokenEnd);var e=this._source,t=this.sourceLength,n=this.whitespaceArr,o=this.separatorsArr,r=this._pos;if(r>=t)throw new Error("Stream is at the end");for(;n[e.charCodeAt(r)]&&t>r;)r++;var i=r;if(o[e.charCodeAt(i)]&&t>i)i++;else for(;!o[e.charCodeAt(i)]&&!n[e.charCodeAt(i)]&&t>i;)i++;return this.tokenStart=r,this.tokenEnd=i,e.substring(r,i)},e.prototype.nextToken=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");var e;return e=-1===this.tokenStart?this.peekToken():this._source.substring(this.tokenStart,this.tokenEnd),this._pos=this.tokenEnd,this.tokenStart=-1,this.tokenEnd=-1,e},e.prototype.peekWhitespace=function(){for(var e=this._source,t=this.sourceLength,n=this.whitespaceArr,o=this._pos;n[e.charCodeAt(o)]&&t>o;)o++;return e.substring(this._pos,o)},e.prototype._skipWhitespace=function(){for(var e=this._source,t=this.sourceLength,n=this.whitespaceArr,o=this._pos,r=this._pos;n[e.charCodeAt(r)]&&t>r;)r++;return r-o},e.prototype.skipWhitespace=function(){return this.advance(this._skipWhitespace())},e.prototype.skipWhitespace2=function(){return this._advance2(this._skipWhitespace())},e.STRING_TO_ARRAY_CACHE={},e}();t.LineStream=n}),define("vs/editor/common/modes/autoIndentation",["require","exports","vs/base/common/strings","vs/editor/common/modes"],function(e,t,n,o){var r;!function(e){e[e.Unknown=0]="Unknown",e[e.Lowercase=1]="Lowercase",e[e.Uppercase=2]="Uppercase",e[e.Camelcase=3]="Camelcase"}(r||(r={}));var i=function(){function e(e,t,n,o){void 0===t&&(t=[]),void 0===n&&(n=null),void 0===o&&(o=!1),this.brackets=e,this.regexBrackets=t?t:[],this.docComment=n?n:null,this.caseInsensitive=o?o:!1}return e.prototype.getElectricCharacters=function(){for(var e,t=[],n=this.brackets.length,o=0;n>o;o++)if(e=this.brackets[o],e.isElectric){var r=e.close.charAt(e.close.length-1);t.push(this.caseInsensitive?r.toLowerCase():r)}var i;n=this.regexBrackets.length;for(var o=0;n>o;o++)i=this.regexBrackets[o],i.openTrigger&&t.push(this.caseInsensitive?i.openTrigger.toLowerCase():i.openTrigger),i.closeTrigger&&t.push(this.caseInsensitive?i.closeTrigger.toLowerCase():i.closeTrigger);if(this.docComment&&t.push(this.docComment.open.charAt(this.docComment.open.length-1)),this.caseInsensitive)for(var s=t.length,o=0;s>o;++o)t.push(t[o].toUpperCase());return t=t.filter(function(e,t,n){return n.indexOf(e)==t})},e.prototype.onEnter=function(e,t){return 0===e.getTokenCount()?null:this._onEnterDocComment(e,t)||this._onEnterRegexBrackets(e,t)||this._onEnterStandardBrackets(e,t)},e.prototype.onElectricCharacter=function(e,t){return 0===e.getTokenCount()?null:this._onElectricCharacterDocComment(e,t)||this._onElectricCharacterRegexBrackets(e,t)||this._onElectricCharacterStandardBrackets(e,t)},e.prototype.tokenTypeFromString=function(e){var t=e;this.caseInsensitive&&(t=e.toLowerCase());for(var n,o=0;o<this.brackets.length;o++)if(n=this.brackets[o],t===n.open||t===n.close)return n.tokenType;return null},e.prototype.bracketTypeFromString=function(e){var t=e;this.caseInsensitive&&(t=e.toLowerCase());for(var n,r=0;r<this.brackets.length;r++){if(n=this.brackets[r],t===n.open)return o.Bracket.Open;if(t===n.close)return o.Bracket.Close}return null},e.prototype.tokenTypeIsBracket=function(e){for(var t=0;t<this.brackets.length;t++)if(e===this.brackets[t].tokenType)return!0;return!1},e.prototype.stringIsBracket=function(e){var t=e;this.caseInsensitive&&(t=e.toLowerCase());for(var n,o=0;o<this.brackets.length;o++)if(n=this.brackets[o],t===n.open||t===n.close)return!0;return!1},e.prototype.containsTokenTypes=function(e,t){for(var n=t.split("."),o=0;o<n.length;++o)if(e.indexOf(n[o])<0)return!1;return!0},e.prototype._onEnterStandardBrackets=function(e,t){for(var n=0,r=e.findIndexOfOffset(t-1),i=0;r>=i&&!(i===r&&e.getTokenEndIndex(i)>t);i++){var s=e.getTokenBracket(i);s===o.Bracket.Open&&n++,s===o.Bracket.Close&&n--}for(var a=r;a>0&&""===e.getTokenType(a);)a--;if(a>=0&&e.getTokenEndIndex(a)>t)return n>0?{indentAction:o.IndentAction.Indent}:null;if(e.getTokenBracket(a)!==o.Bracket.Open)return n>0?{indentAction:o.IndentAction.Indent}:null;for(var u=r+1;u<e.getTokenCount()&&""===e.getTokenType(u);)u++;return u<e.getTokenCount()&&e.getTokenType(u)===e.getTokenType(a)&&e.getTokenBracket(u)===o.Bracket.Close?{indentAction:o.IndentAction.IndentOutdent}:{indentAction:o.IndentAction.Indent}},e.prototype._onEnterRegexBrackets=function(e,t){for(var n=0;n<this.regexBrackets.length;++n){var r=this.regexBrackets[n],i=e.getLineContent();this.caseInsensitive&&(i=i.toLowerCase());var s=i.substr(0,t),a=s.match(r.open);if(a){if(r.closeComplete){s=i.substring(t);var u=a[0].replace(r.open,r.closeComplete);if(0===s.indexOf(u))return{indentAction:o.IndentAction.IndentOutdent}}return{indentAction:o.IndentAction.Indent}
}}return null},e.prototype._onEnterDocComment=function(e,t){if(!this.docComment)return null;var n=e.findIndexOfOffset(t);if(!this.containsTokenTypes(e.getTokenType(n),this.docComment.scope))return null;var r=e.getLineContent(),i=r.indexOf(this.docComment.open),s=-1;return this.docComment.close&&(s=r.indexOf(this.docComment.close)),-1===i&&-1===s?{indentAction:o.IndentAction.None,appendText:this.docComment.lineStart.replace(/^\s*/,"")}:-1!==i&&t>=i+3?-1!==s&&s>=t?{indentAction:o.IndentAction.IndentOutdent,appendText:this.docComment.lineStart}:{indentAction:o.IndentAction.None,appendText:this.docComment.lineStart}:null},e.prototype._onElectricCharacterStandardBrackets=function(e,t){var o=e.findIndexOfOffset(t),r=e.getTokenText(o),i=e.getTokenType(o);if(!this.stringIsBracket(r))return null;if(o>=0&&e.getTokenEndIndex(o)-1>t)return null;var s=n.firstNonWhitespaceIndex(e.getLineContent());return-1!==s&&s<=t-r.length?null:{matchBracketType:i}},e.prototype._onElectricCharacterRegexBrackets=function(e,t){for(var n=e.getLineContent(),o=0;o<this.regexBrackets.length;++o){var r=this.regexBrackets[o];if(r.openTrigger&&r.closeComplete&&(n.charAt(t)===r.openTrigger||this.caseInsensitive&&n.charAt(t).toLowerCase()===r.openTrigger.toLowerCase())){var i=n.substr(0,t+1),s=i.match(r.open);if(s){var a=s[0].replace(r.open,r.closeComplete);return r.matchCase&&(a=this._changeLettercase(a,this._detectLetercase(s[0]))),{appendText:a}}}if(r.closeTrigger&&(n.charAt(t)===r.closeTrigger||this.caseInsensitive&&n.charAt(t).toLowerCase()===r.closeTrigger.toLowerCase())){var s=i.match(r.close);if(s){var u=s[0];return this.caseInsensitive&&(u=u.toLowerCase()),{matchBracketType:u.replace(r.close,r.tokenType)}}}}return null},e.prototype._onElectricCharacterDocComment=function(e,t){if(!this.docComment||!this.docComment.close)return null;var n=e.getLineContent(),o=n[t];if(o!==this.docComment.open.charAt(this.docComment.open.length-1))return null;if(n.indexOf(this.docComment.close,t)>=0)return null;var r=e.findIndexOfOffset(t);return this.containsTokenTypes(e.getTokenType(r),this.docComment.scope)?n.substring(e.getTokenStartIndex(r),t+1)!==this.docComment.open?null:{appendText:this.docComment.close}:null},e.prototype._detectLetercase=function(e){return e.toLowerCase()===e?r.Lowercase:e.toUpperCase()===e?r.Uppercase:e.length>1&&e.charAt(0).toUpperCase()===e.charAt(0)&&e.charAt(1).toLowerCase()===e.charAt(1)?r.Camelcase:r.Unknown},e.prototype._changeLettercase=function(e,t){switch(t){case r.Lowercase:return e.toLowerCase();case r.Uppercase:return e.toUpperCase();case r.Camelcase:for(var n=e.toLowerCase().split(" "),o=0;o<n.length;++o)n[o]=n[o].charAt(0).toUpperCase()+n[o].substr(1);return n.join(" ");default:return e}},e}();t.Brackets=i}),define("vs/base/common/filters",["require","exports","vs/base/common/strings"],function(e,t,n){function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t,n){for(var o=0,r=e.length;r>o;o++){var i=e[o](t,n);if(i)return i}return null}}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t,n){for(var o=[],r=0,i=e.length;i>r;r++){var s=e[r](t,n);if(!s)return null;o=o.concat(s)}return o}}function i(e,t,n){if(0===n.length||n.length<t.length)return null;e&&(t=t.toLowerCase(),n=n.toLowerCase());for(var o=0;o<t.length;o++)if(t[o]!==n[o])return null;return t.length>0?[{start:0,end:t.length}]:[]}function s(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]}function a(e,t){return u(e.toLowerCase(),t.toLowerCase(),0,0)}function u(e,t,n,o){if(n===e.length)return[];if(o===t.length)return null;if(e[n]===t[o]){var r=null;if(r=u(e,t,n+1,o+1))return p({start:o,end:o+1},r)}return u(e,t,n,o+1)}function c(e){return e>=97&&122>=e}function l(e){return e>=65&&90>=e}function d(e){return e>=48&&57>=e}function h(e){return c(e)||l(e)||d(e)}function p(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function f(e,t){for(var n=t;n<e.length;n++){var o=e.charCodeAt(n);if(l(o)||d(o)||n>0&&!h(e.charCodeAt(n-1)))return n}return e.length}function m(e,t,n,o){if(n===e.length)return[];if(o===t.length)return null;if(e[n]!==t[o].toLowerCase())return null;var r=null,i=o+1;for(r=m(e,t,n+1,o+1);!r&&(i=f(t,i))<t.length;)r=m(e,t,n+1,i),i++;return null===r?null:p({start:o,end:o+1},r)}function g(e){for(var t=0,n=0,o=0,r=0,i=0;i<e.length;i++)r=e.charCodeAt(i),l(r)&&t++,c(r)&&n++,h(r)&&o++;var s=t/e.length,a=n/e.length,u=o/e.length;return a>.2&&.8>s&&u>.6}function v(e,t){if(0===t.length)return null;if(!g(t))return null;for(var n=null,o=0;o<t.length&&null===(n=m(e.toLowerCase(),t,0,o));)o=f(t,o+1);return n}function _(e,t){var o=b[e];o||(o=new RegExp(n.convertSimple2RegExpPattern(e),"i"),b[e]=o);var r=o.exec(t);return r?[{start:r.index,end:r.index+r[0].length}]:y(e,t)}t.or=o,t.and=r,t.matchesStrictPrefix=function(e,t){return i(!1,e,t)},t.matchesPrefix=function(e,t){return i(!0,e,t)},t.matchesContiguousSubString=s,t.matchesSubString=a,t.matchesCamelCase=v;var y=o(t.matchesPrefix,v,s),b={};t.matchesFuzzy=_}),define("vs/editor/common/modes/modesFilters",["require","exports","vs/base/common/filters"],function(e,t,n){function o(e){return function(t,n){var o=e(t,n.label);return n.highlights=o||[],!!o}}function r(e,t){return function(n,o){return e(n,o)||t(n,o)}}function i(e,t){return function(n,o){return e(n,o)&&t(n,o)}}t.StrictPrefix=o(n.matchesStrictPrefix),t.Prefix=o(n.matchesPrefix),t.CamelCase=o(n.matchesCamelCase),t.ContiguousSubString=o(n.matchesContiguousSubString),t.or=r,t.and=i,t.DefaultFilter=r(r(t.Prefix,t.CamelCase),t.ContiguousSubString)});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/modes/supports",["require","exports","vs/base/common/winjs.base","vs/base/common/strings","vs/editor/common/modes/lineStream","vs/editor/common/modes/nullMode","vs/editor/common/modes/autoIndentation","vs/editor/common/modes/modesFilters","vs/editor/common/modes","vs/editor/common/core/arrays"],function(e,t,n,o,r,i,s,a,u,c){function l(e,t,n){var o=e.modeTransitions;if(1===o.length)return n(o[0].mode,e,t);var r=c.Arrays.findIndexInSegmentsArray(o,t),i=o[r].mode,s=o[r].startIndex,a=e.findIndexOfOffset(s),u=-1,l=-1;r+1<o.length?(l=e.findIndexOfOffset(o[r+1].startIndex),u=e.getTokenStartIndex(l)):(l=e.getTokenCount(),u=e.getLineContent().length);var d=e.getTokenStartIndex(a),h=new f(e,i,a,l,d,u);return n(i,h,t-d)}function d(e,t,n,r){if(void 0===r&&(r=!1),!Array.isArray(n)||0===n.length)return!1;if(e.getLineContent().length<=t)return!1;for(var i=e.findIndexOfOffset(t),s=e.getTokenType(i),a=0,u=n.length;u>a;a++)if(r){if(s.indexOf(n[a])>=0)return!0}else if(o.endsWith(s,n[a]))return!0;return!1}function h(e){return"function"==typeof e}var p=function(){function e(e,t,n){this.startIndex=e,this.type=t,this.bracket=n}return e}();t.Token=p,t.handleEvent=l,t.isLineToken=d;var f=function(){function e(e,t,n,o,r,i){this.modeTransitions=[{startIndex:0,mode:t}],this._actual=e,this._firstTokenInModeIndex=n,this._nextTokenAfterMode=o,this._firstTokenCharacterOffset=r,this._nextCharacterAfterModeIndex=i}return e.prototype.getLineContent=function(){var e=this._actual.getLineContent();return e.substring(this._firstTokenCharacterOffset,this._nextCharacterAfterModeIndex)},e.prototype.getTokenCount=function(){return this._nextTokenAfterMode-this._firstTokenInModeIndex},e.prototype.findIndexOfOffset=function(e){return this._actual.findIndexOfOffset(e+this._firstTokenCharacterOffset)-this._firstTokenInModeIndex},e.prototype.getTokenStartIndex=function(e){return this._actual.getTokenStartIndex(e+this._firstTokenInModeIndex)-this._firstTokenCharacterOffset},e.prototype.getTokenEndIndex=function(e){return this._actual.getTokenEndIndex(e+this._firstTokenInModeIndex)-this._firstTokenCharacterOffset},e.prototype.getTokenType=function(e){return this._actual.getTokenType(e+this._firstTokenInModeIndex)},e.prototype.getTokenBracket=function(e){return this._actual.getTokenBracket(e+this._firstTokenInModeIndex)},e.prototype.getTokenText=function(e){return this._actual.getTokenText(e+this._firstTokenInModeIndex)},e}();t.FilteredLineContext=f;var m=function(){function e(e){this._mode=e}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),e}();t.AbstractSupport=m;var g=function(e){function t(t,n,o,r){e.call(this,t),this.customization=n,this.supportsNestedModes=o,this.shouldGenerateEmbeddedModels=r,this.defaults={enterNestedMode:!h(n.enterNestedMode),getNestedMode:!h(n.getNestedMode),getNestedModeInitialState:!h(n.getNestedModeInitialState),getLeavingNestedModeData:!h(n.getLeavingNestedModeData),onReturningFromNestedMode:!h(n.onReturningFromNestedMode)}}return __extends(t,e),t.prototype.getInitialState=function(){return this.customization.getInitialState()},t.prototype.tokenize=function(e,t,n,o){return void 0===n&&(n=0),void 0===o&&(o=n+e.length),t.getMode()!==this.mode?this._nestedTokenize(e,t,n,o,[],[]):this._myTokenize(e,t,n,o,[],[])},t.prototype._nestedTokenize=function(e,t,n,o,r,s){for(var a=t.getStateData(),u=this.getLeavingNestedModeData(e,a),c=t;c.getStateData()&&c.getStateData().getMode()!==this.mode;)c=c.getStateData();var l=c.getMode();if(!u){var d;return d=l.tokenizationSupport?l.tokenizationSupport.tokenize(e,t,n,o):i.nullTokenize(l,e,t,n),d.tokens=r.concat(d.tokens),d.modeTransitions=s.concat(d.modeTransitions),d}var h=u.nestedModeBuffer;if(h.length>0){var p;p=l.tokenizationSupport?l.tokenizationSupport.tokenize(h,t,n,o):i.nullTokenize(l,h,t,n),t=p.endState,r=r.concat(p.tokens),s=s.concat(p.modeTransitions)}var f=u.bufferAfterNestedMode,m=u.stateAfterNestedMode;return m.setStateData(a.getStateData()),this.onReturningFromNestedMode(m,t),this._myTokenize(f,m,n+h.length,o,r,s)},t.prototype._myTokenize=function(e,n,o,i,s,a){var c,l,d=new r.LineStream(e),h=null,f=null;n=n.clone(),(a.length<=0||a[a.length-1].mode!==this.mode)&&a.push({startIndex:o,mode:this.mode});for(var m=Math.min(i-o,e.length),g=u.Bracket.None;d.pos()<m;){l=d.pos();do{if(c=n.tokenize(d),null===c||void 0===c||(void 0===c.type||null===c.type)&&(void 0===c.nextState||null===c.nextState))throw new Error("Tokenizer must return a valid state");if(c.nextState&&(c.nextState.setStateData(n.getStateData()),n=c.nextState),d.pos()<=l)throw new Error("Stream did not advance while tokenizing. Mode id is "+this.mode.getId()+' (stuck at token type: "'+c.type+'", prepend tokens: "'+s.map(function(e){return e.type}).join(",")+'").')}while(!c.type&&""!==c.type);if((h!==c.type||c.bracket||null===h)&&s.push(new p(l+o,c.type,c.bracket||g)),h=c.type,this.supportsNestedModes&&this.enterNestedMode(n)){var v=this._getEmbeddedLevel(n);if(v<t.MAX_EMBEDDED_LEVELS){var _=this.getNestedModeInitialState(n);if(!d.eos()){var y=e.substr(d.pos()),b=this._nestedTokenize(y,_.state,o+d.pos(),i,s,a);return b.retokenize=b.retokenize||_.missingModePromise,b}n=_.state,f=_.missingModePromise}}}return{tokens:s,actualStopOffset:d.pos()+o,modeTransitions:a,endState:n,retokenize:f}},t.prototype._getEmbeddedLevel=function(e){for(var t=-1;e;)t++,e=e.getStateData();return t},t.prototype.enterNestedMode=function(e){return this.defaults.enterNestedMode?!1:this.customization.enterNestedMode(e)},t.prototype.getNestedMode=function(e){return this.defaults.getNestedMode?null:this.customization.getNestedMode(e)},t._validatedNestedMode=function(e){var t=new i.NullMode,n=null;return e&&e.mode&&(t=e.mode),e&&e.missingModePromise&&(n=e.missingModePromise),{mode:t,missingModePromise:n}},t.prototype.getNestedModeInitialState=function(e){if(this.defaults.getNestedModeInitialState){var n,o=t._validatedNestedMode(this.getNestedMode(e)),r=o.missingModePromise;return n=o.mode.tokenizationSupport?o.mode.tokenizationSupport.getInitialState():new i.NullState(o.mode,null),n.setStateData(e),{state:n,missingModePromise:r}}return this.customization.getNestedModeInitialState(e)},t.prototype.getLeavingNestedModeData=function(e,t){return this.defaults.getLeavingNestedModeData?null:this.customization.getLeavingNestedModeData(e,t)},t.prototype.onReturningFromNestedMode=function(e,t){return this.defaults.onReturningFromNestedMode?null:this.customization.onReturningFromNestedMode(e,t)},t.MAX_EMBEDDED_LEVELS=5,t}(m);t.TokenizationSupport=g;var v=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t),this.defaults={getElectricCharacters:!h(n.getElectricCharacters),onElectricCharacter:!h(n.onElectricCharacter),onEnter:!h(n.onEnter)},this.customization=n}return __extends(t,e),t.prototype.getElectricCharacters=function(){return this.defaults.getElectricCharacters?[]:this.customization.getElectricCharacters()},t.prototype.onElectricCharacter=function(e,t){var n=this;return l(e,t,function(e,t,o){return n.mode===e?n.defaults.onElectricCharacter?null:n.customization.onElectricCharacter(t,o):e.electricCharacterSupport?e.electricCharacterSupport.onElectricCharacter(t,o):null})},t.prototype.onEnter=function(e,t){var n=this;return l(e,t,function(e,t,o){return n.mode===e?n.defaults.onEnter?null:n.customization.onEnter(t,o):e.electricCharacterSupport?e.electricCharacterSupport.onEnter(t,o):null})},t}(m);t.ElectricCharacterSupport=v;var _=function(e){function t(t,n){e.call(this,t),this.contribution=n,this.brackets=new s.Brackets(n.brackets,n.regexBrackets,n.docComment,n.caseInsensitive)}return __extends(t,e),t.prototype.getElectricCharacters=function(){return Array.isArray(this.contribution.embeddedElectricCharacters)?this.contribution.embeddedElectricCharacters.concat(this.brackets.getElectricCharacters()):this.brackets.getElectricCharacters()},t.prototype.onElectricCharacter=function(e,t){var n=this;return l(e,t,function(e,t,o){return n.mode===e?n.brackets.onElectricCharacter(t,o):e.electricCharacterSupport?e.electricCharacterSupport.onElectricCharacter(t,o):null})},t.prototype.onEnter=function(e,t){var n=this;return l(e,t,function(e,t,o){return n.mode===e?n.brackets.onEnter(t,o):e.electricCharacterSupport?e.electricCharacterSupport.onEnter(t,o):null})},t}(m);t.BracketElectricCharacterSupport=_;var y=function(e){function t(t,n){e.call(this,t),this.contribution=n}return __extends(t,e),t.prototype.canFindDeclaration=function(e,t){var n=this;return l(e,t,function(e,t,o){return n.mode===e?!Array.isArray(n.contribution.tokens)||n.contribution.tokens.length<1||d(t,o,n.contribution.tokens):e.declarationSupport?e.declarationSupport.canFindDeclaration(t,o):!1})},t.prototype.findDeclaration=function(e,t){return this.contribution.findDeclaration(e,t)},t}(m);t.DeclarationSupport=y;var b=function(e){function t(t,n){e.call(this,t),this.contribution=n}return __extends(t,e),t.prototype.canFindTypeDeclaration=function(e,t){var n=this;return l(e,t,function(e,t,o){return n.mode===e?!Array.isArray(n.contribution.tokens)||n.contribution.tokens.length<1||d(t,o,n.contribution.tokens):e.typeDeclarationSupport?e.typeDeclarationSupport.canFindTypeDeclaration(t,o):!1})},t.prototype.findTypeDeclaration=function(e,t){return this.contribution.findTypeDeclaration(e,t)},t}(m);t.TypeDeclarationSupport=b;var C=function(e){function t(t,n){e.call(this,t),this.contribution=n}return __extends(t,e),t.prototype.canFindReferences=function(e,t){var n=this;return l(e,t,function(e,t,o){return n.mode===e?!Array.isArray(n.contribution.tokens)||n.contribution.tokens.length<1||d(t,o,n.contribution.tokens):e.referenceSupport?e.referenceSupport.canFindReferences(t,o):!1})},t.prototype.findReferences=function(e,t,n){return this.contribution.findReferences(e,t,n)},t}(m);t.ReferenceSupport=C;var S=function(e){function t(t,n){e.call(this,t),this.contribution=n}return __extends(t,e),t.prototype.getParameterHintsTriggerCharacters=function(){return this.contribution.triggerCharacters},t.prototype.shouldTriggerParameterHints=function(e,t){var n=this;return l(e,t,function(e,t,o){return n.mode===e?Array.isArray(n.contribution.excludeTokens)?1===n.contribution.excludeTokens.length&&"*"===n.contribution.excludeTokens[0]?!1:!d(t,o-1,n.contribution.excludeTokens):!0:e.parameterHintsSupport?e.parameterHintsSupport.shouldTriggerParameterHints(t,o):!1})},t.prototype.getParameterHints=function(e,t){return this.contribution.getParameterHints(e,t)},t}(m);t.ParameterHintsSupport=S;var w=function(e){function t(t,n){if(e.call(this,t),this.contribution=n,this.suggest=function(e,t){return n.suggest(e,t)},"function"==typeof n.getSuggestionDetails&&(this.getSuggestionDetails=function(e,t,o){return n.getSuggestionDetails(e,t,o)}),this.sortByType=[],this.separatorForType=[],Array.isArray(n.sortBy)&&n.sortBy.length>0)for(var o=0;o<n.sortBy.length;++o)this.sortByType.push(n.sortBy[o].type),this.separatorForType.push(n.sortBy[o].partSeparator)}return __extends(t,e),t.prototype.shouldAutotriggerSuggest=function(e,t,n){var o=this;return l(e,t,function(e,t,r){return o.mode===e?o.contribution.disableAutoTrigger?!1:Array.isArray(o.contribution.excludeTokens)?1===o.contribution.excludeTokens.length&&"*"===o.contribution.excludeTokens[0]?!1:!d(t,r-1,o.contribution.excludeTokens,!0):!0:e.suggestSupport?e.suggestSupport.shouldAutotriggerSuggest(t,r,n):!1})},t.prototype.getFilter=function(){return a.DefaultFilter},t.prototype.getSorter=function(){var e=this;return function(t,n){if(e.sortByType.length>0){var r=e.sortByType.indexOf(t.type),i=e.sortByType.indexOf(n.type);if(0>r&&(r=e.sortByType.length),0>i&&(i=e.sortByType.length),i>r)return-1;if(r>i)return 1;if(r<e.sortByType.length){var s=e.separatorForType[r],a="string"==typeof s&&s.length>0?t.label.split(s):[t.label],u="string"==typeof s&&s.length>0?n.label.split(s):[n.label];if(a.length<u.length)return-1;if(a.length>u.length)return 1;for(var c=0;c<a.length;c++){var l=o.localeCompare(a[c],u[c]);if(0!==l)return l}return 0}}var d=o.localeCompare(t.label.toLowerCase(),n.label.toLowerCase());return d?d:o.localeCompare(t.documentationLabel||"",n.documentationLabel||"")}},t.prototype.getTriggerCharacters=function(){return this.contribution.triggerCharacters},t.prototype.shouldShowEmptySuggestionList=function(){return!0},t}(m);t.SuggestSupport=w;var E=function(e){function t(t,n){e.call(this,t,n),this.suggest=function(e,t){return n.suggest(e,t).then(function(o){return n.composeSuggest(e,t,o)})}}return __extends(t,e),t}(w);t.ComposableSuggestSupport=E;var T=function(e){function t(t,n){e.call(this,t),this._autoClosingPairs=n.autoClosingPairs,this._surroundingPairs=Array.isArray(n.surroundingPairs)?n.surroundingPairs:n.autoClosingPairs}return __extends(t,e),t.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},t.prototype.shouldAutoClosePair=function(e,t,n){var o=this;return l(t,n,function(t,n,r){if(o.mode===t){if(0===n.getTokenCount())return!0;for(var i=n.findIndexOfOffset(r-1),s=n.getTokenType(i),a=0;a<o._autoClosingPairs.length;++a)if(o._autoClosingPairs[a].open===e){if(o._autoClosingPairs[a].notIn)for(var u=0;u<o._autoClosingPairs[a].notIn.length;++u)if(s.indexOf(o._autoClosingPairs[a].notIn[u])>-1)return!1;break}return!0}return t.characterPairSupport?t.characterPairSupport.shouldAutoClosePair(e,n,r):null})},t.prototype.getSurroundingPairs=function(){return this._surroundingPairs},t}(m);t.CharacterPairSupport=T;var x=function(){function e(){}return e.prototype.valueSetsReplace=function(e,t,n){for(var o=null;e.length>0&&null===o;)o=this.valueSetReplace(e.pop(),t,n);return o},e.prototype.valueSetReplace=function(e,t,n){var o=e.indexOf(t);return o>=0?(o+=n?1:-1,0>o?o=e.length-1:o%=e.length,e[o]):null},e}();t.ReplaceSupport=new x;var M=function(){function e(e){void 0===e&&(e=null),this.defaults={textReplace:!e||!h(e.textReplace),navigateValueSetFallback:!e||!h(e.navigateValueSetFallback)},this.customization=e}return e.prototype.navigateValueSet=function(e,t,o){var r=this.doNavigateValueSet(e,t,o,!0);return r&&r.value&&r.range?n.TPromise.as(r):this.defaults.navigateValueSetFallback?n.TPromise.as(null):this.customization.navigateValueSetFallback(e,t,o)},e.prototype.doNavigateValueSet=function(e,t,n,o){var r,i=this.getModel(e),s={range:null,value:null};if(o)t.startColumn===t.endColumn&&(t.endColumn+=1),r=i.getValueInRange(t),s.range=t;else{var a={lineNumber:t.startLineNumber,column:t.startColumn},u=i.getWordAtPosition(a);if(!u||-1===u.startColumn)return null;r=u.word,s.range={startLineNumber:t.startLineNumber,endLineNumber:t.endLineNumber,startColumn:u.startColumn,endColumn:u.endColumn}}var c=this.numberReplace(r,n);if(null!==c)s.value=c;else{var l=this.textReplace(r,n);if(null!==l)s.value=l;else if(o)return this.doNavigateValueSet(e,t,n,!1)}return s},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),o=Number(e),r=parseFloat(e);return isNaN(o)||isNaN(r)||o!==r?null:0!==o||t?(o=Math.floor(o*n),o+=t?n:-n,String(o/n)):null},e.prototype.textReplace=function(e,t){return this.defaults.textReplace?null:this.customization.textReplace(e,t)},e.prototype.getModel=function(){throw new Error("Not implemented")},e}();t.AbstractInplaceReplaceSupport=M;var L=function(e){function t(t,n){void 0===n&&(n=null),e.call(this,n),this.resourceService=t}return __extends(t,e),t.prototype.getModel=function(e){return this.resourceService.get(e)},t}(M);t.WorkerInplaceReplaceSupport=L;var k=function(e){function t(t,n){void 0===n&&(n=null),e.call(this,n),this.modelService=t}return __extends(t,e),t.prototype.getModel=function(e){return this.modelService.getModel(e)},t}(M);t.MainInplaceReplaceSupport=k;var I=function(){function e(e){this._contribution=e}return e.prototype.getCommentsConfiguration=function(){return this._contribution.commentsConfiguration},e}();t.CommentsSupport=I;var N=function(){function e(e){this._contribution=e}return e.prototype.getWordDefinition=function(){return"undefined"==typeof this._contribution.wordDefinition?i.NullMode.DEFAULT_WORD_REGEXP:this._contribution.wordDefinition},e}();t.TokenTypeClassificationSupport=N}),define("vs/editor/contrib/rename/browser/renameInputField",["require","exports","vs/base/common/winjs.base","vs/base/common/errors","vs/base/common/lifecycle","vs/editor/common/common","vs/editor/browser/editorBrowser","vs/editor/common/core/range","vs/css!./rename"],function(e,t,n,o,r,i,s,a){var u=function(){function e(e){this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._editor=e,this._editor.addContentWidget(this)}return e.prototype.dispose=function(){this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"__renameInputWidget"},e.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField)),this._domNode},e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[s.ContentWidgetPositionPreference.BELOW,s.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},e.prototype.cancelInput=function(){this._currentCancelInput&&this._currentCancelInput()},e.prototype.getInput=function(e,t,s,u){var c=this;this._position={lineNumber:e.startLineNumber,column:e.startColumn},this._inputField.value=t,this._inputField.setAttribute("selectionStart",s.toString()),this._inputField.setAttribute("selectionEnd",u.toString());var l,d=[];return l=function(){r.disposeAll(d),c._hide()},new n.TPromise(function(n,r){c._currentCancelInput=function(){return c._currentAcceptInput=null,c._currentCancelInput=null,r(o.canceled()),!0},c._currentAcceptInput=function(){return 0===c._inputField.value.trim().length||c._inputField.value===t?(c._currentCancelInput(),void 0):(c._currentAcceptInput=null,c._currentCancelInput=null,n(c._inputField.value),void 0)};var s=function(){a.Range.containsPosition(e,c._editor.getPosition())||c._currentCancelInput()};d.push(c._editor.addListener2(i.EventType.CursorSelectionChanged,s)),d.push(c._editor.addListener2(i.EventType.EditorBlur,c._currentCancelInput)),c._show()},this._currentCancelInput).then(function(e){return l(),e},function(e){return l(),n.TPromise.wrapError(e)})},e.prototype._show=function(){var e=this;this._visible=!0,this._editor.layoutContentWidget(this),setTimeout(function(){e._inputField.focus(),e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},25)},e.prototype._hide=function(){this._visible=!1,this._editor.layoutContentWidget(this)},e}();return u});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/rename/browser/rename2",["require","exports","vs/base/common/winjs.base","vs/nls!vs/editor/editor.main","vs/base/common/errors","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/modes/supports","./renameModel","./renameInputField","vs/base/common/severity","./changeRecorder","vs/platform/message/browser/message","vs/platform/keybinding/common/keybindingService","vs/platform/event/common/event","vs/platform/editor/common/editor","vs/css!./rename"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m){var g=function(e){function t(t,n,o,r,i,a){e.call(this,t,n,s.Behaviour.WidgetFocus|s.Behaviour.Writeable|s.Behaviour.ShowInContextMenu|s.Behaviour.UpdateOnCursorPositionChange),this._messageService=o,this._eventService=i,this._editorService=a,this._renameInputField=new c(n),this._renameInputVisible=r.createKey(v,!1)}return __extends(t,e),t.prototype.getGroupId=function(){return"2_change/1_rename2"},t.prototype.isSupported=function(){return this.renameSupport()&&!this.editor.getModel().hasEditableRange()&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition(),n=this.renameSupport().filter;if(!n)return!0;var o=e.getLineContext(t.lineNumber);return a.isLineToken(o,t.column-1,n)?!0:t.column>1&&a.isLineToken(o,t.column-2,n)?!0:!1},t.prototype.renameSupport=function(){var e=this.editor.getModel();return e?e.getMode().renameSupport:null},t.prototype.run=function(){var e=this,t=this.renameSupport(),i=this.editor.getSelection(),s=this.editor.getModel().getWordAtPosition(i.getStartPosition());if(!t)return n.TPromise.wrapError(o.localize("vs_editor_contrib_rename_browser_rename2",0));if(s){var a,u=i.startLineNumber,c=0,d=s.word.length;return a={startLineNumber:u,startColumn:s.startColumn,endLineNumber:u,endColumn:s.endColumn},i.isEmpty()||i.startLineNumber!==i.endLineNumber||(c=Math.max(0,i.startColumn-s.startColumn),d=Math.min(s.endColumn,i.endColumn)-s.startColumn),this._renameInputVisible.set(!0),this._renameInputField.getInput(a,s.word,c,d).then(function(n){return e._renameInputVisible.reset(),e._prepareRename(t,n).then(function(t){if(t.isRejected()){var n=t.rejectReasons().join("\n");e._messageService.show(l.Warning,n)}else{var o=t.apply();e.editor.focus(),o&&e.editor.setSelection(o)}})},function(t){return e._renameInputVisible.reset(),e.editor.focus(),r.isPromiseCanceledError(t)?void 0:n.TPromise.wrapError(t)})}},t.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()},t.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput()},t.prototype._prepareRename=function(e,t){var n=this,r=new d.default(this._eventService).start(),i=this.editor.getModel().getAssociatedResource(),s=this.editor.getSelections();return e.rename(i,this.editor.getPosition(),t).then(function(e){var t,a;return t=e?e.rejectReason?new u.default(n._editorService,i,s,e.rejectReason):(a=n.errorIfConflicting(r,e))?new u.default(n._editorService,i,s,a):new u.default(n._editorService,i,s,e.edits):new u.default(n._editorService,i,s,o.localize("vs_editor_contrib_rename_browser_rename2",1)),t.isRejected()?t:t.prepare().then(function(){return(a=n.errorIfConflicting(r,e))&&t.reject(a),t})}).then(function(e){return r.stop(),e})},t.prototype.errorIfConflicting=function(e,t){var n=t.edits.map(function(e){return e.resource}).filter(function(t){return e.hasChanged(t)});return n.length>0?o.localize("vs_editor_contrib_rename_browser_rename2",2,n.join(", ")):void 0},t.ID="editor.action.rename",t=__decorate([__param(2,h.IMessageService),__param(3,p.IKeybindingService),__param(4,f.IEventService),__param(5,m.IEditorService)],t)}(s.EditorAction);t.RenameAction=g;var v="renameInputVisible",_=i.CommonEditorRegistry.commandWeight(99);i.CommonEditorRegistry.registerEditorAction(new i.EditorActionDescriptor(g,g.ID,o.localize("vs_editor_contrib_rename_browser_rename2",3),{context:i.ContextKey.EditorTextFocus,primary:{key:"F2"}})),i.CommonEditorRegistry.registerEditorCommand("acceptRenameInput",_,{primary:{key:"Enter"}},!1,v,function(e,t){var n=t.getAction(g.ID);n.acceptRenameInput()}),i.CommonEditorRegistry.registerEditorCommand("cancelRenameInput",_,{primary:{key:"Escape"}},!1,v,function(e,t){var n=t.getAction(g.ID);n.cancelRenameInput()})});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/smartSelect/common/tokenTree",["require","exports","vs/editor/common/modes","vs/editor/common/core/range","vs/editor/common/core/position"],function(e,t,n,o,r){function i(e){var t=new u;return t.start=r.Position.startPosition(e.range),t.end=r.Position.endPosition(e.range),t}function s(e){var t=new h(e).build();return t}function a(e,t){if(!o.Range.containsPosition(e.range,t))return null;var n;if(e instanceof c)for(var r=0,i=e.children.length;i>r&&!n;r++)n=a(e.children[r],t);else e instanceof l&&(n=a(e.open,t)||a(e.elements,t)||a(e.close,t));return n||e}var u=function(){function e(){}return Object.defineProperty(e.prototype,"range",{get:function(){return{startLineNumber:this.start.lineNumber,startColumn:this.start.column,endLineNumber:this.end.lineNumber,endColumn:this.end.column}},enumerable:!0,configurable:!0}),e}();t.Node=u;var c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.hasChildren?this.children[0].start:this.parent.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.hasChildren?this.children[this.children.length-1].end:this.parent.end},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this.children&&this.children.length>0},enumerable:!0,configurable:!0}),t.prototype.append=function(e){return e?(e.parent=this,this.children||(this.children=[]),e instanceof t?e.children&&this.children.push.apply(this.children,e.children):this.children.push(e),!0):!1},t}(u);t.NodeList=c;var l=function(e){function t(){e.call(this),this.elements=new c,this.elements.parent=this}return __extends(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.open.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.close.end},enumerable:!0,configurable:!0}),t}(u);t.Block=l;var d=function(){function e(e){this._model=e,this._versionId=e.getVersionId(),this._currentLineNumber=1}return e.prototype.next=function(){if(this._versionId!==this._model.getVersionId())return null;
if(this._currentLineNumber>=this._model.getLineCount()+1)return null;if(this._currentLineTokens||(this._currentLineTokens=this._model.getLineTokens(this._currentLineNumber),this._currentTokenIndex=0),this._currentTokenIndex>=this._currentLineTokens.getTokenCount())return this._currentLineNumber+=1,this._currentLineTokens=null,this.next();var e={type:this._currentLineTokens.getTokenType(this._currentTokenIndex),bracket:this._currentLineTokens.getTokenBracket(this._currentTokenIndex),range:{startLineNumber:this._currentLineNumber,startColumn:1+this._currentLineTokens.getTokenStartIndex(this._currentTokenIndex),endLineNumber:this._currentLineNumber,endColumn:1+this._currentLineTokens.getTokenEndIndex(this._currentTokenIndex,this._model.getLineMaxColumn(this._currentLineNumber))}};return this._currentTokenIndex+=1,e},e}(),h=function(){function e(e){this._stack=[],this._scanner=new d(e)}return e.prototype.build=function(){for(var e=new c;e.append(this._line()||this._any()););return e},e.prototype._accept=function(e){var t=this._stack.pop()||this._scanner.next();if(!t)return!1;var n=e(t);return n?this._currentToken=t:(this._stack.push(t),this._currentToken=null),n},e.prototype._peek=function(e){var t=!1;return this._accept(function(n){return t=e(n),!1}),t},e.prototype._line=function(){var e,t=new c;for(this._peek(function(t){return e=t.range.startLineNumber,!1});this._peek(function(t){return t.range.startLineNumber===e})&&t.append(this._token()||this._block()););return t.children&&0!==t.children.length?1===t.children.length?t.children[0]:t:null},e.prototype._token=function(){return this._accept(function(e){return e.bracket===n.Bracket.None})?i(this._currentToken):null},e.prototype._block=function(){var e,t;if(t=this._accept(function(t){return e=t.type,t.bracket===n.Bracket.Open}),!t)return null;var o=new l;for(o.open=i(this._currentToken);o.elements.append(this._line()););if(!this._accept(function(t){return t.bracket===n.Bracket.Close&&t.type===e})){var r=new c;return r.append(o.open),r.append(o.elements),r}return o.close=i(this._currentToken),o},e.prototype._any=function(){return this._accept(function(){return!0})?i(this._currentToken):null},e}();t.build=s,t.find=a});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/smartSelect/common/tokenSelectionSupport",["require","exports","vs/base/common/winjs.base","./tokenTree","vs/editor/common/services/modelService","vs/editor/common/core/range"],function(e,t,n,o,r,i){var s=function(){function e(e){this._modelService=e}return e.prototype.getRangesToPosition=function(e,t){var o=this._modelService.getModel(e),r=[];return o&&this._doGetRangesToPosition(o,t).forEach(function(e){r.push({type:void 0,range:e})}),n.TPromise.as(r)},e.prototype._doGetRangesToPosition=function(e,t){var n,r,s=o.build(e);n=o.find(s,t);for(var a=[];n;)r&&i.Range.equalsRange(r,n.range)||a.push(n.range),r=n.range,n=n.parent;return a=a.reverse()},e=__decorate([__param(0,r.IModelService)],e)}();return s});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/smartSelect/common/smartSelect",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/arrays","vs/base/common/winjs.base","vs/editor/common/common","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","./tokenSelectionSupport","vs/editor/common/core/range","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c,l){var d=function(){function e(e){this.editor=e,this.next=null,this.previous=null,this.selection=e.getSelection()}return e}(),h=null,p=!1,f=function(e){function t(t,n,o,r){e.call(this,t,n,a.Behaviour.TextFocus|a.Behaviour.UpdateOnModelChange),this._tokenSelectionSupport=r.createInstance(u),this._forward=o}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.editor.getSelection(),n=this.editor.getModel(),s=n.getMode().logicalSelectionSupport||this._tokenSelectionSupport;h&&h.editor!==this.editor&&(h=null);var a=r.TPromise.as(null);return h||(a=s.getRangesToPosition(n.getAssociatedResource(),t.getStartPosition()).then(function(t){if(!o.isFalsyOrEmpty(t)){var n;t.filter(function(t){var n=e.editor.getSelection(),o=c.Range.create(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);return o.containsPosition(n.getStartPosition())&&o.containsPosition(n.getEndPosition())}).forEach(function(t){var o=t.range,r=new d(e.editor);r.selection=c.Range.create(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn),n&&(r.next=n,n.previous=r),n=r});var r=new d(e.editor);r.next=n,n&&(n.previous=r),h=r;var s=e.editor.addListener(i.EventType.CursorPositionChanged,function(){p||(h=null,s())})}})),a.then(function(){if(h&&(h=e._forward?h.next:h.previous)){p=!0;try{e.editor.setSelection(h.selection)}finally{p=!1}return!0}})},t}(a.EditorAction),m=function(e){function t(t,n,o){e.call(this,t,n,!0,o)}return __extends(t,e),t.ID="editor.action.smartSelect.grow",t=__decorate([__param(2,l.IInstantiationService)],t)}(f),g=function(e){function t(t,n,o){e.call(this,t,n,!1,o)}return __extends(t,e),t.ID="editor.action.smartSelect.shrink",t=__decorate([__param(2,l.IInstantiationService)],t)}(f);s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(m,m.ID,n.localize("vs_editor_contrib_smartSelect_common_smartSelect",0),{context:s.ContextKey.EditorTextFocus,primary:{shift:!0,alt:!0,key:"RightArrow"},mac:{primary:{cmdCtrl:!0,winCtrl:!0,shift:!0,key:"RightArrow"}}})),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(g,g.ID,n.localize("vs_editor_contrib_smartSelect_common_smartSelect",1),{context:s.ContextKey.EditorTextFocus,primary:{shift:!0,alt:!0,key:"LeftArrow"},mac:{primary:{cmdCtrl:!0,winCtrl:!0,shift:!0,key:"LeftArrow"}}}))});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/smartSelect/common/jumpToBracket",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/common","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a){var u=function(e){function t(t,n){e.call(this,t,n,i.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){return this.editor.trigger(this.id,s.Handler.JumpToBracket,{}),o.TPromise.as(!0)},t.ID="editor.action.jumpToBracket",t=__decorate([__param(2,a.INullService)],t)}(i.EditorAction);r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(u,u.ID,n.localize("vs_editor_contrib_smartSelect_common_jumpToBracket",0),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,shift:!0,key:"]"}}))}),define("vs/css!vs/editor/contrib/snippet/common/snippet",["vs/css!vs/editor/editor.main"],{});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/snippet/common/snippet",["require","exports","vs/base/common/collections","vs/base/common/strings","vs/editor/common/common","vs/editor/common/editorCommonExtensions","vs/editor/common/core/range","vs/editor/common/core/selection","vs/editor/common/commands/replaceCommand","vs/platform/keybinding/common/keybindingService","vs/css!./snippet"],function(e,t,n,o,r,i,s,a,u,c){function l(e){return e.getContribution(f.ID)}!function(e){e[e.TextMateSnippet=0]="TextMateSnippet",e[e.EmmetSnippet=1]="EmmetSnippet"}(t.ExternalSnippetType||(t.ExternalSnippetType={}));var d=t.ExternalSnippetType,h=function(){function e(e){this.lines=[],this.placeHolders=[],this._lastGeneratedId=0,this.startPlaceHolderIndex=0,this.finishPlaceHolderIndex=-1,this.parseTemplate(e)}return e.prototype.parseTemplate=function(e){var t,o,r,i,a={},u=e.split("\n");for(t=0,o=u.length;o>t;t++){var c=this.parseLine(u[t],function(e){return n.contains(a,e)?a[e].value:""});for(r=0,i=c.placeHolders.length;i>r;r++){var l,d=c.placeHolders[r],h=s.Range.create(t+1,d.startColumn,t+1,d.endColumn);n.contains(a,d.id)?l=a[d.id]:(l={id:d.id,value:d.value,occurences:[]},this.placeHolders.push(l),""===d.value&&(this.finishPlaceHolderIndex=this.placeHolders.length-1),a[d.id]=l),l.occurences.push(h)}this.lines.push(c.line)}if(this.placeHolders.length>this.startPlaceHolderIndex){var p=this.placeHolders[this.startPlaceHolderIndex];""===p.value&&""===p.id&&this.placeHolders.length>1&&this.startPlaceHolderIndex++}},e.prototype.parseLine=function(e,t){for(var n=[{placeHolderId:"",placeHolderText:""}],o=[],r=0,i=e.length,s=0;i>r;){var a=e.substr(r);if(/^{{/.test(a)){r+=2,n.push({placeHolderId:"",placeHolderText:""});var u=a.match(/^{{(\w+):/);Array.isArray(u)&&2===u.length&&(n[n.length-1].placeHolderId=u[1],r+=u[1].length+1)}else if(n.length>1&&/^}}/.test(a)){if(r+=2,0===n[n.length-1].placeHolderId.length&&(n[n.length-1].placeHolderId=n[n.length-1].placeHolderText,"_"===n[n.length-1].placeHolderId&&(n[n.length-1].placeHolderId="TAB_STOP_"+String(++this._lastGeneratedId),n[n.length-1].placeHolderText="",--s)),0===n[n.length-1].placeHolderText.length){var c=t(n[n.length-1].placeHolderId);n[n.length-1].placeHolderText=c,s+=c.length}o.push({id:n[n.length-1].placeHolderId,value:n[n.length-1].placeHolderText,startColumn:s+1-n[n.length-1].placeHolderText.length,endColumn:s+1}),n[n.length-2].placeHolderText+=n[n.length-1].placeHolderText,n.pop()}else/^\\./.test(a)&&("{"===a.charAt(1)||"}"===a.charAt(1)||"\\"===a.charAt(1)?++r:(n[n.length-1].placeHolderText+=e.charAt(r),++s,++r)),n[n.length-1].placeHolderText+=e.charAt(r),++s,++r}return o.sort(function(e,t){return e.startColumn<t.startColumn?-1:e.startColumn>t.startColumn?1:e.endColumn<t.endColumn?-1:e.endColumn>t.endColumn?1:0}),{line:n[0].placeHolderText,placeHolders:o}},e.convertExternalSnippet=function(e,t){for(var n=0,o="",r=0,i=e.length;i>r;){var s=e.substr(r);if(/^\$0/.test(s))r+=2,o+=t===d.EmmetSnippet?"{{_}}":"{{}}";else if(/^\$\{0\}/.test(s))r+=4,o+=t===d.EmmetSnippet?"{{_}}":"{{}}";else if(t===d.EmmetSnippet&&/^\|/.test(s))++r,o+="{{}}";else{var a=s.match(/^\$(\d+)/);Array.isArray(a)&&2===a.length?(r+=1+a[1].length,o+="{{"+a[1]+":}}"):(a=s.match(/^\$\{(\d+)\}/),Array.isArray(a)&&2===a.length?(r+=3+a[1].length,o+="{{"+a[1]+":}}"):/^\${/.test(s)?(r+=2,++n,o+="{{"):n>0&&/^}/.test(s)?(r+=1,--n,o+="}}"):/^\\./.test(s)?(r+=2,o+=s.substr(0,2)):(a=s.match(/^({|})/),Array.isArray(a)&&2===a.length?(r+=1,o+="\\"+a[1]):(r+=1,o+=s.charAt(0))))}}return o},e.prototype.extractLineIndentation=function(e,t){void 0===t&&(t=Number.MAX_VALUE);var n=o.getLeadingWhitespace(e);return n.length>t-1?n.substring(0,t-1):n},e.prototype.bind=function(e,t,n,o){var r,i,s,a,u,c,l,d,h=[],p=[],f=this.extractLineIndentation(e,n+1),m=[];for(u=0,c=this.lines.length;c>u;u++)r=this.lines[u],0===u?(m[u+1]=n,h[u]=r):(i=this.extractLineIndentation(r),s=r.substr(i.length),a=o.normalizeIndentation(f+i),m[u+1]=a.length-i.length,h[u]=a+s);var g,v,_;for(u=0,c=this.placeHolders.length;c>u;u++){for(g=this.placeHolders[u],_=[],l=0,d=g.occurences.length;d>l;l++)v=g.occurences[l],_.push({startLineNumber:v.startLineNumber+t,startColumn:v.startColumn+m[v.startLineNumber],endLineNumber:v.endLineNumber+t,endColumn:v.endColumn+m[v.endLineNumber]});p.push({id:g.id,value:g.value,occurences:_})}return{lines:h,placeHolders:p,startPlaceHolderIndex:this.startPlaceHolderIndex,finishPlaceHolderIndex:this.finishPlaceHolderIndex}},e}();t.CodeSnippet=h;var p=function(){function e(e,t,n,o,r){this.editor=e,this._onStop=r,this.model=e.getModel(),this.finishPlaceHolderIndex=t.finishPlaceHolderIndex,this.trackedPlaceHolders=[],this.placeHolderDecorations=[],this.currentPlaceHolderIndex=t.startPlaceHolderIndex,this.highlightDecorationId=null,this.isFinished=!1,this._initialAlternativeVersionId=o,this.initialize(t,n)}return e.prototype.dispose=function(){this.stopAll()},e.prototype.initialize=function(e,t){var n,o,i=this;for(n=0,o=e.placeHolders.length;o>n;n++){for(var a=e.placeHolders[n],u=[],c=0,l=a.occurences.length;l>c;c++)u.push(this.model.addTrackedRange(a.occurences[c],r.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges));this.trackedPlaceHolders.push({ranges:u})}this.editor.changeDecorations(function(r){var a=t+e.lines.length-1,u=i.model.getLineMaxColumn(a);for(i.highlightDecorationId=r.addDecoration(s.Range.create(t,1,a,u),{className:"new-snippet",isWholeLine:!0}),n=0,o=i.trackedPlaceHolders.length;o>n;n++){var c=n===i.finishPlaceHolderIndex?"finish-snippet-placeholder":"snippet-placeholder";i.placeHolderDecorations.push(r.addDecoration(i.model.getTrackedRange(i.trackedPlaceHolders[n].ranges[0]),{className:c}))}}),this.listenersToRemove=[],this.listenersToRemove.push(this.editor.addListener(r.EventType.ModelContentChanged,function(e){if(!i.isFinished){if(e.changeType===r.EventType.ModelContentChangedFlush)i.stopAll();else if(e.changeType===r.EventType.ModelContentChangedLineChanged){var t=e.lineNumber,n=i.model.getDecorationRange(i.highlightDecorationId);(t<n.startLineNumber||t>n.endLineNumber)&&i.stopAll()}else if(e.changeType===r.EventType.ModelContentChangedLinesInserted){var o=e.fromLineNumber,n=i.model.getDecorationRange(i.highlightDecorationId);(o<n.startLineNumber||o>n.endLineNumber)&&i.stopAll()}else if(e.changeType===r.EventType.ModelContentChangedLinesDeleted){var s=e.fromLineNumber,a=e.toLineNumber,n=i.model.getDecorationRange(i.highlightDecorationId),u=a<n.startLineNumber,c=s>n.endLineNumber;(u||c)&&i.stopAll()}var l=i.editor.getModel().getAlternativeVersionId();i._initialAlternativeVersionId===l&&i.stopAll()}})),this.listenersToRemove.push(this.editor.addListener(r.EventType.CursorPositionChanged,function(e){if(!i.isFinished){var t=i.model.getDecorationRange(i.highlightDecorationId),n=e.position.lineNumber;(n<t.startLineNumber||n>t.endLineNumber)&&i.stopAll()}})),this.listenersToRemove.push(this.editor.addListener(r.EventType.ModelChanged,function(){i.stopAll()}));var d=-1;this.listenersToRemove.push(this.editor.addListener(r.EventType.EditorBlur,function(){d=setTimeout(function(){i.stopAll()},100)})),this.listenersToRemove.push(this.editor.addListener(r.EventType.EditorFocus,function(){-1!==d&&(clearTimeout(d),d=-1)})),this.listenersToRemove.push(this.model.addListener(r.EventType.ModelDecorationsChanged,function(){if(!i.isFinished){for(var e=i.model.getEditableRange(),t=null,n=!0,o=!0,r=0;(n||o)&&r<i.trackedPlaceHolders.length;r++)for(var s=i.trackedPlaceHolders[r].ranges,a=0;(n||o)&&a<s.length;a++){var u=i.model.getTrackedRange(s[a]);n&&(u.isEmpty()?null===t?t=u:t.equalsRange(u)||(n=!1):n=!1),o&&!e.equalsRange(u)&&(o=!1)}if(n||o)i.stopAll();else if(-1!==i.finishPlaceHolderIndex){var c=i.placeHolderDecorations[i.finishPlaceHolderIndex],l=i.model.getDecorationRange(c),d=i.model.getDecorationOptions(c),h=l.isEmpty(),p="finish-snippet-placeholder"===d.className,f=Number(h)^Number(p);f&&i.editor.changeDecorations(function(e){var t=h?"finish-snippet-placeholder":"snippet-placeholder";e.changeDecorationOptions(c,{className:t})})}}})),this.doLinkEditing()},e.prototype.onNextPlaceHolder=function(){return this.changePlaceHolder(!0)},e.prototype.onPrevPlaceHolder=function(){return this.changePlaceHolder(!1)},e.prototype.changePlaceHolder=function(e){if(this.isFinished)return!1;var t=this.currentPlaceHolderIndex,n=this.model.getTrackedRange(this.trackedPlaceHolders[t].ranges[0]),o=!0;do{this.currentPlaceHolderIndex=e?(this.currentPlaceHolderIndex+1)%this.trackedPlaceHolders.length:(this.trackedPlaceHolders.length+this.currentPlaceHolderIndex-1)%this.trackedPlaceHolders.length;var r=this.model.getTrackedRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[0]);o=n.equalsRange(r)}while(this.currentPlaceHolderIndex!==t&&o);return this.doLinkEditing(),!0},e.prototype.onAccept=function(){if(this.isFinished)return!1;if(-1!==this.finishPlaceHolderIndex){var e=this.model.getTrackedRange(this.trackedPlaceHolders[this.finishPlaceHolderIndex].ranges[0]);this.editor.setPosition({lineNumber:e.endLineNumber,column:e.endColumn})}return this.stopAll(),!0},e.prototype.onEscape=function(){return this.isFinished?!1:(this.stopAll(),this.editor.setSelections([this.editor.getSelections()[0]]),!0)},e.prototype.doLinkEditing=function(){for(var e=[],t=0,n=this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges.length;n>t;t++){var o=this.model.getTrackedRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[t]);e.push({selectionStartLineNumber:o.startLineNumber,selectionStartColumn:o.startColumn,positionLineNumber:o.endLineNumber,positionColumn:o.endColumn})}this.editor.setSelections(e)},e.prototype.stopAll=function(){var e=this;if(!this.isFinished){this._onStop(),this.isFinished=!0,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[];for(var t=0;t<this.trackedPlaceHolders.length;t++)for(var n=this.trackedPlaceHolders[t].ranges,o=0;o<n.length;o++)this.model.removeTrackedRange(n[o]);this.trackedPlaceHolders=[],this.editor.changeDecorations(function(t){t.removeDecoration(e.highlightDecorationId);for(var n=0;n<e.placeHolderDecorations.length;n++)t.removeDecoration(e.placeHolderDecorations[n]);e.placeHolderDecorations=[],e.highlightDecorationId=null})}},e}();t.get=l;var f=function(){function e(e,n){this._editor=e,this._currentController=null,this._inSnippetMode=n.createKey(t.CONTEXT_SNIPPET_MODE,!1)}return e.prototype.dispose=function(){this._currentController&&(this._currentController.dispose(),this._currentController=null)},e.prototype.getId=function(){return e.ID},e.prototype.run=function(e,t,n){this.dispose(),0===e.placeHolders.length?this._runForAllSelections(e,t,n):this._runForPrimarySelection(e,t,n)},e._getTypeRangeForSelection=function(e,t,n,o){var r;return r=n||o?e.validateRange(s.Range.plusRange(t,{startLineNumber:t.positionLineNumber,startColumn:t.positionColumn-n,endLineNumber:t.positionLineNumber,endColumn:t.positionColumn+o})):t},e._getAdaptedSnippet=function(e,t,n,o){return n.bind(t.getLineContent(o.startLineNumber),o.startLineNumber-1,o.startColumn-1,e)},e._getCommandForSnippet=function(e,t){var n=e.lines.join("\n");return new u.ReplaceCommand(t,n)},e.prototype._runForPrimarySelection=function(t,n,o){var r=this,i=this._editor.getModel().getAlternativeVersionId(),s=e._prepareSnippet(this._editor,this._editor.getSelection(),t,n,o);this._editor.executeCommand("editor.contrib.insertSnippetHelper",e._getCommandForSnippet(s.adaptedSnippet,s.typeRange));var u=e._getSnippetCursorOnly(s.adaptedSnippet);u?this._editor.setSelection(a.Selection.createSelection(u.lineNumber,u.column,u.lineNumber,u.column)):s.adaptedSnippet.placeHolders.length>0&&(this._inSnippetMode.set(!0),this._currentController=new p(this._editor,s.adaptedSnippet,s.typeRange.startLineNumber,i,function(){r._inSnippetMode.reset()}))},e.prototype._runForAllSelections=function(t,n,o){var r,i=this._editor.getSelections(),s=[];for(r=0;r<i.length;r++){var a=e._prepareSnippet(this._editor,i[r],t,n,o);s.push(e._getCommandForSnippet(a.adaptedSnippet,a.typeRange))}this._editor.executeCommands("editor.contrib.insertSnippetHelper",s)},e._prepareSnippet=function(t,n,r,i,s){var a=t.getModel(),u=e._getTypeRangeForSelection(a,n,i,s);if(1===r.lines.length){var c=a.getLineContent(u.endLineNumber).substr(u.endColumn-1),l=r.lines[0].substr(i),d=o.commonPrefixLength(c,l);d>0&&(u=u.setEndPosition(u.endLineNumber,u.endColumn+d))}var h=e._getAdaptedSnippet(t,a,r,u);return{typeRange:u,adaptedSnippet:h}},e._getSnippetCursorOnly=function(e){if(1!==e.placeHolders.length)return null;var t=e.placeHolders[0];if(""!==t.value||1!==t.occurences.length)return null;var n=t.occurences[0];return s.Range.isEmpty(n)?{lineNumber:n.startLineNumber,column:n.startColumn}:null},e.prototype.jumpToNextPlaceholder=function(){this._currentController&&this._currentController.onNextPlaceHolder()},e.prototype.jumpToPrevPlaceholder=function(){this._currentController&&this._currentController.onPrevPlaceHolder()},e.prototype.acceptSnippet=function(){this._currentController&&this._currentController.onAccept()},e.prototype.leaveSnippet=function(){this._currentController&&this._currentController.onEscape()},e.ID="editor.contrib.snippetController",e=__decorate([__param(1,c.IKeybindingService)],e)}();t.CONTEXT_SNIPPET_MODE="inSnippetMode";var m=i.CommonEditorRegistry.commandWeight(30);i.CommonEditorRegistry.registerEditorContribution(f),i.CommonEditorRegistry.registerEditorCommand("jumpToNextSnippetPlaceholder",m,{primary:{key:"Tab"}},!0,t.CONTEXT_SNIPPET_MODE,function(e,t){l(t).jumpToNextPlaceholder()}),i.CommonEditorRegistry.registerEditorCommand("jumpToPrevSnippetPlaceholder",m,{primary:{shift:!0,key:"Tab"}},!0,t.CONTEXT_SNIPPET_MODE,function(e,t){l(t).jumpToPrevPlaceholder()}),i.CommonEditorRegistry.registerEditorCommand("acceptSnippet",m,{primary:{key:"Enter"}},!0,t.CONTEXT_SNIPPET_MODE,function(e,t){l(t).acceptSnippet()}),i.CommonEditorRegistry.registerEditorCommand("leaveSnippet",m,{primary:{key:"Escape"}},!0,t.CONTEXT_SNIPPET_MODE,function(e,t){l(t).leaveSnippet()})}),define("vs/css!vs/base/browser/ui/highlightedlabel/highlightedlabel",["vs/css!vs/editor/editor.main"],{}),define("vs/base/browser/ui/highlightedlabel/highlightedLabel",["require","exports","vs/base/common/strings","vs/base/browser/builder","vs/base/browser/dom","vs/base/common/objects","vs/css!./highlightedlabel"],function(e,t,n,o,r,i){var s=function(){function e(e,t,n){void 0===t&&(t=""),void 0===n&&(n=[]),this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label";var r=e instanceof o.Builder?e.getHTMLElement():e;r.appendChild(this.domNode),this.text=t,this.highlights=n,this.renderedOnce=!1}return e.prototype.destroy=function(){this.text=null,this.highlights=null},e.prototype.getHTMLElement=function(){return this.domNode},e.prototype.setValue=function(e,t){e||(e=""),t||(t=[]),this.renderedOnce&&this.text===e&&i.equals(this.highlights,t)||(this.text=e,this.highlights=t,this.render(),this.renderedOnce=!0)},e.prototype.render=function(){r.clearNode(this.domNode);for(var e,t=[],o=0,i=0;i<this.highlights.length;i++)e=this.highlights[i],o<e.start&&(t.push("<span>"),t.push(n.escape(this.text.substring(o,e.start))),t.push("</span>"),o=e.end),t.push('<span class="highlight">'),t.push(n.escape(this.text.substring(e.start,e.end))),t.push("</span>"),o=e.end;o<this.text.length&&(t.push("<span>"),t.push(n.escape(this.text.substring(o))),t.push("</span>")),this.domNode.innerHTML=t.join("")},e}();t.HighlightedLabel=s}),define("vs/css!vs/editor/contrib/suggest/browser/suggest",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/suggest/browser/suggestWidget",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","vs/base/common/errors","vs/base/browser/dom","vs/base/parts/tree/browser/treeImpl","vs/base/parts/tree/browser/treeDefaults","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/editor/browser/editorBrowser","vs/editor/common/common","vs/editor/common/modes","vs/css!./suggest"],function(e,t,n,o,r,i,s,a,u,c,l,d){function h(e,t,n){for(var o=e.toLowerCase(),r=0,i=0;i<t.length&&i<e.length;i++)if(t[i]===e[i])r+=2;else{if(n[i]!==o[i])break;r+=1}return r}var p=i.emmet,f=function(){function e(e,t){this.parent=e,this.message=t}return e}();t.Message=f;var m=function(){function e(e){this.child=new f(this,e)}return e}();t.MessageRoot=m;var g=function(){function e(){this.root=null}return e.prototype.isRoot=function(e){return e instanceof m?!0:e instanceof f?!1:e.suggestions?(this.root=e,!0):!1},e.prototype.getId=function(t,n){if(n instanceof m)return"messageroot";if(n instanceof f)return"message"+n.message;if(n.suggestions)return"root";if(d.isISuggestion(n))return"string"!=typeof n.id&&(n.id=String(e._IdPool++)),n.id;throw r.illegalArgument("element")},e.prototype.getParent=function(e,t){return t instanceof m?o.TPromise.as(null):t instanceof f?o.TPromise.as(t.parent):o.TPromise.as(this.isRoot(t)?null:this.root)},e.prototype.getChildren=function(e,t){return t instanceof m?o.TPromise.as([t.child]):t instanceof f?o.TPromise.as([]):o.TPromise.as(this.isRoot(t)?this.root.suggestions:[])},e.prototype.hasChildren=function(e,t){return this.isRoot(t)},e._IdPool=0,e}(),v=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.onLeftClick=function(e,t,n){return n.preventDefault(),n.stopPropagation(),t instanceof f||e.setSelection([t],{origin:"mouse"}),!0},t}(a.DefaultController),_=function(){function e(e){this.editor=e}return e.prototype.getHeight=function(e,t){var n=t;return t instanceof f||!n.documentationLabel||!e.isFocused(n)?19:35},e.prototype.getTemplateId=function(e,t){return t instanceof f?"message":"suggestion"},e.prototype.renderTemplate=function(e,t,n){if("message"===t){var o=p("span");return o.style.opacity="0.7",o.style.paddingLeft="12px",n.appendChild(o),{element:o}}var r=Object.create(null);r.root=n,r.icon=i.append(n,p(".icon")),r.colorspan=i.append(r.icon,p("span.colorspan"));var s=i.append(n,p(".text")),a=i.append(s,p(".main"));r.highlightedLabel=new u.HighlightedLabel(a),r.typeLabel=i.append(a,p("span.type-label"));var c=i.append(s,p(".docs"));return r.documentationLabel=i.append(c,p(".docs-label")),r},e.prototype.renderElement=function(e,t,n,o){if("message"===n)return o.element.textContent=t.message,void 0;var r=o,i=t;i.type&&"#"===i.type.charAt(0)?(r.root.setAttribute("aria-label","color"),r.icon.className="icon customcolor",r.colorspan.style.backgroundColor=i.type.substring(1)):(r.root.setAttribute("aria-label",i.type),r.icon.className="icon "+i.type,r.colorspan.style.backgroundColor=""),r.highlightedLabel.setValue(i.label,i.highlights),r.typeLabel.textContent=i.typeLabel||"",r.documentationLabel.textContent=i.documentationLabel||""},e.prototype.disposeTemplate=function(e,t,n){if("message"!==t){var o=n;o.highlightedLabel.destroy()}},e}(),y=function(){function e(t,n,a,u){var c=this;this.allowEditorOverflow=!0,this.editor=t,this._onShown=a,this._onHidden=u,this.isActive=!1,this.isLoading=!1,this.isAuto=!1,this.modelListenersToRemove=[],this.model=null,this.telemetryData=null,this.telemetryService=n;var h=function(){var e=c.editor.getModel();c.shouldShowEmptySuggestionList=e&&e.getMode().suggestSupport?e.getMode().suggestSupport.shouldShowEmptySuggestionList():!1};h(),this.listenersToRemove=[],this.listenersToRemove.push(t.addListener(l.EventType.ModelChanged,h)),this.listenersToRemove.push(t.addListener(l.EventType.ModelModeChanged,h)),this.listenersToRemove.push(t.addListener(l.EventType.ModelModeSupportChanged,function(e){e.suggestSupport&&h()})),this.element=p(".editor-widget.suggest-widget.monaco-editor-background"),this.element.style.width=e.WIDTH+"px",this.element.style.top="0",this.element.style.left="0",this.editor.getConfiguration().iconsInSuggestions||i.addClass(this.element,"no-icons");var y=new g;this.renderer=new _(this.editor),this.tree=new s.Tree(this.element,{dataSource:y,renderer:this.renderer,controller:new v},{twistiePixels:0,alwaysFocused:!0,verticalScrollMode:"visible",useShadows:!1}),this.listenersToRemove.push(t.addListener(l.EventType.EditorTextBlur,function(){o.TPromise.timeout(150).done(function(){c.tree&&!c.tree.isDOMFocused()&&c.hide()})})),this.listenersToRemove.push(this.tree.addListener("selection",function(e){if(e.selection&&e.selection.length>0){var t=e.selection[0];t.hasOwnProperty("suggestions")||t instanceof m||t instanceof f||(c.telemetryData.selectedIndex=c.tree.getInput().suggestions.indexOf(t),c.telemetryData.wasCancelled=!1,c.submitTelemetryData(),c.model.accept(t),c.editor.focus())}}));var b=null;this.listenersToRemove.push(this.tree.addListener("focus",function(e){var t=e.focus,n=e.payload;if(d.isISuggestion(t)&&c.resolveDetails(t),t!==b){var o=[];b&&o.push(b),t&&o.push(t),b=t,c.tree.refreshAll(o).done(function(){c.updateWidgetHeight(),t&&c.tree.reveal(t,n&&n.firstSuggestion?0:null)},r.onUnexpectedError)}})),this.editor.addContentWidget(this),this.listenersToRemove.push(this.editor.addListener(l.EventType.CursorSelectionChanged,function(){c.isActive&&c.editor.layoutContentWidget(c)})),this.hide()}return e.prototype.setModel=function(t){var n=this;this.releaseModel(),this.model=t;var o,s=null;this.modelListenersToRemove.push(this.model.addListener("loading",function(t){n.isActive||(s=n.telemetryService.start("suggestWidgetLoadingTime"),n.isLoading=!0,n.isAuto=!!t.auto,n.isAuto||(o=setTimeout(function(){i.removeClass(n.element,"empty"),n.tree.setInput(e.LOADING_MESSAGE).done(null,r.onUnexpectedError),n.updateWidgetHeight(),n.show()},50)),t.retrigger||(n.telemetryData={wasAutomaticallyTriggered:t.characterTriggered}))})),this.modelListenersToRemove.push(this.model.addListener("suggest",function(e){n.isLoading=!1,"undefined"!=typeof o&&clearTimeout(o);for(var t,a=e.suggestions.currentWord,u=a.toLowerCase(),c=e.suggestions.suggestions,l=-1,d=e.suggestions.suggestions[0],p=-1,f=0,m=c.length;m>f;f++){t=c[f];var g=h(t.label,a,u);g>p&&(p=g,d=t,l=f)}i.removeClass(n.element,"empty"),n.tree.setInput(e.suggestions).done(null,r.onUnexpectedError),n.tree.setFocus(d,{firstSuggestion:!0}),n.updateWidgetHeight(),n.show(),n.resolveDetails(d),n.telemetryData=n.telemetryData||{},n.telemetryData.suggestionCount=c.length,n.telemetryData.suggestedIndex=l,n.telemetryData.hintLength=a.length,s&&(s.data={reason:"results"},s.stop(),s=null)})),this.modelListenersToRemove.push(this.model.addListener("empty",function(t){var a=n.isLoading;n.isLoading=!1,"undefined"!=typeof o&&clearTimeout(o),t.auto?n.hide():a?n.shouldShowEmptySuggestionList?(i.removeClass(n.element,"empty"),n.tree.setInput(e.NO_SUGGESTIONS_MESSAGE).done(null,r.onUnexpectedError),n.updateWidgetHeight(),n.show()):n.hide():i.addClass(n.element,"empty"),s&&(s.data={reason:"empty"},s.stop(),s=null)})),this.modelListenersToRemove.push(this.model.addListener("cancel",function(e){n.isLoading=!1,e.retrigger||(n.hide(),n.telemetryData&&(n.telemetryData.selectedIndex=-1,n.telemetryData.wasCancelled=!0,n.submitTelemetryData())),s&&(s.data={reason:"cancel"},s.stop(),s=null)}))},e.prototype.resolveDetails=function(e){var t=this;
if(e.detailsResolved!==!0){var n=this.editor.getModel().getMode().suggestSupport;"function"==typeof n.getSuggestionDetails&&(this.currentSuggestionDetails&&this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=n.getSuggestionDetails(this.editor.getModel().getAssociatedResource(),this.model.getRequestPosition()||this.editor.getPosition(),e),this.currentSuggestionDetails.then(function(n){return e.detailsResolved=!0,e.codeSnippet=n.codeSnippet,e.documentationLabel=n.documentationLabel,e.highlights=n.highlights,e.label=n.label,e.type=n.type,e.typeLabel=n.typeLabel,t.tree.refresh(e).then(function(){t.updateWidgetHeight()})},function(e){return r.isPromiseCanceledError(e)?null:e}).done(void 0,r.onUnexpectedError))}},e.prototype.selectNextPage=function(){return this.isLoading?!this.isAuto:this.isActive?(this.tree.focusNextPage(),!0):!1},e.prototype.selectNext=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusNext(1),e===this.tree.getFocus()&&this.tree.focusFirst(),!0}return!1},e.prototype.selectPreviousPage=function(){return this.isLoading?!this.isAuto:this.isActive?(this.tree.focusPreviousPage(),!0):!1},e.prototype.selectPrevious=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusPrevious(1),e===this.tree.getFocus()&&this.tree.focusLast(),!0}return!1},e.prototype.acceptSelectedSuggestion=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return e?this.tree.setSelection([e]):this.model.cancel(),!0}return!1},e.prototype.releaseModel=function(){for(var e;e=this.modelListenersToRemove.pop();)e();this.model=null},e.prototype.show=function(){var e=this;this._onShown(),this.isActive=!0,this.tree.layout(),this.editor.layoutContentWidget(this),o.TPromise.timeout(100).done(function(){i.addClass(e.element,"visible")})},e.prototype.cancel=function(){this.model.cancel()},e.prototype.hide=function(){this._onHidden(),this.isActive=!1,i.removeClass(this.element,"visible"),this.editor.layoutContentWidget(this)},e.prototype.getPosition=function(){return this.isActive?{position:this.editor.getPosition(),preference:[c.ContentWidgetPositionPreference.BELOW,c.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.submitTelemetryData=function(){this.telemetryService.publicLog("suggestWidget",this.telemetryData),this.telemetryData=null},e.prototype.updateWidgetHeight=function(){var t=this.tree.getInput(),n=1e3,o=0;if(t===e.LOADING_MESSAGE||t===e.NO_SUGGESTIONS_MESSAGE)o=19;else{var r=this.tree.getFocus(),i=r?this.renderer.getHeight(this.tree,r):19;o+=i;var s=Math.floor((n-i)/19),a=t;o+=19*Math.min(a.suggestions.length-1,11,s)}this.element.style.height=o+"px",this.tree.layout(o),this.editor.layoutContentWidget(this)},e.prototype.destroy=function(){this.releaseModel(),this.tree.dispose(),this.tree=null,this.element=null,this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null},e.ID="editor.widget.suggestWidget",e.WIDTH=438,e.LOADING_MESSAGE=new m(n.localize("vs_editor_contrib_suggest_browser_suggestWidget",0)),e.NO_SUGGESTIONS_MESSAGE=new m(n.localize("vs_editor_contrib_suggest_browser_suggestWidget",1)),e}();t.SuggestWidget=y}),define("vs/platform/thread/common/thread",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IThreadService=n.createDecorator("threadService"),function(e){e[e.None=0]="None",e[e.Group1=1]="Group1",e[e.Group2=2]="Group2",e[e.Group3=3]="Group3",e[e.Group4=4]="Group4",e[e.Group5=5]="Group5",e[e.Group6=6]="Group6",e[e.Group7=7]="Group7",e[e.Group8=8]="Group8",e[e.Group9=9]="Group9",e[e.All=10]="All"}(t.ThreadAffinity||(t.ThreadAffinity={}));t.ThreadAffinity}),define("vs/platform/thread/common/threadService",["require","exports","vs/platform/platform","vs/base/common/winjs.base","./thread"],function(e,t,n,o,r){function i(e,t){for(var n in e)if(e[n]===t)return n;throw new Error("Member not found in prototype")}function s(e){var n=e[t.THREAD_SERVICE_PROPERTY_NAME];if(!n)throw new Error("Objects that use thread attributes must be instantiated with the thread service");return n}function a(e,t){var n=i(e.prototype,t);e.prototype[n]=function(){for(var e=[],o=0;o<arguments.length;o++)e[o-0]=arguments[o];return s(this).MainThread(this,n,t,e)}}function u(e,t,n,a){void 0===a&&(a=r.ThreadAffinity.None);var u,c=i(e.prototype,t);"function"==typeof n?u=n:"undefined"!=typeof n&&(a=n),e.prototype[c]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(u){var r=this,i=u.call(r);return o.Promise.is(i)||(i=o.Promise.as(i)),i.then(function(){return s(r).OneWorker(r,c,t,e,a)})}return s(this).OneWorker(this,c,t,e,a)}}function c(e,t){var n=i(e.prototype,t);e.prototype[n]=function(){for(var e=[],o=0;o<arguments.length;o++)e[o-0]=arguments[o];return s(this).AllWorkers(this,n,t,e)}}function l(e,t){var n=i(e.prototype,t);e.prototype[n]=function(){for(var e=[],o=0;o<arguments.length;o++)e[o-0]=arguments[o];return s(this).Everywhere(this,n,t,e)}}function d(e){var o=n.Registry.as(t.Extensions.SynchronizableObjects);o.register(e)}function h(){var e=n.Registry.as(t.Extensions.SynchronizableObjects);return e.read()}t.THREAD_SERVICE_PROPERTY_NAME="__$$__threadService",t.MainThreadAttr=a,t.OneWorkerAttr=u,t.AllWorkersAttr=c,t.EverywhereAttr=l;var p=function(){function e(){this._list=[],this._list=[]}return e.prototype.register=function(e){this._list.push(e)},e.prototype.read=function(){return this._list},e}();t.Extensions={SynchronizableObjects:"SynchronizableObjects"},n.Registry.add(t.Extensions.SynchronizableObjects,new p),t.registerThreadSynchronizableObject=d,t.readThreadSynchronizableObjects=h}),define("vs/editor/common/modes/languageExtensionPoint",["require","exports","vs/base/common/strings","vs/platform/thread/common/threadService","vs/platform/plugins/common/pluginsRegistry","vs/base/common/mime","vs/base/common/errors"],function(e,t,n,o,r,i,s){var a=Object.prototype.hasOwnProperty,u=function(){function e(){this.knownModeIds={},this.mime2LanguageId={},this.name2LanguageId={},this.id2Name={},this.isCompatModeId={},this.lowerName2Id={},this._isRegisteredWithThreadService=!1}return e.prototype.creationDone=function(){this._isRegisteredWithThreadService=!0},e.prototype.getId=function(){return"LanguageExtensionPointHandler"},e.prototype.getSerializableState=function(){return{knownModeIds:this.knownModeIds,mime2LanguageId:this.mime2LanguageId,name2LanguageId:this.name2LanguageId,id2Name:this.id2Name,isCompatModeId:this.isCompatModeId,lowerName2Id:this.lowerName2Id}},e.prototype.setData=function(e){this.knownModeIds=e.knownModeIds,this.mime2LanguageId=e.mime2LanguageId,this.name2LanguageId=e.name2LanguageId,this.id2Name=e.id2Name,this.isCompatModeId=e.isCompatModeId,this.lowerName2Id=e.lowerName2Id},e.prototype._onLanguages=function(e){this._isRegisteredWithThreadService?this._onLanguagesEverywhere(e):this._onLanguagesImpl(e)},e.prototype._onLanguagesEverywhere=function(e){this._onLanguagesImpl(e)},e.prototype._onLanguagesImpl=function(e){for(var t=0;t<e.length;t++){var n=e[t].contributes.language;if(Array.isArray(n))for(var o=0;o<n.length;o++)this._onLanguage(e[t],n[o]);else console.warn("Ignoring `language` point for "+e[t].pluginId)}},e.prototype._onLanguage=function(e,t){if("string"!=typeof t.id)return console.warn("Ignoring `language` point for "+e.pluginId),void 0;this.knownModeIds[t.id]=!0;var o=null;if("undefined"!=typeof t.mimetypes&&Array.isArray(t.mimetypes))for(var r=0;r<t.mimetypes.length;r++)o||(o=t.mimetypes[r]),this.mime2LanguageId[t.mimetypes[r]]=t.id;if(o||(o="text/x-"+t.id,this.mime2LanguageId[o]=t.id),"undefined"!=typeof t.extensions&&Array.isArray(t.extensions))for(var r=0;r<t.extensions.length;r++)i.registerTextMimeByFilename(t.extensions[r],o);if("undefined"!=typeof t.filenames&&Array.isArray(t.filenames))for(var r=0;r<t.filenames.length;r++)i.registerTextMimeByFilename(t.filenames[r],o);if("string"==typeof t.firstLine&&t.firstLine.length>0){var a=t.firstLine;"^"!==a.charAt(0)&&(a="^"+a);try{var u=new RegExp(a);n.regExpLeadsToEndlessLoop(u)||i.registerTextMimeByFirstLine(u,o)}catch(c){s.onUnexpectedError(c)}}var l=null;if("undefined"!=typeof t.aliases&&Array.isArray(t.aliases))for(var r=0;r<t.aliases.length;r++)t.aliases[r]&&0!==t.aliases[r].length&&(l||(l=t.aliases[r],this.name2LanguageId[t.aliases[r]]=t.id),this.lowerName2Id[t.aliases[r].toLowerCase()]=t.id);this.id2Name[t.id]=l||"","undefined"!=typeof t.__isCompat&&(this.isCompatModeId[t.id]=!0)},e.prototype.isRegisteredMode=function(e){return a.call(this.mime2LanguageId,e)?!0:a.call(this.knownModeIds,e)},e.prototype.getRegisteredModes=function(){return Object.keys(this.knownModeIds)},e.prototype.getRegisteredMimetypes=function(){return Object.keys(this.mime2LanguageId)},e.prototype.getRegisteredLanguageNames=function(){return Object.keys(this.name2LanguageId)},e.prototype.getLanguageName=function(e){return this.id2Name[e]||null},e.prototype.getModeIdForLanguageNameLowercase=function(e){return this.lowerName2Id[e]||null},e.prototype.getMimeForMode=function(e){for(var t in this.mime2LanguageId)if(this.mime2LanguageId.hasOwnProperty(t)){var n=this.mime2LanguageId[t];if(n===e)return t}return null},e.prototype.extractModeIds=function(e){var t=this;return e?e.split(",").map(function(e){return e.trim()}).map(function(e){return t.mime2LanguageId[e]||e}).filter(function(e){return t.knownModeIds[e]}):[]},e.prototype.getModeIdsFromLanguageName=function(e){return e?a.call(this.name2LanguageId,e)?[this.name2LanguageId[e]]:[]:[]},e.prototype.getModeIdsFromFilenameOrFirstLine=function(e,t){if(!e&&!t)return[];var n=i.guessMimeTypes(e,t);return this.extractModeIds(n.join(","))},e.prototype.isCompat=function(e){return this.isCompatModeId[e]||!1},e.$_onLanguagesEverywhere=o.EverywhereAttr(e,e.prototype._onLanguagesEverywhere),e}(),c=new u;o.registerThreadSynchronizableObject(c),r.PluginsRegistry.registerPointListener("language",function(e){return c._onLanguages(e)}),t.LanguageExtensions=c}),define("vs/editor/common/modes/modesRegistry",["require","exports","vs/editor/common/modes/languageExtensionPoint","vs/base/common/strings","vs/platform/platform","vs/platform/instantiation/common/descriptors","vs/platform/plugins/common/pluginsRegistry"],function(e,t,n,o,r,i,s){function a(e,t,n){var o=e.threadService,r=e.modeService;return o.createInstance(t,f,{id:n}).then(function(e){return e.configSupport&&e.configSupport.configure(r.getConfigurationForMode(n)),e})}function u(e){f.registerMode(e)}function c(e,t,n){f.registerWorkerParticipant(e,new i.AsyncDescriptor(t,n))}function l(e,t){m[e]=(m[e]||[]).concat(t)}function d(e,t,n){var o=g[e];o||(g[e]=o={}),o[t]=n}function h(e,t){var n=e.getWordAtPosition(t),r=n?n.word.substring(0,t.column-n.startColumn):"",i={currentWord:r,suggestions:[]},s=null;if(0===r.length){if(t.column>1){var a=e.getValueInRange({startLineNumber:t.lineNumber,startColumn:t.column-1,endLineNumber:t.lineNumber,endColumn:t.column});if(0!==a.trim().length)return i}}else{var u=r.toLowerCase();s=function(e){return o.startsWith(e.label.toLowerCase(),u)}}var c=e.getMode().getId(),l=[],d=g[c];if(d)for(var h in d)l=l.concat(d[h]);var p=m[c];return p&&(l=l.concat(p)),i.suggestions=s?l.filter(s):l,i}t.Extensions={EditorModes:"editor.modes"};var p=function(){function e(){}return e.prototype.registerWorkerParticipant=function(e,t){var n={pluginId:e+":"+t.moduleName+"."+t.ctorName+".impl",activationEvents:["mode:"+e],something:t,isFakePlugin:!0};s.PluginsRegistry.registerPlugin(n)},e.prototype.getWorkerParticipants=function(e){return s.PluginsRegistry.getAllPluginDescriptions().filter(function(t){return"undefined"!=typeof t.activationEvents?t.activationEvents.indexOf("mode:"+e)>=0:!1}).map(function(e){return e.something})},e.prototype.isRegisteredMode=function(e){return n.LanguageExtensions.isRegisteredMode(e)},e.prototype.getRegisteredModes=function(){return n.LanguageExtensions.getRegisteredModes()},e.prototype.getRegisteredMimetypes=function(){return n.LanguageExtensions.getRegisteredMimetypes()},e.prototype.getRegisteredLanguageNames=function(){return n.LanguageExtensions.getRegisteredLanguageNames()},e.prototype.getMimeForMode=function(e){return n.LanguageExtensions.getMimeForMode(e)},e.prototype.getLanguageName=function(e){return n.LanguageExtensions.getLanguageName(e)},e.prototype.getModeIdForLanguageName=function(e){return n.LanguageExtensions.getModeIdForLanguageNameLowercase(e)},e.prototype.registerMode=function(e){var t=new i.AsyncDescriptor(e.moduleId,e.ctorName),n={pluginId:e.id+".impl",isFakePlugin:!0,activationEvents:["textModel:"+e.id],mainModule:"vs/editor/common/modes/modesRegistry",mainModuleExtra:[t,e.id,!1],contributes:{language:[{id:e.id,extensions:e.extensions,filenames:e.filenames,firstLine:e.firstLine,aliases:e.aliases,mimetypes:e.mimetypes,__isCompat:!0}]},forceLoadingInUI:!0};s.PluginsRegistry.registerPlugin(n)},e.prototype.getModeId=function(e){var t=n.LanguageExtensions.extractModeIds(e);return t.length>0?t[0]:null},e}(),f=new p;r.Registry.add(t.Extensions.EditorModes,f),t.activate=a,t.registerMode=u,t.registerWorkerParticipant=c;var m=Object.create(null),g=Object.create(null);t.registerDefaultSnippets=l,t.registerSnippets=d,t.getSnippets=h});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/contrib/suggest/browser/suggestModel",["require","exports","vs/base/common/winjs.base","vs/base/common/eventEmitter","vs/base/common/strings","vs/base/common/timer","vs/editor/common/modes/modesRegistry","vs/editor/common/common","vs/editor/contrib/snippet/common/snippet"],function(e,t,n,o,r,i,s,a,u){var c;!function(e){e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.MANUAL_TRIGGER=1]="MANUAL_TRIGGER",e[e.AUTO_TRIGGER=2]="AUTO_TRIGGER"}(c||(c={}));var l=function(){function e(e){this._suggestions=e,this._suggestions||(this._suggestions=[])}return e.prototype.suggestions=function(){return this._suggestions.reduce(function(e,t){return e.concat(t.suggestions)},[])},e.prototype.parent=function(e){var t;return this._suggestions.every(function(n){return-1!==n.suggestions.indexOf(e)?(t=n,!1):!0}),t},e.prototype.isEmpty=function(){return 0===this._suggestions.length||this._suggestions.every(function(e){return 0===e.suggestions.length})},e.prototype.isIncomplete=function(){return this._suggestions.some(function(e){return e.incomplete})},e}(),d=function(){function e(e,t){this.auto=t;var n=e.getModel(),o=e.getPosition(),r=n.getLineContent(o.lineNumber);this.wordBefore="",this.wordAfter="";var i=n.getWordAtPosition(o);if(i&&(this.wordBefore=r.substring(i.startColumn-1,o.column-1),this.wordAfter=r.substring(o.column-1,i.endColumn-1)),this.lineNumber=o.lineNumber,this.column=o.column,this.lineContentBefore=r.substr(0,o.column-1),this.lineContentAfter=r.substr(o.column-1),this.isInEditableRange=!0,n.hasEditableRange()){var s=n.getEditableRange();s.containsPosition(o)||(this.isInEditableRange=!1)}var a=n.getLineContext(o.lineNumber),u=n.getLineContent(o.lineNumber).charAt(o.column-1);this.shouldAuto=n.getMode().suggestSupport&&n.getMode().suggestSupport.shouldAutotriggerSuggest(a,o.column-1,u)}return e.prototype.isValidForAutoSuggest=function(){return 0===this.wordBefore.length?!1:this.wordAfter.length>0?!1:this.shouldAuto?!0:!1},e.prototype.isValidForNewContext=function(e){return this.lineNumber!==e.lineNumber?!1:e.column<this.column-this.wordBefore.length?!1:r.startsWith(e.lineContentBefore,this.lineContentBefore)&&this.lineContentAfter===e.lineContentAfter?""===e.wordBefore&&e.lineContentBefore!==this.lineContentBefore?!1:!0:!1},e.prototype.isValidForRetrigger=function(e){return r.startsWith(this.lineContentBefore,e.lineContentBefore)&&this.lineContentAfter===e.lineContentAfter?this.lineContentBefore.length>e.lineContentBefore.length&&0===this.wordBefore.length?!1:this.auto&&0===e.wordBefore.length?!1:!0:!1},e}(),h=function(e){function t(t,n){var o=this;e.call(this),this.editor=t,this.onAccept=n,this.listenersToRemove=[],this.autoSuggestDelay=this.editor.getConfiguration().quickSuggestionsDelay,(isNaN(this.autoSuggestDelay)||!this.autoSuggestDelay&&0!==this.autoSuggestDelay||this.autoSuggestDelay>2e3||this.autoSuggestDelay<0)&&(this.autoSuggestDelay=10),this.triggerAutoSuggestPromise=null,this.state=c.NOT_ACTIVE,this.requestPromise=null,this.raw=null,this.requestContext=null,this.listenersToRemove.push(this.editor.addListener(a.EventType.CursorSelectionChanged,function(e){return e.selection.isEmpty()?"keyboard"!==e.source||""!==e.reason?(o.cancel(),void 0):(o.onCursorChange(),void 0):(o.cancel(),void 0)})),this.listenersToRemove.push(this.editor.addListener(a.EventType.ModelChanged,function(){o.cancel()}))}return __extends(t,e),t.prototype.cancel=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=this.state!==c.NOT_ACTIVE;return this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null),this.state=c.NOT_ACTIVE,this.raw=null,this.requestContext=null,e||this.emit("cancel",{retrigger:t}),n},t.prototype.getRequestPosition=function(){return this.requestContext?{lineNumber:this.requestContext.lineNumber,column:this.requestContext.column}:null},t.prototype.isAutoSuggest=function(){return this.state===c.AUTO_TRIGGER},t.prototype.onCursorChange=function(){var e=this;if(this.editor.getModel().getMode().suggestSupport){var t=this.state===c.NOT_ACTIVE;if(!t||this.editor.getConfiguration().quickSuggestions){var o=new d(this.editor,!1);t?(this.cancel(),o.isValidForAutoSuggest()&&(this.triggerAutoSuggestPromise=n.TPromise.timeout(this.autoSuggestDelay),this.triggerAutoSuggestPromise.then(function(){e.triggerAutoSuggestPromise=null,e.trigger(!0,!1)}))):this.raw&&this.raw.isIncomplete()?this.trigger(this.state===c.AUTO_TRIGGER,!1,!0):this.onNewContext(o)}}},t.prototype.trigger=function(e,t,n){var o=this;void 0===n&&(n=!1);var r=this.editor.getModel(),a=r.getMode().suggestSupport;if(a){var u=new d(this.editor,e);if(u.isInEditableRange){var h=i.start(i.Topic.EDITOR,"suggest/TRIGGER");this.cancel(!1,n),this.state=e||t?c.AUTO_TRIGGER:c.MANUAL_TRIGGER,this.emit("loading",{auto:this.isAutoSuggest(),characterTriggered:t,retrigger:n}),this.requestContext=u;var p=i.start(i.Topic.EDITOR,"suggest/REQUEST"),f=this.editor.getPosition();this.requestPromise=a.suggest(r.getAssociatedResource(),f),this.requestPromise.then(function(t){if(p.stop(),o.requestPromise=null,o.state!==c.NOT_ACTIVE){var n=s.getSnippets(r,f);n&&n.suggestions&&n.suggestions.length>0&&(t=(t||[]).slice(0),t.push(n));var i=new l(t);i.isEmpty()?o.emit("empty",{auto:o.isAutoSuggest()}):(o.raw=i,o.onNewContext(new d(o.editor,e)))}},function(){p.stop()}).done(function(){return h.stop()})}}},t.prototype.onNewContext=function(e){if(this.requestContext&&!this.requestContext.isValidForNewContext(e))return this.requestContext.isValidForRetrigger(e)?this.trigger(this.state===c.AUTO_TRIGGER,!1,!0):this.cancel(),void 0;if(this.raw){var t=this.editor.getModel().getMode().suggestSupport,n=this.raw.suggestions(),o=t.getFilter();o&&(n=n.filter(o.bind(null,e.wordBefore)));var i;t.getSorter&&(i=t.getSorter()),i||(i=function(e,t){return r.localeCompare(e.label.toLowerCase(),t.label.toLowerCase())}),n=n.sort(i),n.length>0?this.emit("suggest",{suggestions:{suggestions:n,currentWord:e.wordBefore},auto:this.isAutoSuggest()}):this.emit("empty",{auto:this.isAutoSuggest()})}},t.prototype.accept=function(e){if(null===this.raw)return!1;var t=this.raw.parent(e),n=this.editor.getPosition().column-this.requestContext.column,o=("undefined"==typeof t.overwriteBefore?t.currentWord.length:t.overwriteBefore)+n,r="undefined"==typeof t.overwriteAfter?0:Math.max(0,t.overwriteAfter);return this.cancel(),this.onAccept(new u.CodeSnippet(e.codeSnippet),o,r),!0},t.prototype.destroy=function(){this.cancel(!0),this.listenersToRemove&&(this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=null),this.emit("destroy",null)},t}(o.EventEmitter);t.SuggestModel=h}),define("vs/editor/contrib/suggest/common/suggest",["require","exports"],function(e,t){t.CONTEXT_SUGGEST_WIDGET_VISIBLE="suggestWidgetVisible",t.ACCEPT_SELECTED_SUGGESTION_CMD="acceptSelectedSuggestion"});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/suggest/browser/suggest",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/lifecycle","vs/editor/contrib/snippet/common/snippet","./suggestWidget","./suggestModel","vs/base/common/errors","vs/base/common/winjs.base","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/editor/common/common","vs/platform/keybinding/common/keybindingService","vs/platform/telemetry/common/telemetry","vs/editor/contrib/suggest/common/suggest","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g){var v=function(){function e(e,t,n){var o=this;this.editor=e,this.suggestWidgetVisible=t.createKey(m.CONTEXT_SUGGEST_WIDGET_VISIBLE,!1),this.model=new s.SuggestModel(this.editor,function(e,t,n){r.get(o.editor).run(e,t,n)}),this.suggestWidget=new i.SuggestWidget(this.editor,n,function(){o.suggestWidgetVisible.set(!0)},function(){o.suggestWidgetVisible.reset()}),this.suggestWidget.setModel(this.model),this.triggerCharacterListeners=[],this.toUnhook=[],this.toUnhook.push(e.addListener(h.EventType.ConfigurationChanged,function(){return o.update()})),this.toUnhook.push(e.addListener(h.EventType.ModelChanged,function(){return o.update()})),this.toUnhook.push(e.addListener(h.EventType.ModelModeChanged,function(){return o.update()})),this.toUnhook.push(e.addListener(h.EventType.ModelModeSupportChanged,function(e){e.suggestSupport&&o.update()})),this.update()}return e.getSuggestController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(this.toUnhook=o.cAll(this.toUnhook);this.triggerCharacterListeners.length>0;)this.triggerCharacterListeners.pop()();this.suggestWidget&&(this.suggestWidget.destroy(),this.suggestWidget=null),this.model&&(this.model.destroy(),this.model=null)},e.prototype.update=function(){var e=this;if(this.triggerCharacterListeners.forEach(function(e){e()}),this.triggerCharacterListeners=[],!this.editor.getConfiguration().readOnly&&this.editor.getModel()&&this.editor.getConfiguration().suggestOnTriggerCharacters){var t=this.editor.getModel().getMode();if(t.suggestSupport){var n=t.suggestSupport.getTriggerCharacters()||[];n.forEach(function(t){e.triggerCharacterListeners.push(e.editor.addTypingListener(t,function(){return e.triggerCharacterHandler(t)}))})}}},e.prototype.triggerCharacterHandler=function(e){var t=this.editor.getPosition(),n=this.editor.getModel().getLineContext(t.lineNumber),o=this.editor.getModel().getMode();o.suggestSupport.shouldAutotriggerSuggest(n,t.column-1,e)&&this.triggerSuggest(!0).done(null,a.onUnexpectedError)},e.prototype.triggerSuggest=function(e){return this.model.trigger(!1,e),this.editor.focus(),u.TPromise.as(!1)},e.prototype.acceptSelectedSuggestion=function(){this.suggestWidget&&this.suggestWidget.acceptSelectedSuggestion()},e.prototype.hideSuggestWidget=function(){this.suggestWidget&&this.suggestWidget.cancel()},e.prototype.selectNextSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNext()},e.prototype.selectNextPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNextPage()},e.prototype.selectPrevSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPreviousPage()},e.ID="editor.contrib.suggestController",e=__decorate([__param(1,p.IKeybindingService),__param(2,f.ITelemetryService)],e)}();t.SuggestController=v;var _=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.isSupported=function(){return!!this.editor.getModel().getMode().suggestSupport&&!this.editor.getConfiguration().readOnly},t.prototype.run=function(){return v.getSuggestController(this.editor).triggerSuggest(!1)},t.ID="editor.action.triggerSuggest",t=__decorate([__param(2,g.INullService)],t)}(d.EditorAction);t.TriggerSuggestAction=_;var y=l.CommonEditorRegistry.commandWeight(90);l.CommonEditorRegistry.registerEditorAction(new l.EditorActionDescriptor(_,_.ID,n.localize("vs_editor_contrib_suggest_browser_suggest",0),{context:l.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"Space"},mac:{primary:{winCtrl:!0,key:"Space"}}})),l.CommonEditorRegistry.registerEditorCommand(m.ACCEPT_SELECTED_SUGGESTION_CMD,y,{primary:{key:"Enter"},secondary:[{key:"Tab"}]},!0,m.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=v.getSuggestController(t);n.acceptSelectedSuggestion()}),l.CommonEditorRegistry.registerEditorCommand("hideSuggestWidget",y,{primary:{key:"Escape"}},!0,m.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=v.getSuggestController(t);n.hideSuggestWidget()}),l.CommonEditorRegistry.registerEditorCommand("selectNextSuggestion",y,{primary:{key:"DownArrow"}},!0,m.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=v.getSuggestController(t);n.selectNextSuggestion()}),l.CommonEditorRegistry.registerEditorCommand("selectNextPageSuggestion",y,{primary:{key:"PageDown"}},!0,m.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=v.getSuggestController(t);n.selectNextPageSuggestion()}),l.CommonEditorRegistry.registerEditorCommand("selectPrevSuggestion",y,{primary:{key:"UpArrow"}},!0,m.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=v.getSuggestController(t);n.selectPrevSuggestion()}),l.CommonEditorRegistry.registerEditorCommand("selectPrevPageSuggestion",y,{primary:{key:"PageUp"}},!0,m.CONTEXT_SUGGEST_WIDGET_VISIBLE,function(e,t){var n=v.getSuggestController(t);n.selectPrevPageSuggestion()}),c.EditorBrowserRegistry.registerEditorContribution(v)});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/winjs.base","vs/editor/common/editorCommonExtensions","vs/editor/common/editorAction","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s){var a=function(e){function t(t,n){e.call(this,t,n,i.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){return this.editor.getConfiguration().tabFocusMode?this.editor.updateOptions({tabFocusMode:!1}):this.editor.updateOptions({tabFocusMode:!0}),o.TPromise.as(!0)},t.ID="editor.action.toggleTabFocusMode",t=__decorate([__param(2,s.INullService)],t)}(i.EditorAction);r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(a,a.ID,n.localize("vs_editor_contrib_toggleTabFocusMode_common_toggleTabFocusMode",0),{context:r.ContextKey.EditorTextFocus,primary:{ctrlCmd:!0,key:"M"},mac:{primary:{winCtrl:!0,shift:!0,key:"M"}}}))});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/wordHighlighter/common/wordHighlighter",["require","exports","vs/editor/common/common","vs/editor/common/editorCommonExtensions","vs/editor/common/core/range","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i){var s=function(){function e(e){var t=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(e.addListener(n.EventType.CursorPositionChanged,function(e){t._onPositionChanged(e)})),this.toUnhook.push(e.addListener(n.EventType.ModelChanged,function(){t._stopAll(),t.model=t.editor.getModel()})),this.toUnhook.push(e.addListener("change",function(){t._stopAll()})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return e.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]))},e.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),-1!==this.renderDecorationsTimer&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},e.prototype._onPositionChanged=function(e){var t=this;if("explicit"!==e.reason)return this._stopAll(),void 0;if(!this.model.getMode().occurrencesSupport)return this._stopAll(),void 0;var n=this.editor.getSelection();if(n.startLineNumber!==n.endLineNumber)return this._stopAll(),void 0;var o=n.startLineNumber,i=n.startColumn,s=n.endColumn,a=this.model.getWordAtPosition({lineNumber:o,column:i});if(!a||a.startColumn>i||a.endColumn<s)return this._stopAll(),void 0;for(var u=r.Range.create(o,a.startColumn,o,a.endColumn),c=this._lastWordRange&&this._lastWordRange.equalsRange(u),l=0,d=this._decorationIds.length;!c&&d>l;l++){var h=this.model.getDecorationRange(this._decorationIds[l]);h&&h.startLineNumber===o&&h.startColumn<=i&&h.endColumn>=s&&(c=!0)}if(this.lastCursorPositionChangeTime=(new Date).getTime(),c)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var p=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=this.model.getMode().occurrencesSupport.findOccurrences(this.model.getAssociatedResource(),this.editor.getPosition()),this.workerRequest.then(function(e){p===t.workerRequestTokenId&&(t.workerRequestCompleted=!0,t.workerRequestValue=e||[],t._beginRenderDecorations())}).done()}this._lastWordRange=u},e.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=window.setTimeout(function(){e.renderDecorations()},n-t)},e.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;
for(var e=[],t=0,o=this.workerRequestValue.length;o>t;t++){var r=this.workerRequestValue[t],i="wordHighlight",s="#A0A0A0";r.kind&&"write"===r.kind&&(i+="Strong"),e.push({range:r.range,options:{stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!1,className:i,overviewRuler:{color:s,position:n.OverviewRulerLane.Center}}})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e)},e.prototype.destroy=function(){for(this._stopAll();this.toUnhook.length>0;)this.toUnhook.pop()()},e}(),a=function(){function e(e){this.wordHighligher=new s(e)}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.wordHighligher.destroy()},e.ID="editor.contrib.wordHighlighter",e=__decorate([__param(1,i.INullService)],e)}();o.CommonEditorRegistry.registerEditorContribution(a)}),define("vs/css!vs/editor/contrib/workerStatusReporter/browser/workerStatusReporter",["vs/css!vs/editor/editor.main"],{});var __decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/workerStatusReporter/browser/workerStatusReporter",["require","exports","vs/editor/browser/editorBrowser","vs/base/browser/browser","vs/base/common/lifecycle","vs/editor/browser/editorBrowserExtensions","vs/platform/thread/common/thread","vs/css!./workerStatusReporter"],function(e,t,n,o,r,i,s){function a(e,t,n){e.setAttribute(t,n)}!function(){function e(e,t){this._threadService=t,this._threadService.addStatusListener(this),this._editor=e,this._toDispose=[],this._domNodes=[],this._domNode=document.createElement("div"),this._domNode.className="monaco-worker-status",o.canUseTranslate3d&&(this._domNode.style.transform="translate3d(0px, 0px, 0px)"),this._editor.addOverlayWidget(this)}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._threadService.removeStatusListener(this),this._toDispose=r.disposeAll(this._toDispose)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:n.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}},e.prototype._ensureDomNodes=function(e){for(var t=this._domNodes.length-1;t>=e;t++)this._domNode.removeChild(this._domNodes[t]),this._domNodes.splice(t,1);for(var t=this._domNodes.length;e>t;t++)this._domNodes[t]=document.createElement("div"),this._domNodes[t].className="worker",this._domNode.appendChild(this._domNodes[t])},e.prototype.onThreadServiceStatus=function(e){this._ensureDomNodes(e.workers.length);for(var t=0;t<e.workers.length;t++){var n=e.workers[t].queueSize,o="idle";n>5?o="flooded":n>0&&(o="busy"),a(this._domNodes[t],"status",o)}},e.ID="editor.contrib.workerStatusReporter",e=__decorate([__param(1,s.IThreadService)],e)}()}),define("vs/base/common/json",["require","exports","vs/nls!vs/editor/editor.main"],function(e,t,n){function o(e,t){function n(t,n){for(var o=0,r=0;t>o||!n;){var i=e.charCodeAt(f);if(i>=h._0&&i<=h._9)r=16*r+i-h._0;else if(i>=h.A&&i<=h.F)r=16*r+i-h.A+10;else{if(!(i>=h.a&&i<=h.f))break;r=16*r+i-h.a+10}f++,o++}return t>o&&(r=-1),r}function o(){var t=f;if(e.charCodeAt(f)===h._0)f++;else for(f++;f<e.length&&s(e.charCodeAt(f));)f++;if(f<e.length&&e.charCodeAt(f)===h.dot){if(f++,!(f<e.length&&s(e.charCodeAt(f))))return y=l.UnexpectedEndOfNumber,e.substring(t,n);for(f++;f<e.length&&s(e.charCodeAt(f));)f++}var n=f;if(f<e.length&&(e.charCodeAt(f)===h.E||e.charCodeAt(f)===h.e))if(f++,(f<e.length&&e.charCodeAt(f)===h.plus||e.charCodeAt(f)===h.minus)&&f++,f<e.length&&s(e.charCodeAt(f))){for(f++;f<e.length&&s(e.charCodeAt(f));)f++;n=f}else y=l.UnexpectedEndOfNumber;return e.substring(t,n)}function a(){for(var t="",o=f;;){if(f>=m){t+=e.substring(o,f),y=l.UnexpectedEndOfString;break}var r=e.charCodeAt(f);if(r===h.doubleQuote){t+=e.substring(o,f),f++;break}if(r!==h.backslash){if(i(r)){t+=e.substring(o,f),y=l.UnexpectedEndOfString;break}f++}else{if(t+=e.substring(o,f),f++,f>=m){y=l.UnexpectedEndOfString;break}switch(r=e.charCodeAt(f++)){case h.doubleQuote:t+='"';break;case h.backslash:t+="\\";break;case h.slash:t+="/";break;case h.b:t+="\b";break;case h.f:t+="\f";break;case h.n:t+="\n";break;case h.r:t+="\r";break;case h.t:t+="	";break;case h.u:var r=n(4,!0);r>=0?t+=String.fromCharCode(r):y=l.InvalidUnicode;break;default:y=l.InvalidEscapeCharacter}o=f}}return t}function u(){if(g="",y=l.None,v=f,f>=m)return v=m,_=d.EOF;var t=e.charCodeAt(f);if(r(t)){do f++,g+=String.fromCharCode(t),t=e.charCodeAt(f);while(r(t));return _=d.Trivia}if(i(t))return f++,g+=String.fromCharCode(t),t===h.carriageReturn&&e.charCodeAt(f)===h.lineFeed&&(f++,g+="\n"),_=d.LineBreakTrivia;switch(t){case h.openBrace:return f++,_=d.OpenBraceToken;case h.closeBrace:return f++,_=d.CloseBraceToken;case h.openBracket:return f++,_=d.OpenBracketToken;case h.closeBracket:return f++,_=d.CloseBracketToken;case h.colon:return f++,_=d.ColonToken;case h.comma:return f++,_=d.CommaToken;case h.doubleQuote:return f++,g=a(),_=d.StringLiteral;case h.slash:var n=f-1;if(e.charCodeAt(f+1)===h.slash){for(f+=2;m>f&&!i(e.charCodeAt(f));)f++;return g=e.substring(n,f),_=d.LineCommentTrivia}if(e.charCodeAt(f+1)===h.asterisk){f+=2;for(var u=m-1,p=!1;u>f;){var b=e.charCodeAt(f);if(b===h.asterisk&&e.charCodeAt(f+1)===h.slash){f+=2,p=!0;break}f++}return p||(f++,y=l.UnexpectedEndOfComment),g=e.substring(n,f),_=d.BlockCommentTrivia}return g+=String.fromCharCode(t),f++,_=d.Unknown;case h.minus:if(g+=String.fromCharCode(t),f++,f===m||!s(e.charCodeAt(f)))return _=d.Unknown;case h._0:case h._1:case h._2:case h._3:case h._4:case h._5:case h._6:case h._7:case h._8:case h._9:return g+=o(),_=d.NumericLiteral;default:for(;m>f&&c(t);)f++,t=e.charCodeAt(f);if(v!==f){switch(g=e.substring(v,f)){case"true":return _=d.TrueKeyword;case"false":return _=d.FalseKeyword;case"null":return _=d.NullKeyword}return _=d.Unknown}return g+=String.fromCharCode(t),f++,_=d.Unknown}}function c(e){if(r(e)||i(e))return!1;switch(e){case h.closeBrace:case h.closeBracket:case h.openBrace:case h.openBracket:case h.doubleQuote:case h.colon:case h.comma:return!1}return!0}function p(){var e;do e=u();while(e>=d.LineCommentTrivia&&e<=d.Trivia);return e}void 0===t&&(t=!1);var f=0,m=e.length,g="",v=0,_=d.Unknown,y=l.None;return{getPosition:function(){return f},scan:t?p:u,getToken:function(){return _},getTokenValue:function(){return g},getTokenOffset:function(){return v},getTokenLength:function(){return f-v},getTokenError:function(){return y}}}function r(e){return e===h.space||e===h.tab||e===h.verticalTab||e===h.formFeed||e===h.nonBreakingSpace||e===h.ogham||e>=h.enQuad&&e<=h.zeroWidthSpace||e===h.narrowNoBreakSpace||e===h.mathematicalSpace||e===h.ideographicSpace||e===h.byteOrderMark}function i(e){return e===h.lineFeed||e===h.carriageReturn||e===h.lineSeparator||e===h.paragraphSeparator}function s(e){return e>=h._0&&e<=h._9}function a(e){return e>=h.a&&e<=h.z||e>=h.A&&e<=h.Z}function u(e,t){var n,r,i=o(e),s=[],a=0;do switch(r=i.getPosition(),n=i.scan()){case d.LineCommentTrivia:case d.BlockCommentTrivia:case d.EOF:a!==r&&s.push(e.substring(a,r)),void 0!==t&&s.push(i.getTokenValue().replace(/[^\r\n]/g,t)),a=i.getPosition()}while(n!==d.EOF);return s.join("")}function c(e,t){function r(){for(var e=f.scan();e===d.Unknown;)i(n.localize("vs_base_common_json",0)),e=f.scan();return e}function i(e,n,o){if(void 0===n&&(n=[]),void 0===o&&(o=[]),t.push(e),n.length+o.length>0)for(var i=f.getToken();i!==d.EOF;){if(-1!==n.indexOf(i)){r();break}if(-1!==o.indexOf(i))break;i=r()}}function s(){if(f.getToken()!==d.StringLiteral)return p;var e=f.getTokenValue();return r(),e}function a(){var e;switch(f.getToken()){case d.NumericLiteral:try{e=JSON.parse(f.getTokenValue()),"number"!=typeof e&&(i(n.localize("vs_base_common_json",1)),e=0)}catch(t){e=0}break;case d.NullKeyword:e=null;break;case d.TrueKeyword:e=!0;break;case d.FalseKeyword:e=!1;break;default:return p}return r(),e}function u(e){var t=s();if(t===p)return i(n.localize("vs_base_common_json",2),[],[d.CloseBraceToken,d.CommaToken]),!1;if(f.getToken()===d.ColonToken){r();var o=h();o!==p?e[t]=o:i(n.localize("vs_base_common_json",3),[],[d.CloseBraceToken,d.CommaToken])}else i(n.localize("vs_base_common_json",4),[],[d.CloseBraceToken,d.CommaToken]);return!0}function c(){if(f.getToken()!==d.OpenBraceToken)return p;var e={};r();for(var t=!1;f.getToken()!==d.CloseBraceToken&&f.getToken()!==d.EOF;){f.getToken()===d.CommaToken?(t||i(n.localize("vs_base_common_json",5),[],[]),r()):t&&i(n.localize("vs_base_common_json",6),[],[]);var o=u(e);o||i(n.localize("vs_base_common_json",7),[],[d.CloseBraceToken,d.CommaToken]),t=!0}return f.getToken()!==d.CloseBraceToken?i(n.localize("vs_base_common_json",8),[d.CloseBraceToken],[]):r(),e}function l(){if(f.getToken()!==d.OpenBracketToken)return p;var e=[];r();for(var t=!1;f.getToken()!==d.CloseBracketToken&&f.getToken()!==d.EOF;){f.getToken()===d.CommaToken?(t||i(n.localize("vs_base_common_json",9),[],[]),r()):t&&i(n.localize("vs_base_common_json",10),[],[]);var o=h();o===p?i(n.localize("vs_base_common_json",11),[],[d.CloseBracketToken,d.CommaToken]):e.push(o),t=!0}return f.getToken()!==d.CloseBracketToken?i(n.localize("vs_base_common_json",12),[d.CloseBracketToken],[]):r(),e}function h(){var e=l();return e!==p?e:(e=c(),e!==p?e:(e=s(),e!==p?e:a()))}void 0===t&&(t=[]);var p=Object(),f=o(e,!0);r();var m=h();return m===p?(i(n.localize("vs_base_common_json",13),[],[]),void 0):(f.getToken()!==d.EOF&&i(n.localize("vs_base_common_json",14),[],[]),m)}!function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter"}(t.ScanError||(t.ScanError={}));var l=t.ScanError;!function(e){e[e.Unknown=0]="Unknown",e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.EOF=16]="EOF"}(t.SyntaxKind||(t.SyntaxKind={}));var d=t.SyntaxKind;t.createScanner=o,t.isLetter=a;var h;!function(e){e[e.nullCharacter=0]="nullCharacter",e[e.maxAsciiCharacter=127]="maxAsciiCharacter",e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.lineSeparator=8232]="lineSeparator",e[e.paragraphSeparator=8233]="paragraphSeparator",e[e.nextLine=133]="nextLine",e[e.space=32]="space",e[e.nonBreakingSpace=160]="nonBreakingSpace",e[e.enQuad=8192]="enQuad",e[e.emQuad=8193]="emQuad",e[e.enSpace=8194]="enSpace",e[e.emSpace=8195]="emSpace",e[e.threePerEmSpace=8196]="threePerEmSpace",e[e.fourPerEmSpace=8197]="fourPerEmSpace",e[e.sixPerEmSpace=8198]="sixPerEmSpace",e[e.figureSpace=8199]="figureSpace",e[e.punctuationSpace=8200]="punctuationSpace",e[e.thinSpace=8201]="thinSpace",e[e.hairSpace=8202]="hairSpace",e[e.zeroWidthSpace=8203]="zeroWidthSpace",e[e.narrowNoBreakSpace=8239]="narrowNoBreakSpace",e[e.ideographicSpace=12288]="ideographicSpace",e[e.mathematicalSpace=8287]="mathematicalSpace",e[e.ogham=5760]="ogham",e[e._=95]="_",e[e.$=36]="$",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.ampersand=38]="ampersand",e[e.asterisk=42]="asterisk",e[e.at=64]="at",e[e.backslash=92]="backslash",e[e.bar=124]="bar",e[e.caret=94]="caret",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.closeParen=41]="closeParen",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.equals=61]="equals",e[e.exclamation=33]="exclamation",e[e.greaterThan=62]="greaterThan",e[e.lessThan=60]="lessThan",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.openParen=40]="openParen",e[e.percent=37]="percent",e[e.plus=43]="plus",e[e.question=63]="question",e[e.semicolon=59]="semicolon",e[e.singleQuote=39]="singleQuote",e[e.slash=47]="slash",e[e.tilde=126]="tilde",e[e.backspace=8]="backspace",e[e.formFeed=12]="formFeed",e[e.byteOrderMark=65279]="byteOrderMark",e[e.tab=9]="tab",e[e.verticalTab=11]="verticalTab"}(h||(h={})),t.stripComments=u,t.parse=c}),define("vs/base/common/glob",["require","exports","vs/base/common/strings","vs/base/common/paths"],function(e,t,n,o){function r(e){switch(e){case 0:return"";case 1:return h+"*?";default:return"(?:"+d+"|"+h+"+"+d+"|"+d+h+"+)*?"}}function i(e,t){if(!e)return[];for(var n,o=[],r=!1,i=!1,s="",a=0;a<e.length;a++){switch(n=e[a]){case t:if(!r&&!i){s&&(o.push(s),s="");continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":i=!0;break;case"]":i=!1}s+=n}return s&&o.push(s),o}function s(e){if(!e)return"";var t="",o=i(n.trim(e,"/"),"/");if(o.every(function(e){return"**"===e}))t=".*";else{var a=!1;o.forEach(function(e,u){if("**"===e)return a||(t+=r(2),a=!0),void 0;for(var c,l=!1,p="",f=!1,m="",g=0;g<e.length;g++)if(c=e[g],"}"!==c&&l)p+=c;else if("]"!==c&&f){var v;switch(c){case"-":v=c;break;case"^":v=c;break;default:v=n.escapeRegExpCharacters(c)}m+=v}else switch(c){case"{":l=!0;continue;case"[":f=!0;continue;case"}":var _=i(p,","),y="(?:"+_.reduce(function(e,t){return e+"|"+s(t)},s(_[0]))+")";t+=y,l=!1,p="";break;case"]":t+="["+m+"]",f=!1,m="";break;case"?":t+=h;continue;case"*":t+=r(1);continue;default:t+=n.escapeRegExpCharacters(c)}u<o.length-1&&"**"!==o[u+1]&&(t+=d),a=!1})}return t}function a(e){if(!e)return null;if(e=e.trim(),l[e]){var t=l[e];return t.lastIndex=0,t}var n=s(e);n="^"+n+"$";var o;try{o=new RegExp(n)}catch(r){o=/.^/}return l[e]=o,o}function u(e,t,n){if(!e||!t)return!1;if("string"==typeof e)try{return a(e).test(t)}catch(o){return!1}return c(e,t,n)}function c(e,t,r){for(var i=Object.getOwnPropertyNames(e),s=0;s<i.length;s++){var a=i[s];if(u(a,t)){var c=e[a];if("boolean"==typeof c){if(c===!1)continue;return a}if(c&&"string"==typeof c.when){if(!r||!r.length)continue;var l=c,d=n.rtrim(o.basename(t),o.extname(t)),h=n.replaceAll(l.when,"$(basename)",d);if(r.some(function(e){return e===h}))return a;continue}return a}}return null}var l=Object.create(null),d="[/\\\\]",h="[^/\\\\]";t.splitGlobAware=i,t.match=u}),define("vs/platform/search/common/search",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.ID="searchService",t.ISearchService=n.createDecorator(t.ID),function(e){e[e.File=1]="File",e[e.Text=2]="Text"}(t.QueryType||(t.QueryType={}));var o=(t.QueryType,function(){function e(e){this.resource=e,this.lineMatches=[]}return e}());t.FileMatch=o;var r=function(){function e(e,t,n){this.preview=e,this.lineNumber=t,this.offsetAndLengths=n}return e}();t.LineMatch=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/modes/abstractMode",["require","exports","vs/base/common/eventEmitter","vs/editor/common/modes/modesFilters","vs/editor/common/modes/nullMode","vs/editor/common/modes/supports","vs/base/common/winjs.base","vs/platform/thread/common/thread","vs/platform/thread/common/threadService","vs/platform/instantiation/common/descriptors"],function(e,t,n,o,r,i,s,a,u,c){function l(e){return void 0===e&&(e=""),r.NullMode.createWordRegExp(e)}t.createWordRegExp=l;var d=function(){function t(e,t,n,o){void 0===o&&(o=null),this._registry=t,this._resourceService=e.resourceService,this._instantiationService=e.instantiationService,this._threadService=e.threadService,this._modelService=e.modelService,this._descriptor=n,this._workerDescriptor=o||c.AsyncDescriptor.create("vs/editor/common/modes/nullWorker","NullWorker"),this._options=null,this.autoValidateDelay=500,this.modelSyncSupport=this,this.occurrencesSupport=this,this.suggestSupport=this,this.inplaceReplaceSupport=this,this.diffSupport=this,this.dirtyDiffSupport=this,this.linkSupport=this,this.configSupport=this,this.commentsSupport=this,this.tokenTypeClassificationSupport=this,this._workerPiecePromise=null}return t.prototype.getId=function(){return this._descriptor.id},t.prototype.creationDone=function(){this._threadService.isInMainThread&&this._pickAWorkerToValidate()},t.prototype._getOrCreateWorker=function(){var e=this;return this._workerPiecePromise||(this._workerPiecePromise=t._loadModule(this._workerDescriptor.moduleName).then(function(){var t=e._registry.getWorkerParticipants(e._descriptor.id);return s.TPromise.join(t.map(function(t){return e._instantiationService.createInstance(t)}))}).then(function(t){return e._instantiationService.createInstance(e._workerDescriptor,e,t)})),this._workerPiecePromise},t._loadModule=function(t){return new s.TPromise(function(n,o){e([t],n,o)},function(){})},t.prototype._worker=function(e){return this._getOrCreateWorker().then(e)},t.prototype.bindModel=function(e){this._modelService&&this._modelService.addModel(e)},t.prototype.unbindModel=function(e){this._modelService&&this._modelService.removeModel(e)},t.prototype._pickAWorkerToValidate=function(){return this._worker(function(e){return e.enableValidator()})},t.prototype.getFilter=function(){return o.DefaultFilter},t.prototype.suggest=function(e,t){return this._worker(function(n){return n.suggest(e,t)})},t.prototype.getTriggerCharacters=function(){return[]},t.prototype.shouldAutotriggerSuggest=function(e,n,o){return i.handleEvent(e,n,function(e,n,r){return e.suggestSupport?e instanceof t?e.shouldAutotriggerSuggestImpl(n,r,o):e.suggestSupport.shouldAutotriggerSuggest(n,r,o):!1})},t.prototype.shouldAutotriggerSuggestImpl=function(){return!1},t.prototype.shouldShowEmptySuggestionList=function(){return!0},t.prototype.findOccurrences=function(e,t,n){return void 0===n&&(n=!1),this._worker(function(o){return o.findOccurrences(e,t,n)})},t.prototype.navigateValueSet=function(e,t,n){return this._worker(function(o){return o.inplaceReplaceSupport.navigateValueSet(e,t,n)})},t.prototype.computeDiff=function(e,t,n){return this._worker(function(o){return o.computeDiff(e,t,n)})},t.prototype.computeDirtyDiff=function(e,t){return this._worker(function(n){return n.computeDirtyDiff(e,t)})},t.prototype.computeLinks=function(e){return this._worker(function(t){return t.computeLinks(e)})},t.prototype.configure=function(e){return this._options=e,this._threadService.isInMainThread?this._configureWorkers(e):this._worker(function(t){return t.configure(e)})},t.prototype._configureWorkers=function(e){return this._worker(function(t){return t.configure(e)})},t.prototype.getWordDefinition=function(){return r.NullMode.DEFAULT_WORD_REGEXP},t.prototype.getCommentsConfiguration=function(){return null},t.prototype._getMirrorModelAtPosition=function(e,t){var n=this._resourceService.get(e);return n.getEmbeddedAtPosition(t)},t.prototype._delegateToModeAtPosition=function(e,t,n){var o=this._resourceService.get(e);if(!o)return null;var r=o.getEmbeddedAtPosition(t);if(!r)return n(!1,o);var i=r.getMode();return n(i.getId()!==this.getId(),r)},t.prototype._delegateToAllModes=function(e,t){var n=this._resourceService.get(e);return n?t(n.getAllEmbedded()):null},t.$_pickAWorkerToValidate=u.OneWorkerAttr(t,t.prototype._pickAWorkerToValidate,a.ThreadAffinity.Group1),t.$suggest=u.OneWorkerAttr(t,t.prototype.suggest),t.$findOccurrences=u.OneWorkerAttr(t,t.prototype.findOccurrences),t.$navigateValueSet=u.OneWorkerAttr(t,t.prototype.navigateValueSet),t.$computeDiff=u.OneWorkerAttr(t,t.prototype.computeDiff),t.$computeDirtyDiff=u.OneWorkerAttr(t,t.prototype.computeDirtyDiff),t.$computeLinks=u.OneWorkerAttr(t,t.prototype.computeLinks),t.$_configureWorkers=u.AllWorkersAttr(t,t.prototype._configureWorkers),t}();t.AbstractMode=d,t.isDigit=function(){var e="0".charCodeAt(0),t="1".charCodeAt(0),n="2".charCodeAt(0),o="3".charCodeAt(0),r="4".charCodeAt(0),i="5".charCodeAt(0),s="6".charCodeAt(0),a="7".charCodeAt(0),u="8".charCodeAt(0),c="9".charCodeAt(0),l="a".charCodeAt(0),d="b".charCodeAt(0),h="c".charCodeAt(0),p="d".charCodeAt(0),f="e".charCodeAt(0),m="f".charCodeAt(0),g="A".charCodeAt(0),v="B".charCodeAt(0),_="C".charCodeAt(0),y="D".charCodeAt(0),b="E".charCodeAt(0),C="F".charCodeAt(0);return function(S,w){var E=S.charCodeAt(0);switch(w){case 1:return E===e;case 2:return E>=e&&t>=E;case 3:return E>=e&&n>=E;case 4:return E>=e&&o>=E;case 5:return E>=e&&r>=E;case 6:return E>=e&&i>=E;case 7:return E>=e&&s>=E;case 8:return E>=e&&a>=E;case 9:return E>=e&&u>=E;case 10:return E>=e&&c>=E;case 11:return E>=e&&c>=E||E===l||E===g;case 12:return E>=e&&c>=E||E>=l&&d>=E||E>=g&&v>=E;case 13:return E>=e&&c>=E||E>=l&&h>=E||E>=g&&_>=E;case 14:return E>=e&&c>=E||E>=l&&p>=E||E>=g&&y>=E;case 15:return E>=e&&c>=E||E>=l&&f>=E||E>=g&&b>=E;default:return E>=e&&c>=E||E>=l&&m>=E||E>=g&&C>=E}}}();var h=function(e){function t(t,o,r){e.call(this,t,o,{id:r}),this._eventEmitter=new n.EventEmitter}return __extends(t,e),t.prototype.registerSupport=function(e,t){var n=t(this);this[e]=n;var o={codeLensSupport:!1,modelSyncSupport:!1,tokenizationSupport:!1,occurrencesSupport:!1,declarationSupport:!1,typeDeclarationSupport:!1,navigateTypesSupport:!1,referenceSupport:!1,suggestSupport:!1,parameterHintsSupport:!1,extraInfoSupport:!1,outlineSupport:!1,logicalSelectionSupport:!1,formattingSupport:!1,inplaceReplaceSupport:!1,diffSupport:!1,dirtyDiffSupport:!1,emitOutputSupport:!1,linkSupport:!1,configSupport:!1,electricCharacterSupport:!1,commentsSupport:!1,characterPairSupport:!1,tokenTypeClassificationSupport:!1,quickFixSupport:!1};o[e]=!0,this._eventEmitter.emit("modeSupportChanged",o)},t.prototype.addSupportChangedListener=function(e){return this._eventEmitter.addListener2("modeSupportChanged",e)},t}(d);t.FrankensteinMode=h}),define("vs/editor/common/modes/monarch/monarchDefinition",["require","exports","vs/base/common/winjs.base","vs/editor/common/modes/abstractMode"],function(e,t,n,o){function r(e){return{commentsConfiguration:{lineCommentTokens:[e.lineComment],blockCommentStartToken:e.blockCommentStart,blockCommentEndToken:e.blockCommentEnd}}}function i(e){return{brackets:e.standardBrackets,regexBrackets:e.enhancedBrackets,docComment:e.docComment,caseInsensitive:e.ignoreCase,embeddedElectricCharacters:e.outdentTriggers.split("")}}function s(e){return{wordDefinition:e.wordDefinition}}function a(e){return{autoClosingPairs:e.autoClosingPairs}}function u(e,t,n,o){var r=n.suggestSupport.snippets;return r&&0!==r.length?(o||(o=[]),o.push({currentWord:e.getWordUntilPosition(t).word,suggestions:r.slice(0)}),o):o}function c(e,t,r){return r.suggestSupport.textualCompletions&&t instanceof o.AbstractMode?{triggerCharacters:r.suggestSupport.triggerCharacters,disableAutoTrigger:r.suggestSupport.disableAutoTrigger,excludeTokens:[],suggest:function(e,n){return t.suggest(e,n)},composeSuggest:function(t,o,i){return n.TPromise.as(u(e.getModel(t),o,r,i))}}:{triggerCharacters:r.suggestSupport.triggerCharacters,disableAutoTrigger:r.suggestSupport.disableAutoTrigger,excludeTokens:[],suggest:function(t,o){return n.TPromise.as(u(e.getModel(t),o,r,null))},composeSuggest:function(e,t,o){return n.TPromise.as(o)}}}t.createCommentsSupport=r,t.createBracketElectricCharacterContribution=i,t.createTokenTypeClassificationSupportContribution=s,t.createCharacterPairContribution=a,t.createSuggestSupport=c}),define("vs/editor/common/modes/abstractState",["require","exports"],function(e,t){var n=function(){function e(e,t){void 0===t&&(t=null),this.mode=e,this.stateData=t}return e.prototype.getMode=function(){return this.mode},e.prototype.clone=function(){var e=this.makeClone();return e.initializeFrom(this),e},e.prototype.makeClone=function(){throw new Error("Abstract Method")},e.prototype.initializeFrom=function(e){this.stateData=null!==e.stateData?e.stateData.clone():null},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e.prototype.equals=function(t){return null===t||this.mode!==t.getMode()?!1:t instanceof e?e.safeEquals(this.stateData,t.stateData):!1},e.prototype.tokenize=function(){throw new Error("Abstract Method")},e.safeEquals=function(e,t){return null===e&&null===t?!0:null===e||null===t?!1:e.equals(t)},e.safeClone=function(e){return e?e.clone():null},e}();t.AbstractState=n}),define("vs/editor/common/modes/monarch/monarchCommon",["require","exports"],function(e,t){function n(e){return e?!1:!0}function o(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function r(e){return e.replace(/[&<>'"_]/g,"-")}function i(e,t){console.log(t)}function s(e,t){throw new Error(t)}function a(e,t,r,i,s){var a=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,u=null;return t.replace(a,function(t,a,c,l,d,h,p){return n(c)?n(l)?!n(d)&&d<i.length?o(e,i[d]):!n(p)&&e&&"string"==typeof e[p]?e[p]:(null===u&&(u=s.split("."),u.unshift(s)),!n(h)&&h<u.length?o(e,u[h]):""):o(e,r):"$"})}function u(e,t){for(;t&&t.length>0;){var n=e.tokenizer[t];if(n)return n;var o=t.lastIndexOf(".");t=0>o?null:t.substr(0,o)}return null}function c(e,t){for(;t&&t.length>0;){var n=e.stateNames[t];if(n)return!0;var o=t.lastIndexOf(".");t=0>o?null:t.substr(0,o)}return!1}t.empty=n,t.fixCase=o,t.sanitize=r,t.log=i,t.throwError=s,t.substituteMatches=a,t.findRules=u,t.stateExists=c});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/modes/monarch/monarchLexer",["require","exports","vs/editor/common/modes/abstractState","vs/editor/common/modes/lineStream","vs/editor/common/modes/modesRegistry","vs/editor/common/modes/supports","vs/editor/common/modes/monarch/monarchCommon","vs/editor/common/modes","vs/platform/platform"],function(e,t,n,o,r,i,s,a,u){function c(e,t){if(!t)return null;t=s.fixCase(e,t);for(var n=e.brackets,o=0;o<n.length;o++){var r=n[o];if(r.open===t)return{token:r.token,bracketType:a.Bracket.Open};if(r.close===t)return{token:r.token,bracketType:a.Bracket.Close}}return null}function l(e,t,n){return new i.TokenizationSupport(t,{getInitialState:function(){return new h(t,n)},enterNestedMode:function(e){return e instanceof h?e.embeddedEntered:!1},getNestedMode:function(t){var n=t.embeddedMode;if(!d.isRegisteredMode(n))return{mode:e.getMode("text/plain"),missingModePromise:null};var o=e.getMode(n);return o?{mode:o,missingModePromise:null}:{mode:e.getMode("text/plain"),missingModePromise:e.getOrCreateMode(n).then(function(){return null})}},getLeavingNestedModeData:function(e,t){for(var n=t.clone(),r=new o.LineStream(e);!r.eos()&&n.embeddedMode;)n.tokenize(r,!0);if(n.embeddedMode)return null;var i=r.pos();return{nestedModeBuffer:e.substring(0,i),bufferAfterNestedMode:e.substring(i),stateAfterNestedMode:n}}},n.usesEmbedded,!1)}var d=u.Registry.as(r.Extensions.EditorModes),h=function(e){function t(n,o,r,i){e.call(this,n),this.id=t.ID++,this.lexer=o,this.stack=r?r:[o.start],this.embeddedMode=i?i:null,this.embeddedEntered=!1,this.groupActions=null,this.groupMatches=null,this.groupMatched=null,this.groupRule=null}return __extends(t,e),t.prototype.makeClone=function(){return new t(this.getMode(),this.lexer,this.stack.slice(0),this.embeddedMode)},t.prototype.equals=function(n){if(!e.prototype.equals.call(this,n))return!1;if(!(n instanceof t))return!1;var o=n;if(this.stack.length!==o.stack.length||this.lexer.name!==o.lexer.name||this.embeddedMode!==o.embeddedMode)return!1;var r;for(r in this.stack)if(this.stack.hasOwnProperty(r)&&this.stack[r]!==o.stack[r])return!1;return!0},t.prototype.tokenize=function(e,t){var n=this.stack.length,o=0,r=this.stack[0];this.embeddedEntered=!1;var i=null,u=null,l=null,h=null,p=null;if(this.groupActions)o=this.groupActions.length,i=this.groupMatches,u=this.groupMatched.shift(),l=this.groupActions.shift(),p=this.groupRule,0===this.groupActions.length&&(this.groupActions=null,this.groupMatches=null,this.groupMatched=null,this.groupRule=null);else{if(e.eos())return{type:""};var f=e.advanceToEOS();e.goBack(f.length);var m=this.lexer.tokenizer[r];if(m||(m=s.findRules(this.lexer,r)),m){p=null;var g,v=e.pos();for(g in m)if(m.hasOwnProperty(g)&&(p=m[g],(0===v||!p.matchOnlyAtLineStart)&&(i=f.match(p.regex)))){u=i[0],l=p.action;break}}else s.throwError(this.lexer,"tokenizer state is not defined: "+r)}for(i||(i=[""],u=""),l||(e.eos()||(i=[e.peek()],u=i[0]),l=this.lexer.defaultToken),e.advance(u.length);l.test;){var _=l.test(u,i,r,e.eos());l=_}var y=null;if("string"==typeof l||Array.isArray(l))y=l;else if(l.group)y=l.group;else if(null!==l.token&&void 0!==l.token){if(y=l.token,l.tokenSubst&&(y=s.substituteMatches(this.lexer,y,u,i,r)),l.nextEmbedded)if("@pop"===l.nextEmbedded)this.embeddedMode||s.throwError(this.lexer,"cannot pop embedded mode if not inside one"),this.embeddedMode=null;else if(this.embeddedMode)s.throwError(this.lexer,"cannot enter embedded mode from within an embedded mode");else{this.embeddedMode=s.substituteMatches(this.lexer,l.nextEmbedded,u,i,r);var b=d.getModeIdForLanguageName(this.embeddedMode);this.embeddedMode&&b&&(this.embeddedMode=b),this.embeddedEntered=!0}if(l.goBack&&e.goBack(l.goBack),l.switchTo&&"string"==typeof l.switchTo){var C=s.substituteMatches(this.lexer,l.switchTo,u,i,r);"@"===C[0]&&(C=C.substr(1)),s.findRules(this.lexer,C)?this.stack[0]=C:s.throwError(this.lexer,"trying to switch to a state '"+C+"' that is undefined in rule: "+p.name),h=null}else if(l.transform&&"function"==typeof l.transform)this.stack=l.transform(this.stack),h=null;else if(l.next)if("@push"===l.next)this.stack.length>=this.lexer.maxStack?s.throwError(this.lexer,"maximum tokenizer stack size reached: ["+this.stack[0]+","+this.stack[1]+",...,"+this.stack[this.stack.length-2]+","+this.stack[this.stack.length-1]+"]"):this.stack.unshift(r);else if("@pop"===l.next)this.stack.length<=1?s.throwError(this.lexer,"trying to pop an empty stack in rule: "+p.name):this.stack.shift();else if("@popall"===l.next)this.stack.length>1&&(this.stack=[this.stack[this.stack.length-1]]);else{var C=s.substituteMatches(this.lexer,l.next,u,i,r);"@"===C[0]&&(C=C.substr(1)),s.findRules(this.lexer,C)?this.stack.unshift(C):s.throwError(this.lexer,"trying to set a next state '"+C+"' that is undefined in rule: "+p.name)}l.log&&"string"==typeof l.log&&s.log(this.lexer,this.lexer.displayName+": "+s.substituteMatches(this.lexer,l.log,u,i,r))}if(null===y&&(s.throwError(this.lexer,"lexer rule has no well-defined action in rule: "+p.name),y=this.lexer.defaultToken),Array.isArray(y)){this.groupActions&&this.groupActions.length>0&&s.throwError(this.lexer,"groups cannot be nested: "+p.name),i.length!==y.length+1&&s.throwError(this.lexer,"matched number of groups does not match the number of actions in rule: "+p.name);
for(var S=0,w=1;w<i.length;w++)S+=i[w].length;return S!==u.length&&s.throwError(this.lexer,"with groups, all characters should be matched in consecutive groups in rule: "+p.name),this.groupMatches=i,this.groupMatched=i.slice(1),this.groupActions=y.slice(0),this.groupRule=p,e.goBack(u.length),this.tokenize(e)}if("@rematch"===y&&(e.goBack(u.length),u="",i=null,y=""),0===u.length)if(n!==this.stack.length||r!==this.stack[0]||(this.groupActions?this.groupActions.length:0)!==o){if(!t)return this.tokenize(e)}else s.throwError(this.lexer,"no progress in tokenizer in rule: "+p.name),e.advanceToEOS();if(0===y.indexOf("@brackets")){var E=y.substr("@brackets".length),T=c(this.lexer,u);return T||(s.throwError(this.lexer,"@brackets token returned but no bracket defined as: "+u),T={token:"",bracketType:a.Bracket.None}),{type:s.sanitize(T.token+E),bracket:T.bracketType}}var x=""===y?"":y+this.lexer.tokenPostfix;return{type:s.sanitize(x),bracket:l.bracket}},t.ID=0,t}(n.AbstractState);t.MonarchLexer=h,t.createTokenizationSupport=l});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/modes/monarch/monarch",["require","exports","vs/editor/common/modes/abstractMode","vs/editor/common/modes/supports","vs/editor/common/modes/monarch/monarchDefinition","vs/editor/common/modes/monarch/monarchLexer"],function(e,t,n,o,r,i){var s=function(e){function t(t,n,s,a,u){void 0===u&&(u=null),!a.name&&a.lexer&&(a=a.lexer),s||(s={id:a.name,workerParticipants:[]}),e.call(this,t,n,s,u),this.tokenizationSupport=i.createTokenizationSupport(t.modeService,this,a),this.electricCharacterSupport=new o.BracketElectricCharacterSupport(this,r.createBracketElectricCharacterContribution(a)),this.commentsSupport=new o.CommentsSupport(r.createCommentsSupport(a)),this.tokenTypeClassificationSupport=new o.TokenTypeClassificationSupport(r.createTokenTypeClassificationSupportContribution(a)),this.characterPairSupport=new o.CharacterPairSupport(this,r.createCharacterPairContribution(a)),this.suggestSupport=new o.ComposableSuggestSupport(this,r.createSuggestSupport(this._modelService,this,a))}return __extends(t,e),t}(n.AbstractMode);t.MonarchMode=s}),define("vs/editor/common/modes/monarch/monarchCompile",["require","exports","vs/editor/common/modes/monarch/monarchCommon","vs/editor/common/modes","vs/base/common/objects"],function(e,t,n,o,r){function i(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;var n;for(n in t)if(t.hasOwnProperty(n)&&!e(t[n]))return!1;return!0}function s(e,t,n){return"boolean"==typeof e?e:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function a(e,t,n){return"string"==typeof e?e:(n&&(e||void 0===t)&&n(),void 0===t?null:t)}function u(e,t){if("string"!=typeof t)return null;for(var o=0;t.indexOf("@")>=0&&5>o;)o++,t=t.replace(/@(\w+)/g,function(o,r){var i="";return"string"==typeof e[r]?i=e[r]:e[r]&&e[r]instanceof RegExp?i=e[r].source:void 0===e[r]?n.throwError(e,"language definition does not contain attribute '"+r+"', used at: "+t):n.throwError(e,"attribute reference '"+r+"' must be a string, used at: "+t),n.empty(i)?"":"(?:"+i+")"});return new RegExp(t,e.ignoreCase?"i":"")}function c(e,t,n,o){if(0>o)return e;if(o<t.length)return t[o];if(o>=100){o-=100;var r=n.split(".");if(r.unshift(n),o<r.length)return r[o]}return null}function l(e,t,o,s){var a=-1,l=o,d=o.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);d&&(d[3]&&(a=parseInt(d[3]),d[2]&&(a+=100)),l=d[4]);var h="~",p=l;l&&0!==l.length?/^\w*$/.test(p)?h="==":(d=l.match(/^(@|!@|~|!~|==|!=)(.*)$/),d&&(h=d[1],p=d[2])):(h="!=",p="");var f;if("~"!==h&&"!~"!==h||!/^(\w|\|)*$/.test(p))if("@"===h||"!@"===h){var m=e[p];m||n.throwError(e,"the @ match target '"+p+"' is not defined, in rule: "+t),i(function(e){return"string"==typeof e},m)||n.throwError(e,"the @ match target '"+p+"' must be an array of strings, in rule: "+t);var g=r.createKeywordMatcher(m,e.ignoreCase);f=function(e){return"@"===h?g(e):!g(e)}}else if("~"===h||"!~"===h)if(p.indexOf("$")<0){var v=u(e,"^"+p+"$");f=function(e){return"~"===h?v.test(e):!v.test(e)}}else f=function(t,o,r,i){var s=u(e,"^"+n.substituteMatches(e,p,o,r,i)+"$");return s.test(t)};else if(p.indexOf("$")<0){var _=n.fixCase(e,p);f=function(e){return"=="===h?e===_:e!==_}}else{var _=n.fixCase(e,p);f=function(t,o,r,i){var s=n.substituteMatches(e,_,o,r,i);return"=="===h?t===s:t!==s}}else{var g=r.createKeywordMatcher(p.split("|"),e.ignoreCase);f=function(e){return"~"===h?g(e):!g(e)}}return-1===a?{name:o,value:s,test:function(e,t,n,o){return f(e,e,t,n,o)}}:{name:o,value:s,test:function(e,t,n,o){var r=c(e,t,n,a);return f(r?r:"",e,t,n,o)}}}function d(e,t,r){if(r){if("string"==typeof r)return r;if(r.token||""===r.token){if("string"!=typeof r.token)return n.throwError(e,"a 'token' attribute must be of type string, in rule: "+t),{token:""};var i={token:r.token};if(r.token.indexOf("$")>=0&&(i.tokenSubst=!0),"string"==typeof r.bracket&&("@open"===r.bracket?i.bracket=o.Bracket.Open:"@close"===r.bracket?i.bracket=o.Bracket.Close:n.throwError(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t)),r.next)if("string"!=typeof r.next)n.throwError(e,"the next state must be a string value in rule: "+t);else{var s=r.next;/^(@pop|@push|@popall)$/.test(s)||("@"===s[0]&&(s=s.substr(1)),s.indexOf("$")<0&&(n.stateExists(e,n.substituteMatches(e,s,"",[],""))||n.throwError(e,"the next state '"+r.next+"' is not defined in rule: "+t))),i.next=s}return"number"==typeof r.goBack&&(i.goBack=r.goBack),"string"==typeof r.switchTo&&(i.switchTo=r.switchTo),"string"==typeof r.log&&(i.log=r.log),"string"==typeof r.nextEmbedded&&(i.nextEmbedded=r.nextEmbedded,e.usesEmbedded=!0),i}if(Array.isArray(r)){var a,u=[];for(a in r)r.hasOwnProperty(a)&&(u[a]=d(e,t,r[a]));return{group:u}}if(r.cases){var c,h=[];for(c in r.cases)if(r.cases.hasOwnProperty(c)){var p=d(e,t,r.cases[c]);"@default"===c||"@"===c||""===c?h.push({test:null,value:p,name:c}):"@eos"===c?h.push({test:function(e,t,n,o){return o},value:p,name:c}):h.push(l(e,t,c,p))}var f=e.defaultToken;return{test:function(e,t,n,o){var r;for(r in h)if(h.hasOwnProperty(r)){var i=!h[r].test||h[r].test(e,t,n,o);if(i)return h[r].value}return f}}}return n.throwError(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t),""}return{token:""}}function h(e){function t(r,i,u){var c;for(c in u)if(u.hasOwnProperty(c)){var d=u[c],h=d.include;if(h)"string"!=typeof h&&n.throwError(o,"an 'include' attribute must be a string at: "+r),"@"===h[0]&&(h=h.substr(1)),e.tokenizer[h]||n.throwError(o,"include target '"+h+"' is not defined at: "+r),t(r+"."+h,i,e.tokenizer[h]);else{var f=new p(r);if(Array.isArray(d)&&d.length>=1&&d.length<=3)if(f.setRegex(l,d[0]),d.length>=3)if("string"==typeof d[1])f.setAction(l,{token:d[1],next:d[2]});else if("object"==typeof d[1]){var m=d[1];m.next=d[2],f.setAction(l,m)}else n.throwError(o,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+r);else f.setAction(l,d[1]);else d.regex||n.throwError(o,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+r),d.name&&(f.name=a(d.name)),d.matchOnlyAtStart&&(f.matchOnlyAtLineStart=s(d.matchOnlyAtLineStart)),f.setRegex(l,d.regex),f.setAction(l,d.action);i.push(f)}}}if(!e||"object"!=typeof e)throw new Error("Monarch: expecting a language definition object");if("string"!=typeof e.name)throw new Error("Monarch: a language definition must include a string 'name' attribute");var o={};if(o.name=e.name,o.displayName=a(e.displayName,o.name),o.noThrow=!1,o.maxStack=100,o.start=a(e.start),o.ignoreCase=s(e.ignoreCase,!1),o.lineComment=a(e.lineComment,"//"),o.blockCommentStart=a(e.blockCommentStart,"/*"),o.blockCommentEnd=a(e.blockCommentEnd,"*/"),o.tokenPostfix=a(e.tokenPostfix,"."+o.name),o.defaultToken=a(e.defaultToken,"source",function(){n.throwError(o,"the 'defaultToken' must be a string")}),o.usesEmbedded=!1,o.wordDefinition=e.wordDefinition||void 0,!o.lineComment&&e.lineComments&&("string"==typeof e.lineComments?o.lineComment=e.lineComments:"string"==typeof e.lineComments[0]&&(o.lineComment=e.lineComments[0])),o.suggestSupport={textualCompletions:!0,disableAutoTrigger:!1,triggerCharacters:[],snippets:[]},"undefined"!=typeof e.suggestSupport){var r=e.suggestSupport;if(Array.isArray(r.snippets))for(var i=r.snippets,u=0,c=i.length;c>u;u++)"string"==typeof i[u]?o.suggestSupport.snippets.push({type:"snippet",label:i[u],codeSnippet:i[u]}):o.suggestSupport.snippets.push(i[u]);Array.isArray(r.triggerCharacters)&&(o.suggestSupport.triggerCharacters=r.triggerCharacters),"undefined"!=typeof r.textualCompletions&&(o.suggestSupport.textualCompletions=r.textualCompletions),"undefined"!=typeof r.disableAutoTrigger&&(o.suggestSupport.disableAutoTrigger=r.disableAutoTrigger)}var l=e;l.name=o.name,l.displayName=o.displayName,l.ignoreCase=o.ignoreCase,l.noThrow=o.noThrow,l.usesEmbedded=o.usesEmbedded,l.stateNames=e.tokenizer,l.defaultToken=o.defaultToken,e.tokenizer&&"object"==typeof e.tokenizer||n.throwError(o,"a language definition must define the 'tokenizer' attribute as an object"),o.tokenizer=[];var d;for(d in e.tokenizer)if(e.tokenizer.hasOwnProperty(d)){o.start||(o.start=d);var h=e.tokenizer[d];o.tokenizer[d]=new Array,t("tokenizer."+d,o.tokenizer[d],h)}o.usesEmbedded=l.usesEmbedded,e.brackets?Array.isArray(e.brackets)||n.throwError(o,"the 'brackets' attribute must be defined as an array"):e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var f=[];for(var m in e.brackets)if(e.brackets.hasOwnProperty(m)){var g=e.brackets[m];g&&Array.isArray(g)&&3===g.length&&(g={token:g[2],open:g[0],close:g[1]}),g.open===g.close&&n.throwError(o,"open and close brackets in a 'brackets' attribute must be different: "+g.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required."),"string"==typeof g.open&&"string"==typeof g.token?f.push({token:a(g.token)+o.tokenPostfix,open:n.fixCase(o,a(g.open)),close:n.fixCase(o,a(g.close))}):n.throwError(o,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}o.brackets=f;var v;if(e.autoClosingPairs?(Array.isArray(e.autoClosingPairs)||n.throwError(o,"the 'autoClosingPairs' attribute must be an array of string pairs (as arrays)"),v=e.autoClosingPairs.slice(0)):v=[['"','"'],["'","'"],["@brackets"]],o.autoClosingPairs=[],v)for(var _ in v)if(v.hasOwnProperty(_)){var y,b=v[_];if("@brackets"===b||"@brackets"===b[0]){var C;for(C in f)f.hasOwnProperty(C)&&f[C].open&&1===f[C].open.length&&f[C].close&&1===f[C].close.length&&(y={open:f[C].open,close:f[C].close,notIn:["string","comment"]},o.autoClosingPairs.push(y))}else Array.isArray(b)&&2===b.length&&"string"==typeof b[0]&&1===b[0].length&&"string"==typeof b[1]&&1===b[1].length?(y={open:n.fixCase(o,b[0]),close:n.fixCase(o,b[1]),notIn:["string","comment"]},o.autoClosingPairs.push(y)):"string"==typeof b.open&&1===b.open.length&&"string"==typeof b.close&&1===b.close.length?(y={open:n.fixCase(o,b.open[0]),close:n.fixCase(o,b.close[0]),notIn:["string","comment"]},o.autoClosingPairs.push(y)):n.throwError(o,"every element in an 'autoClosingPairs' array must be a pair of 1 character strings, or a '@brackets' directive")}var S=[];if(e.enhancedBrackets){Array.isArray(e.enhancedBrackets)||n.throwError(o,"the 'enhancedBrackets' attribute must be defined as an array");for(var m in e.enhancedBrackets)if(e.enhancedBrackets.hasOwnProperty(m)){var g=e.enhancedBrackets[m];g.hasOwnProperty("openTrigger")&&"string"!=typeof g.openTrigger&&n.throwError(o,"openTrigger in the 'enhancedBrackets' array must be a string"),!g.hasOwnProperty("open")||g.open instanceof RegExp||n.throwError(o,"open in the 'enhancedBrackets' array must be a regex"),g.hasOwnProperty("closeComplete")&&"string"!=typeof g.closeComplete&&n.throwError(o,"closeComplete in the 'enhancedBrackets' array must be a string"),g.hasOwnProperty("matchCase")&&"boolean"!=typeof g.matchCase&&n.throwError(o,"matchCase in the 'enhancedBrackets' array must be a boolean"),g.hasOwnProperty("closeTrigger")&&"string"!=typeof g.closeTrigger&&n.throwError(o,"closeTrigger in the 'enhancedBrackets' array must be a string"),!g.hasOwnProperty("close")||g.close instanceof RegExp||n.throwError(o,"close in the 'enhancedBrackets' array must be a regex"),g.hasOwnProperty("tokenType")&&("string"!=typeof g.tokenType?n.throwError(o,"tokenType in the 'enhancedBrackets' array must be a string"):g.tokenType+=o.tokenPostfix),S.push(g)}}o.enhancedBrackets=S;var w=null;e.docComment&&(w=e.docComment,w.hasOwnProperty("scope")&&"string"==typeof w.scope||n.throwError(o,"'docComment' must have a property 'scope' of type string"),w.hasOwnProperty("open")&&"string"==typeof w.open||n.throwError(o,"'docComment' must have a property 'open' of type string"),w.hasOwnProperty("lineStart")&&"string"==typeof w.lineStart||n.throwError(o,"'docComment' must have a property 'lineStart' of type string"),w.hasOwnProperty("close")&&"string"!=typeof w.close&&n.throwError(o,"'close' in 'docComment' must be a string")),o.docComment=w;for(var E=[],u=0;u<f.length;++u)E.push({tokenType:f[u].token,open:f[u].open,close:f[u].close,isElectric:!0});return o.standardBrackets=E,o.outdentTriggers=a(e.outdentTriggers,""),o.noThrow=!0,o}var p=function(){function e(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return e.prototype.setRegex=function(e,t){var o;"string"==typeof t?o=t:t instanceof RegExp?o=t.source:n.throwError(e,"rules must start with a match string or regular expression: "+this.name),this.matchOnlyAtLineStart=o.length>0&&"^"===o[0],this.name=this.name+": "+o,this.regex=u(e,"^(?:"+(this.matchOnlyAtLineStart?o.substr(1):o)+")")},e.prototype.setAction=function(e,t){this.action=d(e,this.name,t)},e}();t.compile=h});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/plaintext/common/plaintext",["require","exports","vs/editor/common/modes/supports","vs/editor/common/modes/abstractMode","vs/editor/common/modes/abstractState"],function(e,t,n,o,r){var i=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.makeClone=function(){return this},t.prototype.equals=function(n){return n instanceof t?e.prototype.equals.call(this,n):!1},t.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},t}(r.AbstractState),s=function(e){function t(t,o,r){var s=this;e.call(this,t,o,r),this.tokenizationSupport=new n.TokenizationSupport(this,{getInitialState:function(){return new i(s)}},!1,!1)}return __extends(t,e),t}(o.AbstractMode);t.Mode=s}),require.config({ignoreDuplicateModules:["vs/languages/typescript/common/features/tokenization","vs/languages/typescript/common/features/quickFixMainActions","vs/languages/typescript/common/typescript","vs/languages/typescript/common/typescriptMode","vs/languages/javascript/common/javascript.extensions"]}),define("vs/editor/common/languages.common",["vs/base/common/json","vs/base/common/uri","vs/base/common/network","vs/base/common/arrays","vs/base/common/collections","vs/base/common/lifecycle","vs/base/common/async","vs/base/common/glob","vs/base/common/events","vs/platform/configuration/common/configurationRegistry","vs/platform/files/common/files","vs/platform/search/common/search","vs/editor/common/common","vs/editor/common/modes/modesRegistry","vs/editor/common/modes/monarch/monarch","vs/editor/common/modes/monarch/monarchCompile","vs/languages/plaintext/common/plaintext"],function(){}),define("vs/editor/browser/editor.all",["vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/color/browser/color","vs/editor/contrib/comment/common/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/diffNavigator/common/diffNavigator","vs/editor/contrib/find/browser/find","vs/editor/contrib/format/common/format","vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/editor/contrib/iPadShowKeyboard/browser/iPadShowKeyboard","vs/editor/contrib/linesOperations/common/linesOperations","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/common/multicursor","vs/editor/contrib/outlineMarker/browser/outlineMarker","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/quickFix/browser/quickFix","vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/rename/browser/rename2","vs/editor/contrib/smartSelect/common/smartSelect","vs/editor/contrib/smartSelect/common/jumpToBracket","vs/editor/contrib/snippet/common/snippet","vs/editor/contrib/suggest/browser/suggest","vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/editor/contrib/wordHighlighter/common/wordHighlighter","vs/editor/contrib/workerStatusReporter/browser/workerStatusReporter","vs/editor/common/languages.common"],function(){}),define("vs/platform/keybinding/common/commonKeybindingResolver",["require","exports","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/keybinding/common/keybindingsUtils","vs/base/common/platform"],function(e,t,n,o,r){function i(e){return e.chord?{ctrlCmd:e.ctrlCmd,shift:e.shift,alt:e.alt,winCtrl:e.winCtrl,key:e.key}:e}function s(e,t){return e.length<t?e+new Array(t-e.length).join(" "):e}function a(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}var u=function(){function e(t,n){t=t.slice(0).sort(a),this._defaultKeybindings=t,this._defaultBoundCommands=Object.create(null);for(var r=0,s=t.length;s>r;r++)this._defaultBoundCommands[t[r].command]=!0;this._map=Object.create(null),this._lookupMap=Object.create(null),this._lookupMapUnreachable=Object.create(null),this._chords=Object.create(null);for(var u=t.length,c=t.concat(n),r=0,s=c.length;s>r;r++){var l=c[r];if(l.keybinding)if(l.context&&(l.context=l.context.map(e.normalizeRule)),l.keybinding.chord){var d=o.KeybindingsUtils.toMapKey(i(l.keybinding)).toLowerCase(),h=o.KeybindingsUtils.toMapKey(i(l.keybinding.chord)).toLowerCase();this._chords[d]=this._chords[d]||Object.create(null),this._chords[d][h]=this._chords[d][h]||[],this._chords[d][h].push({context:l.context,chord:null,commandId:l.command}),this._addKeyPress(d,{context:l.context,chord:d+" "+h,commandId:l.command},l,u>r)}else{var p=o.KeybindingsUtils.toMapKey(l.keybinding).toLowerCase();this._addKeyPress(p,{context:l.context,chord:null,commandId:l.command},l,u>r)}}}return e.prototype._addKeyPress=function(t,n,o,i){if(r.isWindows&&i&&/^ctrl\-alt\-[a-z0-9\[\]\|\;\'\,\.\/\`]$/.test(t)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: "+t+" for ",n),r.isLinux&&i&&/^alt\-/.test(t)&&console.warn("Alt+ keybindings should not be used by default under Linux. Offender: "+t+" for ",n),!this._map[t])return this._map[t]=[n],this._addToLookupMap(o),void 0;for(var s=this._map[t],a=s.length-1;a>=0;a--){var u=s[a];u.commandId!==o.command&&(u.chord&&n.chord&&u.chord!==n.chord||e.contextIsEntirelyIncluded(!0,u.context,o.context)&&(i&&console.warn("Conflict detected, command "+u.commandId+" cannot be triggered by "+t),this._lookupMapUnreachable[u.commandId]=this._lookupMapUnreachable[u.commandId]||[],u.chord?this._lookupMapUnreachable[u.commandId].push(u.chord):this._lookupMapUnreachable[u.commandId].push(t)))}s.push(n),this._addToLookupMap(o)},e.contextIsEntirelyIncluded=function(t,n,o){if(!o||0===o.length)return!0;if(!n||0===n.length)return!1;t||(n=n.map(e.normalizeRule),o=o.map(e.normalizeRule));for(var r=Object.create(null),i=0,s=n.length;s>i;i++)r[e._ruleToString(n[i])]=!0;for(var i=0,s=o.length;s>i;i++)if(!r[e._ruleToString(o[i])])return!1;return!0},e._ruleToString=function(e){var t=e.key;return t+="undefined"==typeof e.operator?";"+n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_EQUAL:";"+e.operator,t+="undefined"==typeof e.operand?";"+!0:";"+e.operand},e.normalizeRule=function(e){return e.operator===n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL&&"boolean"==typeof e.operand?{key:e.key,operator:n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_EQUAL,operand:!e.operand}:e},e.prototype._addToLookupMap=function(e){e.command&&(this._lookupMap[e.command]=this._lookupMap[e.command]||[],this._lookupMap[e.command].push(e))},e.prototype.getDefaultBoundCommands=function(){return this._defaultBoundCommands},e.prototype.getDefaultKeybindings=function(){var e=new c;return e.writeLine("["),this._defaultKeybindings.forEach(function(t){l.writeKeybindingItem(e,t),e.writeLine(",")}),e.writeLine("]"),e.toString()},e.prototype.lookupKeybinding=function(e){var t=this._lookupMap[e];if(!t)return[];var n=this._lookupMapUnreachable[e]||[];return t.filter(function(e){var t=o.KeybindingsUtils.toMapKey(e.keybinding).toLowerCase();return-1===n.indexOf(t)}).reverse()},e.prototype.resolve=function(e,t,n){return this._resolve(e,t,{asString:o.KeybindingsUtils.toMapKey(n).toLowerCase(),keybinding:n})},e.prototype._resolve=function(e,t,n){if(t){var o=this._chords[t.asString];return o?this._findCommand(e,o[n.asString],null):null}return this._findCommand(e,this._map[n.asString],n)},e.prototype._findCommand=function(t,n,o){if(!n)return null;for(var r=n.length-1;r>=0;r--){var i=n[r],s=i.context;if(e.contextMatchesRules(t,s))return i.chord&&o?{enterChord:o,commandId:null}:{enterChord:null,commandId:i.commandId}}return null},e.keybindingsEqual=function(e,t){return e.key===t.key&&e.ctrlCmd===t.ctrlCmd&&e.shift===t.shift&&e.alt===t.alt&&e.winCtrl===t.winCtrl},e.contextMatchesRules=function(t,n){if(!n||0===n.length)return!0;for(var o=0,r=n.length;r>o;o++)if(!e.contextMatchesRule(t,n[o]))return!1;return!0},e.contextMatchesRule=function(e,t){var o="undefined"==typeof t.operator?n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_EQUAL:t.operator,r="undefined"==typeof t.operand?!0:t.operand;switch(o){case n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_EQUAL:return r===!1?!e[t.key]:e[t.key]===r;case n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL:return e[t.key]!==r;default:console.warn("Unknown operator "+o)}return!0},e}();t.CommonKeybindingResolver=u;var c=function(){function e(){this._lines=[],this._currentLine=""}return e.prototype.write=function(e){this._currentLine+=e},e.prototype.writeLine=function(e){void 0===e&&(e=""),this._lines.push(this._currentLine+e),this._currentLine=""},e.prototype.toString=function(){return this.writeLine(),this._lines.join("\n")},e}();t.OutputBuilder=c;var l=function(){function e(){}return e.writeKeybindingItem=function(t,n){t.write('{ "key": '+s('"'+e.writeKeybinding(n.keybinding).replace(/\\/g,"\\\\")+'",',25)+' "command": '),n.context?(t.write('"'+n.command+'",'),t.writeLine(),n.context.length>0?(t.write('                                     "when": "'),e.writeKeybindingContexts(t,n.context),t.write('" ')):t.write('"when": "" ')):t.write('"'+n.command+'" '),t.write("}")},e.readKeybindingItem=function(t,n){var o=e.readKeybinding(t.key),r=e.readKeybindingContexts(t.when);return{keybinding:o,command:t.command,context:r,weight1:1e3,weight2:n}},e.writeKeybinding=function(e){var t=o.KeybindingsUtils.toUserSettingsLabel(e).toLowerCase().replace(/arrow/g,"");return r.isMacintosh?t=t.replace(/meta/g,"cmd"):r.isWindows&&(t=t.replace(/meta/g,"win")),t},e.readKeybinding=function(t){if(!t)return null;t=t.toLowerCase().trim();for(var n=!1,o=!1,i=!1,s=!1,a="";/^(ctrl|shift|alt|meta|win|cmd)(\+|\-)/.test(t);)/^ctrl(\+|\-)/.test(t)&&(r.isMacintosh?s=!0:n=!0,t=t.substr("ctrl-".length)),/^shift(\+|\-)/.test(t)&&(o=!0,t=t.substr("shift-".length)),/^alt(\+|\-)/.test(t)&&(i=!0,t=t.substr("alt-".length)),/^meta(\+|\-)/.test(t)&&(r.isMacintosh?n=!0:s=!0,t=t.substr("meta-".length)),/^win(\+|\-)/.test(t)&&(r.isMacintosh?n=!0:s=!0,t=t.substr("win-".length)),/^cmd(\+|\-)/.test(t)&&(r.isMacintosh?n=!0:s=!0,t=t.substr("cmd-".length));/^(up|down|left|right)/.test(t)&&(t=t.replace(/^(up|down|left|right)/,function(e){return e+"arrow"}));var u=null,c=t.indexOf(" ");return c>0?(a=t.substring(0,c),u=e.readKeybinding(t.substring(c))):a=t,{ctrlCmd:n,shift:o,alt:i,winCtrl:s,key:e.capitalizeKey(a),chord:u}},e.capitalizeKey=function(e){if(!e||0===e.length)return e;switch(e){case"pausebreak":return"PauseBreak";case"capslock":return"CapsLock";case"pageup":return"PageUp";case"pagedown":return"PageDown";case"leftarrow":return"LeftArrow";case"uparrow":return"UpArrow";case"rightarrow":return"RightArrow";case"downarrow":return"DownArrow";case"contextmenu":return"ContextMenu";case"numlock":return"NumLock";case"scrolllock":return"ScrollLock"}return e.charAt(0).toUpperCase()+e.substr(1)},e.writeKeybindingContexts=function(t,n){var o=n.length-1;n.forEach(function(n,r){e.writeKeybindingContent(t,n),r!==o&&t.write(" && ")})},e.readKeybindingContexts=function(t){if(!t)return void 0;for(var n=[],o=t.split("&&"),r=0;r<o.length;r++)n.push(e.readKeybindingContext(o[r]));return n},e.writeKeybindingContent=function(e,t){return t.operator&&(t.operator===n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL&&t.operand===!0||t.operator===n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_EQUAL&&t.operand===!1)?(e.write("!"+t.key),void 0):(e.write(t.key),t.operator&&(t.operator===n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_EQUAL?e.write(" == "):e.write(" != "),"boolean"==typeof t.operand?e.write(t.operand):e.write("'"+t.operand+"'")),void 0)},e.readKeybindingContext=function(e){e=e.trim();var t,o=null;if(e.indexOf("!=")>=0)t=e.split("!="),o=n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL;else{if(!(e.indexOf("==")>=0))return/^\!\s*/.test(e)?{key:e.substr(1).trim(),operator:n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_NOT_EQUAL,operand:!0}:{key:e};t=e.split("=="),o=n.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_EQUAL}var r=t[1].trim();if("true"===r)r=!0;else if("false"===r)r=!1;else{var i=/^'([^']*)'$/.exec(r);i&&(r=i[1])}return{key:t[0].trim(),operator:o,operand:r}},e}();t.IOSupport=l});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/keybinding/browser/keybindingServiceImpl",["require","exports","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/browser/keyboardEvent","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/keybinding/common/keybindingsUtils","vs/platform/keybinding/common/keybindingService","vs/platform/keybinding/common/commonKeybindingResolver"],function(e,t,n,o,r,i,s,a,u){var c="data-keybinding-context",l=function(){function e(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}return e.prototype.setValue=function(e,t){this._value[e]=t},e.prototype.removeValue=function(e){delete this._value[e]},e.prototype.getValue=function(){var e=this._parent?this._parent.getValue():Object.create(null);for(var t in this._value)e[t]=this._value[t];return e},e}();t.KeybindingContext=l;var d=function(){function e(e,t,n){this._parent=e,this._key=t,this._defaultValue=n,"undefined"!=typeof this._defaultValue&&this._parent.setContext(this._key,this._defaultValue)}return e.prototype.set=function(e){this._parent.setContext(this._key,e)},e.prototype.reset=function(){"undefined"==typeof this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},e}(),h=function(){function e(e){this.serviceId=a.IKeybindingService,this._myContextId=e,this._instantiationService=null,this._messageService=null}return e.prototype.setMessageService=function(e){this._messageService=e},e.prototype.createKey=function(e,t){return new d(this,e,t)},e.prototype.setInstantiationService=function(e){this._instantiationService=e},e.prototype.createScoped=function(e){return new m(this,e)},e.prototype.setContext=function(e,t){this.getContext(this._myContextId).setValue(e,t)},e.prototype.removeContext=function(e){this.getContext(this._myContextId).removeValue(e)},e.prototype.customKeybindingsCount=function(){throw new Error("Not implemented")},e.prototype.getContext=function(){throw new Error("Not implemented")},e.prototype.createChildContext=function(){throw new Error("Not implemented")},e.prototype.disposeContext=function(){throw new Error("Not implemented")},e.prototype.getDefaultKeybindings=function(){throw new Error("Not implemented")},e.prototype.lookupKeybinding=function(){throw new Error("Not implemented")},e.prototype.lookupKeybindings=function(){throw new Error("Not implemented")},e.prototype.executeCommand=function(){throw new Error("Not implemented")},e}();t.AbstractKeybindingService=h;var p=function(){function e(e,t){t(e)}return e}(),f=function(e){function t(t){var n=this;this._lastContextId=-1,e.call(this,++this._lastContextId),this._domNode=t,this._contexts=Object.create(null),this._contexts[String(this._myContextId)]=new l(this._myContextId,null),this._toDispose=o.addDisposableListener(this._domNode,o.EventType.KEY_DOWN,function(e){var t=new r.KeyboardEvent(e);n._dispatch(t)}),this._createOrUpdateResolver(!0),this._commands=i.KeybindingsRegistry.getCommands(),this._currentChord=null,this._currentChordStatusMessage=null}return __extends(t,e),t.prototype.dispose=function(){this._toDispose.dispose(),this._toDispose=null},t.prototype.updateResolver=function(){this._createOrUpdateResolver(!1)},t.prototype._createOrUpdateResolver=function(e){this._resolver=new g(i.KeybindingsRegistry.getDefaultKeybindings(),this._getExtraKeybindings(e))},t.prototype._getExtraKeybindings=function(){return[]},t.prototype.getDefaultKeybindings=function(){return this._resolver.getDefaultKeybindings()+"\n\n"+this._getAllCommandsAsComment()},t.prototype.customKeybindingsCount=function(){return 0},t.prototype.lookupKeybinding=function(e){return this._resolver.lookupKeybinding(e)},t.prototype.lookupKeybindings=function(e){var t=Object.create(null);return this.lookupKeybinding(e).map(function(e){return e.keybinding}).filter(function(e){var n=s.KeybindingsUtils.toMapKey(e);return t[n]?!1:(t[n]=!0,!0)})},t.prototype._getAllCommandsAsComment=function(){var e=this._resolver.getDefaultBoundCommands(),t=Object.keys(this._commands).filter(function(t){return!e[t]}),o=t.join("\n// - ");return"// "+n.localize("vs_platform_keybinding_browser_keybindingServiceImpl",0)+"\n// - "+o},t.prototype._getCommandHandler=function(e){return this._commands[e]},t.prototype._dispatch=function(e){var t="Ctrl"===e.key||"Shift"===e.key||"Alt"===e.key||"Meta"===e.key;if(!t){var o=this._findContextAttr(e.target),r=this.getContext(o),i=r.getValue(),a=this._resolver.resolveKeyboardEvent(i,this._currentChord,e);if(a&&a.enterChord)return e.preventDefault(),this._currentChord=a.enterChord,this._messageService&&(this._currentChordStatusMessage=this._messageService.setStatusMessage(n.localize("vs_platform_keybinding_browser_keybindingServiceImpl",1,s.KeybindingsUtils.toLabel(this._currentChord.keybinding)))),void 0;if(this._messageService&&this._currentChord&&(a&&a.commandId||(this._messageService.setStatusMessage(n.localize("vs_platform_keybinding_browser_keybindingServiceImpl",2,s.KeybindingsUtils.toLabel(this._currentChord.keybinding),s.KeybindingsUtils.toLabel(e.asKeybinding())),1e4),e.preventDefault())),this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChord=null,a&&a.commandId){/^\^/.test(a.commandId)||e.preventDefault();
var u=a.commandId.replace(/^\^/,""),c=this._getCommandHandler(u);if(!c)return console.warn("No handler found for "+u),void 0;this._instantiationService.createInstance(p,function(e){c(e,{context:i})})}}},t.prototype._findContextAttr=function(e){for(;e;){if(e.hasAttribute(c))return parseInt(e.getAttribute(c),10);e=e.parentElement}return this._myContextId},t.prototype.getContext=function(e){return this._contexts[String(e)]},t.prototype.createChildContext=function(e){void 0===e&&(e=this._myContextId);var t=++this._lastContextId;return this._contexts[String(t)]=new l(t,this.getContext(e)),t},t.prototype.disposeContext=function(e){delete this._contexts[String(e)]},t.prototype.executeCommand=function(e,t){if(void 0===t&&(t={}),!t.context){var n=this._findContextAttr(document.activeElement),o=this.getContext(n),r=o.getValue();t.context=r}var i=this._getCommandHandler(e);return i?(this._instantiationService.createInstance(p,function(e){i(e,t)}),void 0):(console.warn("No handler found for "+e),void 0)},t}(h);t.KeybindingService=f;var m=function(e){function t(t,n){this._parent=t,this._domNode=n,e.call(this,this._parent.createChildContext()),this._domNode.setAttribute(c,String(this._myContextId))}return __extends(t,e),t.prototype.dispose=function(){this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(c)},t.prototype.getDefaultKeybindings=function(){return this._parent.getDefaultKeybindings()},t.prototype.customKeybindingsCount=function(){return this._parent.customKeybindingsCount()},t.prototype.lookupKeybinding=function(e){return this._parent.lookupKeybinding(e)},t.prototype.lookupKeybindings=function(e){return this._parent.lookupKeybindings(e)},t.prototype.getContext=function(e){return this._parent.getContext(e)},t.prototype.createChildContext=function(e){return void 0===e&&(e=this._myContextId),this._parent.createChildContext(e)},t.prototype.disposeContext=function(e){this._parent.disposeContext(e)},t.prototype.executeCommand=function(e,t){this._parent.executeCommand(e,t)},t}(h),g=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.resolveKeyboardEvent=function(e,t,n){return this._resolve(e,t,{asString:n.asString().toLowerCase(),keybinding:n.asKeybinding()})},t}(u.CommonKeybindingResolver);t.KeybindingResolver=g}),define("vs/base/common/http",["require","exports"],function(e,t){function n(e){return e>=300&&303>=e||307===e}function o(e,t,n,o){var r,i;return{header:function(n){if("undefined"==typeof i)for(i=Object.create(null),c.lastIndex=t;;){var o=c.exec(e);if(!o)break;if(i[o[1].toLowerCase()]=o[2],o[3])break}return i[n.toLowerCase()]},value:function(){return"undefined"==typeof r&&(r=e.substr(n+2,o)),r}}}function r(e,t,n){void 0===n&&(n=0);var r=e.responseText;for(u.lastIndex=n;;){var i=u.exec(r);if(!i)return n;var s=parseInt(i[1],10);if(r.length<u.lastIndex+s)return n;t.push(o(r,n,u.lastIndex-2,s)),n=u.lastIndex+s}}t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE";var i;!function(e){e.CONTENT_TYPE="Content-Type",e.CONTENT_LENGTH="Content-Length",e.LAST_MODIFIED="Last-Modified",e.LOCATION="Location",e.ETAG="ETag",e.X_CONTENT_CHARSET="X-Content-Charset",e.X_CONTENT_TYPES="X-Content-Types",e.X_CONTENT_HASH="X-Content-Hash",e.X_FILEPATH="X-Filepath",e.X_RESOURCE="X-Resource"}(i=t.Header||(t.Header={}));var s;!function(e){e.RAW="application/octet-stream",e.JSON="application/json",e.TEXT="text/plain",e.HTML="text/html"}(s=t.Mime||(t.Mime={}));var a;!function(e){e.UTF8="utf-8",e.UTF8_BOM="UTF8_BOM"}(a=t.Charset||(t.Charset={})),t.isRedirect=n;var u=/X-Chunk-Length:(\d+)\r\n\r\n/gi,c=/(.+?):(.+?)\r\n(\r\n)?/gm;t.parseChunkedData=r}),define("vs/platform/request/common/baseRequestService",["require","exports","vs/base/common/network","vs/base/common/strings","vs/base/common/timer","vs/base/common/async","vs/base/common/http","vs/base/common/winjs.base","vs/base/common/objects","vs/platform/request/common/request"],function(e,t,n,o,r,i,s,a,u,c){var l=function(){function e(e){this.serviceId=c.IRequestService;var t=null,n=e.contextService,r=n.getWorkspace();this._serviceMap=r||Object.create(null),this._telemetryService=e.telemetryService;var i=n.getConfiguration();i&&(this._additionalHeaders=i.additionalHeaders),r&&(t=o.rtrim(r.resource.toString(),"/")+"/"),this.computeOrigin(t)}return e.prototype.computeOrigin=function(e){if(e){this._origin=e;var t=new n.URL(this._origin).getPath();t&&t.length>0&&(this._origin=this._origin.substring(0,this._origin.length-t.length+1)),o.endsWith(this._origin,"/")||(this._origin+="/")}else this._origin="/"},e.prototype.getRequestUrl=function(e,t,r){if(this._serviceMap[e]){var i=this._serviceMap[e]+o.normalizePath(t),s=new n.URL(i);return s.getScheme()?i:r?this._origin+o.ltrim(i,"/"):i}return null},e.prototype.getPath=function(e,t){var n=this.getRequestUrl(e,"/",!0);if(!n)return null;var o=t.toString().indexOf(n);return 0===o?t.toString().substr(n.length-1):null},e.prototype.getAdditionalHeaders=function(){return this._additionalHeaders||{}},e.prototype.makeCrossOriginRequest=function(){return null},e.prototype.makeRequest=function(e){var t=r.nullEvent,n=!1,s=e.url;if(!s)throw new Error("IRequestService.makeRequest: Url is required");if((o.startsWith(s,"http://")||o.startsWith(s,"https://"))&&this._origin&&!o.startsWith(s,this._origin)){var c=this.makeCrossOriginRequest(e);if(c)return c;n=!0}var l=e;if(!n){var d=this.getAdditionalHeaders();this._telemetryService&&(d["X-TelemetrySession"]=this._telemetryService.sessionID),d["X-Requested-With"]="XMLHttpRequest",l.headers=u.mixin(l.headers,d)}return e.timeout&&(l.customRequestInitializer=function(t){t.timeout=e.timeout}),this._telemetryService&&(t=this._telemetryService.start(n?"CorsXHR":"WorkbenchXHR",{url:s},!1)),i.always(a.xhr(l),function(e){t.data&&(t.data.status=e.status),t.stop()})},e.prototype.makeChunkedRequest=function(e){var t,n,o,r=this,i=0,u=!1;return new a.TPromise(function(a,u,c){t=a,n=u,o=c,r.makeRequest(e).done(function(e){var n={request:e,chunks:[]};i=s.parseChunkedData(e,n.chunks,i),t(n)},function(e){n(e)},function(){})},function(){u=!0})},e}();t.BaseRequestService=l}),define("vs/platform/plugins/common/plugins",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IPluginService=n.createDecorator("pluginService"),t.INSTANCE=null}),define("vs/platform/plugins/common/abstractPluginService",["require","exports","vs/platform/plugins/common/plugins","vs/base/common/winjs.base","vs/base/common/errors","vs/platform/plugins/common/pluginsRegistry"],function(e,t,n,o,r,i){var s=Object.hasOwnProperty,a=this,u=function(){function e(e,t){t(e)}return e}(),c=function(){function t(e){var t=this;this.serviceId=n.IPluginService,e?(this._onReady=o.TPromise.as(!0),this._onReadyC=function(){}):this._onReady=new o.TPromise(function(e){t._onReadyC=e},function(){console.warn("Should really not cancel this ready promise!")}),this.activatingPlugins={},this.activatedPlugins={},this._instantiationService=null}return t.prototype.setInstantiationService=function(e){this._instantiationService||(this._instantiationService=e)},t.prototype.registrationDone=function(e){e.forEach(function(e){return r.onUnexpectedError(e)}),this._onReadyC(!0)},t.prototype.onReady=function(){return this._onReady},t.prototype.get=function(e){if(!s.call(this.activatedPlugins,e))throw new Error("Plugin `"+e+"` is not known or not activated");return this.activatedPlugins[e].exports},t.prototype.activateByEvent=function(e){var t=this;return this._onReady.then(function(){var n=i.PluginsRegistry.getAllPluginDescriptions(),o=n.filter(function(n){return s.call(t.activatedPlugins,n.pluginId)?!1:n.activationEvents?n.activationEvents.indexOf(e)>=0:!1});return t._activatePlugins(o)})},t.prototype.activateAndGet=function(e){var t=this;return this._onReady.then(function(){var n=i.PluginsRegistry.getPluginDescription(e);if(!n)throw new Error("Plugin `"+e+"` is not known");return t._activatePlugins([n]).then(function(){return t.get(e)})})},t.prototype._activatePlugins=function(e){for(var t=this,n=Object.create(null),r=Object.create(null),s=0,a=e.length;a>s;s++){var u=e[s],c=!0;if("undefined"!=typeof u.dependencies)for(var l=0,d=u.dependencies.length;d>l;l++){var h=u.dependencies[l],p=i.PluginsRegistry.getPluginDescription(h);if(!p){console.error("Unknown dependency `"+h+"` for plugin `"+u.pluginId+"`. Skipping plugin activation."),c=!1;break}n[h]=p,r[u.pluginId]=u}c&&(r[u.pluginId]=u)}var f=Object.keys(n).map(function(e){return n[e]}),m=Object.keys(r).map(function(e){return r[e]}),g=function(){return o.TPromise.join(m.map(function(e){return t._activatePlugin(e)}))};return f.length?this._activatePlugins(f).then(g):g()},t.prototype._activatePlugin=function(e){var t=this;return s.call(this.activatedPlugins,e.pluginId)?o.TPromise.as(this.activatedPlugins[e.pluginId].exports):s.call(this.activatingPlugins,e.pluginId)?this.activatingPlugins[e.pluginId]:(this.activatingPlugins[e.pluginId]=this._actualActivatePlugin(e).then(null,function(t){return console.error("Activating plugin `"+e.pluginId+"` failed: ",t),console.log("Here is the error stack: ",t.stack),{module:{},exports:{}}}).then(function(n){return t.activatedPlugins[e.pluginId]=n,delete t.activatingPlugins[e.pluginId],n.exports}),this.activatingPlugins[e.pluginId])},t._callActivate=function(e,n,r){if(void 0===r&&(r=[]),"function"==typeof e.activate){var i;return n.createInstance(u,function(n){i=t.callActivateWithCtx(e,n,r)}),i}return o.TPromise.as(e)},t.callActivateWithCtx=function(e,t,n){void 0===n&&(n=[]);var r=[t].concat(n);try{return o.TPromise.as(e.activate.apply(a,r))}catch(i){return o.TPromise.wrapError(i)}},t._loadAMDModule=function(t){return new o.TPromise(function(n,o){e([t],function(e){n(e)},o)})},t.prototype._actualActivatePlugin=function(e){var n=this;return t._loadAMDModule(e.mainModule).then(function(o){return o=o||{},t._callActivate(o,n._instantiationService,e.mainModuleExtra).then(function(e){return{module:o,exports:e}})})},t}();t.AbstractPluginService=c});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/browser/standalone/simpleServices",["require","exports","vs/base/common/winjs.base","vs/base/common/errors","vs/base/common/network","vs/base/common/eventEmitter","vs/editor/common/common","vs/base/common/severity","vs/platform/keybinding/browser/keybindingServiceImpl","vs/platform/request/common/baseRequestService","vs/platform/editor/common/editor","vs/platform/message/browser/message","vs/platform/plugins/common/abstractPluginService","vs/platform/keybinding/common/commonKeybindingResolver"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p){var f=function(){function e(e){this._widget=e}return e.prototype.getId=function(){return"editor"},e.prototype.getControl=function(){return this._widget},e.prototype.getSelection=function(){return this._widget.getSelection()},e.prototype.focus=function(){this._widget.focus()},e.prototype.withTypedEditor=function(e,t){return this._widget.getEditorType()===s.EditorType.ICodeEditor?e(this._widget):t(this._widget)},e}();t.SimpleEditor=f;var m=function(e){function t(t){e.call(this),this.model=t}return __extends(t,e),Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),t}(i.EventEmitter);t.SimpleModel=m;var g=function(){function e(){this.serviceId=l.IEditorService,this.openEditorDelegate=null}return e.prototype.setEditor=function(e){this.editor=new f(e)},e.prototype.setOpenEditorDelegate=function(e){this.openEditorDelegate=e},e.prototype.openEditor=function(e){var t=this;return n.TPromise.as(this.editor.withTypedEditor(function(n){return t.doOpenEditor(n,e)},function(n){return t.doOpenEditor(n.getOriginalEditor(),e)||t.doOpenEditor(n.getModifiedEditor(),e)}))},e.prototype.doOpenEditor=function(e,t){var n=this.findModel(e,t);if(!n){if(t.resource){if(this.openEditorDelegate)return this.openEditorDelegate(t.resource.toString()),null;var o=t.resource.scheme;if(o===r.schemas.http||o===r.schemas.https)return window.open(t.resource.toString()),this.editor}return null}var i=t.options.selection;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i);else{var s={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(s),e.revealPositionInCenter(s)}return this.editor},e.prototype.findModel=function(e,t){var n=e.getModel();return n.getAssociatedResource().equals(t.resource)?n:null},e.prototype.resolveEditorModel=function(e){var t,o=this;return t=this.editor.withTypedEditor(function(t){return o.findModel(t,e)},function(t){return o.findModel(t.getOriginalEditor(),e)||o.findModel(t.getModifiedEditor(),e)}),t?n.TPromise.as(new m(t)):n.TPromise.as(null)},e}();t.SimpleEditorService=g;var v=function(){function e(){this.serviceId=d.IMessageService}return e.prototype.show=function(t,n){switch(t){case a.Error:console.error(o.toErrorMessage(n,!0));break;case a.Warning:console.warn(n);break;default:console.log(n)}return e.Empty},e.prototype.hideAll=function(){},e.prototype.confirm=function(e){var t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),window.confirm(t)},e.prototype.setStatusMessage=function(e,t){return void 0===t&&(t=-1),{dispose:function(){}}},e.Empty=function(){},e}();t.SimpleMessageService=v;var _=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.getPath=function(e,t){return t.toString()},t}(c.BaseRequestService);t.SimpleEditorRequestService=_;var y=function(e){function t(t){this._dynamicKeybindings=[],this._dynamicCommands=Object.create(null),e.call(this,t)}return __extends(t,e),t.prototype.addDynamicKeybinding=function(e,n,o,r){void 0===r&&(r=null),null===r&&(r="DYNAMIC_"+ ++t.LAST_GENERATED_ID);var i=p.IOSupport.readKeybindingContexts(o);return this._dynamicKeybindings.push({keybinding:e,command:r,context:i,weight1:1e3,weight2:0}),this._dynamicCommands[r]=n,this.updateResolver(),r},t.prototype._getExtraKeybindings=function(){return this._dynamicKeybindings},t.prototype._getCommandHandler=function(e){return this._commands[e]||this._dynamicCommands[e]},t.LAST_GENERATED_ID=0,t}(u.KeybindingService);t.StandaloneKeybindingService=y;var b=function(e){function t(){e.call(this,!0)}return __extends(t,e),t}(h.AbstractPluginService);t.SimplePluginService=b});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/model/mirrorModel",["require","exports","vs/editor/common/viewModel/prefixSumComputer","vs/editor/common/model/textModel","vs/editor/common/model/textModelWithTokens","vs/editor/common/model/modelLine","vs/editor/common/common","vs/base/common/network","vs/base/common/lifecycle"],function(e,t,n,o,r,i,s,a,u){function c(e,t,n,r,i,s){return new p(e,t,o.TextModel.toRawText(n),r,i,s)}var l=function(e){function t(t,n,o,r,i,a){e.call(this,t.concat([s.EventType.ModelDispose]),o,!1,r),a||(a={}),this._setVersionId(n),this._associatedResource=i,this._extraProperties=a}return __extends(t,e),t.prototype.getModeId=function(){if(this._isDisposed)throw new Error("AbstractMirrorModel.getModeId: Model is disposed");return this.getMode().getId()},t.prototype.getEmbeddedAtPosition=function(){return null},t.prototype.getAllEmbedded=function(){return[]},t.prototype._constructLines=function(t){e.prototype._constructLines.call(this,t),this._EOL="\n"},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this.emit(s.EventType.ModelDispose),e.prototype.dispose.call(this)},t.prototype.getAssociatedResource=function(){if(this._isDisposed)throw new Error("AbstractMirrorModel.getAssociatedResource: Model is disposed");return this._associatedResource},t.prototype.getProperty=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getProperty: Model is disposed");return this._extraProperties.hasOwnProperty(e)?this._extraProperties[e]:null},t.prototype._ensurePrefixSum=function(){if(!this._lineStarts){for(var e=[],t=this.getEOL().length,o=0,r=this._lines.length;r>o;o++)e.push(this._lines[o].text.length+t);this._lineStarts=new n.PrefixSumComputer(e)}},t.prototype.getRangeFromOffsetAndLength=function(e,t){if(this._isDisposed)throw new Error("AbstractMirrorModel.getRangeFromOffsetAndLength: Model is disposed");var n=this.getPositionFromOffset(e),o=this.getPositionFromOffset(e+t);return{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:o.lineNumber,endColumn:o.column}},t.prototype.getOffsetAndLengthFromRange=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getOffsetAndLengthFromRange: Model is disposed");var t=this.getOffsetFromPosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this.getOffsetFromPosition({lineNumber:e.endLineNumber,column:e.endColumn});return{offset:t,length:n-t}},t.prototype.getPositionFromOffset=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getPositionFromOffset: Model is disposed");this._ensurePrefixSum();var t={index:0,remainder:0};return this._lineStarts.getIndexOf(e,t),{lineNumber:t.index+1,column:this.getEOL().length+t.remainder}},t.prototype.getOffsetFromPosition=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getOffsetFromPosition: Model is disposed");return this.getLineStart(e.lineNumber)+e.column-1},t.prototype.getLineStart=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getLineStart: Model is disposed");this._ensurePrefixSum();var t=Math.min(e,this._lines.length)-1;return this._lineStarts.getAccumulatedValue(t-1)},t.prototype.getAllWordsWithRange=function(){if(this._isDisposed)throw new Error("AbstractMirrorModel.getAllWordsWithRange: Model is disposed");if(this._lines.length>1e4)return[];var e,t=[],n=function(n){var r=o.text.substring(n.start,n.end),i={startLineNumber:e+1,startColumn:n.start+1,endLineNumber:e+1,endColumn:n.end+1};t.push({text:r,range:i})};for(e=0;e<this._lines.length;e++){var o=this._lines[e];this.wordenize(o.text).forEach(n)}return t},t.prototype.getAllWords=function(){var e=this;if(this._isDisposed)throw new Error("AbstractMirrorModel.getAllWords: Model is disposed");var t=[];return this._lines.forEach(function(n){e.wordenize(n.text).forEach(function(e){t.push(n.text.substring(e.start,e.end))})}),t},t.prototype.getAllUniqueWords=function(e){if(this._isDisposed)throw new Error("AbstractMirrorModel.getAllUniqueWords: Model is disposed");var t=!1,n={};return this.getAllWords().filter(function(o){return e&&!t&&e===o?(t=!0,!1):n[o]?!1:(n[o]=!0,!0)})},t.prototype.wordenize=function(e){for(var t,n=[],o=this._getWordDefinition();t=o.exec(e);)n.push({start:t.index,end:t.index+t[0].length});return n},t.prototype.getWord=function(e,t,n){for(var o=this.wordenize(e),r=0;r<o.length&&t>=o[r].start;r++){var i=o[r];if(t<=i.end)return n(e,i.start,i.end)}return n(e,-1,-1)},t}(r.TextModelWithTokens);t.AbstractMirrorModel=l;var d=function(e){function t(n,o,r,i){e.call(this,["changed"],n.getVersionId(),t._getMirrorValueWithinRanges(n,o),r,i),this._actualModel=n}return __extends(t,e),t._getMirrorValueWithinRanges=function(e,t){var n,r="",i=1,s=1;for(n=0;n<t.length;n++){var a=t[n];r+=e.getEmptiedValueInRange({startLineNumber:i,startColumn:s,endLineNumber:a.startLineNumber,endColumn:a.startColumn}," "),r+=e.getValueInRange(a),i=a.endLineNumber,s=a.endColumn}var u=e.getLineCount(),c=e.getLineMaxColumn(u);return r+=e.getEmptiedValueInRange({startLineNumber:i,startColumn:s,endLineNumber:u,endColumn:c}," "),o.TextModel.toRawText(r)},t.prototype.setIncludedRanges=function(e){var n=this.getVersionId();this._lineStarts=null,this._constructLines(t._getMirrorValueWithinRanges(this._actualModel,e)),this._resetTokenizationState(),this._setVersionId(n+1),this.emit("changed",{})},t}(l);t.MirrorModelEmbedded=d;var h=function(){function e(e){this.mode=e,this.ranges=[]}return e}();t.createMirrorModelFromString=c;var p=function(e){function t(t,n,o,r,i,s){e.call(this,["changed"],n,o,r,i,s),this._resourceService=t,this._embeddedModels={},this._updateEmbeddedModels()}return __extends(t,e),t.prototype.getEmbeddedAtPosition=function(e){if(this._isDisposed)throw new Error("MirrorModel.getEmbeddedAtPosition: Model is disposed");var t=this.getModeAtPosition(e.lineNumber,e.column);return this._embeddedModels.hasOwnProperty(t.getId())?this._embeddedModels[t.getId()]:null},t.prototype.getAllEmbedded=function(){var e=this;if(this._isDisposed)throw new Error("MirrorModel.getAllEmbedded: Model is disposed");return Object.keys(this._embeddedModels).map(function(t){return e._embeddedModels[t]})},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this);var n=Object.keys(this._embeddedModels).map(function(e){return t._embeddedModels[e]});n.forEach(function(e){return t._resourceService.remove(e.getAssociatedResource())}),u.disposeAll(n),this._embeddedModels={}},t.prototype.setMode=function(t){e.prototype.setMode.call(this,t),this._updateEmbeddedModels()},t._getModesRanges=function(e){for(var t={},n=function(e,n){return t.hasOwnProperty(e)||(t[e]=new h(n)),t[e]},o=e.getLineCount(),r=e.getMode().getId(),i=e.getMode(),s=1,a=1,u=1;o>=u;u++)for(var c=e._getLineModeTransitions(u),l=0;l<c.length;l++){var d=c[l];if(d.mode.getId()!==r){var p=n(r,i);p.ranges.push({startLineNumber:s,startColumn:a,endLineNumber:u,endColumn:d.startIndex+1}),r=d.mode.getId(),i=d.mode,s=u,a=d.startIndex+1}}var f=o,m=e.getLineMaxColumn(f);if(s!==f||a!==m){var p=n(r,i);p.ranges.push({startLineNumber:s,startColumn:a,endLineNumber:f,endColumn:m})}return t},t.prototype._updateEmbeddedModels=function(){if(!this._resourceService||!this.getMode().tokenizationSupport||!this.getMode().tokenizationSupport.shouldGenerateEmbeddedModels)return!1;for(var e=t._getModesRanges(this),n=Object.keys(this._embeddedModels),o=0;o<n.length;o++){var r=n[o];e.hasOwnProperty(r)||this._embeddedModels[r].setIncludedRanges([{startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1}])}for(var i=Object.keys(e),o=0;o<i.length;o++){var s=i[o];if(this._embeddedModels.hasOwnProperty(s))this._embeddedModels[s].setIncludedRanges(e[s].ranges);else{var u=new a.URL(this.getAssociatedResource().toString()+"URL_MARSHAL_REMOVE"+s);this._embeddedModels[s]=new d(this,e[s].ranges,e[s].mode,u),this._resourceService.insert(this._embeddedModels[s].getAssociatedResource(),this._embeddedModels[s])}}return!1},t.prototype.onEvents=function(e){if(this._isDisposed)throw new Error("MirrorModel.onEvents: Model is disposed");for(var t=!1,n=0,o=e.length;o>n;n++){var r=e[n];switch(r.type){case s.EventType.ModelContentChanged:var i=r;switch(this._lineStarts=null,this._setVersionId(i.versionId),i.changeType){case s.EventType.ModelContentChangedFlush:this._onLinesFlushed(i),t=!0;break;case s.EventType.ModelContentChangedLinesDeleted:this._onLinesDeleted(i),t=!0;break;case s.EventType.ModelContentChangedLinesInserted:this._onLinesInserted(i),t=!0;break;case s.EventType.ModelContentChangedLineChanged:this._onLineChanged(i),t=!0}break;case s.EventType.ModelPropertiesChanged:this._extraProperties=r.properties;break;default:console.warn("Unknown model event: "+r.type)}}var a=!1;return t&&(this.emit("changed",{}),a=this._updateEmbeddedModels()),a},t.prototype._onLinesFlushed=function(e){this._lineStarts=null,this._constructLines(e.detail),this._resetTokenizationState()},t.prototype._onLineChanged=function(e){if(this._lineStarts){var t=this.getEOL().length,n=e.detail.length+t;this._lineStarts.changeValue(e.lineNumber-1,n)}this._lines[e.lineNumber-1].removeText({},1,this._lines[e.lineNumber-1].text.length+1,!1,!1),this._lines[e.lineNumber-1].insertText({},1,{text:e.detail,markers:null},!1),this._invalidateLine(e.lineNumber-1)},t.prototype._onLinesDeleted=function(e){var t=e.fromLineNumber-1,n=e.toLineNumber-1;this._lineStarts&&this._lineStarts.removeValues(t,n-t+1);var o=this._lines[t].getState();this._lines.splice(t,n-t+1),t<this._lines.length&&(this._lines[t].setState(o),this._invalidateLine(t))},t.prototype._onLinesInserted=function(e){var t,n,o=this.getEOL().length,r=e.detail.split("\n");for(t=e.fromLineNumber-1,n=0;t<e.toLineNumber;t++,n++)this._lineStarts&&this._lineStarts.insertValue(t,r[n].length+o),this._lines.splice(t,0,new i.ModelLine(0,r[n]));e.fromLineNumber>=2&&this._invalidateLine(e.fromLineNumber-2)},t}(l);t.MirrorModel=p}),define("vs/editor/common/services/modelServiceImpl",["require","exports","vs/editor/common/model/mirrorModel","vs/editor/common/core/range","vs/editor/common/common","vs/editor/common/services/modelService","vs/platform/thread/common/thread","vs/base/common/eventSource","vs/base/common/severity","vs/platform/instantiation/common/descriptors"],function(e,t,n,o,r,i,s,a,u,c){function l(e){for(var t="",n=0;n<e.length;n++){var o=e[n];t+=o>="0"&&"9">=o?"0":o>="a"&&"z">=o?"a":o>="A"&&"Z">=o?"A":o}return t}var d=function(){function e(e){this.model=e,this.toUnbind=null}return e.prototype.dispose=function(){this._decorationIds=this.model.deltaDecorations(this._decorationIds,[]),this.model=null,this.toUnbind&&(this.toUnbind(),this.toUnbind=null)},e.prototype.deltaMarkers=function(e){var t=this;e=e.slice(0,500);var n=e.map(function(e){return{range:t._createDecorationRange(e),options:t._createDecorationOption(e)}});this._decorationIds=this.model.deltaDecorations(this._decorationIds,n)},e.prototype._createDecorationRange=function(e){var t=this.model.validateRange(new o.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)),n=new o.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn);if(n.isEmpty()){var r=this.model.getWordAtPosition(n.getStartPosition());if(r)n.startColumn=r.startColumn,n.endColumn=r.endColumn;else{var i=this.model.getLineLastNonWhitespaceColumn(t.startLineNumber)||this.model.getLineMaxColumn(t.startLineNumber);1===i||(n.endColumn>=i?(n.endColumn=i,n.startColumn=i-1):n.endColumn+=1)}}else if(e.endColumn===Number.MAX_VALUE&&1===e.startColumn&&n.startLineNumber===n.endLineNumber){var s=this.model.getLineFirstNonWhitespaceColumn(e.startLineNumber);s<n.endColumn&&(n.startColumn=s,e.startColumn=s)}return n},e.prototype._createDecorationOption=function(e){var t=e.severity===u.Error,n=null;return"string"==typeof e.message?n=[{isText:!0,text:e.message}]:Array.isArray(e.message)?n=e.message:e.message&&(n=[e.message]),{stickiness:r.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,isOverlay:!0,className:t?r.ClassName.EditorErrorDecoration:r.ClassName.EditorWarningDecoration,htmlMessage:n,overviewRuler:{color:t?"rgba(255,18,18,0.7)":"rgba(18,136,18,0.7)",position:r.OverviewRulerLane.Right}}},e}(),h=function(){function e(e){this.serviceId=i.IModelService,this._resourceService=e}return e.prototype.addModel=function(){throw new Error("Not supported")},e.prototype.removeModel=function(){throw new Error("Not supported")},e.prototype.getModels=function(){return this._resourceService.all()},e.prototype.getModel=function(e){return this._resourceService.get(e)},Object.defineProperty(e.prototype,"onModelAdded",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelRemoved",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),e}();t.WorkerModelServiceImpl=h;var p=function(){function e(e,t){this.serviceId=i.IModelService,this._threadService=e,this._markerService=t,this._workerHelper=f.getInstance(this._threadService),this._models={},this._onModelAdded=new a.EventSource,this._onModelRemoved=new a.EventSource,this._markerService&&this._markerService.onMarkerChanged.add(this._handleMarkerChange,this)}return e.prototype.dispose=function(){this._markerService&&this._markerService.onMarkerChanged.remove(this._handleMarkerChange,this)},e.prototype._handleMarkerChange=function(e){var t=this;e.forEach(function(e){var n=t._models[e.toString()];n&&n.deltaMarkers(t._markerService.read({resource:e,take:500}))})},e.prototype.addModel=function(t){var n=this,o=t.getAssociatedResource().toString();if(this._models[o])throw new Error("BoundModels: Cannot add model "+l(o)+" because it already exists!");var r=new d(t);r.toUnbind=t.addBulkListener(function(e){return n._onModelEvents(o,e)}),this._markerService&&r.deltaMarkers(this._markerService.read({resource:t.getAssociatedResource()})),this._models[o]=r,this._workerHelper.$createModel(e._getBoundModelData(t)),this._onModelAdded.fire(t)},e.prototype.removeModel=function(e){var t=this,n=e.getAssociatedResource().toString();if(!this._models[n])throw new Error("BoundModels: Cannot remove model "+l(n)+" because it doesn't exist!");if(this._workerHelper.$disposeModel(e.getAssociatedResource()),this._models[n].dispose(),delete this._models[n],this._markerService){var o=this._markerService.read({resource:e.getAssociatedResource()}),r=Object.create(null);o.forEach(function(e){return r[e.owner]=t}),Object.keys(r).forEach(function(n){return t._markerService.changeOne(n,e.getAssociatedResource(),[])})}this._onModelRemoved.fire(e)},e.prototype.getModels=function(){var e=[];for(var t in this._models)this._models.hasOwnProperty(t)&&e.push(this._models[t].model);return e},e.prototype.getModel=function(e){var t=this._models[e.toString()];return t?t.model:null},Object.defineProperty(e.prototype,"onModelAdded",{get:function(){return this._onModelAdded?this._onModelAdded.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelRemoved",{get:function(){return this._onModelRemoved?this._onModelRemoved.value:null},enumerable:!0,configurable:!0}),e._getBoundModelData=function(e){return{url:e.getAssociatedResource(),versionId:e.getVersionId(),properties:e.getProperties(),value:e.toRawText(),modeId:e.getMode().getId()}},e.prototype._onModelEvents=function(e,t){var n,o,i=[],s=!1;for(n=0,o=t.length;o>n;n++){var a=t[n],u=a.getData();switch(a.getType()){case r.EventType.ModelContentChanged:switch(u.changeType){case r.EventType.ModelContentChangedFlush:i.push(this._mixinProperties({type:a.getType()},u,["changeType","detail","versionId"]));break;case r.EventType.ModelContentChangedLinesDeleted:i.push(this._mixinProperties({type:a.getType()},u,["changeType","fromLineNumber","toLineNumber","versionId"]));break;case r.EventType.ModelContentChangedLinesInserted:i.push(this._mixinProperties({type:a.getType()},u,["changeType","fromLineNumber","toLineNumber","detail","versionId"]));break;case r.EventType.ModelContentChangedLineChanged:i.push(this._mixinProperties({type:a.getType()},u,["changeType","lineNumber","detail","versionId"]))}s=!0;break;case r.EventType.ModelPropertiesChanged:i.push(this._mixinProperties({type:a.getType()},u,["properties"]))}}i.length>0&&this._workerHelper.$onModelEvents(this._models[e].model.getAssociatedResource(),i)},e.prototype._mixinProperties=function(e,t,n){for(var o=0;o<n.length;o++)e[n[o]]=t[n[o]];return e},e}();t.ModelServiceImpl=p;var f=function(){function e(e){this._resourceService=e.resourceService,this._modeService=e.modeService}return e.getInstance=function(t){return t.registerAndInstantiateWorkerActor("ModelServiceWorkerHelper",new c.SyncDescriptor(e),s.ThreadAffinity.All)},e.prototype.$createModel=function(e){var t=this,o=new n.MirrorModel(this._resourceService,e.versionId,e.value,null,e.url,e.properties);return this._resourceService.insert(o.getAssociatedResource(),o),this._modeService.getOrCreateMode(e.modeId).then(function(e){t._resourceService.remove(o.getAssociatedResource()),o.setMode(e),t._resourceService.insert(o.getAssociatedResource(),o)})},e.prototype.$disposeModel=function(e){var t=this._resourceService.get(e);this._resourceService.remove(e),t&&t.dispose()},e.prototype.$onModelEvents=function(e,t){var n=this._resourceService.get(e);if(!n)throw new Error("Received model events for missing model "+l(e.toString()));n.onEvents(t)},e}();t.ModelServiceWorkerHelper=f}),define("vs/base/common/graph",["require","exports","vs/base/common/types","vs/base/common/collections"],function(e,t,n,o){function r(e){return{data:e,incoming:{},outgoing:{}}
}t.newNode=r;var i=function(){function e(e){this._hashFn=e,this._nodes=Object.create(null)}return e.prototype.roots=function(){var e=[];return o.forEach(this._nodes,function(t){n.isEmptyObject(t.value.outgoing)&&e.push(t.value)}),e},e.prototype.traverse=function(e,t,n){var o=this.lookup(e);o&&this._traverse(o,t,{},n)},e.prototype._traverse=function(e,t,n,r){var i=this,s=this._hashFn(e.data);if(!o.contains(n,s)){n[s]=!0,r(e.data);var a=t?e.outgoing:e.incoming;o.forEach(a,function(e){return i._traverse(e.value,t,n,r)})}},e.prototype.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),o=this.lookupOrInsertNode(t);n.outgoing[this._hashFn(t)]=o,o.incoming[this._hashFn(e)]=n},e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],o.forEach(this._nodes,function(e){delete e.value.outgoing[t],delete e.value.incoming[t]})},e.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),n=o.lookup(this._nodes,t);return n||(n=r(e),this._nodes[t]=n),n},e.prototype.lookup=function(e){return o.lookup(this._nodes,this._hashFn(e))},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this._nodes).length},enumerable:!0,configurable:!0}),e}();t.Graph=i}),define("vs/platform/instantiation/common/instantiationService",["require","exports","vs/base/common/winjs.base","vs/base/common/errors","vs/base/common/strings","vs/base/common/types","vs/base/common/collections","./descriptors","vs/base/common/graph","./instantiation"],function(e,t,n,o,r,i,s,a,u,c){function l(e){void 0===e&&(e=Object.create(null));var t=new m(e,new p);return t}function d(){function e(e,t){"string"==typeof t?n[t]=e:n[c._util.getServiceId(t)]=e}function t(e){var t=e[c._util.DI_PROVIDES];if(!t)throw new Error("@ServiceName decoration expected");var o=n[t];if(!o)throw new Error("service '"+t+"' not found. @Uses-decorator incomplete?");return o}var n=Object.create(null);return{get:t,add:e}}var h=c.IInstantiationService;t.create=l,t.createContext=d;var p=function(){function e(){this._value=0}return Object.defineProperty(e.prototype,"locked",{get:function(){return 0===this._value},enumerable:!0,configurable:!0}),e.prototype.runUnlocked=function(e){this._value++;try{return e()}finally{this._value--}},e}(),f=function(){function e(e,t){var n=this;this._services=e,this._lock=t,s.forEach(this._services,function(e){n.registerService(e.key,e.value)})}return e.prototype.registerService=function(e,t){var n=this;Object.defineProperty(this,e,{get:function(){if(n._lock.locked)throw o.illegalState("the services map can only be used during construction");if(!t)throw o.illegalArgument(r.format("service with '{0}' not found",e));if(t instanceof a.SyncDescriptor){var i=n._services[e];i instanceof a.SyncDescriptor?(n._ensureInstances(e,t),t=n._services[e]):t=i}return t},set:function(){throw o.illegalState("services cannot be changed")},configurable:!1,enumerable:!1}),this._services[e]=t},Object.defineProperty(e.prototype,"lock",{get:function(){return this._lock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"services",{get:function(){return this._services},enumerable:!0,configurable:!0}),e.prototype._ensureInstances=function(e,t){for(var n=Object.create(null),o=new u.Graph(function(e){return e.serviceId}),r=[{serviceId:e,desc:t}];r.length;){var i=r.pop();if(o.lookupOrInsertNode(i),n[i.serviceId])throw new Error("[createInstance] cyclic dependency: "+Object.keys(n).join(">>"));n[i.serviceId]=!0;var s=c._util.getServiceDependencies(i.desc.ctor);if(Array.isArray(s))for(var l=0;l<s.length;l++){var d=s[l],h=this.services[d.serviceId];if(!h)throw new Error("[createInstance] "+e+" depends on "+d.serviceId+" which is NOT registered.");if(h instanceof a.SyncDescriptor){var p={serviceId:d.serviceId,desc:h};r.push(p),o.insertEdge(i,p)}}}for(;;){var f=o.roots();if(0===f.length){if(0!==o.length)throw new Error("[createInstance] cyclinc dependency!");break}for(var m=0;m<f.length;m++){var g=f[m],v=this.createInstance(g.data.desc,[]);this._services[g.data.serviceId]=v,o.removeNode(g.data)}}},e.prototype.createInstance=function(e,t){var n=this,o=[],r=c._util.getServiceDependencies(e.ctor);if(Array.isArray(r)){var s,a=e.staticArguments().concat(t),u=a.length,l=Number.MAX_VALUE;r.forEach(function(e){var t=e.serviceId,r=e.index,i=n._lock.runUnlocked(function(){return n[t]});void 0===r?(s||(s=d(),o[0]=s,u+=1),s.add(i,t)):(o[r]=i,l=Math.min(l,e.index))});for(var h=s?1:0,p=0;p<a.length;p++){var f=a[p],m=void 0!==o[h];m||(o[h]=f),h+=1}if(o.unshift(e.ctor),l!==Number.MAX_VALUE&&l!==u){var g="[createInstance] constructor '"+e.ctor.name+"' has first service dependency at position "+(l+1)+" but is called with "+(u-1)+" static arguments that are expected to come first";console.warn(g)}}else o=[e.ctor,this],o.push.apply(o,e.staticArguments()),o.push.apply(o,t);return this._lock.runUnlocked(function(){var t=i.create.apply(null,o);return e._validate(t),t})},e}(),m=function(){function t(e,t){this.serviceId=h,e.instantiationService=this,this._servicesMap=new f(e,t)}return t.prototype.createChild=function(e){var n={};return s.forEach(this._servicesMap.services,function(e){n[e.key]=e.value}),s.forEach(e,function(e){n[e.key]=e.value}),new t(n,this._servicesMap.lock)},t.prototype.registerService=function(e,t){this._servicesMap.registerService(e,t)},t.prototype.addSingleton=function(e,t){var n=c._util.getServiceId(e);this._servicesMap.registerService(n,t)},t.prototype.getInstance=function(e){var t=this,n=c._util.getServiceId(e),o=this._servicesMap.lock.runUnlocked(function(){return t._servicesMap[n]});return o},t.prototype.createInstance=function(e){for(var t=new Array(arguments.length-1),n=1,o=arguments.length;o>n;n++)t[n-1]=arguments[n];return e instanceof a.SyncDescriptor?this._servicesMap.createInstance(e,t):e instanceof a.AsyncDescriptor?this._createInstanceAsync(e,t):this._servicesMap.createInstance(new a.SyncDescriptor(e),t)},t.prototype._createInstanceAsync=function(t,r){var i,s=this;return new n.TPromise(function(n,u){e([t.moduleName],function(e){if(i&&u(i),!e)return u(o.illegalArgument("module not found: "+t.moduleName));var c;if(c=t.ctorName?e[t.ctorName]:e,"function"!=typeof c)return u(o.illegalArgument("not a function: "+t.ctorName||t.moduleName));try{r.unshift.apply(r,t.staticArguments()),n(s._servicesMap.createInstance(new a.SyncDescriptor(c),r))}catch(l){return u(l)}},u)},function(){i=o.canceled()})},t}()}),define("vs/base/common/worker/workerProtocol",["require","exports","vs/base/common/winjs.base"],function(e,t,n){t.MessageType={INITIALIZE:"$initialize",REPLY:"$reply",PRINT:"$print"},t.ReplyType={COMPLETE:"complete",ERROR:"error",PROGRESS:"progress"},t.PrintType={LOG:"log",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};var o=function(){function e(e){this._requester=e,this._bigHandler=null}return e.prototype.callOnRemote=function(e,t,n){return this._requester.request("_proxyObj",{proxyId:e,path:t,args:n})},e.prototype.registerBigHandler=function(e){this._bigHandler=e},e.prototype.handleMessage=function(e){if(!this._bigHandler)throw new Error("got message before big handler attached!");return this._invokeHandler(e.proxyId,e.path,e.args)},e.prototype._invokeHandler=function(e,t,o){try{return n.TPromise.as(this._bigHandler.handle(e,t,o))}catch(r){return n.Promise.wrapError(r)}},e}();t.RemoteCom=o}),define("vs/base/common/remote",["require","exports"],function(e,t){function n(e,t,n){var r={$__IS_REMOTE_OBJ:!0};for(var i in n.prototype)"function"==typeof n.prototype[i]&&(r[i]=o(e,t,i));return r}function o(e,t,n){return function(){for(var o=[],r=0;r<arguments.length;r++)o[r-0]=arguments[r];return e.callOnRemote(t,n,o)}}var r=Object.prototype.hasOwnProperty;t.createProxyFromCtor=n;var i=function(){function e(e){this._remoteCom=e}return e.prototype.canSerialize=function(e){return"string"==typeof e.$__CREATE__PROXY__REQUEST},e.prototype.serialize=function(e,t){for(var n={methods:[],props:{}},o=Object.keys(e),r=0;r<o.length;r++){var i=o[r];"function"==typeof e[i]?n.methods.push(i):n.props[i]=t(e[i])}return{$isProxyDescriptor:!0,proxyId:e.$__CREATE__PROXY__REQUEST,desc:n}},e.prototype.canDeserialize=function(e){return e.$isProxyDescriptor===!0},e.prototype.deserialize=function(e,t){for(var n={$__IS_REMOTE_OBJ:!0},i=e.desc.methods,s=0;s<i.length;s++)n[i[s]]=o(this._remoteCom,e.proxyId,i[s]);var a=e.desc.props;for(var u in a)r.call(a,u)&&(n[u]=t(a[u]));return n},e}();t.ProxiesMarshallingContribution=i}),define("vs/base/common/worker/workerClient",["require","exports","vs/base/common/winjs.base","vs/base/common/timer","vs/base/common/errors","vs/base/common/worker/workerProtocol","vs/base/common/remote","vs/base/common/marshalling"],function(e,t,n,o,r,i,s,a){var u=function(){function e(t,n,o,r,a){var u=this;void 0===a&&(a=++e.LAST_WORKER_ID),this._decodeMessageName=o,this._lastMessageId=0,this._promises={},this._messageHandlers={},this._messagesQueue=[],this._processQueueTimeout=-1,this._waitingForWorkerReply=!1,this._lastTimerEvent=null,this._workerId=a,this._worker=t.create(a,function(e){return u._onSerializedMessage(e)},function(){r(u)});var c=null,l=window.require;"function"==typeof l.getConfig?c=l.getConfig():"undefined"!=typeof window.requirejs&&(c=window.requirejs.s.contexts._.config);var d=window.MonacoEnvironment||null;this.onModuleLoaded=this._sendMessage(i.MessageType.INITIALIZE,{id:this._worker.getId(),moduleId:n,loaderConfiguration:c,MonacoEnvironment:d}),this.onModuleLoaded.then(null,function(){return u._onError("Worker failed to load "+n)}),this._remoteCom=new i.RemoteCom(this),this._proxiesMarshalling=new s.ProxiesMarshallingContribution(this._remoteCom)}return e.prototype.getRemoteCom=function(){return this._remoteCom},Object.defineProperty(e.prototype,"workerId",{get:function(){return this._workerId},enumerable:!0,configurable:!0}),e.prototype.getQueueSize=function(){return this._messagesQueue.length+(this._waitingForWorkerReply?1:0)},e.prototype.request=function(e,t,o){var r=this;if("$"===e.charAt(0))throw new Error("Illegal requestName: "+e);var i,s=!1;return new n.Promise(function(n,a,u){r.onModuleLoaded.then(function(){s||(i=r._sendMessage(e,t,o).then(n,a,u))},a,u)},function(){i?i.cancel():s=!0})},e.prototype.destroy=function(){this.dispose()},e.prototype.dispose=function(){var e=Object.keys(this._promises);if(e.length>0){console.warn("Terminating a worker with "+e.length+" pending promises:"),console.warn(this._promises);for(var t in this._promises)e.hasOwnProperty(t)&&this._promises[t].error("Worker forcefully terminated")}this._worker.terminate()},e.prototype.addMessageHandler=function(e,t){this._messageHandlers[e]=t},e.prototype.removeMessageHandler=function(e){delete this._messageHandlers[e]},e.prototype._sendMessage=function(e,t,o){var r=this;void 0===o&&(o=(new Date).getTime());var i,s,a,u={id:++this._lastMessageId,type:e,timestamp:o,payload:t},c=new n.Promise(function(e,t,n){i=e,s=t,a=n},function(){r._removeMessage(u.id)});return this._promises[u.id]={complete:i,error:s,progress:a,type:e,payload:t},this._enqueueMessage(u),c},e.prototype._enqueueMessage=function(e){var t,n=-1;for(t=this._messagesQueue.length-1;t>=0;t--)if(this._messagesQueue[t].timestamp<=e.timestamp){n=t;break}this._messagesQueue.splice(n+1,0,e),this._processMessagesQueue()},e.prototype._removeMessage=function(e){for(var t=0,n=this._messagesQueue.length;n>t;t++)if(this._messagesQueue[t].id===e)return this._promises.hasOwnProperty(String(e))&&delete this._promises[String(e)],this._messagesQueue.splice(t,1),this._processMessagesQueue(),void 0},e.prototype._processMessagesQueue=function(){var e=this;if(-1!==this._processQueueTimeout&&(clearTimeout(this._processQueueTimeout),this._processQueueTimeout=-1),0!==this._messagesQueue.length&&!this._waitingForWorkerReply){var t=this._messagesQueue[0].timestamp-(new Date).getTime();t=Math.max(0,t),this._processQueueTimeout=setTimeout(function(){if(e._processQueueTimeout=-1,0!==e._messagesQueue.length){e._waitingForWorkerReply=!0;var t=e._messagesQueue.shift();e._lastTimerEvent=o.start(o.Topic.WORKER,e._decodeMessageName(t)),e._postMessage(t)}},t)}},e.prototype._postMessage=function(e){this._worker.postMessage(a.marshallObject(e,this._proxiesMarshalling))},e.prototype._onSerializedMessage=function(e){var t=null;try{t=a.demarshallObject(e,this._proxiesMarshalling)}catch(n){}t&&this._onmessage(t)},e.prototype._onmessage=function(e){if(e.monacoWorker&&(!e.from||e.from===this._worker.getId())){switch(e.type){case i.MessageType.REPLY:var t=e;if(this._waitingForWorkerReply=!1,this._lastTimerEvent&&this._lastTimerEvent.stop(),!this._promises.hasOwnProperty(String(t.id)))return this._onError("Received unexpected message from Worker:",e),void 0;switch(t.action){case i.ReplyType.COMPLETE:this._promises[t.id].complete(t.payload),delete this._promises[t.id];break;case i.ReplyType.ERROR:this._onError("Main Thread sent to worker the following message:",{type:this._promises[t.id].type,payload:this._promises[t.id].payload}),this._onError("And the worker replied with an error:",t.payload),r.onUnexpectedError(t.payload),this._promises[t.id].error(t.payload),delete this._promises[t.id];break;case i.ReplyType.PROGRESS:this._promises[t.id].progress(t.payload)}break;case i.MessageType.PRINT:var n=e;this._consoleLog(n.level,n.payload);break;default:this._dispatchRequestFromWorker(e)}this._processMessagesQueue()}},e.prototype._dispatchRequestFromWorker=function(e){var t=this;this._handleWorkerRequest(e).then(function(n){var o={id:0,type:i.MessageType.REPLY,timestamp:(new Date).getTime(),seq:e.req,payload:n instanceof Error?r.transformErrorForSerialization(n):n,err:null};t._postMessage(o)},function(n){var o={id:0,type:i.MessageType.REPLY,timestamp:(new Date).getTime(),seq:e.req,payload:null,err:n instanceof Error?r.transformErrorForSerialization(n):n};t._postMessage(o)})},e.prototype._handleWorkerRequest=function(e){return"_proxyObj"===e.type?this._remoteCom.handleMessage(e.payload):"function"==typeof this[e.type]?this._invokeHandler(this[e.type],this,e.payload):"function"==typeof this._messageHandlers[e.type]?this._invokeHandler(this._messageHandlers[e.type],null,e.payload):(this._onError("Received unexpected message from Worker:",e),n.Promise.wrapError(new Error("No handler found")))},e.prototype._invokeHandler=function(e,t,o){try{return n.Promise.as(e.call(t,o))}catch(r){return n.Promise.wrapError(r)}},e.prototype._consoleLog=function(e,t){switch(e){case i.PrintType.LOG:console.log(t);break;case i.PrintType.DEBUG:console.info(t);break;case i.PrintType.INFO:console.info(t);break;case i.PrintType.WARN:console.warn(t);break;case i.PrintType.ERROR:console.error(t);break;default:this._onError("Received unexpected message from Worker:",t)}},e.prototype._onError=function(e,t){console.error(e),console.info(t)},e.LAST_WORKER_ID=0,e}();t.WorkerClient=u}),define("vs/platform/thread/common/abstractThreadService",["require","exports","vs/base/common/winjs.base","vs/base/common/remote","vs/base/common/types","vs/platform/thread/common/threadService"],function(e,t,n,o,r,i){var s=function(){function e(e){this.isInMainThread=e,this._boundObjects={},this._pendingObjects=[],this._localObjMap=Object.create(null),this._proxyObjMap=Object.create(null)}return e.prototype.setInstantiationService=function(e){this._instantiationService=e},e.prototype.createInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this._doCreateInstance(e)},e.prototype._doCreateInstance=function(e){var t=this,o=this._instantiationService.createInstance.apply(this._instantiationService,e);if(n.Promise.is(o)){var r=o.then(function(e){if(e.asyncCtor){var t=e.asyncCtor();if(n.Promise.is(t))return t.then(function(){return e})}return e});return this._pendingObjects.push(r),r.then(function(e){for(var n=t._finishInstance(e),o=0;o<t._pendingObjects.length;o++)if(t._pendingObjects[o]===r){t._pendingObjects.splice(o,1);break}return n})}return this._finishInstance(o)},e.prototype._finishInstance=function(e){return e[i.THREAD_SERVICE_PROPERTY_NAME]=this,this._boundObjects[e.getId()]=e,e.creationDone&&e.creationDone(),e},e.prototype.registerInstance=function(e){this._finishInstance(e)},e.prototype.handle=function(e,t,n){if(!this._localObjMap[e])throw new Error("Unknown actor "+e);var o=this._localObjMap[e];return o[t].apply(o,n)},e.prototype._getLocalInstance=function(e){if(!this._localObjMap[e])throw new Error("Missing participant "+e);return this._localObjMap[e]},e.prototype._getProxyInstance=function(e){if(!this._proxyObjMap[e])throw new Error("Missing participant "+e);return this._proxyObjMap[e]},e.prototype._createAndRegisterProxyInstance=function(e,t,n){var r=o.createProxyFromCtor(e,t,n.ctor);return this._proxyObjMap[t]=r,r},e.prototype._registerLocalInstance=function(e,t){this._localObjMap[e]=t},e.prototype._createAndRegisterLocalInstance2=function(e,t){var n=this._instantiationService.createInstance(t,this);return this._registerLocalInstance(e,n),n},e.prototype.proxifyMethods=function(e,t){if(!r.isObject(t))return null;this._localObjMap[e]=t;var n={$__CREATE__PROXY__REQUEST:e};for(var o in t)"function"==typeof t[o]&&(n[o]=t[o].bind(t));return n},e.prototype.proxifyMembers=function(e,t,n){if(!r.isObject(t))return null;this._localObjMap[e]=t;var o={$__CREATE__PROXY__REQUEST:e};for(var i in t)-1!==n.indexOf(i)&&(o[i]="function"==typeof t[i]?t[i].bind(t):t[i]);return o},e.prototype.isProxyObject=function(e){return e&&!!e.$__IS_REMOTE_OBJ},e}();t.AbstractThreadService=s}),define("vs/base/worker/defaultWorkerFactory",["require","exports","vs/base/browser/dom","vs/base/common/flags"],function(e,t,n,o){function r(t,n){return e.toUrl("./"+t+"?"+encodeURIComponent(n))}var i=o.getCrossOriginWorkerScriptUrl||r,s=function(){function e(e,t,n){this.id=e,this.worker=new Worker(i("workerMain.js",t)),this.worker.onmessage=function(e){n(e.data)}}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){this.worker.postMessage(e)},e.prototype.terminate=function(){this.worker.terminate()},e}(),a=function(){function t(t,o){var r=this;this.id=t,this.loaded=!1,this.beforeLoadMessages=[],this.iframe=document.createElement("iframe"),this.iframe.id=this.iframeId(),this.iframe.src=e.toUrl("./workerMainCompatibility.html"),this.iframe.frameborder=this.iframe.height=this.iframe.width="0",this.iframe.style.display="none",n.addListener(this.iframe,"load",function(){return r.onLoaded()}),this.onMessage=function(e){o(e.data)},n.addListener(window,"message",this.onMessage),document.body.appendChild(this.iframe)}return t.prototype.iframeId=function(){return"worker_iframe_"+this.id},t.prototype.onLoaded=function(){for(this.loaded=!0;this.beforeLoadMessages.length>0;)this.postMessage(this.beforeLoadMessages.shift())},t.prototype.getId=function(){return this.id},t.prototype.postMessage=function(e){if(this.loaded===!0){var t=window.frames[this.iframeId()];t.postMessage?t.postMessage(e,"*"):t.contentWindow.postMessage(e,"*")}else this.beforeLoadMessages.push(e)},t.prototype.terminate=function(){window.removeEventListener("message",this.onMessage),window.frames[this.iframeId()].close()},t}(),u=function(){function e(){}return e.prototype.create=function(e,t,n){void 0===n&&(n=null);var o=null;try{o=new s(e,"service"+e,t)}catch(r){o=new a(e,t)}return o},e}();t.DefaultWorkerFactory=u});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/thread/common/mainThreadService",["require","exports","vs/base/common/winjs.base","vs/base/common/worker/workerClient","vs/platform/thread/common/abstractThreadService","vs/base/common/flags","vs/base/common/platform","vs/base/common/errors","vs/base/common/timer","vs/platform/plugins/common/pluginsRegistry","vs/platform/thread/common/threadService","vs/platform/thread/common/thread","vs/base/worker/defaultWorkerFactory"],function(e,t,n,o,r,i,s,a,u,c,l,d,h){var p=function(e){function t(o,r,i){var s=this;if(e.call(this,!0),this.serviceId=d.IThreadService,this._contextService=o,this._workerModuleId=r,this._workerFactory=i||new h.DefaultWorkerFactory,!this.isInMainThread)throw new Error("Incorrect Service usage: this service must be used only in the main thread");this._workerPool=[],this._affinityScrambler={},this._listeners=[],this._workersCreatedPromise=new n.Promise(function(e){s._triggerWorkersCreatedPromise=e},function(){}),l.readThreadSynchronizableObjects().forEach(function(e){return s.registerInstance(e)}),n.Promise.timeout(t.MAXIMUM_WORKER_CREATION_DELAY).then(function(){return s.ensureWorkers()})}return __extends(t,e),t.prototype.ensureWorkers=function(){if(this._triggerWorkersCreatedPromise){var e=i.workersCount;s.hasWebWorkerSupport()||(e=Math.min(e,1));for(var t=0;e>t;t++)this._createWorker();var n=this._triggerWorkersCreatedPromise;this._triggerWorkersCreatedPromise=null,n(null)}},t.prototype.addStatusListener=function(e){for(var t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return;this._listeners.push(e)},t.prototype.removeStatusListener=function(e){for(var t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return this._listeners.splice(t,1),void 0},t.prototype._afterWorkers=function(){var e=this,t=!1;return new n.Promise(function(n,o,r){e._workersCreatedPromise.then(function(){t||n(null)},o,r)},function(){t=!0})},t.prototype._createWorker=function(){this._workerPool.push(this._doCreateWorker())},t.prototype._massagePluginDescriptions=function(e){return e.filter(function(e){return e.isFakePlugin})},t.prototype._shortName=function(e,t){return e.substring(e.length-14)+"."+t.substr(0,14)},t.prototype._doCreateWorker=function(e){var t=this,r=new o.WorkerClient(this._workerFactory,this._workerModuleId,function(e){return"threadService"===e.type?t._shortName(e.payload[0],e.payload[1]):e.type},function(e){for(var n=0;n<t._workerPool.length&&e!==t._workerPool[n];n++);var o=t._doCreateWorker(e.workerId);e===t._workerPool[n]?t._workerPool[n]=o:t._workerPool.push(o)},e);return r.getRemoteCom().registerBigHandler(this),r.onModuleLoaded=r.request("initialize",{threadService:this._getRegisteredObjectsData(),contextService:{workspace:this._contextService.getWorkspace(),configuration:this._contextService.getConfiguration(),options:this._contextService.getOptions()},plugins:this._massagePluginDescriptions(c.PluginsRegistry.getAllPluginDescriptions())}),r.addMessageHandler("threadService",function(e){var o=e.identifier,r=e.memberName,i=e.args;if(!t._boundObjects.hasOwnProperty(o))throw new Error("Object "+o+" was not found on the main thread.");var s=t._boundObjects[o];return n.Promise.as(s[r].apply(s,i))}),r},t.prototype._getRegisteredObjectsData=function(){var e=this,t={};return Object.keys(this._boundObjects).forEach(function(n){var o=e._boundObjects[n];o.getSerializableState&&(t[n]=o.getSerializableState())}),t},t.prototype.MainThread=function(e,t,n,o){return n.apply(e,o)},t.prototype._getWorkerIndex=function(e,t){if(t===d.ThreadAffinity.None){for(var n=[0],o=this._workerPool[0].getQueueSize(),r=1;r<this._workerPool.length;r++){var i=this._workerPool[r].getQueueSize();o>i?(o=i,n=[r]):i===o&&n.push(r)}return n[Math.floor(Math.random()*n.length)]}var s=0;return this._affinityScrambler.hasOwnProperty(e.getId())?s=this._affinityScrambler[e.getId()]:(s=Math.floor(Math.random()*this._workerPool.length),this._affinityScrambler[e.getId()]=s),(s+t)%this._workerPool.length},t.prototype.OneWorker=function(e,t,n,o,r){var i=this;return this._afterWorkers().then(function(){if(0===i._workerPool.length)throw new Error("Cannot fulfill request...");var n=i._getWorkerIndex(e,r);return i._remoteCall(i._workerPool[n],e,t,o)})},t.prototype.AllWorkers=function(e,t,o,r){var i=this;return this._afterWorkers().then(function(){return n.Promise.join(i._workerPool.map(function(n){return i._remoteCall(n,e,t,r)}))})},t.prototype.Everywhere=function(e,t,n,o){var r=this;return this._afterWorkers().then(function(){r._workerPool.forEach(function(n){r._remoteCall(n,e,t,o).done(null,a.onUnexpectedError)})}),n.apply(e,o)},t.prototype._remoteCall=function(e,t,o,r){var i=this,s=t.getId();if(!s)throw new Error("Synchronizable Objects must have an identifier");var a=u.start(u.Topic.LANGUAGES,this._shortName(s,o)),c=function(){a.stop(),i._pingListenersIfNecessary()},l=n.decoratePromise(e.request("threadService",[s,o,r]),c,c);return this._pingListenersIfNecessary(),l},t.prototype._pingListenersIfNecessary=function(){if(this._listeners.length>0){var e=this._buildStatus(),t=this._listeners.slice(0);try{for(var n=0;n<t.length;n++)t[n].onThreadServiceStatus(e)}catch(o){a.onUnexpectedError(o)}}},t.prototype._buildStatus=function(){var e=this._workerPool.map(function(e){return{queueSize:e.getQueueSize()}});return{workers:e}},t.prototype.registerAndInstantiateMainProcessActor=function(e,t){return this._createAndRegisterLocalInstance2(e,t)},t.prototype.registerMainProcessActor=function(e,t){this._registerLocalInstance(e,t)},t.prototype.registerAndInstantiatePluginHostActor=function(){throw new Error("Not supported in this runtime context: Cannot communicate to non-existant Plugin Host!")},t.prototype.registerPluginHostActor=function(){throw new Error("Not supported in this runtime context!")},t.prototype.registerAndInstantiateWorkerActor=function(e,t,n){var o=this._createWorkerProxyHelper(n);return this._createAndRegisterProxyInstance(o,e,t)},t.prototype._createWorkerProxyHelper=function(e){var t=this;return{callOnRemote:function(n,o,r){return t._callOnWorker(e,n,o,r)}}},t.prototype._callOnWorker=function(e,t,o,r){var i=this;return e===d.ThreadAffinity.None?n.Promise.as(null):this._afterWorkers().then(function(){if(e===d.ThreadAffinity.All){var s=i._workerPool.map(function(e){return e.getRemoteCom()}).map(function(e){return e.callOnRemote(t,o,r)});return n.Promise.join(s)}var a=e%i._workerPool.length,u=i._workerPool[a];return u.getRemoteCom().callOnRemote(t,o,r)})},t.MAXIMUM_WORKER_CREATION_DELAY=500,t}(r.AbstractThreadService);t.MainThreadService=p}),define("vs/platform/markers/common/markerService",["require","exports","vs/base/common/network","vs/base/common/arrays","vs/base/common/strings","vs/base/common/collections","vs/base/common/eventSource","vs/base/common/severity","vs/platform/thread/common/threadService","./markers"],function(e,t,n,o,r,i,s,a,u,c){var l;!function(e){function t(e){var t=/^(.*)→(.*)$/.exec(e);return{owner:t[1],resource:n.URL.fromValue(t[2])}}function o(e){return e.owner+"→"+e.resource}function i(e,t){return new RegExp(r.format(a,e?r.escapeRegExpCharacters(e):".*",t?r.escapeRegExpCharacters(t.toString()):".*"))}function s(e,t){return e+"→"+t}e.fromValue=t,e.valueOf=o;var a="^({0})→({1})$";e.selector=i,e.raw=s}(l||(l={}));var d=function(){function e(e){this.serviceId=c.IMarkerService,this._data=Object.create(null),this._stats=this._emptyStats(),this._onMarkerChanged=new s.EventSource,e.registerInstance(this)}return e.prototype.getId=function(){return"__markerService"},e.prototype.getSerializableState=function(){return this._data},e.prototype.setData=function(e){this._data=e},e.prototype.getStatistics=function(){return this._stats},Object.defineProperty(e.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChanged?this._onMarkerChanged.value:null},enumerable:!0,configurable:!0}),e.prototype.changeOne=function(e,t,n){this._doChangeOne(e,t,n)&&this._onMarkerChanged.fire([t])},e.prototype.remove=function(e,t){if(!o.isFalsyOrEmpty(t)){for(var n,r=0;r<t.length;r++){var i=t[r];this._doChangeOne(e,i,void 0)&&(n||(n=[]),n.push(i))}n&&this._onMarkerChanged.fire(n)}},e.prototype._doChangeOne=function(e,t,n){var r=l.raw(e,t),i=this._data[r],s=!o.isFalsyOrEmpty(i),a=!o.isFalsyOrEmpty(n),u=this._computeStats(i),c=this._computeStats(n);if(s||a)return a?this._data[r]=n:s&&delete this._data[r],this._isStatRelevant(t)&&(this._updateStatsMinus(u),this._updateStatsPlus(c)),!0},e.prototype.changeAll=function(e,t){var n=this,r=Object.create(null),s=this._emptyStats();if(this._forEach(e,void 0,void 0,-1,function(e,t){var o=l.fromValue(e.key).resource;n._isStatRelevant(o)&&n._updateStatsPlus(s,n._computeStats(e.value)),r[o.toString()]=o,t()}),this._updateStatsMinus(s),!o.isFalsyOrEmpty(t)){var a=this._emptyStats();t.forEach(function(t){r[t.resource.toString()]=t.resource,i.lookupOrInsert(n._data,l.raw(e,t.resource),[]).push(t.marker),n._isStatRelevant(t.resource)&&n._updateStatsMarker(a,t.marker)}),this._updateStatsPlus(a)}this._onMarkerChanged.fire(i.values(r))},e.prototype.read=function(e){var t=this;void 0===e&&(e=Object.create(null));var n=[];return this._forEach(e.owner,e.resource,e.selector,e.take,function(e){return t._fromEntry(e,n)}),n},e.prototype._isStatRelevant=function(e){return e.scheme!==n.schemas.inMemory},e.prototype._forEach=function(e,t,n,o,r){var s=n||l.selector(e,t),a=0;i.forEach(this._data,function(e,t){return s.test(e.key)&&(r(e,t),o>0&&a++>=o)?!1:void 0})},e.prototype._fromEntry=function(t,n){var o=l.fromValue(t.key);t.value.forEach(function(t){e._sanitize(t),n.push({owner:o.owner,resource:o.resource,code:t.code,message:t.message,severity:t.severity,startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn})})},e.prototype._computeStats=function(e){var t=0,n=0,o=0,r=0;if(e)for(var i=0;i<e.length;i++){var s=e[i];if(s.severity)switch(s.severity){case a.Error:t++;break;case a.Warning:n++;break;case a.Info:o++;break;default:r++}else r++}return{errors:t,warnings:n,infos:o,unknwons:r}},e.prototype._emptyStats=function(){return{errors:0,warnings:0,infos:0,unknwons:0}},e.prototype._updateStatsPlus=function(e,t){t||(t=e,e=this._stats),e.errors+=t.errors,e.warnings+=t.warnings,e.infos+=t.infos,e.unknwons+=t.unknwons},e.prototype._updateStatsMinus=function(e,t){t||(t=e,e=this._stats),e.errors-=t.errors,e.warnings-=t.warnings,e.infos-=t.infos,e.unknwons-=t.unknwons},e.prototype._updateStatsMarker=function(e,t){switch(t.severity){case a.Error:e.errors++;break;case a.Warning:e.warnings++;break;case a.Info:e.infos++;break;default:e.unknwons++}},e._sanitize=function(e){e.code=e.code||null,e.startLineNumber=e.startLineNumber>0?e.startLineNumber:1,e.startColumn=e.startColumn>0?e.startColumn:1,e.endLineNumber=e.endLineNumber>=e.startLineNumber?e.endLineNumber:e.startLineNumber,e.endColumn=e.endColumn>0?e.endColumn:e.startColumn},e.$changeOne=u.MainThreadAttr(e,e.prototype.changeOne),e.$changeAll=u.MainThreadAttr(e,e.prototype.changeAll),e}();t.MarkerService=d}),define("vs/platform/telemetry/common/abstractTelemetryService",["require","exports","vs/base/common/timer","vs/base/common/errors","vs/base/common/types","vs/base/common/objects","vs/platform/platform","vs/platform/telemetry/common/telemetry"],function(e,t,n,o,r,i,s,a){var u=function(){function e(e){var t=this;this.serviceId=a.ITelemetryService,this.publicOnly=e,this.sessionID="SESSION_ID_NOT_SET",this.timeKeeper=new n.TimeKeeper,this.toUnbind=[],this.appenders=[],this.timeKeeperListener=function(e){return t.onTelemetryTimerEventStop(e)},this.timeKeeper.addListener(this.timeKeeperListener),this.toUnbind.push(o.errorHandler.addListener(this.onErrorEvent.bind(this))),this.enableGlobalErrorHandler()}return e.prototype._safeStringify=function(e){return i.safeStringify(e)},e.prototype.onTelemetryTimerEventStop=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=n.data||{};o.duration=n.timeTaken(),"public"===n.topic?this.publicLog(n.name,o):this.log(n.name,o)}},e.prototype.onErrorEvent=function(e){Array.isArray(e.stack)&&(e.stack=e.stack.join("\n")),e.detail&&e.detail.stack&&(e=e.detail),e.stack&&(e.message||(e.message=this._safeStringify(e)),e.message=this.cleanupInfo(e.message),e.stack=this.cleanupInfo(e.stack),this.publicLog("UnhandledError",e))},e.prototype.cleanupInfo=function(e){var t=/file:\/\/\/.*?\/resources\/app\//gi;return e=e.replace(t,""),t=/file:\/\/\/.*/gi,e=e.replace(t,""),t=/ENOENT: no such file or directory.*?\'([^\']+)\'/gi,e=e.replace(t,"ENOENT: no such file or directory")
},e.prototype.enableGlobalErrorHandler=function(){r.isFunction(self.onerror)&&(this.oldOnError=self.onerror);var e=this,t=function(t,n,o,r,i){e.onUncaughtError(t,n,o,r,i),e.oldOnError&&e.oldOnError.apply(this,arguments)};self.onerror=t},e.prototype.onUncaughtError=function(t,n,o,i,s){if(!r.isString(t)||!e.FILTERS.some(function(e){return t.indexOf(e)>=0})){n=this.cleanupInfo(n),t=this.cleanupInfo(t);var a={message:t,filename:n,line:o,column:i};s&&(a.error={name:s.name,message:s.message},s.stack&&(Array.isArray(s.stack)&&(s.stack=s.stack.join("\n")),a.stack=this.cleanupInfo(s.stack))),this.publicLog("UncaughtError",a)}},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.timeKeeper.removeListener(this.timeKeeperListener),this.timeKeeper.dispose(),this.oldOnError&&(self.onerror=this.oldOnError);for(var e=0;e<this.appenders.length;e++)this.appenders[e].dispose()},e.prototype.start=function(e,t,n){var o=n?"public":"private",r=this.timeKeeper.start(o,e);return t&&(r.data=t),r},e.prototype.log=function(e,t){this.publicOnly||this.handleEvent(e,!1,t)},e.prototype.publicLog=function(e,t){this.handleEvent(e,!0,t)},e.prototype.getAppendersCount=function(){return this.appenders.length},e.prototype.getAppenders=function(){return this.appenders},e.prototype.addTelemetryAppender=function(e){this.appenders.push(e)},e.prototype.removeTelemetryAppender=function(e){var t=this.appenders.indexOf(e);t>-1&&this.appenders.splice(t,1)},e.prototype.handleEvent=function(){throw new Error("Not implemented!")},e.FILTERS=["NPObject"],e}();t.AbstractTelemetryService=u,t.Extenstions={TelemetryAppenders:"telemetry.appenders"};var c=function(){function e(){this.telemetryAppenderDescriptors=[]}return e.prototype.registerTelemetryAppenderDescriptor=function(e){this.telemetryAppenderDescriptors.push(e)},e.prototype.getTelemetryAppenderDescriptors=function(){return this.telemetryAppenderDescriptors},e}();s.Registry.add(t.Extenstions.TelemetryAppenders,new c)});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/idleMonitor",["require","exports","vs/base/browser/dom","vs/base/common/lifecycle","vs/base/common/eventEmitter","vs/base/browser/browserService"],function(e,t,n,o,r,i){!function(e){e[e.Idle=0]="Idle",e[e.Active=1]="Active"}(t.UserStatus||(t.UserStatus={}));var s=t.UserStatus;t.DEFAULT_IDLE_TIME=36e5;var a=function(){function e(e){var n=this;void 0===e&&(e=t.DEFAULT_IDLE_TIME),this.instance=c.INSTANCE,this.instance.increment(),this.status=null,this.idleCheckTimeout=-1,this.lastActiveTime=-1,this.idleTime=e,this.toDispose=[],this.eventEmitter=new r.EventEmitter,this.toDispose.push(this.eventEmitter),this.toDispose.push({dispose:this.instance.addListener(function(){return n.onUserActive()})}),this.onUserActive()}return e.prototype.addOneTimeActiveListener=function(e){return this.eventEmitter.addOneTimeDisposableListener("onActive",e)},e.prototype.addOneTimeIdleListener=function(e){return this.eventEmitter.addOneTimeDisposableListener("onIdle",e)},e.prototype.getStatus=function(){return this.status},e.prototype.dispose=function(){this.cancelIdleCheck(),this.toDispose=o.disposeAll(this.toDispose),this.instance.decrement()},e.prototype.onUserActive=function(){this.lastActiveTime=(new Date).getTime(),this.status!==s.Active&&(this.status=s.Active,this.scheduleIdleCheck(),this.eventEmitter.emit("onActive"))},e.prototype.onUserIdle=function(){this.status!==s.Idle&&(this.status=s.Idle,this.eventEmitter.emit("onIdle"))},e.prototype.scheduleIdleCheck=function(){var e=this;if(-1===this.idleCheckTimeout){var t=this.lastActiveTime+this.idleTime;this.idleCheckTimeout=setTimeout(function(){e.idleCheckTimeout=-1,e.checkIfUserIsIdle()},t-(new Date).getTime())}},e.prototype.cancelIdleCheck=function(){-1!==this.idleCheckTimeout&&(clearTimeout(this.idleCheckTimeout),this.idleCheckTimeout=-1)},e.prototype.checkIfUserIsIdle=function(){var e=(new Date).getTime()-this.lastActiveTime;e>=this.idleTime?this.onUserIdle():this.scheduleIdleCheck()},e}();t.IdleMonitor=a;var u=function(){function e(){this.referenceCount=0}return e.prototype.increment=function(){0===this.referenceCount&&this.construct(),this.referenceCount++},e.prototype.decrement=function(){this.referenceCount>0&&(this.referenceCount--,0===this.referenceCount&&this.dispose())},e.prototype.construct=function(){throw new Error("Implement me")},e.prototype.dispose=function(){throw new Error("Implement me")},e}(),c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.construct=function(){var e=this;this.toDispose=[],this.eventEmitter=new r.EventEmitter,this.toDispose.push(this.eventEmitter),this.toDispose.push(n.addDisposableListener(i.getService().document,"mousemove",function(){return e.onUserActive()})),this.toDispose.push(n.addDisposableListener(i.getService().document,"keydown",function(){return e.onUserActive()})),this.onUserActive()},t.prototype.dispose=function(){this.toDispose=o.disposeAll(this.toDispose)},t.prototype.onUserActive=function(){this.eventEmitter.emit("onActive")},t.prototype.addListener=function(e){return this.eventEmitter.addListener("onActive",e)},t.INSTANCE=new t,t}(u)});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/telemetry/common/mainTelemetryService",["require","exports","vs/platform/telemetry/common/abstractTelemetryService","vs/base/browser/idleMonitor","vs/platform/platform","vs/base/common/platform","vs/base/common/objects","vs/base/common/uuid"],function(e,t,n,o,r,i,s,a){var u={enableTelemetry:!0,publicOnly:!0,enableHardIdel:!0,enableSoftIdle:!0},c=function(e){function t(n){var r=this;this.config=s.withDefaults(n,u),e.call(this,this.config.publicOnly),this.sessionID=this.config.sessionID||a.generateUuid()+Date.now(),this.config.enableHardIdle&&(this.hardIdleMonitor=new o.IdleMonitor),this.config.enableSoftIdle&&(this.softIdleMonitor=new o.IdleMonitor(t.SOFT_IDLE_TIME),this.softIdleMonitor.addOneTimeActiveListener(function(){return r.onUserActive()}),this.softIdleMonitor.addOneTimeIdleListener(function(){return r.onUserIdle()})),this.eventCount=0,this.startTime=new Date}return __extends(t,e),t.prototype.dispose=function(){this.hardIdleMonitor&&this.hardIdleMonitor.dispose(),this.softIdleMonitor&&this.softIdleMonitor.dispose(),e.prototype.dispose.call(this)},t.prototype.onUserIdle=function(){var e=this;this.publicLog(t.IDLE_START_EVENT_NAME),this.softIdleMonitor.addOneTimeIdleListener(function(){return e.onUserIdle()})},t.prototype.onUserActive=function(){var e=this;this.publicLog(t.IDLE_STOP_EVENT_NAME),this.softIdleMonitor.addOneTimeActiveListener(function(){return e.onUserActive()})},t.prototype.handleEvent=function(e,t,n){if((!this.hardIdleMonitor||this.hardIdleMonitor.getStatus()!==o.UserStatus.Idle)&&this.config.enableTelemetry){this.eventCount++,n=this.addCommonProperties(n);for(var r=this.getAppenders(),i=0;i<r.length;i++)r[i].log(e,t,n)}},t.prototype.addCommonProperties=function(e){e=e||{};var t=new Date;return e.sessionID=this.sessionID,e.timestamp=t,e.version=this.config.version,e.userId=this.userIdHash,e.commitHash=this.config.commitHash,e["common.platform"]=i.Platform[i.platform],e["common.timesincesessionstart"]=t.getTime()-this.startTime.getTime(),e["common.sequence"]=this.eventCount,e},t.prototype.setInstantiationService=function(e){this.instantiationService=e,this.instantiationService&&this.loadTelemetryAppendersFromRegistery()},t.prototype.loadTelemetryAppendersFromRegistery=function(){for(var e=r.Registry.as(n.Extenstions.TelemetryAppenders).getTelemetryAppenderDescriptors(),t=0;t<e.length;t++){var o=e[t],i=this.instantiationService.createInstance(o);this.addTelemetryAppender(i)}},t.SOFT_IDLE_TIME=12e4,t.IDLE_START_EVENT_NAME="UserIdleStart",t.IDLE_STOP_EVENT_NAME="UserIdleStop",t}(n.AbstractTelemetryService);t.MainTelemetryService=c}),define("vs/platform/contextview/browser/contextViewService",["require","exports","./contextView","vs/base/browser/ui/contextview/contextview"],function(e,t,n,o){var r=function(){function e(e){this.serviceId=n.IContextViewService,this.contextView=new o.ContextView(e)}return e.prototype.dispose=function(){this.contextView.dispose()},e.prototype.setContainer=function(e){this.contextView.setContainer(e)},e.prototype.showContextView=function(e){this.contextView.show(e)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(e){this.contextView.hide(e)},e}();t.ContextViewService=r}),define("vs/css!vs/base/browser/ui/menu/menu",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/browser/ui/menu/menu",["require","exports","vs/base/browser/builder","vs/base/browser/ui/actionbar/actionbar","vs/base/common/eventEmitter","vs/css!./menu"],function(e,t,n,o,r){var i=n.$,s=function(e){function t(t,n,r){void 0===r&&(r={}),e.call(this),i(t).addClass("monaco-menu-container");var s=i(".monaco-menu").appendTo(t);this.actionBar=new o.ActionBar(s,{orientation:o.ActionsOrientation.VERTICAL,actionItemProvider:r.actionItemProvider,context:r.context,actionRunner:r.actionRunner}),this.listener=this.addEmitter2(this.actionBar),this.actionBar.push(n,{icon:!0,label:!0})}return __extends(t,e),t.prototype.focus=function(){this.actionBar.focus()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.actionBar&&(this.actionBar.dispose(),this.actionBar=null),this.listener&&(this.listener.dispose(),this.listener=null)},t}(r.EventEmitter);t.Menu=s}),define("vs/css!vs/platform/contextview/browser/contextMenuHandler",["vs/css!vs/editor/editor.main"],{}),define("vs/platform/contextview/browser/contextMenuHandler",["require","exports","vs/base/browser/builder","vs/base/common/lifecycle","vs/base/browser/mouseEvent","vs/base/common/actions","vs/base/browser/ui/menu/menu","vs/base/common/events","vs/base/common/severity","vs/css!./contextMenuHandler"],function(e,t,n,o,r,i,s,a,u){var c=n.$,l=function(){function e(e,t,n,o){var r=this;this.setContainer(e),this.contextViewService=t,this.telemetryService=n,this.messageService=o,this.actionRunner=new i.ActionRunner,this.menuContainerElement=null,this.toDispose=[];var s=!1;this.toDispose.push(this.actionRunner.addListener2(a.EventType.BEFORE_RUN,function(e){r.telemetryService&&r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,From:"contextMenu"}),s=!!e.retainActionItem,s||r.contextViewService.hideContextView(!1)})),this.toDispose.push(this.actionRunner.addListener2(a.EventType.RUN,function(e){s&&r.contextViewService.hideContextView(!1),s=!1,e.error&&r.messageService&&r.messageService.show(u.Error,e.error)}))}return e.prototype.setContainer=function(e){var t=this;this.$el&&(this.$el.off(["click","mousedown"]),this.$el=null),e&&(this.$el=c(e),this.$el.on("mousedown",function(e){return t.onMouseDown(e)}))},e.prototype.showContextMenu=function(e){var t=this;e.getActions().done(function(n){t.contextViewService.showContextView({getAnchor:function(){return e.getAnchor()},canRelayout:!1,render:function(r){t.menuContainerElement=r;var i=e.getMenuClassName?e.getMenuClassName():"";i&&(r.className+=" "+i);var u=new s.Menu(r,n,{actionItemProvider:e.getActionItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:t.actionRunner}),c=u.addListener2(a.EventType.CANCEL,function(){t.contextViewService.hideContextView(!0)}),l=u.addListener2(a.EventType.BLUR,function(){t.contextViewService.hideContextView(!0)});return u.focus(),o.combinedDispose(c,l,u)},onHide:function(n){e.onHide&&e.onHide(n),t.menuContainerElement=null}})})},e.prototype.onMouseDown=function(e){if(this.menuContainerElement){for(var t=new r.StandardMouseEvent(e),n=t.target;n;){if(n===this.menuContainerElement)return;n=n.parentElement}this.contextViewService.hideContextView()}},e.prototype.dispose=function(){this.setContainer(null)},e}();t.ContextMenuHandler=l}),define("vs/platform/contextview/browser/contextMenuService",["require","exports","./contextMenuHandler","./contextView"],function(e,t,n,o){var r=function(){function e(e,t,r,i){this.serviceId=o.IContextMenuService,this.contextMenuHandler=new n.ContextMenuHandler(e,i,t,r)}return e.prototype.dispose=function(){this.contextMenuHandler.dispose()},e.prototype.setContainer=function(e){this.contextMenuHandler.setContainer(e)},e.prototype.showContextMenu=function(e){this.contextMenuHandler.showContextMenu(e)},e}();t.ContextMenuService=r}),define("vs/platform/workspace/common/baseWorkspaceContextService",["require","exports","vs/base/common/uri","vs/base/common/paths","./workspace"],function(e,t,n,o,r){var i=function(){function e(e,t,n){void 0===n&&(n={}),this.serviceId=r.IWorkspaceContextService,this.workspace=e,this.configuration=t,this.options=n}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.getConfiguration=function(){return this.configuration},e.prototype.getOptions=function(){return this.options},e.prototype.toWorkspaceRelativePath=function(e){if(e&&this.workspace){var t=this.workspace.resource.fsPath;if(o.isEqualOrParent(e.fsPath,t))return o.makeAbsolute(o.normalize(e.fsPath.substr(t.length)))}return null},e.prototype.toResource=function(e){return"string"==typeof e&&this.workspace?n.file(o.join(this.workspace.resource.fsPath,e)):null},e}();t.BaseWorkspaceContextService=i});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/event/common/eventService",["require","exports","vs/base/common/eventEmitter","./event"],function(e,t,n,o){var r=function(e){function t(){e.call(this),this.serviceId=o.IEventService}return __extends(t,e),t}(n.EventEmitter);t.EventService=r}),define("vs/editor/common/services/codeEditorService",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.ID_CODE_EDITOR_SERVICE="codeEditorService",t.ICodeEditorService=n.createDecorator(t.ID_CODE_EDITOR_SERVICE)}),define("vs/editor/common/services/codeEditorServiceImpl",["require","exports","vs/editor/common/services/codeEditorService"],function(e,t,n){var o=function(){function e(){this.serviceId=n.ICodeEditorService,this._codeEditors=Object.create(null)}return e.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e},e.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]},e.prototype.getCodeEditor=function(e){return this._codeEditors[e]||null},e.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map(function(t){return e._codeEditors[t]})},e}();t.CodeEditorServiceImpl=o}),define("vs/editor/common/services/modeService",["require","exports","vs/platform/instantiation/common/instantiation"],function(e,t,n){t.IModeService=n.createDecorator("modeService")});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/services/modeServiceImpl",["require","exports","vs/base/common/winjs.base","vs/editor/common/services/modeService","vs/editor/common/modes/supports","vs/editor/common/modes/abstractMode","vs/editor/common/modes/languageExtensionPoint","vs/base/common/errors","vs/platform/thread/common/thread","vs/platform/instantiation/common/descriptors","vs/base/common/objects","vs/editor/common/modes/monarch/monarchDefinition","vs/editor/common/modes/monarch/monarchLexer","vs/editor/common/modes/monarch/monarchCompile","vs/platform/platform","vs/editor/common/modes/modesRegistry"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m){var g=function(){function e(e,t){this.serviceId=o.IModeService,this._threadService=e,this._pluginService=t,this._activationPromises={},this._instantiatedModes={},this._frankensteinModes={},this._config={}}return e.prototype.getConfigurationForMode=function(e){return this._config[e]||{}},e.prototype.configureMode=function(e,t){var n=this.getModeId(e);n&&this.configureModeById(n,t)},e.prototype.configureModeById=function(e,t){var n=this._config[e]||{},o=l.mixin(l.clone(n),t);if(!l.equals(n,o)){this._config[e]=o;var r=this.getMode(e);r&&r.configSupport&&r.configSupport.configure(this.getConfigurationForMode(e))}},e.prototype.configureAllModes=function(e){var t=this;if(e){var n=f.Registry.as(m.Extensions.EditorModes),o=n.getRegisteredModes();o.forEach(function(n){var o=e[n];t.configureModeById(n,o)})}},e.prototype.lookup=function(e){for(var t=[],n=s.LanguageExtensions.extractModeIds(e),o=0;o<n.length;o++){var r=n[o];t.push({modeId:r,isInstantiated:this._instantiatedModes.hasOwnProperty(r)})}return t},e.prototype.getMode=function(e){for(var t=s.LanguageExtensions.extractModeIds(e),n=!1,o=0;o<t.length;o++){if(this._instantiatedModes.hasOwnProperty(t[o]))return this._instantiatedModes[t[o]];n=n||"plainText"===t[o]}if(n){var r=null;return this.getOrCreateMode(e).then(function(e){r=e}).done(null,a.onUnexpectedError),r}},e.prototype.getModeId=function(e){var t=s.LanguageExtensions.extractModeIds(e);return t.length>0?t[0]:null},e.prototype.getModeIdByLanguageName=function(e){var t=s.LanguageExtensions.getModeIdsFromLanguageName(e);return t.length>0?t[0]:null},e.prototype.getModeIdByFilenameOrFirstLine=function(e,t){var n=s.LanguageExtensions.getModeIdsFromFilenameOrFirstLine(e,t);return n.length>0?n[0]:null},e.prototype.getOrCreateMode=function(e){var t=this;return this._pluginService.onReady().then(function(){var n=t.getModeId(e);return t._getOrCreateMode(n||"plainText")})},e.prototype.getOrCreateModeByLanguageName=function(e){var t=this;return this._pluginService.onReady().then(function(){var n=t.getModeIdByLanguageName(e);return t._getOrCreateMode(n||"plainText")})},e.prototype.getOrCreateModeByFilenameOrFirstLine=function(e,t){var n=this;return this._pluginService.onReady().then(function(){var o=n.getModeIdByFilenameOrFirstLine(e,t);return n._getOrCreateMode(o||"plainText")})},e.prototype._getOrCreateMode=function(e){var t=this;return this._instantiatedModes.hasOwnProperty(e)?n.TPromise.as(this._instantiatedModes[e]):this._activationPromises.hasOwnProperty(e)?this._activationPromises[e]:(this._activationPromises[e]=this._createMode(e).then(function(n){return t._instantiatedModes[e]=n,delete t._activationPromises[e],t._instantiatedModes[e]}),this._activationPromises[e])},e.prototype._createMode=function(e){var t="textModel:"+e;if(s.LanguageExtensions.isCompat(e))return this._pluginService.activateByEvent(t).then(function(n){if(n=n.filter(function(e){return!!e}),0===n.length)return console.warn("mode not found: "+e),null;if(1===n.length)return n[0];throw new Error("Cannot have more than one mode for activation event "+t+"!")});var o=this._getOrCreateFrankensteinMode(e);return this._pluginService.activateByEvent(t).done(null,a.onUnexpectedError),n.TPromise.as(o)},e.prototype._getOrCreateFrankensteinMode=function(e){if(!this._frankensteinModes.hasOwnProperty(e)){var t=f.Registry.as(m.Extensions.EditorModes);this._frankensteinModes[e]=this._threadService.createInstance(i.FrankensteinMode,t,e)}return this._frankensteinModes[e]},e.prototype.registerModeSupport=function(e,t,n){if(s.LanguageExtensions.isCompat(e))return console.warn("Cannot register support "+t+" on mode "+e+" because it is not a Frankenstein mode"),void 0;var o=this._getOrCreateFrankensteinMode(e);o.registerSupport(t,n)},e.prototype.doRegisterMonarchDefinition=function(e,t){var n=this;this.registerTokenizationSupport(e,function(e){return h.createTokenizationSupport(n,e,t)}),this.registerDeclarativeCommentsSupport(e,d.createCommentsSupport(t)),this.registerDeclarativeElectricCharacterSupport(e,d.createBracketElectricCharacterContribution(t)),this.registerDeclarativeTokenTypeClassificationSupport(e,d.createTokenTypeClassificationSupportContribution(t)),this.registerDeclarativeCharacterPairSupport(e,d.createCharacterPairContribution(t))},e.prototype.registerMonarchDefinition=function(e,t){var n=p.compile(l.clone(t));this.doRegisterMonarchDefinition(e,n)},e.prototype.registerDeclarativeCharacterPairSupport=function(e,t){this.registerModeSupport(e,"characterPairSupport",function(e){return new r.CharacterPairSupport(e,t)})},e.prototype.registerCodeLensSupport=function(e,t){this.registerModeSupport(e,"codeLensSupport",function(){return t})},e.prototype.registerDeclarativeCommentsSupport=function(e,t){this.registerModeSupport(e,"commentsSupport",function(){return new r.CommentsSupport(t)})},e.prototype.registerDeclarativeDeclarationSupport=function(e,t){this.registerModeSupport(e,"declarationSupport",function(e){return new r.DeclarationSupport(e,t)})},e.prototype.registerDeclarativeElectricCharacterSupport=function(e,t){this.registerModeSupport(e,"electricCharacterSupport",function(e){return new r.BracketElectricCharacterSupport(e,t)})},e.prototype.registerExtraInfoSupport=function(e,t){this.registerModeSupport(e,"extraInfoSupport",function(){return t})},e.prototype.registerFormattingSupport=function(e,t){this.registerModeSupport(e,"formattingSupport",function(){return t})},e.prototype.registerInplaceReplaceSupport=function(e,t){this.registerModeSupport(e,"inplaceReplaceSupport",function(){return t})},e.prototype.registerNavigateTypesSupport=function(e,t){this.registerModeSupport(e,"navigateTypesSupport",function(){return t})},e.prototype.registerOccurrencesSupport=function(e,t){this.registerModeSupport(e,"occurrencesSupport",function(){return t})},e.prototype.registerOutlineSupport=function(e,t){this.registerModeSupport(e,"outlineSupport",function(){return t})},e.prototype.registerDeclarativeParameterHintsSupport=function(e,t){this.registerModeSupport(e,"parameterHintsSupport",function(e){return new r.ParameterHintsSupport(e,t)})},e.prototype.registerQuickFixSupport=function(e,t){this.registerModeSupport(e,"quickFixSupport",function(){return t})},e.prototype.registerDeclarativeReferenceSupport=function(e,t){this.registerModeSupport(e,"referenceSupport",function(e){return new r.ReferenceSupport(e,t)})},e.prototype.registerRenameSupport=function(e,t){this.registerModeSupport(e,"renameSupport",function(){return t})},e.prototype.registerDeclarativeSuggestSupport=function(e,t){this.registerModeSupport(e,"suggestSupport",function(e){return new r.SuggestSupport(e,t)})},e.prototype.registerTokenizationSupport=function(e,t){this.registerModeSupport(e,"tokenizationSupport",t)},e.prototype.registerDeclarativeTokenTypeClassificationSupport=function(e,t){this.registerModeSupport(e,"tokenTypeClassificationSupport",function(){return new r.TokenTypeClassificationSupport(t)})},e}();t.ModeServiceImpl=g;var v=function(e){function t(t,n,o){e.call(this,t,n),this._modelService=o}return __extends(t,e),t.prototype.configureModeById=function(t,n){_.getInstance(this._threadService).configureModeById(t,n),e.prototype.configureModeById.call(this,t,n)},t.prototype._createMode=function(t){return _.getInstance(this._threadService).instantiateMode(t),e.prototype._createMode.call(this,t)},t.prototype.registerModeSupport=function(t,n,o){return _.getInstance(this._threadService).instantiateMode(t),e.prototype.registerModeSupport.call(this,t,n,o)},t.prototype.registerMonarchDefinition=function(t,n){var o=this;_.getInstance(this._threadService).registerMonarchDefinition(t,n);var i=p.compile(l.clone(n));e.prototype.doRegisterMonarchDefinition.call(this,t,i),this.registerModeSupport(t,"suggestSupport",function(e){return new r.ComposableSuggestSupport(e,d.createSuggestSupport(o._modelService,e,i))})},t}(g);t.MainThreadModeServiceImpl=v;var _=function(){function e(e){this._modeService=e.modeService}return e.getInstance=function(t){return t.registerAndInstantiateWorkerActor("ModeServiceWorkerHelper",new c.SyncDescriptor(e),u.ThreadAffinity.All)},e.prototype.instantiateMode=function(e){this._modeService.getOrCreateMode(e).done(null,a.onUnexpectedError)},e.prototype.configureModeById=function(e,t){this._modeService.configureMode(e,t)},e.prototype.registerMonarchDefinition=function(e,t){this._modeService.registerMonarchDefinition(e,t)},e}();t.ModeServiceWorkerHelper=_}),define("vs/editor/browser/standalone/standaloneServices",["require","exports","vs/editor/common/services/modelServiceImpl","vs/platform/instantiation/common/instantiationService","vs/platform/thread/common/mainThreadService","vs/platform/markers/common/markerService","vs/base/common/flags","vs/base/common/uri","vs/platform/telemetry/common/mainTelemetryService","vs/editor/browser/standalone/simpleServices","vs/platform/contextview/browser/contextViewService","vs/platform/contextview/browser/contextMenuService","vs/platform/workspace/common/baseWorkspaceContextService","vs/platform/event/common/eventService","vs/editor/common/services/codeEditorServiceImpl","vs/editor/common/services/modeServiceImpl"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m){function g(e){var t={};if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function v(e){e=g(e);var t=y(e);return e.threadService=e.threadService||t.threadService,e.pluginService=e.pluginService||t.pluginService,e.modeService=e.modeService||t.modeService,e.contextService=e.contextService||t.contextService,e.telemetryService=e.telemetryService||t.telemetryService,e.requestService=e.requestService||t.requestService,e.messageService=e.messageService||new c.SimpleMessageService,e.modelService=e.modelService||t.modelService,e.codeEditorService=e.codeEditorService||t.codeEditorService,e.eventService=e.eventService||t.eventService,e.markerService=e.markerService||t.markerService,e}function _(e,t){var n=[];if("undefined"==typeof t.keybindingService){var o=new c.StandaloneKeybindingService(e);n.push(o),t.keybindingService=o}if("undefined"==typeof t.contextViewService){var r=new l.ContextViewService(e,t.telemetryService,t.messageService);n.push(r),t.contextViewService=r}if("undefined"==typeof t.contextMenuService){var i=new d.ContextMenuService(e,t.telemetryService,t.messageService,r);n.push(i),t.contextMenuService=i}return n}function y(e){if(b)return b;e=e||{};var t=e.contextService;if(!t){var l=a.create("inmemory","model","/");t=new h.BaseWorkspaceContextService({resource:l,id:null,name:null,telemetry:s.standaloneEditorTelemetryEndpoint,uid:null,mtime:null},{paths:{PUBLIC_WORKSPACE_URL:l}})}var d=e.telemetryService;d||(d=new u.MainTelemetryService({enableTelemetry:s.enableTelemetry,publicOnly:!s.enablePrivateTelemetry})),s.standaloneEditorTelemetryEndpoint&&console.warn("standaloneEditorTelemetryEndpoint is obsolete");var g=e.threadService;g||(g=new r.MainThreadService(t,"vs/editor/common/worker/editorWorkerServer"));var v=e.pluginService;v||(v=new c.SimplePluginService);var _=e.markerService||new i.MarkerService(g),y=e.requestService||new c.SimpleEditorRequestService({contextService:t,telemetryService:d}),C=e.modelService||new n.ModelServiceImpl(g,_),S=e.modeService;S||(S=new m.MainThreadModeServiceImpl(g,v,C));var w=e.codeEditorService||new f.CodeEditorServiceImpl,E=e.eventService||new p.EventService;b={pluginService:v,modeService:S,threadService:g,markerService:_,contextService:t,telemetryService:d,requestService:y,modelService:C,codeEditorService:w,eventService:E};var T=o.create(b);return g.setInstantiationService(T),v.setInstantiationService(T),d.setInstantiationService(T),b}t.ensureStaticPlatformServices=v,t.ensureDynamicPlatformServices=_;var b=null;t.getOrCreateStaticServices=y}),define("vs/editor/common/worker/workerCodeLoader",["require","exports","vs/base/common/winjs.base","vs/platform/thread/common/thread","vs/platform/instantiation/common/descriptors","vs/platform/plugins/common/abstractPluginService"],function(e,t,n,o,r,i){var s=function(){function e(e,t){t(e)}return e}(),a=function(){function t(e){this._threadService=e.threadService,this._instantiationService=e.instantiationService}return t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerSideWorkerCodeLoader",new r.SyncDescriptor(t),o.ThreadAffinity.Group3)},t.prototype.loadAMDCode=function(t){var o,r,a=this,u=new n.TPromise(function(e,t){o=e,r=t});if(!/^file\:\/\//.test(t)){var c=t.match(/.*(\/plugins\/.*)\.js$/i);c&&(t="vs"+c[1])}return e([t],function(e){"function"==typeof e.activate?a._instantiationService.createInstance(s,function(n){i.AbstractPluginService.callActivateWithCtx(e,n).done(function(e){o(a._threadService.proxifyMethods("workerCodeLoader/"+t,e))})}):o(a._threadService.proxifyMethods("workerCodeLoader/"+t,e))},r),u},t}();t.WorkerSideWorkerCodeLoader=a}),define("vs/editor/common/api/base.api",["require","exports","vs/base/common/winjs.base","vs/editor/common/core/range","vs/editor/common/modes/supports","vs/editor/common/modes","vs/editor/common/common","vs/base/common/uri","vs/base/common/network","vs/base/common/severity"],function(e,t,n,o,r,i,s,a,u,c){function l(e){var t;t=new h(e),define("monaco",[],t)}var d=function(){function e(e){var t=this;this._modeService=e.modeService,this._modelService=e.modelService,this._pluginService=e.pluginService,this.Promise=n.TPromise,this.URL=u.URL,this.URI=a,this.Models_EndOfLinePreference=s.EndOfLinePreference,this.Modes_Bracket=i.Bracket,this.Services_Severity=c,this.Plugins_get=function(e){return t._pluginService.get(e)}}return e.prototype.Range_containsPosition=function(e,t){return o.Range.containsPosition(e,t)},e.prototype.Modes_InplaceReplaceSupport_valueSetReplace=function(e,t,n){return r.ReplaceSupport.valueSetReplace(e,t,n)},e.prototype.Modes_InplaceReplaceSupport_valueSetsReplace=function(e,t,n){return r.ReplaceSupport.valueSetsReplace(e,t,n)},e.prototype.Modes_registerMonarchDefinition=function(e,t){this._modeService.registerMonarchDefinition(e,t)},e}();t.BaseMonacoAPI=d,t.createAPI=l;var h=function(){function e(e){this.Promise=e.Promise,this.URL=e.URL,this.URI=e.URI,this.Range={containsPosition:e.Range_containsPosition.bind(e)},this.Models={EndOfLinePreference:e.Models_EndOfLinePreference},this.Modes=new p(e),this.Plugins=new g(e),this.Services=new m(e)}return e}(),p=function(){function e(e){this.Bracket=e.Modes_Bracket,this.InplaceReplaceSupport=new f(e),this.registerMonarchDefinition=e.Modes_registerMonarchDefinition.bind(e),this.loadInBackgroundWorker=e.Modes_loadInBackgroundWorker.bind(e),this.DeclarationSupport={register:e.Modes_DeclarationSupport_register.bind(e)},this.CodeLensSupport={register:e.Modes_CodeLensSupport_register.bind(e)},this.OccurrencesSupport={register:e.Modes_OccurrencesSupport_register.bind(e)},this.OutlineSupport={register:e.Modes_OutlineSupport_register.bind(e)},this.QuickFixSupport={register:e.Modes_QuickFixSupport_register.bind(e)},this.ReferenceSupport={register:e.Modes_ReferenceSupport_register.bind(e)},this.ExtraInfoSupport={register:e.Modes_ExtraInfoSupport_register.bind(e)},this.RenameSupport={register:e.Modes_RenameSupport_register.bind(e)},this.FormattingSupport={register:e.Modes_FormattingSupport_register.bind(e)},this.SuggestSupport={register:e.Modes_SuggestSupport_register.bind(e)},this.NavigateTypesSupport={register:e.Modes_NavigateTypesSupport_register.bind(e)},this.CommentsSupport={register:e.Modes_CommentsSupport_register.bind(e)},this.ParameterHintsSupport={register:e.Modes_ParameterHintsSupport_register.bind(e)},this.TokenTypeClassificationSupport={register:e.Modes_TokenTypeClassificationSupport_register.bind(e)},this.ElectricCharacterSupport={register:e.Modes_ElectricCharacterSupport_register.bind(e)},this.CharacterPairSupport={register:e.Modes_CharacterPairSupport_register.bind(e)}}return e}(),f=function(){function e(e){this.register=e.Modes_InplaceReplaceSupport_register.bind(e),this.create=e.Modes_InplaceReplaceSupport_create.bind(e),this.valueSetReplace=e.Modes_InplaceReplaceSupport_valueSetReplace.bind(e),this.valueSetsReplace=e.Modes_InplaceReplaceSupport_valueSetsReplace.bind(e)
}return e}(),m=function(){function e(e){this.Severity=e.Services_Severity}return e}(),g=function(){function e(e){this.get=e.Plugins_get.bind(e)}return e}()});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/api/monaco.api",["require","exports","vs/editor/common/modes/supports","vs/editor/common/worker/workerCodeLoader","vs/editor/common/api/base.api"],function(e,t,n,o,r){function i(e){r.createAPI(new s(e))}var s=function(e){function t(t){e.call(this,t),this._workerCodeLoader=o.WorkerSideWorkerCodeLoader.getInstance(t.threadService)}return __extends(t,e),t.prototype.Modes_loadInBackgroundWorker=function(e){return this._workerCodeLoader.loadAMDCode(e)},t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){this._modeService.registerInplaceReplaceSupport(e,t)},t.prototype.Modes_InplaceReplaceSupport_create=function(e){return new n.MainInplaceReplaceSupport(this._modelService,e)},t.prototype.Modes_DeclarationSupport_register=function(e,t){this._modeService.registerDeclarativeDeclarationSupport(e,t)},t.prototype.Modes_CodeLensSupport_register=function(e,t){this._modeService.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},t.prototype.Modes_OccurrencesSupport_register=function(e,t){this._modeService.registerOccurrencesSupport(e,t)},t.prototype.Modes_OutlineSupport_register=function(e,t){this._modeService.registerOutlineSupport(e,t)},t.prototype.Modes_QuickFixSupport_register=function(e,t){this._modeService.registerQuickFixSupport(e,t)},t.prototype.Modes_ReferenceSupport_register=function(e,t){this._modeService.registerDeclarativeReferenceSupport(e,t)},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){this._modeService.registerExtraInfoSupport(e,t)},t.prototype.Modes_RenameSupport_register=function(e,t){this._modeService.registerRenameSupport(e,t)},t.prototype.Modes_FormattingSupport_register=function(e,t){var n={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(n.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(n.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var o=t.autoFormatTriggerCharacters;n.getAutoFormatTriggerCharacters=function(){return o}}this._modeService.registerFormattingSupport(e,n)},t.prototype.Modes_SuggestSupport_register=function(e,t){this._modeService.registerDeclarativeSuggestSupport(e,t)},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){this._modeService.registerNavigateTypesSupport(e,t)},t.prototype.Modes_CommentsSupport_register=function(e,t){this._modeService.registerDeclarativeCommentsSupport(e,t)},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){this._modeService.registerDeclarativeParameterHintsSupport(e,t)},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){this._modeService.registerDeclarativeTokenTypeClassificationSupport(e,t)},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){this._modeService.registerDeclarativeElectricCharacterSupport(e,t)},t.prototype.Modes_CharacterPairSupport_register=function(e,t){this._modeService.registerDeclarativeCharacterPairSupport(e,t)},t}(r.BaseMonacoAPI),a=function(){function e(e){i(e)}return e}();t.MonacoAPISetup=a,t.setup=i});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/api/baseRemote.api",["require","exports","vs/editor/common/api/base.api"],function(e,t,n){var o=function(e){function t(t,n){e.call(this,t),this._threadService=t.threadService,this._proxy=n}return __extends(t,e),t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){this._proxy.Modes_InplaceReplaceSupport_register(e,this._threadService.proxifyMembers(e+"/inplaceReplaceSupport",t,["navigateValueSet"]))},t.prototype.Modes_registerMonarchDefinition=function(t,n){e.prototype.Modes_registerMonarchDefinition.call(this,t,n),this._proxy.Modes_registerMonarchDefinition(t,n)},t.prototype.Modes_DeclarationSupport_register=function(e,t){this._proxy.Modes_DeclarationSupport_register(e,this._threadService.proxifyMembers(e+"/declarationSupport",t,["tokens","findDeclaration"]))},t.prototype.Modes_CodeLensSupport_register=function(e,t){this._proxy.Modes_CodeLensSupport_register(e,this._threadService.proxifyMembers(e+"/codeLensSupport",t,["findCodeLensSymbols","findCodeLensReferences"]))},t.prototype.Modes_OccurrencesSupport_register=function(e,t){this._proxy.Modes_OccurrencesSupport_register(e,this._threadService.proxifyMembers(e+"/occurrencesSupport",t,["findOccurrences"]))},t.prototype.Modes_OutlineSupport_register=function(e,t){this._proxy.Modes_OutlineSupport_register(e,this._threadService.proxifyMembers(e+"/outlineSupport",t,["getOutline","outlineGroupLabel"]))},t.prototype.Modes_QuickFixSupport_register=function(e,t){this._proxy.Modes_QuickFixSupport_register(e,this._threadService.proxifyMembers(e+"/quickFixSupport",t,["getQuickFixes","runQuickFixAction"]))},t.prototype.Modes_ReferenceSupport_register=function(e,t){this._proxy.Modes_ReferenceSupport_register(e,this._threadService.proxifyMembers(e+"/referenceSupport",t,["tokens","findReferences"]))},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){this._proxy.Modes_ExtraInfoSupport_register(e,this._threadService.proxifyMembers(e+"/extraInfoSupport",t,["computeInfo"]))},t.prototype.Modes_RenameSupport_register=function(e,t){this._proxy.Modes_RenameSupport_register(e,this._threadService.proxifyMembers(e+"/renameSupport",t,["filter","rename"]))},t.prototype.Modes_FormattingSupport_register=function(e,t){this._proxy.Modes_FormattingSupport_register(e,this._threadService.proxifyMembers(e+"/formattingSupport",t,["formatDocument","formatRange","autoFormatTriggerCharacters","formatAfterKeystroke"]))},t.prototype.Modes_SuggestSupport_register=function(e,t){this._proxy.Modes_SuggestSupport_register(e,this._threadService.proxifyMembers(e+"/suggestSupport",t,["triggerCharacters","excludeTokens","sortBy","suggest","getSuggestionDetails"]))},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){this._proxy.Modes_NavigateTypesSupport_register(e,this._threadService.proxifyMembers(e+"/navigateTypesSupport",t,["getNavigateToItems"]))},t.prototype.Modes_CommentsSupport_register=function(e,t){this._proxy.Modes_CommentsSupport_register(e,this._threadService.proxifyMembers(e+"/commentsSupport",t,["commentsConfiguration"]))},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){this._proxy.Modes_ParameterHintsSupport_register(e,this._threadService.proxifyMembers(e+"/parameterHintsSupport",t,["triggerCharacters","excludeTokens","getParameterHints"]))},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){this._proxy.Modes_TokenTypeClassificationSupport_register(e,this._threadService.proxifyMembers(e+"/tokenTypeClassificationSupport",t,["wordDefinition"]))},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){this._proxy.Modes_ElectricCharacterSupport_register(e,this._threadService.proxifyMembers(e+"/electricCharacterSupport",t,["brackets","regexBrackets","docComment","caseInsensitive","embeddedElectricCharacters"]))},t.prototype.Modes_CharacterPairSupport_register=function(e,t){this._proxy.Modes_CharacterPairSupport_register(e,this._threadService.proxifyMembers(e+"/characterPairSupport",t,["autoClosingPairs","surroundingPairs"]))},t}(n.BaseMonacoAPI);t.RemoteMonacoAPI=o;var r=function(){function e(e){this._threadService=e.threadService,this._modelService=e.modelService,this._modeService=e.modeService}return e.prototype.Modes_InplaceReplaceSupport_register=function(e,t){this._modeService.registerInplaceReplaceSupport(e,t)},e.prototype.Modes_registerMonarchDefinition=function(e,t){this._modeService.registerMonarchDefinition(e,t)},e.prototype.Modes_DeclarationSupport_register=function(e,t){this._modeService.registerDeclarativeDeclarationSupport(e,t)},e.prototype.Modes_CodeLensSupport_register=function(e,t){this._modeService.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},e.prototype.Modes_OccurrencesSupport_register=function(e,t){this._modeService.registerOccurrencesSupport(e,t)},e.prototype.Modes_OutlineSupport_register=function(e,t){this._modeService.registerOutlineSupport(e,t)},e.prototype.Modes_QuickFixSupport_register=function(e,t){this._modeService.registerQuickFixSupport(e,t)},e.prototype.Modes_ReferenceSupport_register=function(e,t){this._modeService.registerDeclarativeReferenceSupport(e,t)},e.prototype.Modes_ParameterHintsSupport_register=function(e,t){this._modeService.registerDeclarativeParameterHintsSupport(e,t)},e.prototype.Modes_ExtraInfoSupport_register=function(e,t){this._modeService.registerExtraInfoSupport(e,t)},e.prototype.Modes_RenameSupport_register=function(e,t){this._modeService.registerRenameSupport(e,t)},e.prototype.Modes_FormattingSupport_register=function(e,t){var n={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(n.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(n.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var o=t.autoFormatTriggerCharacters;n.getAutoFormatTriggerCharacters=function(){return o}}this._modeService.registerFormattingSupport(e,n)},e.prototype.Modes_SuggestSupport_register=function(e,t){this._modeService.registerDeclarativeSuggestSupport(e,t)},e.prototype.Modes_NavigateTypesSupport_register=function(e,t){this._modeService.registerNavigateTypesSupport(e,t)},e.prototype.Modes_CommentsSupport_register=function(e,t){this._modeService.registerDeclarativeCommentsSupport(e,t)},e.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){this._modeService.registerDeclarativeTokenTypeClassificationSupport(e,t)},e.prototype.Modes_ElectricCharacterSupport_register=function(e,t){this._modeService.registerDeclarativeElectricCharacterSupport(e,t)},e.prototype.Modes_CharacterPairSupport_register=function(e,t){this._modeService.registerDeclarativeCharacterPairSupport(e,t)},e}();t.RemoteMonacoAPIHost=r});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/common/api/monaco.worker.api",["require","exports","vs/editor/common/api/baseRemote.api","vs/editor/common/modes/supports","vs/editor/common/api/base.api","vs/platform/thread/common/thread","vs/platform/instantiation/common/descriptors"],function(e,t,n,o,r,i,s){var a=function(e){function t(t){e.call(this,t,u.getInstance(t.threadService)),this._resourceService=t.resourceService,r.createAPI(this)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerMonacoAPI",new s.SyncDescriptor(t),i.ThreadAffinity.Group3)},t.prototype.Modes_InplaceReplaceSupport_create=function(e){return new o.WorkerInplaceReplaceSupport(this._resourceService,e)},t.prototype.Modes_loadInBackgroundWorker=function(){throw new Error("Not supported")},t}(n.RemoteMonacoAPI);t.WorkerMonacoAPI=a;var u=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateMainProcessActor("MainProcessWorkerAPIHelper",new s.SyncDescriptor(t))},t}(n.RemoteMonacoAPIHost);t.MainProcessWorkerAPIHelper=u});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/telemetry/common/telemetrySync",["require","exports","vs/platform/telemetry/common/abstractTelemetryService","vs/platform/instantiation/common/descriptors","vs/platform/thread/common/thread"],function(e,t,n,o,r){var i=function(){function e(e){this._telemetryService=e.telemetryService}return e.getInstance=function(t){return t.registerAndInstantiateMainProcessActor("RemoteTelemetryServiceHelper",new o.SyncDescriptor(e))},e.prototype._handleRemoteTelemetryEvent=function(e,t,n){t?this._telemetryService.publicLog(e,n):this._telemetryService.log(e,n)},e}();t.RemoteTelemetryServiceHelper=i;var s=function(e){function t(t){e.call(this,!1),this.sessionID="__NOT__TO__BE__USED__",this._proxy=i.getInstance(t.threadService)}return __extends(t,e),t.prototype.addTelemetryAppender=function(){throw new Error("Telemetry appenders are not supported in this execution envirnoment")},t.prototype.handleEvent=function(e,t,n){this._proxy._handleRemoteTelemetryEvent(e,t,n)},t}(n.AbstractTelemetryService);t.AbstractRemoteTelemetryService=s;var a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerTelemetryService",new o.SyncDescriptor(t),r.ThreadAffinity.All)},t.prototype.handleEvent=function(t,n,o){var o=o||{};o.workerTelemetry=!0,e.prototype.handleEvent.call(this,t,n,o)},t}(s);t.WorkerTelemetryService=a;var u=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiatePluginHostActor("PluginHostTelemetryService",new o.SyncDescriptor(t))},t.prototype.handleEvent=function(t,n,o){var o=o||{};o.pluginHostTelemetry=!0,e.prototype.handleEvent.call(this,t,n,o)},t}(s);t.PluginHostTelemetryService=u});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/browser/standalone/standaloneCodeEditor",["require","exports","vs/base/common/winjs.base","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/standalone/simpleServices","vs/editor/browser/standalone/standaloneServices","vs/base/common/network","vs/editor/common/model/model","vs/base/common/lifecycle","vs/platform/instantiation/common/instantiationService","vs/editor/browser/widget/diffEditorWidget","vs/editor/common/api/monaco.api","vs/editor/common/api/monaco.worker.api","vs/editor/common/config/defaultConfig","vs/platform/plugins/common/pluginsRegistry","vs/platform/telemetry/common/telemetrySync","vs/platform/editor/common/editor","vs/platform/markers/common/markers","vs/platform/telemetry/common/telemetry","vs/platform/keybinding/common/keybindingService","vs/platform/instantiation/common/instantiation","vs/platform/contextview/browser/contextView","vs/editor/browser/standalone/colorizer","vs/editor/common/modes/modesRegistry","vs/platform/platform","vs/platform/instantiation/common/descriptors"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v,_,y,b,C,S,w,E,T){function x(e){var t={};if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function M(e,t,n){U.initStaticServicesIfNecessary(),n=x(n);var o=null;n&&n.editorService||(o=new r.SimpleEditorService,n.editorService=o);var i=k(e,n),s=new H(i.ctx,e,t,i.toDispose);return o&&o.setEditor(s),s}function L(e,t,n){U.initStaticServicesIfNecessary(),n=x(n);var o=null;n&&n.editorService||(o=new r.SimpleEditorService,n.editorService=o);var i=k(e,n),s=i.ctx.instantiationService.createInstance(B,e,t,i.toDispose);return o&&o.setEditor(s),s}function k(e,t){t=i.ensureStaticPlatformServices(t);var n=i.ensureDynamicPlatformServices(e,t);return t.instantiationService=c.create(t),{ctx:t,toDispose:n}}function I(e,t,n,o){var r=e.lookup(n);n=r.length>0?r[0].modeId:"plain/text";var i=e.getMode(n);return i?new a.Model(t,i,o):new a.Model(t,e.getOrCreateMode(n),o)}function N(e,t,n){U.initStaticServicesIfNecessary();var o;if(o="string"==typeof n?new s.URL(n):n,"function"==typeof t.getId)return new a.Model(e,t,o);if("string"==typeof t){var r=i.ensureStaticPlatformServices(null).modeService;return I(r,e,t,o)}return new a.Model(e,A(t),o)}function R(e){U.initStaticServicesIfNecessary();var t=i.ensureStaticPlatformServices(null).modeService;return t.getOrCreateMode(e)}function O(e,t){U.initStaticServicesIfNecessary();var n=i.ensureStaticPlatformServices(null).modeService;n.configureModeById(e,t)}function D(e,t,n){var o=E.Registry.as(w.Extensions.EditorModes);o.registerWorkerParticipant(e,new T.AsyncDescriptor(t,n))}function P(){return U.initStaticServicesIfNecessary(),e("monaco")}function A(e){U.initStaticServicesIfNecessary();var t=i.ensureStaticPlatformServices(null).modeService,n=e.name,o=e.name,r={pluginId:n+".customMode",activationEvents:["textModel:"+n],mainModule:"vs/editor/browser/standalone/standaloneCodeEditor",mainModuleExtra:[n,e],contributes:{language:[{id:n,aliases:[o]}]},forceLoadingInUI:!0};return f.PluginsRegistry.registerPlugin(r),t.getOrCreateMode(n)}function W(e,t,o){return e.modeService.registerMonarchDefinition(t,o),n.TPromise.as(!0)}function F(e,t){U.initStaticServicesIfNecessary();var n=i.ensureStaticPlatformServices(null).modeService;return S.colorizeElement(n,e,t)}function V(e,t,n){U.initStaticServicesIfNecessary();var o=i.ensureStaticPlatformServices(null).modeService;return S.colorize(o,e,t,n)}p.DefaultConfig.editor.wrappingIndent="none";var H=function(e){function t(t,n,o,i){t.keybindingService.setInstantiationService(t.instantiationService),t.keybindingService instanceof r.StandaloneKeybindingService&&(this._standaloneKeybindingService=t.keybindingService),this._contextViewService=t.contextViewService,this._editorService=t.editorService,this._markerService=t.markerService,this._toDispose2=i,o=o||{},"undefined"==typeof o.model?(o.model=self.Monaco.Editor.createModel(o.value||"",o.mode||"text/plain"),this._ownsModel=!0):this._ownsModel=!1,e.call(this,t,n,o)}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._toDispose2=u.disposeAll(this._toDispose2)},t.prototype.destroy=function(){this.dispose()},t.prototype.getMarkerService=function(){return this._markerService},t.prototype.addCommand=function(e,t,n){return this._standaloneKeybindingService?this._standaloneKeybindingService.addDynamicKeybinding(e,t,n):(console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null)},t.prototype.createContextKey=function(e,t){return this._standaloneKeybindingService?this._standaloneKeybindingService.createKey(e,t):(console.warn("Cannot create context key because the editor is configured with an unrecognized KeybindingService"),null)},t.prototype.addAction=function(t){var n=this;if(e.prototype.addAction.call(this,t),!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),null;if(Array.isArray(t.keybindings)){var o=function(){return n.trigger("keyboard",t.id,null)};t.keybindings.forEach(function(e){n._standaloneKeybindingService.addDynamicKeybinding(e,o,t.keybindingContext,t.id)})}},t.prototype.getTelemetryService=function(){return this._telemetryService},t.prototype.getEditorService=function(){return this._editorService},t.prototype._attachModel=function(t){e.prototype._attachModel.call(this,t),this._view&&this._contextViewService.setContainer(this._view.domNode)},t.prototype._postDetachModelCleanup=function(t){e.prototype._postDetachModelCleanup.call(this,t),t&&this._ownsModel&&(t.destroy(),this._ownsModel=!1)},t}(o.CodeEditorWidget),B=function(e){function t(t,n,o,i,s,a,u,c,l){s.setInstantiationService(i),s instanceof r.StandaloneKeybindingService&&(this._standaloneKeybindingService=s),this._contextViewService=a,this._editorService=u,this._markerService=c,this._telemetryService=l,this._toDispose2=o,n=n||{},e.call(this,t,n,i),this._contextViewService.setContainer(this._containerDomElement)}return __extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._toDispose2=u.disposeAll(this._toDispose2)},t.prototype.destroy=function(){this.dispose()},t.prototype.getMarkerService=function(){return this._markerService},t.prototype.addCommand=function(e,t,n){return this._standaloneKeybindingService?this._standaloneKeybindingService.addDynamicKeybinding(e,t,n):(console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null)},t.prototype.createContextKey=function(e,t){return this._standaloneKeybindingService?this._standaloneKeybindingService.createKey(e,t):(console.warn("Cannot create context key because the editor is configured with an unrecognized KeybindingService"),null)},t.prototype.addAction=function(t){var n=this;if(e.prototype.addAction.call(this,t),!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),null;if(Array.isArray(t.keybindings)){var o=function(){return n.trigger("keyboard",t.id,null)};t.keybindings.forEach(function(e){n._standaloneKeybindingService.addDynamicKeybinding(e,o,t.keybindingContext,t.id)})}},t.prototype.getTelemetryService=function(){return this._telemetryService},t=__decorate([__param(3,b.IInstantiationService),__param(4,y.IKeybindingService),__param(5,C.IContextViewService),__param(6,g.IEditorService),__param(7,v.IMarkerService),__param(8,_.ITelemetryService)],t)}(l.DiffEditorWidget),U=function(){var e=!1,t=!1;return{initStaticServicesIfNecessary:function(){if(!e){e=!0;var t=i.getOrCreateStaticServices();d.setup(t),h.MainProcessWorkerAPIHelper.getInstance(t.threadService),m.RemoteTelemetryServiceHelper.getInstance(t.threadService)}},setupServices:function(n){return t?(console.error("Call to Monaco.Editor.setupServices is ignored because it was called before"),void 0):(t=!0,e?(console.error("Call to Monaco.Editor.setupServices is ignored because other API was called before"),void 0):i.ensureStaticPlatformServices(n))}}}();t.setupServices=U.setupServices,t.create=M,t.createDiffEditor=L,t.createModel=N,t.getOrCreateMode=R,t.configureMode=O,t.registerWorkerParticipant=D,t.getAPI=P,t.createCustomMode=A,t.activate=W,t.colorizeElement=F,t.colorize=V}),define("vs/editor/browser/standalone/standaloneEditor",["require","exports","vs/editor/browser/standalone/colorizer","vs/editor/browser/standalone/standaloneCodeEditor","vs/editor/common/common","vs/editor/browser/editorBrowser"],function(e,t,n,o,r,i){var s=self;s.Monaco||(s.Monaco={});var a=s.Monaco;a.Editor||(a.Editor={}),a.Editor.setupServices=o.setupServices,a.Editor.getAPI=o.getAPI,a.Editor.create=o.create,a.Editor.createModel=o.createModel,a.Editor.createDiffEditor=o.createDiffEditor,a.Editor.configureMode=o.configureMode,a.Editor.registerWorkerParticipant=o.registerWorkerParticipant,a.Editor.getOrCreateMode=o.getOrCreateMode,a.Editor.createCustomMode=o.createCustomMode,a.Editor.colorize=o.colorize,a.Editor.colorizeElement=o.colorizeElement,a.Editor.colorizeLine=n.colorizeLine,a.Editor.colorizeModelLine=n.colorizeModelLine,a.Editor.SelectionDirection=r.SelectionDirection,a.Editor.WrappingIndent=r.WrappingIndent,a.Editor.wrappingIndentFromString=r.wrappingIndentFromString,a.Editor.OverviewRulerLane=r.OverviewRulerLane,a.Editor.EndOfLinePreference=r.EndOfLinePreference,a.Editor.EndOfLineSequence=r.EndOfLineSequence,a.Editor.LineTokensBinaryEncoding=r.LineTokensBinaryEncoding,a.Editor.TrackedRangeStickiness=r.TrackedRangeStickiness,a.Editor.VerticalRevealType=r.VerticalRevealType,a.Editor.MouseTargetType=r.MouseTargetType,a.Editor.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS=r.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS,a.Editor.KEYBINDING_CONTEXT_EDITOR_FOCUS=r.KEYBINDING_CONTEXT_EDITOR_FOCUS,a.Editor.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS=r.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,a.Editor.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS=r.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS,a.Editor.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION=r.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION,a.Editor.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID=r.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID,a.Editor.ViewEventNames=r.ViewEventNames,a.Editor.CodeEditorStateFlag=r.CodeEditorStateFlag,a.Editor.EditorType=r.EditorType,a.Editor.ClassName=r.ClassName,a.Editor.EventType=r.EventType,a.Editor.Handler=r.Handler,a.Editor.ClassNames=i.ClassNames,a.Editor.ContentWidgetPositionPreference=i.ContentWidgetPositionPreference,a.Editor.OverlayWidgetPositionPreference=i.OverlayWidgetPositionPreference});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/parts/quickopen/common/quickOpenModel",["require","exports","vs/base/common/types"],function(e,t,n){!function(e){e[e.PREVIEW=0]="PREVIEW",e[e.OPEN=1]="OPEN"}(t.Mode||(t.Mode={}));var o=(t.Mode,0),r=function(){function e(e){void 0===e&&(e=[]),this.id=(o++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return null},e.prototype.getMeta=function(){return null},e.prototype.getIcon=function(){return null},e.prototype.getDescription=function(){return null},e.prototype.getResource=function(){return null},e.prototype.isHidden=function(){return this.hidden},e.prototype.setHidden=function(e){this.hidden=e},e.prototype.setHighlights=function(e,t){this.labelHighlights=e,this.descriptionHighlights=t},e.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights]},e.prototype.run=function(){return!1},e}();t.QuickOpenEntry=r;var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getHeight=function(){return 0},t.prototype.render=function(){return null},t}(r);t.QuickOpenEntryItem=i;var s=function(e){function t(t,n,o){e.call(this),this.entry=t,this.groupLabel=n,this.withBorder=o}return __extends(t,e),t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.withBorder},t.prototype.setShowBorder=function(e){this.withBorder=e},t.prototype.getLabel=function(){return this.entry?this.entry.getLabel():e.prototype.getLabel.call(this)},t.prototype.getMeta=function(){return this.entry?this.entry.getMeta():e.prototype.getMeta.call(this)},t.prototype.getResource=function(){return this.entry?this.entry.getResource():e.prototype.getResource.call(this)},t.prototype.getIcon=function(){return this.entry?this.entry.getIcon():e.prototype.getIcon.call(this)},t.prototype.getDescription=function(){return this.entry?this.entry.getDescription():e.prototype.getDescription.call(this)},t.prototype.getEntry=function(){return this.entry},t.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():e.prototype.getHighlights.call(this)},t.prototype.isHidden=function(){return this.entry?this.entry.isHidden():e.prototype.isHidden.call(this)},t.prototype.setHighlights=function(t,n){this.entry?this.entry.setHighlights(t,n):e.prototype.setHighlights.call(this,t,n)},t.prototype.setHidden=function(t){this.entry?this.entry.setHidden(t):e.prototype.setHidden.call(this,t)},t.prototype.run=function(t,n){return this.entry?this.entry.run(t,n):e.prototype.run.call(this,t,n)},t}(r);t.QuickOpenEntryGroup=s;var a=function(){function e(e){void 0===e&&(e=[]),this._entries=e}return Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),e.prototype.addEntries=function(e){n.isArray(e)&&(this._entries=this._entries.concat(e))},e.prototype.setEntries=function(e){n.isArray(e)&&(this._entries=e)},e.prototype.getEntries=function(e){return e?this._entries.filter(function(e){return!e.isHidden()}):this._entries},e}();t.QuickOpenModel=a});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/parts/quickopen/browser/quickOpenViewer",["require","exports","vs/base/common/winjs.base","vs/base/browser/builder","vs/base/browser/dom","vs/base/browser/ui/actionbar/actionbar","vs/base/parts/tree/browser/treeDefaults","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/parts/quickopen/common/quickOpenModel"],function(e,t,n,o,r,i,s,a,u){var c=(o.$,function(){function e(){}return e.prototype.getId=function(t,n){return n instanceof u.QuickOpenModel?e.ROOT:n instanceof u.QuickOpenEntry?n.getId():null},e.prototype.hasChildren=function(e,t){return t instanceof u.QuickOpenModel?t.getEntries().length>0:!1},e.prototype.getChildren=function(e,t){return t instanceof u.QuickOpenModel?n.Promise.as(t.getEntries()):n.Promise.as([])},e.prototype.getParent=function(){return n.Promise.as(null)},e.ROOT="__root__",e}());t.DataSource=c;var l=function(){function e(){}return e.prototype.isVisible=function(e,t){return t instanceof u.QuickOpenEntry?!t.isHidden():!0},e}();t.Filter=l;var d=function(){function e(){}return e.prototype.hasActions=function(){return!1},e.prototype.getActions=function(){return n.Promise.as(null)},e.prototype.hasSecondaryActions=function(){return!1},e.prototype.getSecondaryActions=function(){return n.Promise.as(null)},e.prototype.getActionItem=function(){return null},e}(),h="quickOpenEntry",p="quickOpenEntryGroup",f="quickOpenEntryItem",m=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTemplateId=function(){return f},t.prototype.render=function(t,n,o,r){return n instanceof u.QuickOpenEntryItem?n.render(t,o,r):e.prototype.render.call(this,t,n,o,r)},t}(s.LegacyRenderer),g=function(){function e(e,t){void 0===e&&(e=new d),void 0===t&&(t=null),this.actionProvider=e,this.actionRunner=t,this.entryItemRenderer=new m}return e.prototype.getHeight=function(e,t){return t instanceof u.QuickOpenEntryItem?t.getHeight():24},e.prototype.getTemplateId=function(e,t){return t instanceof u.QuickOpenEntryItem?f:t instanceof u.QuickOpenEntryGroup?p:h},e.prototype.renderTemplate=function(e,t,n){if(t===f)return this.entryItemRenderer.renderTemplate(e,t,n);var o;t===p&&(o=document.createElement("div"),r.addClass(o,"results-group"),n.appendChild(o)),r.addClass(n,"actions");var s=document.createElement("div");r.addClass(s,"sub-content"),n.appendChild(s);var u=document.createElement("div");r.addClass(u,"primary-action-bar"),n.appendChild(u);var c=new i.ActionBar(u,{actionRunner:this.actionRunner}),l=document.createElement("div");r.addClass(l,"quick-open-entry"),s.appendChild(l);var d=document.createElement("span");l.appendChild(d);var h=new a.HighlightedLabel(l),m=document.createElement("span");l.appendChild(m),r.addClass(m,"quick-open-entry-meta");var g=document.createElement("span");l.appendChild(g),r.addClass(g,"quick-open-entry-description");var v=new a.HighlightedLabel(g);return{container:n,icon:d,label:h,meta:m,description:v,group:o,actionBar:c}},e.prototype.renderElement=function(e,t,n,o){if(n===f)return this.entryItemRenderer.renderElement(e,t,n,o),void 0;var i=o;if(this.actionProvider.hasActions(e,t)?r.addClass(i.container,"has-actions"):r.removeClass(i.container,"has-actions"),i.actionBar.context=t,this.actionProvider.getActions(e,t).then(function(e){i.actionBar.isEmpty()&&e&&e.length>0?i.actionBar.push(e,{icon:!0,label:!1}):i.actionBar.isEmpty()||e&&0!==e.length||i.actionBar.clear()}),t instanceof u.QuickOpenEntryGroup){var s=t;s.showBorder()?r.addClass(i.container,"results-group-separator"):r.removeClass(i.container,"results-group-separator");var a=s.getGroupLabel()||"";o.group.textContent=a
}if(t instanceof u.QuickOpenEntry){var c=t,l=c.getHighlights(),d=c.getIcon()?"quick-open-entry-icon "+c.getIcon():"";i.icon.className=d;var h=l[0];i.label.setValue(c.getLabel(),h);var p=c.getMeta()||"";i.meta.textContent=p;var m=l[1];i.description.setValue(c.getDescription(),m)}},e.prototype.disposeTemplate=function(e,t,n){t===f&&this.entryItemRenderer.disposeTemplate(e,t,n)},e}();t.Renderer=g}),define("vs/base/browser/ui/progressbar/progressbar",["require","exports","vs/base/common/winjs.base","vs/base/common/assert","vs/base/browser/browser","vs/base/browser/builder","vs/base/browser/dom","vs/base/common/uuid","vs/css!./progressbar"],function(e,t,n,o,r,i,s,a){var u="done",c="active",l="infinite",d="discrete",h="progress-container",p="progress-bit",f=i.$,m=function(){function e(e){this.toUnbind=[],this.workedVal=0,this.create(e)}return e.prototype.create=function(e){var t=this;e.div({class:h},function(e){t.element=e.clone(),e.div({class:p}).on([s.EventType.ANIMATION_START,s.EventType.ANIMATION_END,s.EventType.ANIMATION_ITERATION],function(e){switch(e.type){case s.EventType.ANIMATION_START:case s.EventType.ANIMATION_END:t.animationRunning=e.type===s.EventType.ANIMATION_START;break;case s.EventType.ANIMATION_ITERATION:t.animationStopToken&&t.animationStopToken(null)}},t.toUnbind),t.bit=e.getHTMLElement()})},e.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.removeClass(c),this.element.removeClass(l),this.element.removeClass(d),this.workedVal=0,this.totalWork=void 0},e.prototype.done=function(){return this.doDone(!0)},e.prototype.stop=function(){return this.doDone(!1)},e.prototype.doDone=function(e){var t=this;return this.element.addClass(u),this.element.hasClass(l)?(this.bit.style.opacity="0",e?n.Promise.timeout(200).then(function(){return t.off()}):this.off()):(this.bit.style.width="inherit",e?n.Promise.timeout(200).then(function(){return t.off()}):this.off()),this},e.prototype.infinite=function(){if(this.bit.style.width="2%",this.bit.style.opacity="1",this.element.removeClass(d),this.element.removeClass(u),this.element.addClass(c),this.element.addClass(l),!r.hasCSSAnimationSupport()){var e=a.v4().asHex();this.currentProgressToken=e,this.manualInfinite(e)}return this},e.prototype.manualInfinite=function(e){var t=this;this.bit.style.width="5%",this.bit.style.display="inherit";var o=0,r=function(){n.Promise.timeout(50).then(function(){e===t.currentProgressToken&&(t.element.hasClass(u)?(t.bit.style.display="none",t.bit.style.left="0"):t.element.isHidden()?r():(o=(o+1)%95,t.bit.style.left=o+"%",r()))})};r()},e.prototype.total=function(e){return this.workedVal=0,this.totalWork=e,this},e.prototype.hasTotal=function(){return!isNaN(this.totalWork)},e.prototype.worked=function(e){return o.ok(!isNaN(this.totalWork),"Total work not set"),e=Number(e),o.ok(!isNaN(e),"Value is not a number"),e=Math.max(1,e),this.workedVal+=e,this.workedVal=Math.min(this.totalWork,this.workedVal),this.element.hasClass(l)&&this.element.removeClass(l),this.element.hasClass(u)&&this.element.removeClass(u),this.element.hasClass(c)||this.element.addClass(c),this.element.hasClass(d)||this.element.addClass(d),this.bit.style.width=100*(this.workedVal/this.totalWork)+"%",this},e.prototype.getContainer=function(){return f(this.element)},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()()},e}();t.ProgressBar=m}),define("vs/css!vs/base/parts/quickopen/browser/quickopen",["vs/css!vs/editor/editor.main"],{}),define("vs/base/parts/quickopen/browser/quickOpenWidget",["require","exports","vs/base/common/winjs.base","vs/base/common/platform","vs/base/browser/browser","vs/base/common/events","vs/base/common/types","vs/base/common/errors","vs/base/common/uuid","vs/base/parts/quickopen/browser/quickOpenViewer","vs/base/parts/quickopen/common/quickOpenModel","vs/base/browser/builder","vs/base/browser/ui/inputbox/inputBox","vs/base/parts/tree/browser/treeImpl","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/keyboardEvent","vs/base/parts/tree/browser/treeDefaults","vs/base/browser/dom","vs/css!./quickopen"],function(e,t,n,o,r,i,s,a,u,c,l,d,h,p,f,m,g,v){var _=d.$,y=function(){function e(e,t,n,o){this.toUnbind=[],this.container=e,this.callbacks=t,this.options=n,this.usageLogger=o}return e.prototype.setCallbacks=function(e){this.callbacks=e},e.prototype.create=function(){var e=this;this.builder=_().div(function(t){t.on(v.EventType.KEY_DOWN,function(t){var n=new m.KeyboardEvent(t);"Escape"===n.key&&(v.EventHelper.stop(t,!0),e.hide(!0))}).on(v.EventType.FOCUS,function(){return e.gainingFocus()},null,!0).on(v.EventType.CONTEXT_MENU,function(e){return v.EventHelper.stop(e,!0)}).on(v.EventType.BLUR,function(){return e.loosingFocus()},null,!0),e.progressBar=new f.ProgressBar(t.clone()),e.progressBar.getContainer().hide(),t.div({class:"quick-open-input"},function(t){e.inputContainer=t,e.inputBox=new h.InputBox(t.getHTMLElement(),null,{placeholder:e.options.inputPlaceHolder||"",ariaLabel:e.options.inputAriaLabel}),v.addDisposableListener(e.inputBox.inputElement,v.EventType.KEY_DOWN,function(t){var n=new m.KeyboardEvent(t);if("Tab"===n.key||"DownArrow"===n.key||"UpArrow"===n.key||"PageDown"===n.key||"PageUp"===n.key)v.EventHelper.stop(t,!0),e.navigateInTree(n.key,n.shiftKey);else if("Enter"===n.key){v.EventHelper.stop(t,!0);var o=e.tree.getFocus();o&&e.elementSelected(o,t)}else!r.isIE9||"Backspace"!==n.key&&"Delete"!==n.key||e.onType()}),v.addDisposableListener(e.inputBox.inputElement,v.EventType.INPUT,function(){e.onType()})});var n=new c.DataSource;e.renderer=new c.Renderer(e.options.actionProvider),e.treeContainer=t.div({class:"quick-open-tree"},function(t){e.tree=new p.Tree(t.getHTMLElement(),{dataSource:n,controller:new g.DefaultController({clickBehavior:g.ClickBehavior.ON_MOUSE_DOWN}),renderer:e.renderer,filter:new c.Filter},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:"visible"}),e.toUnbind.push(e.tree.addListener(i.EventType.FOCUS,function(t){e.elementFocused(t.focus,t)})),e.toUnbind.push(e.tree.addListener(i.EventType.SELECTION,function(t){t.selection&&t.selection.length>0&&e.elementSelected(t.selection[0],t)}))}).on(v.EventType.KEY_DOWN,function(t){var n=new m.KeyboardEvent(t);e.quickNavigateConfiguration&&("DownArrow"===n.key||"UpArrow"===n.key||"PageDown"===n.key||"PageUp"===n.key)&&(v.EventHelper.stop(t,!0),e.navigateInTree(n.key))}).on(v.EventType.KEY_UP,function(t){var n=new m.KeyboardEvent(t),r=n.key;if(e.quickNavigateConfiguration){var i=e.quickNavigateConfiguration.keybindings,s="Enter"===r||i.some(function(e){if(e.shift&&"Shift"===r)return!0;if(e.alt&&"Alt"===r)return!0;if(o.isMacintosh){if(e.ctrlCmd&&"Meta"===r)return!0;if(e.winCtrl&&"Ctrl"===r)return!0}else{if(e.ctrlCmd&&"Ctrl"===r)return!0;if(e.winCtrl&&"Meta"===r)return!0}return!1});if(s){var a=e.tree.getFocus();a&&e.elementSelected(a,t)}}}).clone()}).addClass("quick-open-widget").addClass(r.isIE10orEarlier?" no-shadow":"").build(this.container),this.layoutDimensions&&this.layout(this.layoutDimensions)},e.prototype.onType=function(){var e=this.inputBox.value;this.helpText&&(e?this.helpText.hide():this.helpText.show()),this.callbacks.onType(e)},e.prototype.quickNavigate=function(e,t){this.isVisible&&(this.quickNavigateConfiguration||(this.tree.DOMFocus(),this.quickNavigateConfiguration=e),this.navigateInTree(t?"DownArrow":"UpArrow"))},e.prototype.navigateInTree=function(e,t){var n=this.tree.getInput()?this.tree.getInput().getEntries(!0):[],o=this.tree.getFocus(),r=!1,i=!1;if(n.length>1&&(!("UpArrow"===e||"Tab"===e&&t)||o!==n[0]&&o?"DownArrow"!==e&&("Tab"!==e||t)||o!==n[n.length-1]||(this.tree.focusFirst(),r=!0):(this.tree.focusLast(),r=!0)),!r)switch(e){case"DownArrow":this.tree.focusNext();break;case"UpArrow":this.tree.focusPrevious();break;case"PageDown":this.tree.focusNextPage();break;case"PageUp":this.tree.focusPreviousPage();break;case"Tab":t?this.tree.focusPrevious():this.tree.focusNext()}o=this.tree.getFocus(),o&&(i?this.tree.reveal(o,0):this.tree.reveal(o))},e.prototype.elementFocused=function(e,t){if(e instanceof l.QuickOpenEntry&&this.isVisible()){var n={event:t,quickNavigateConfiguration:this.quickNavigateConfiguration};e.run(l.Mode.PREVIEW,n)}},e.prototype.elementSelected=function(e,t){var n=!0,o=this.tree.getInput();if(e instanceof l.QuickOpenEntry&&this.isVisible()){var r={event:t,quickNavigateConfiguration:this.quickNavigateConfiguration};n=e.run(l.Mode.OPEN,r)}if(this.usageLogger){var i=o.entries.indexOf(e),s=o.entries.length;this.usageLogger.publicLog("quickOpenWidgetItemAccepted",{index:i,count:s,isQuickNavigate:this.quickNavigateConfiguration?!0:!1})}n&&this.hide()},e.prototype.show=function(e,t,n){s.isUndefined(t)&&(t={}),this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=n,this.quickNavigateConfiguration?(this.inputContainer.hide(),this.options.enableAnimations&&this.treeContainer.removeClass("transition"),this.builder.show(),this.tree.DOMFocus()):(this.inputContainer.show(),this.options.enableAnimations&&this.treeContainer.addClass("transition"),this.builder.show(),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||s.isString(e)?this.helpText.hide():this.helpText.show()),s.isString(e)?this.doShowWithPrefix(e):this.doShowWithInput(e,t),this.callbacks.onShow&&this.callbacks.onShow()},e.prototype.doShowWithPrefix=function(e){this.inputBox.value=e,this.callbacks.onType(e)},e.prototype.doShowWithInput=function(e,t){this.setInput(e,t)},e.prototype.setInputAndLayout=function(e,t){var n=this,o=u.generateUuid();this.currentInputToken=o,this.setTreeHeightForInput(e).then(function(){n.currentInputToken===o&&n.tree.setInput(e).done(function(){n.tree.layout(),e&&e.getEntries(!0).length>0&&n.autoFocus(e,t)},a.onUnexpectedError)})},e.prototype.autoFocus=function(e,t){if(t.autoFocusPrefixMatch){for(var n,o,r=e.getEntries(!0),i=t.autoFocusPrefixMatch,s=i.toLowerCase(),a=0;a<r.length;a++){var u=r[a];if(n||0!==u.getLabel().indexOf(i)?o||0!==u.getLabel().toLowerCase().indexOf(s)||(o=u):n=u,n&&o)break}var c=n||o;if(c)return this.tree.setFocus(c),this.tree.reveal(c,0),void 0}t.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus(),0)):t.autoFocusSecondEntry&&e.getEntries(!0).length>1&&this.tree.focusNth(1)},e.prototype.refresh=function(e,t){var n=this;this.isVisible()&&this.setTreeHeightForInput(e).then(function(){n.tree.refresh().done(function(){n.tree.layout(),!n.tree.getFocus()&&e&&e.getEntries(!0).length>0&&n.autoFocus(e,t)},a.onUnexpectedError)})},e.prototype.setTreeHeightForInput=function(e){var t=this,o=this.getHeight(e)+"px",r=this.treeContainer.style("height");return this.treeContainer.style({height:o}),this.treeContainer.hasClass("transition")&&r!==o?new n.Promise(function(e){var n=[],o=!1,r=function(){if(!o){for(o=!0;n.length;)n.pop()();e(null)}};t.treeContainer.once("webkitTransitionEnd",r,n),t.treeContainer.once("transitionend",r,n)}):n.Promise.as(null)},e.prototype.getHeight=function(t){if(!t){var n=this.renderer.getHeight(this.tree,null);return this.options.minItemsToShow?this.options.minItemsToShow*n:0}var o,r=0;this.layoutDimensions&&this.layoutDimensions.height&&(o=.4*(this.layoutDimensions.height-50)),(!o||o>e.MAX_ITEMS_HEIGHT)&&(o=e.MAX_ITEMS_HEIGHT);for(var i=t.getEntries(!0),s=this.options.maxItemsToShow||i.length,a=0;s>a&&a<i.length;a++){var u=this.renderer.getHeight(this.tree,i[a]);if(!(o>=r+u))break;r+=u}return r},e.prototype.hide=function(e){if(void 0===e&&(e=!1),this.isVisible()){if(this.visible=!1,this.builder.hide(),this.builder.domBlur(),e){var t=this.tree.getInput();if(t){var n=t.getEntries(!0).length;this.usageLogger&&this.usageLogger.publicLog("quickOpenWidgetCancelled",{count:n,isQuickNavigate:this.quickNavigateConfiguration?!0:!1})}}this.inputBox.value="",this.tree.setInput(null);var o=this.renderer.getHeight(this.tree,null);this.treeContainer.style({height:(this.options.minItemsToShow?this.options.minItemsToShow*o:0)+"px"}),this.progressBar.stop().getContainer().hide(),this.tree.isDOMFocused()?this.tree.DOMBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),e?this.callbacks.onCancel():this.callbacks.onOk(),this.callbacks.onHide&&this.callbacks.onHide()}},e.prototype.setPlaceHolder=function(e){this.inputBox&&this.inputBox.setPlaceHolder(e)},e.prototype.setInput=function(e,t){this.isVisible()&&this.setInputAndLayout(e,t)},e.prototype.getInput=function(){return this.tree.getInput()},e.prototype.runFocus=function(){var e=this.tree.getFocus();return e?(this.elementSelected(e),!0):!1},e.prototype.getProgressBar=function(){return this.progressBar},e.prototype.setExtraClass=function(e){var t=this.builder.getProperty("extra-class");t&&this.builder.removeClass(t),e?(this.builder.addClass(e),this.builder.setProperty("extra-class",e)):t&&this.builder.removeProperty("extra-class")},e.prototype.isVisible=function(){return this.visible},e.prototype.layout=function(t){this.layoutDimensions=t;var n=Math.min(.62*this.layoutDimensions.width,e.MAX_WIDTH);this.builder&&(this.builder.style({width:n+"px",marginLeft:"-"+n/2+"px"}),this.inputContainer.style({width:n-12+"px"}))},e.prototype.gainingFocus=function(){this.isLoosingFocus=!1},e.prototype.loosingFocus=function(){var e=this;this.isVisible()&&(this.isLoosingFocus=!0,n.Promise.timeout(0).then(function(){e.isLoosingFocus&&e.hide(!1)}))},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.progressBar.dispose(),this.inputBox.dispose(),this.tree.dispose()},e.MAX_WIDTH=600,e.MAX_ITEMS_HEIGHT=480,e}();t.QuickOpenWidget=y}),define("vs/editor/contrib/quickOpen/browser/quickOpenEditorWidget",["require","exports","vs/editor/browser/editorBrowser","vs/base/browser/builder","vs/base/parts/quickopen/browser/quickOpenWidget"],function(e,t,n,o,r){var i=o.$,s=function(){function e(e,t,n,o,r){this.codeEditor=e,this.create(t,n,o,r)}return e.prototype.create=function(e,t,n,o){this.domNode=i().div().getHTMLElement(),this.quickOpenWidget=new r.QuickOpenWidget(this.domNode,{onOk:e,onCancel:t,onType:n},{inputPlaceHolder:null,inputAriaLabel:o.inputAriaLabel},null),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)},e.prototype.setInput=function(e,t){this.quickOpenWidget.setInput(e,t)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose()},e.prototype.isVisible=function(){return this.visible},e.prototype.show=function(e){this.visible=!0;var t=this.codeEditor.getLayoutInfo();t&&this.quickOpenWidget.layout(new o.Dimension(t.width,t.height)),this.quickOpenWidget.show(e),this.codeEditor.layoutOverlayWidget(this)},e.prototype.hide=function(){this.visible=!1,this.quickOpenWidget.hide(),this.codeEditor.layoutOverlayWidget(this)},e.prototype.getPosition=function(){return this.visible?{preference:n.OverlayWidgetPositionPreference.TOP_CENTER}:null},e.ID="editor.contrib.quickOpenEditorWidget",e}();t.QuickOpenEditorWidget=s});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/quickOpen/browser/editorQuickOpen",["require","exports","vs/base/common/winjs.base","vs/editor/browser/editorBrowserExtensions","vs/editor/common/editorAction","./quickOpenEditorWidget","vs/platform/instantiation/common/instantiation"],function(e,t,n,o,r,i,s){var a=function(){function e(e){this.editor=e}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},e.prototype.run=function(e){var t=this;this.widget&&(this.widget.destroy(),this.widget=null),this.widget||(this.widget=new i.QuickOpenEditorWidget(this.editor,function(){return e.onOk()},function(){return e.onCancel()},function(n){t.widget.setInput(e.getModel(n),e.getAutoFocus(n))},{inputAriaLabel:e.inputAriaLabel}),this.widget.show(""))},e.ID="editor.controller.quickOpenController",e=__decorate([__param(1,s.INullService)],e)}();t.QuickOpenController=a;var u=function(e){function t(t,n,o,i){void 0===i&&(i=r.Behaviour.WidgetFocus),e.call(this,t,n,i),this.label=o}return __extends(t,e),t.prototype.run=function(){var e=this;return a.get(this.editor).run({inputAriaLabel:this._getInputAriaLabel(),getModel:function(t){return e._getModel(t)},getAutoFocus:function(t){return e._getAutoFocus(t)},onOk:function(){return e._onClose(!1)},onCancel:function(){return e._onClose(!0)}}),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),n.TPromise.as(!0)},t.prototype._getModel=function(){throw new Error("Subclasses to implement")},t.prototype._getAutoFocus=function(){throw new Error("Subclasses to implement")},t.prototype._getInputAriaLabel=function(){throw new Error("Subclasses to implement")},t.prototype.decorateLine=function(e,t){var n=this;t.changeDecorations(function(t){n.lineHighlightDecorationId&&(t.removeDecoration(n.lineHighlightDecorationId),n.lineHighlightDecorationId=null),n.lineHighlightDecorationId=t.addDecoration(e,{className:"lineHighlight",isWholeLine:!0})})},t.prototype.clearDecorations=function(){var e=this;this.lineHighlightDecorationId&&this.editor.changeDecorations(function(t){t.removeDecoration(e.lineHighlightDecorationId),e.lineHighlightDecorationId=null})},t.prototype._onClose=function(e){this.clearDecorations(),e&&this.lastKnownEditorSelection&&(this.editor.setSelection(this.lastKnownEditorSelection),this.editor.revealRangeInCenterIfOutsideViewport(this.lastKnownEditorSelection)),this.lastKnownEditorSelection=null,this.editor.focus()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(r.EditorAction);t.BaseEditorQuickOpenAction=u,o.EditorBrowserRegistry.registerEditorContribution(a)}),define("vs/css!vs/editor/contrib/quickOpen/browser/quickOutline",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/quickOpen/browser/quickOutline",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/arrays","vs/base/common/winjs.base","vs/base/common/errors","vs/base/common/strings","vs/base/common/filters","vs/base/parts/quickopen/common/quickOpenModel","./editorQuickOpen","vs/editor/common/editorAction","vs/platform/instantiation/common/instantiation","vs/css!./quickOutline"],function(e,t,n,o,r,i,s,a,u,c,l,d){var h=":",p=function(e){function t(t,n,o,r,i,s,a,u){e.call(this),this.name=t,this.meta=n,this.type=o,this.description=r,this.range=i,this.setHighlights(s),this.editor=a,this.decorator=u}return __extends(t,e),t.prototype.getLabel=function(){return this.name},t.prototype.getMeta=function(){return this.meta},t.prototype.getIcon=function(){return this.type},t.prototype.getDescription=function(){return this.description},t.prototype.getType=function(){return this.type},t.prototype.getRange=function(){return this.range},t.prototype.run=function(e,t){return e===u.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(){var e=this.toSelection();return this.editor.setSelection(e),this.editor.revealRangeInCenter(e),this.editor.focus(),!0},t.prototype.runPreview=function(){var e=this.toSelection();return this.editor.revealRangeInCenter(e),this.decorator.decorateLine(this.range,this.editor),!1},t.prototype.toSelection=function(){return{startLineNumber:this.range.startLineNumber,startColumn:this.range.startColumn||1,endLineNumber:this.range.startLineNumber,endColumn:this.range.startColumn||1}},t}(u.QuickOpenEntryGroup),f=function(e){function t(t,o){e.call(this,t,o,n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",0),l.Behaviour.WidgetFocus|l.Behaviour.ShowInContextMenu)}return __extends(t,e),t.prototype.getGroupId=function(){return"1_goto/5_visitSymbol"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return!!t&&!!t.outlineSupport&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var t=this,n=this.editor.getModel(),o=n.getMode(),s=o.outlineSupport;if(!s)return null;var a=s.getOutline(n.getAssociatedResource());return a.then(function(n){return Array.isArray(n)&&n.length>0?(t.cachedResult=n,e.prototype.run.call(t)):r.TPromise.as(!0)},function(e){return i.onUnexpectedError(e),!1})},t.prototype._getModel=function(e){var t=new u.QuickOpenModel,n=this.toQuickOpenEntries(this.cachedResult,e);return t.addEntries(n),t},t.prototype._getAutoFocus=function(e){return 0===e.indexOf(h)&&(e=e.substr(h.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}},t.prototype._getInputAriaLabel=function(){return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",1)},t.prototype.toQuickOpenEntries=function(e,t){var r=[],i=[];e&&this.flatten(e,i);var u=t;0===t.indexOf(h)&&(u=u.substr(h.length));for(var c=0;c<i.length;c++){var l=i[c],d=s.trim(l.label),f=null;if("method"===l.type||"function"===l.type){var m=d.indexOf("(");m>0?(f=d.substr(m),d=d.substr(0,m)):f="()"}var g=a.matchesFuzzy(u,d);if(g){var v=null;l.parentScope&&(v=o.tail(l.parentScope)),r.push(new p(d,f,l.type,v,l.range,g,this.editor,this))}}if(t&&(r=0===t.indexOf(h)?r.sort(this.sortScoped.bind(this,t.toLowerCase())):r.sort(this.sortNormal.bind(this,t.toLowerCase()))),r.length>0&&0===t.indexOf(h)){for(var _=null,y=null,b=0,c=0;c<r.length;c++){var C=r[c];_!==C.getType()?(y&&y.setGroupLabel(this.typeToLabel(_,b)),_=C.getType(),y=C,b=1,C.setShowBorder(c>0)):b++}y&&y.setGroupLabel(this.typeToLabel(_,b))}else r.length>0&&r[0].setGroupLabel(n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",2,r.length));return r},t.prototype.typeToLabel=function(e,t){switch(e){case"module":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",3,t);case"class":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",4,t);case"interface":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",5,t);case"method":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",6,t);case"function":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",7,t);case"property":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",8,t);case"variable":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",9,t);case"var":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",10,t);case"constructor":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",11,t);case"call":return n.localize("vs_editor_contrib_quickOpen_browser_quickOutline",12,t)}return e},t.prototype.flatten=function(e,t,n){for(var o=0;o<e.length;o++){var r=e[o];if(t.push(r),n&&(r.parentScope=n),r.children){var i=[];n&&(i=n.slice(0)),i.push(r.label),this.flatten(r.children,t,i)}}},t.prototype.sortNormal=function(e,t,n){var o=t.getLabel().toLowerCase(),r=n.getLabel().toLowerCase(),i=s.localeCompare(o,r);if(0!==i)return i;var a=t.getRange(),u=n.getRange();return a.startLineNumber-u.startLineNumber},t.prototype.sortScoped=function(e,t,n){e=e.substr(h.length);var o=t.getType(),r=n.getType(),i=s.localeCompare(o,r);if(0!==i)return i;if(e){var a=t.getLabel().toLowerCase(),u=n.getLabel().toLowerCase(),i=s.localeCompare(a,u);if(0!==i)return i}var c=t.getRange(),l=n.getRange();return c.startLineNumber-l.startLineNumber},t.prototype._onClose=function(t){e.prototype._onClose.call(this,t),this.cachedResult=null},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.cachedResult=null},t.ID="editor.action.quickOutline",t=__decorate([__param(2,d.INullService)],t)}(c.BaseEditorQuickOpenAction);t.QuickOutlineAction=f}),define("vs/editor/contrib/quickOpen/browser/quickOutline.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/common/editorCommonExtensions","./quickOutline"],function(e,t,n,o,r){o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(r.QuickOutlineAction,r.QuickOutlineAction.ID,n.localize("vs_editor_contrib_quickOpen_browser_quickOutline.contribution",0),{context:o.ContextKey.EditorFocus,primary:{ctrlCmd:!0,shift:!0,key:"O"}}))}),define("vs/css!vs/editor/contrib/quickOpen/browser/gotoLine",["vs/css!vs/editor/editor.main"],{});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/quickOpen/browser/gotoLine",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/common/common","vs/base/parts/quickopen/common/quickOpenModel","./editorQuickOpen","vs/platform/instantiation/common/instantiation","vs/css!./gotoLine"],function(e,t,n,o,r,i,s){var a=function(e){function t(t,n,o){e.call(this),this.editor=n,this.decorator=o,this._parseResult=this._parseInput(t)}return __extends(t,e),t.prototype._parseInput=function(e){var t,r=e.split(",").map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)});t=0===r.length?{lineNumber:-1,column:-1}:1===r.length?{lineNumber:r[0],column:1}:{lineNumber:r[0],column:r[1]};var i,s=this.editor.getEditorType();switch(s){case o.EditorType.IDiffEditor:i=this.editor.getModel().modified;break;case o.EditorType.ICodeEditor:i=this.editor.getModel();break;default:throw new Error}var a,u=i.validatePosition(t).equals(t);return a=u?t.column&&t.column>1?n.localize("vs_editor_contrib_quickOpen_browser_gotoLine",0,t.lineNumber,t.column):n.localize("vs_editor_contrib_quickOpen_browser_gotoLine",1,t.lineNumber,t.column):t.lineNumber<1||t.lineNumber>i.getLineCount()?n.localize("vs_editor_contrib_quickOpen_browser_gotoLine",2,i.getLineCount()):n.localize("vs_editor_contrib_quickOpen_browser_gotoLine",3,i.getLineMaxColumn(t.lineNumber)),{position:t,isValid:u,label:a}},t.prototype.getLabel=function(){return this._parseResult.label},t.prototype.run=function(e){return e===r.Mode.OPEN?this.runOpen():this.runPreview()},t.prototype.runOpen=function(){if(!this._parseResult.isValid)return!1;var e=this.toSelection();return this.editor.setSelection(e),this.editor.revealRangeInCenter(e),this.editor.focus(),!0},t.prototype.runPreview=function(){if(!this._parseResult.isValid)return this.decorator.clearDecorations(),!1;var e=this.toSelection();return this.editor.revealRangeInCenter(e),this.decorator.decorateLine(e,this.editor),!1},t.prototype.toSelection=function(){return{startLineNumber:this._parseResult.position.lineNumber,startColumn:this._parseResult.position.column,endLineNumber:this._parseResult.position.lineNumber,endColumn:this._parseResult.position.column}},t}(r.QuickOpenEntry);t.GotoLineEntry=a;var u=function(e){function t(t,o){e.call(this,t,o,n.localize("vs_editor_contrib_quickOpen_browser_gotoLine",4))}return __extends(t,e),t.prototype._getModel=function(e){var t=new r.QuickOpenModel,n=[new a(e,this.editor,this)];return t.addEntries(n),t},t.prototype._getAutoFocus=function(e){return{autoFocusFirstEntry:e.length>0}},t.prototype._getInputAriaLabel=function(){return n.localize("vs_editor_contrib_quickOpen_browser_gotoLine",5)},t.ID="editor.action.gotoLine",t=__decorate([__param(2,s.INullService)],t)}(i.BaseEditorQuickOpenAction);t.GotoLineAction=u}),define("vs/editor/contrib/quickOpen/browser/gotoLine.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/common/editorCommonExtensions","./gotoLine"],function(e,t,n,o,r){o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(r.GotoLineAction,r.GotoLineAction.ID,n.localize("vs_editor_contrib_quickOpen_browser_gotoLine.contribution",0),{context:o.ContextKey.EditorFocus,primary:{ctrlCmd:!0,key:"G"}}))});var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__decorate=this&&this.__decorate||function(e,t,n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,n,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return o&&o(t,n),void 0},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,n,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define("vs/editor/contrib/quickOpen/browser/quickCommand",["require","exports","vs/base/common/winjs.base","vs/nls!vs/editor/editor.main","vs/base/common/errors","vs/base/parts/quickopen/common/quickOpenModel","vs/base/common/strings","vs/base/common/filters","vs/editor/common/editorAction","./editorQuickOpen","vs/platform/keybinding/common/keybindingsUtils","vs/platform/keybinding/common/keybindingService"],function(e,t,n,o,r,i,s,a,u,c,l,d){var h=function(e){function t(t,n,o,r){e.call(this),this.key=t,this.setHighlights(n),this.action=o,this.editor=r}return __extends(t,e),t.prototype.getLabel=function(){return this.action.label},t.prototype.getGroupLabel=function(){return this.key},t.prototype.run=function(e){var t=this;return e===i.Mode.OPEN?(n.TPromise.timeout(50).done(function(){if(t.editor.focus(),t.action.enabled)try{var e=t.action.run()||n.TPromise.as(null);e.done(null,r.onUnexpectedError)}catch(o){r.onUnexpectedError(o)}},r.onUnexpectedError),!0):!1},t}(i.QuickOpenEntryGroup);t.EditorActionCommandEntry=h;var p=function(e){function t(t,n,r){e.call(this,t,n,o.localize("vs_editor_contrib_quickOpen_browser_quickCommand",0),u.Behaviour.WidgetFocus|u.Behaviour.ShowInContextMenu),this._keybindingService=r}return __extends(t,e),t.prototype._getModel=function(e){var t=new i.QuickOpenModel,n=this.editor.getActions(),o=this._editorActionsToEntries(n,e);return t.addEntries(o),t},t.prototype.getGroupId=function(){return"4_tools/1_commands"},t.prototype._sort=function(e,t){var n=e.getLabel().toLowerCase(),o=t.getLabel().toLowerCase();return s.localeCompare(n,o)},t.prototype._editorActionsToEntries=function(e,t){for(var n=[],o=0;o<e.length;o++){var r=e[o],i=r;if(i.isSupported()){var s=this._keybindingService.lookupKeybindings(i.id).map(l.KeybindingsUtils.toLabel);if(r.label){var u=a.matchesFuzzy(t,r.label);u&&n.push(new h(s.length>0?s.join(", "):"",u,r,this.editor))}}}return n=n.sort(this._sort)},t.prototype._getAutoFocus=function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e}},t.prototype._getInputAriaLabel=function(){return o.localize("vs_editor_contrib_quickOpen_browser_quickCommand",1)},t.ID="editor.action.quickCommand",t=__decorate([__param(2,d.IKeybindingService)],t)}(c.BaseEditorQuickOpenAction);t.QuickCommandAction=p
}),define("vs/editor/contrib/quickOpen/browser/quickCommand.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/base/browser/browser","vs/editor/common/editorCommonExtensions","./quickCommand"],function(e,t,n,o,r,i){r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(i.QuickCommandAction,i.QuickCommandAction.ID,n.localize("vs_editor_contrib_quickOpen_browser_quickCommand.contribution",0),{context:r.ContextKey.EditorFocus,primary:{alt:o.isIE11orEarlier,key:"F1"}}))}),define("vs/languages/annotatedLanguage/common/annotatedLanguage.contribution",["require","exports","vs/editor/common/modes/modesRegistry"],function(e,t,n){n.registerMode({id:"annotatedcsharp",extensions:[],aliases:[null],mimetypes:["text/x-annotated-csharp"],moduleId:"vs/languages/annotatedLanguage/common/annotatedLanguage",ctorName:"ALMode"})}),define("vs/languages/css/common/level",["require","exports"],function(e,t){function n(e){switch(e){case"ignore":return o.Ignore;case"warning":return o.Warning;case"error":return o.Error}return null}!function(e){e[e.Ignore=1]="Ignore",e[e.Warning=2]="Warning",e[e.Error=4]="Error"}(t.Level||(t.Level={}));var o=t.Level;t.toLevel=n}),define("vs/languages/css/common/services/lintRules",["require","exports","vs/nls!vs/editor/editor.main","vs/languages/css/common/level"],function(e,t,n,o){function r(e){var n={};for(var o in t.Rules){var r=t.Rules[o];n[e+"."+r.id]=r.getConfiguration()}return n}function i(e){var n={};for(var r in t.Rules){var i=t.Rules[r],s=o.toLevel(e[i.id]);s&&(n[i.id]=s)}return n}var s="warning",a="error",u="ignore",c=function(){function e(e,t,n){this.id=e,this.message=t,this.defaultValue=n}return e.prototype.getConfiguration=function(){return{type:"string",enum:[u,s,a],default:this.defaultValue,description:this.message}},e}();t.Rule=c,t.Rules={AllVendorPrefixes:new c("compatibleVendorPrefixes",n.localize("vs_languages_css_common_services_lintRules",0),u),IncludeStandardPropertyWhenUsingVendorPrefix:new c("vendorPrefix",n.localize("vs_languages_css_common_services_lintRules",1),s),DuplicateDeclarations:new c("duplicateProperties",n.localize("vs_languages_css_common_services_lintRules",2),u),EmptyRuleSet:new c("emptyRules",n.localize("vs_languages_css_common_services_lintRules",3),s),ImportStatemement:new c("importStatement",n.localize("vs_languages_css_common_services_lintRules",4),u),NoWidthOrHeightWhenPaddingOrBorder:new c("boxModel",n.localize("vs_languages_css_common_services_lintRules",5),u),UniversalSelector:new c("universalSelector",n.localize("vs_languages_css_common_services_lintRules",6),u),ZeroWithUnit:new c("zeroUnits",n.localize("vs_languages_css_common_services_lintRules",7),u),RequiredPropertiesForFontFace:new c("fontFaceProperties",n.localize("vs_languages_css_common_services_lintRules",8),s),HexColorLength:new c("hexColorLength",n.localize("vs_languages_css_common_services_lintRules",9),a),ArgsInColorFunction:new c("argumentsInColorFunction",n.localize("vs_languages_css_common_services_lintRules",10),a),UnknownProperty:new c("unknownProperties",n.localize("vs_languages_css_common_services_lintRules",11),s),IEStarHack:new c("ieHack",n.localize("vs_languages_css_common_services_lintRules",12),u),UnknownVendorSpecificProperty:new c("unknownVendorSpecificProperties",n.localize("vs_languages_css_common_services_lintRules",13),u),PropertyIgnoredDueToDisplay:new c("propertyIgnoredDueToDisplay",n.localize("vs_languages_css_common_services_lintRules",14),s),AvoidImportant:new c("important",n.localize("vs_languages_css_common_services_lintRules",15),u),AvoidFloat:new c("float",n.localize("vs_languages_css_common_services_lintRules",16),u),AvoidIdSelector:new c("idSelector",n.localize("vs_languages_css_common_services_lintRules",17),u)},t.getConfigurationProperties=r,t.sanitize=i}),define("vs/css!vs/languages/css/common/css-hover",["vs/css!vs/editor/editor.main"],{}),define("vs/languages/css/common/css.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/platform/platform","vs/editor/common/modes/modesRegistry","vs/platform/configuration/common/configurationRegistry","vs/languages/css/common/services/lintRules","vs/css!vs/languages/css/common/css-hover"],function(e,t,n,o,r,i,s){r.registerMode({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],moduleId:"vs/languages/css/common/css",ctorName:"CSSMode"});var a=o.Registry.as(i.Extensions.Configuration);a.registerConfiguration({id:"css",order:20,title:n.localize("vs_languages_css_common_css.contribution",0),allOf:[{title:n.localize("vs_languages_css_common_css.contribution",1),properties:s.getConfigurationProperties("css.lint")}]})}),define("vs/languages/handlebars/common/handlebars.contribution",["require","exports","vs/editor/common/modes/modesRegistry"],function(e,t,n){n.registerMode({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],moduleId:"vs/languages/handlebars/common/handlebars",ctorName:"HandlebarsMode"})}),define("vs/languages/html/common/html.contribution",["require","exports","vs/editor/common/modes/modesRegistry"],function(e,t,n){n.registerMode({id:"html",extensions:[".html",".htm",".shtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template"],moduleId:"vs/languages/html/common/html",ctorName:"HTMLMode"})}),define("vs/languages/typescript/common/options",["require","exports","vs/base/common/objects"],function(e,t,n){var o;return function(e){function t(e,t){return n.mixin(n.clone(t),e)}e.typeScriptOptions=Object.freeze({suggest:{alwaysAllWords:!1,useCodeSnippetsOnMethodSuggest:!1},validate:{semanticValidation:!0,syntaxValidation:!0,_surpressSuperWithoutSuperTypeError:!1,lint:{comparisonOperatorsNotStrict:"ignore",curlyBracketsMustNotBeOmitted:"ignore",emptyBlocksWithoutComment:"ignore",functionsInsideLoops:"ignore",functionsWithoutReturnType:"ignore",missingSemicolon:"ignore",newOnLowercaseFunctions:"ignore",semicolonsInsteadOfBlocks:"ignore",tripleSlashReferenceAlike:"ignore",unknownTypeOfResults:"ignore",unusedFunctions:"ignore",unusedImports:"ignore",unusedMembers:"ignore",unusedVariables:"ignore",forcedTypeConversion:"error",mixedTypesArithmetics:"error",newOnReturningFunctions:"error",parametersDontMatchSignature:"error",parametersOptionalButNotLast:"error",primitivesInInstanceOf:"error",redeclaredVariables:"error",undeclaredVariables:"error",unknownModule:"error",unknownProperty:"error"}}}),e.javaScriptOptions=Object.freeze({suggest:{alwaysAllWords:!0,useCodeSnippetsOnMethodSuggest:!1},validate:{semanticValidation:!0,syntaxValidation:!0,_surpressSuperWithoutSuperTypeError:!1,lint:{comparisonOperatorsNotStrict:"ignore",curlyBracketsMustNotBeOmitted:"ignore",emptyBlocksWithoutComment:"ignore",forcedTypeConversion:"warning",functionsInsideLoops:"ignore",functionsWithoutReturnType:"ignore",missingSemicolon:"ignore",mixedTypesArithmetics:"warning",newOnLowercaseFunctions:"warning",newOnReturningFunctions:"warning",parametersDontMatchSignature:"ignore",parametersOptionalButNotLast:"ignore",primitivesInInstanceOf:"error",redeclaredVariables:"warning",semicolonsInsteadOfBlocks:"ignore",tripleSlashReferenceAlike:"warning",undeclaredVariables:"warning",unknownModule:"ignore",unknownProperty:"ignore",unknownTypeOfResults:"warning",unusedFunctions:"ignore",unusedImports:"ignore",unusedMembers:"ignore",unusedVariables:"warning"}}}),e.withDefaultOptions=t}(o||(o={})),o}),define("vs/languages/javascript/common/javascript.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/flags","vs/platform/platform","vs/platform/configuration/common/configurationRegistry","vs/editor/common/modes/modesRegistry","vs/languages/typescript/common/options"],function(e,t,n,o,r,i,s,a){var u=a.javaScriptOptions;if(!o.enableTypeScriptServiceModeForJS){s.registerMode({id:"javascript",extensions:[".js"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],moduleId:"vs/languages/javascript/common/javascript",ctorName:"JSMode"}),s.registerWorkerParticipant("javascript","vs/languages/typescript/common/participants/filenameSuggestions","FilenameSuggestions");var c=r.Registry.as(i.Extensions.Configuration);c.registerConfiguration({id:"javascript",order:20,type:"object",title:n.localize("vs_languages_javascript_common_javascript.contribution",0),allOf:[{type:"object",title:n.localize("vs_languages_javascript_common_javascript.contribution",1),properties:{"javascript.suggest.alwaysAllWords":{type:"boolean",default:u.suggest.alwaysAllWords,description:n.localize("vs_languages_javascript_common_javascript.contribution",2)},"javascript.suggest.useCodeSnippetsOnMethodSuggest":{type:"boolean",default:u.suggest.useCodeSnippetsOnMethodSuggest,description:n.localize("vs_languages_javascript_common_javascript.contribution",3)}}},{title:n.localize("vs_languages_javascript_common_javascript.contribution",4),type:"object",properties:{"javascript.validate.semanticValidation":{type:"boolean",default:u.validate.semanticValidation,description:n.localize("vs_languages_javascript_common_javascript.contribution",5)},"javascript.validate.syntaxValidation":{type:"boolean",default:u.validate.syntaxValidation,description:n.localize("vs_languages_javascript_common_javascript.contribution",6)}}},{type:"object",title:n.localize("vs_languages_javascript_common_javascript.contribution",7),properties:{"javascript.validate.lint.curlyBracketsMustNotBeOmitted":{enum:["ignore","warning","error"],default:u.validate.lint.curlyBracketsMustNotBeOmitted,description:n.localize("vs_languages_javascript_common_javascript.contribution",8)},"javascript.validate.lint.emptyBlocksWithoutComment":{enum:["ignore","warning","error"],default:u.validate.lint.emptyBlocksWithoutComment,description:n.localize("vs_languages_javascript_common_javascript.contribution",9)},"javascript.validate.lint.comparisonOperatorsNotStrict":{enum:["ignore","warning","error"],default:u.validate.lint.comparisonOperatorsNotStrict,description:n.localize("vs_languages_javascript_common_javascript.contribution",10)},"javascript.validate.lint.missingSemicolon":{enum:["ignore","warning","error"],default:u.validate.lint.missingSemicolon,description:n.localize("vs_languages_javascript_common_javascript.contribution",11)},"javascript.validate.lint.unknownTypeOfResults":{enum:["ignore","warning","error"],default:u.validate.lint.unknownTypeOfResults,description:n.localize("vs_languages_javascript_common_javascript.contribution",12)},"javascript.validate.lint.semicolonsInsteadOfBlocks":{enum:["ignore","warning","error"],default:u.validate.lint.semicolonsInsteadOfBlocks,description:n.localize("vs_languages_javascript_common_javascript.contribution",13)},"javascript.validate.lint.functionsInsideLoops":{enum:["ignore","warning","error"],default:u.validate.lint.functionsInsideLoops,description:n.localize("vs_languages_javascript_common_javascript.contribution",14)},"javascript.validate.lint.newOnLowercaseFunctions":{enum:["ignore","warning","error"],default:u.validate.lint.newOnLowercaseFunctions,description:n.localize("vs_languages_javascript_common_javascript.contribution",15)},"javascript.validate.lint.tripleSlashReferenceAlike":{enum:["ignore","warning","error"],default:u.validate.lint.tripleSlashReferenceAlike,description:n.localize("vs_languages_javascript_common_javascript.contribution",16)},"javascript.validate.lint.unusedVariables":{enum:["ignore","warning","error"],default:u.validate.lint.unusedVariables,description:n.localize("vs_languages_javascript_common_javascript.contribution",17)},"javascript.validate.lint.unusedFunctions":{enum:["ignore","warning","error"],default:u.validate.lint.unusedFunctions,description:n.localize("vs_languages_javascript_common_javascript.contribution",18)},"javascript.validate.lint.parametersDontMatchSignature":{enum:["ignore","warning","error"],default:u.validate.lint.parametersDontMatchSignature,description:n.localize("vs_languages_javascript_common_javascript.contribution",19)},"javascript.validate.lint.redeclaredVariables":{enum:["ignore","warning","error"],default:u.validate.lint.redeclaredVariables,description:n.localize("vs_languages_javascript_common_javascript.contribution",20)},"javascript.validate.lint.undeclaredVariables":{enum:["ignore","warning","error"],default:u.validate.lint.undeclaredVariables,description:n.localize("vs_languages_javascript_common_javascript.contribution",21)},"javascript.validate.lint.unknownProperty":{enum:["ignore","warning","error"],default:u.validate.lint.unknownProperty,description:n.localize("vs_languages_javascript_common_javascript.contribution",22)},"javascript.validate.lint.unknownModule":{enum:["ignore","warning","error"],default:u.validate.lint.unknownModule,description:n.localize("vs_languages_javascript_common_javascript.contribution",23)},"javascript.validate.lint.forcedTypeConversion":{enum:["ignore","warning","error"],default:u.validate.lint.forcedTypeConversion,description:n.localize("vs_languages_javascript_common_javascript.contribution",24)},"javascript.validate.lint.mixedTypesArithmetics":{enum:["ignore","warning","error"],default:u.validate.lint.mixedTypesArithmetics,description:n.localize("vs_languages_javascript_common_javascript.contribution",25)},"javascript.validate.lint.primitivesInInstanceOf":{enum:["ignore","warning","error"],default:u.validate.lint.primitivesInInstanceOf,description:n.localize("vs_languages_javascript_common_javascript.contribution",26)},"javascript.validate.lint.newOnReturningFunctions":{enum:["ignore","warning","error"],default:u.validate.lint.newOnReturningFunctions,description:n.localize("vs_languages_javascript_common_javascript.contribution",27)}}}]})}}),define("vs/languages/json/common/json.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/platform/configuration/common/configurationRegistry","vs/platform/platform","vs/editor/common/modes/modesRegistry"],function(e,t,n,o,r,i){i.registerMode({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc"],aliases:["JSON","json"],mimetypes:["application/json"],moduleId:"vs/languages/json/common/json",ctorName:"JSONMode"});var s=r.Registry.as(o.Extensions.Configuration);s.registerConfiguration({id:"json",order:20,type:"object",title:n.localize("vs_languages_json_common_json.contribution",0),properties:{"json.schemas":{type:"array",description:n.localize("vs_languages_json_common_json.contribution",1),items:{type:"object",properties:{url:{type:"string",default:"/user.schema.json",description:n.localize("vs_languages_json_common_json.contribution",2)},fileMatch:{type:"array",items:{type:"string",default:"MyFile.json",description:n.localize("vs_languages_json_common_json.contribution",3)},minItems:1,description:n.localize("vs_languages_json_common_json.contribution",4)},schema:{type:"object",description:n.localize("vs_languages_json_common_json.contribution",5)}}},default:[{fileMatch:["/bower.json","/.bower.json"],url:"http://json.schemastore.org/bower"},{fileMatch:["/package.json"],url:"http://json.schemastore.org/package"},{fileMatch:["/project.json"],url:"http://json.schemastore.org/project"},{fileMatch:["*.schema.json"],url:"http://json-schema.org/draft-04/schema#"},{fileMatch:["/global.json"],url:"http://json.schemastore.org/global"},{fileMatch:["/ticino.plugin.json"],url:"http://opentools.azurewebsites.net/ticino.plugin.json"},{fileMatch:["/tsconfig.json"],url:"http://json.schemastore.org/tsconfig"},{fileMatch:["/jsconfig.json"],url:"http://opentools.azurewebsites.net/jsconfig"},{fileMatch:["/.bowerrc"],url:"http://json.schemastore.org/bowerrc"},{fileMatch:["/.jshintrc"],url:"http://json.schemastore.org/jshintrc"},{fileMatch:["/.jscsrc"],url:"http://json.schemastore.org/jscsrc"}]}}})}),define("vs/languages/markdown/common/markdown.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/editor/common/modes/modesRegistry","vs/platform/configuration/common/configurationRegistry","vs/platform/platform"],function(e,t,n,o,r,i){o.registerMode({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],mimetypes:["text/x-web-markdown"],moduleId:"vs/languages/markdown/common/markdown",ctorName:"MarkdownMode"});var s=i.Registry.as(r.Extensions.Configuration);s.registerConfiguration({id:"markdown",order:20,type:"object",title:n.localize("vs_languages_markdown_common_markdown.contribution",0),properties:{"markdown.styles":{type:"array",description:n.localize("vs_languages_markdown_common_markdown.contribution",1),items:{type:"string"}}}})}),define("vs/languages/php/common/php.contribution",["require","exports","vs/editor/common/modes/modesRegistry"],function(e,t,n){n.registerMode({id:"php",extensions:[".php",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],moduleId:"vs/languages/php/common/php",ctorName:"PHPMode"})}),define("vs/languages/plaintext/common/plaintext.contribution",["require","exports","vs/editor/common/modes/modesRegistry","vs/languages/plaintext/common/plaintext"],function(e,t,n){n.registerMode({id:"plainText",extensions:[".txt",".gitignore"],aliases:["Plain Text","text"],mimetypes:["text/plain"],moduleId:"vs/languages/plaintext/common/plaintext",ctorName:"Mode"})}),define("vs/languages/razor/common/razor.contribution",["require","exports","vs/editor/common/modes/modesRegistry"],function(e,t,n){n.registerMode({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],moduleId:"vs/languages/razor/common/razor",ctorName:"RAZORMode"})}),define("vs/css!vs/languages/typescript/common/typescript",["vs/css!vs/editor/editor.main"],{}),define("vs/languages/typescript/common/typescript.contribution",["require","exports","vs/nls!vs/editor/editor.main","vs/base/common/flags","vs/platform/platform","vs/editor/common/modes/modesRegistry","vs/platform/configuration/common/configurationRegistry","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/contrib/suggest/common/suggest","vs/editor/common/common","vs/languages/typescript/common/options","vs/css!./typescript"],function(e,t,n,o,r,i,s,a,u,c,l){var d=l.typeScriptOptions;if(o.enableTypeScriptServiceMode)a.KeybindingsRegistry.registerCommandRule({id:"^"+u.ACCEPT_SELECTED_SUGGESTION_CMD,weight:a.KeybindingsRegistry.WEIGHT.editorContrib(),context:[{key:c.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS},{key:u.CONTEXT_SUGGEST_WIDGET_VISIBLE},{key:c.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID,operator:a.KeybindingsRegistry.KEYBINDING_CONTEXT_OPERATOR_EQUAL,operand:"typescript"}],primary:{key:"."}});else{i.registerMode({id:"typescript",extensions:[".ts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],moduleId:"vs/languages/typescript/common/typescriptMode",ctorName:"TypeScriptMode"}),i.registerWorkerParticipant("typescript","vs/languages/typescript/common/participants/filenameSuggestions","FilenameSuggestions");var h=r.Registry.as(s.Extensions.Configuration);h.registerConfiguration({id:"typescript",order:20,title:n.localize("vs_languages_typescript_common_typescript.contribution",0),allOf:[{type:"object",title:n.localize("vs_languages_typescript_common_typescript.contribution",1),properties:{"typescript.suggest.alwaysAllWords":{type:"boolean",default:d.suggest.alwaysAllWords,description:n.localize("vs_languages_typescript_common_typescript.contribution",2)},"typescript.suggest.useCodeSnippetsOnMethodSuggest":{type:"boolean",default:d.suggest.useCodeSnippetsOnMethodSuggest,description:n.localize("vs_languages_typescript_common_typescript.contribution",3)}}},{type:"object",title:n.localize("vs_languages_typescript_common_typescript.contribution",4),properties:{"typescript.validate.lint.curlyBracketsMustNotBeOmitted":{enum:["ignore","warning","error"],default:d.validate.lint.curlyBracketsMustNotBeOmitted,description:n.localize("vs_languages_typescript_common_typescript.contribution",5)},"typescript.validate.lint.emptyBlocksWithoutComment":{enum:["ignore","warning","error"],default:d.validate.lint.emptyBlocksWithoutComment,description:n.localize("vs_languages_typescript_common_typescript.contribution",6)},"typescript.validate.lint.comparisonOperatorsNotStrict":{enum:["ignore","warning","error"],default:d.validate.lint.comparisonOperatorsNotStrict,description:n.localize("vs_languages_typescript_common_typescript.contribution",7)},"typescript.validate.lint.missingSemicolon":{enum:["ignore","warning","error"],default:d.validate.lint.missingSemicolon,description:n.localize("vs_languages_typescript_common_typescript.contribution",8)},"typescript.validate.lint.unknownTypeOfResults":{enum:["ignore","warning","error"],default:d.validate.lint.unknownTypeOfResults,description:n.localize("vs_languages_typescript_common_typescript.contribution",9)},"typescript.validate.lint.semicolonsInsteadOfBlocks":{enum:["ignore","warning","error"],default:d.validate.lint.semicolonsInsteadOfBlocks,description:n.localize("vs_languages_typescript_common_typescript.contribution",10)},"typescript.validate.lint.functionsInsideLoops":{enum:["ignore","warning","error"],default:d.validate.lint.functionsInsideLoops,description:n.localize("vs_languages_typescript_common_typescript.contribution",11)},"typescript.validate.lint.newOnLowercaseFunctions":{enum:["ignore","warning","error"],default:d.validate.lint.newOnLowercaseFunctions,description:n.localize("vs_languages_typescript_common_typescript.contribution",12)},"typescript.validate.lint.tripleSlashReferenceAlike":{enum:["ignore","warning","error"],default:d.validate.lint.tripleSlashReferenceAlike,description:n.localize("vs_languages_typescript_common_typescript.contribution",13)},"typescript.validate.lint.unusedVariables":{enum:["ignore","warning","error"],default:d.validate.lint.unusedVariables,description:n.localize("vs_languages_typescript_common_typescript.contribution",14)},"typescript.validate.lint.unusedFunctions":{enum:["ignore","warning","error"],default:d.validate.lint.unusedFunctions,description:n.localize("vs_languages_typescript_common_typescript.contribution",15)},"typescript.validate.lint.unusedMembers":{enum:["ignore","warning","error"],default:d.validate.lint.unusedMembers,description:n.localize("vs_languages_typescript_common_typescript.contribution",16)},"typescript.validate.lint.functionsWithoutReturnType":{enum:["ignore","warning","error"],default:d.validate.lint.functionsWithoutReturnType,description:n.localize("vs_languages_typescript_common_typescript.contribution",17)}}}]})}}),define("vs/languages/less/common/less.contribution",["require","exports","vs/platform/platform","vs/nls!vs/editor/editor.main","vs/languages/css/common/services/lintRules","vs/editor/common/modes/modesRegistry","vs/platform/configuration/common/configurationRegistry","vs/css!vs/languages/css/common/css-hover"],function(e,t,n,o,r,i,s){i.registerMode({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],moduleId:"vs/languages/less/common/less",ctorName:"LESSMode"});var a=n.Registry.as(s.Extensions.Configuration);a.registerConfiguration({id:"less",order:22,type:"object",title:o.localize("vs_languages_less_common_less.contribution",0),allOf:[{title:o.localize("vs_languages_less_common_less.contribution",1),properties:r.getConfigurationProperties("less.lint")}]})}),define("vs/languages/sass/common/sass.contribution",["require","exports","vs/editor/common/modes/modesRegistry","vs/platform/platform","vs/nls!vs/editor/editor.main","vs/languages/css/common/services/lintRules","vs/platform/configuration/common/configurationRegistry","vs/css!vs/languages/css/common/css-hover"],function(e,t,n,o,r,i,s){n.registerMode({id:"sass",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],moduleId:"vs/languages/sass/common/sass",ctorName:"SASSMode"});var a=o.Registry.as(s.Extensions.Configuration);a.registerConfiguration({id:"sass",order:24,title:r.localize("vs_languages_sass_common_sass.contribution",0),allOf:[{title:r.localize("vs_languages_sass_common_sass.contribution",1),properties:i.getConfigurationProperties("sass.lint")}]})}),define("vs/languages/languages.main",["vs/languages/annotatedLanguage/common/annotatedLanguage.contribution","vs/languages/css/common/css.contribution","vs/languages/handlebars/common/handlebars.contribution","vs/languages/html/common/html.contribution","vs/languages/javascript/common/javascript.contribution","vs/languages/json/common/json.contribution","vs/languages/markdown/common/markdown.contribution","vs/languages/php/common/php.contribution","vs/languages/plaintext/common/plaintext.contribution","vs/languages/razor/common/razor.contribution","vs/languages/typescript/common/typescript.contribution","vs/languages/less/common/less.contribution","vs/languages/sass/common/sass.contribution"],function(){}),define("vs/text!vs/plugins/vs.language.csharp/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.csharp",\r\n	"activationEvents": ["textModel:csharp"],\r\n	"mainModule": "./csharpMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "csharp",\r\n			"extensions": [ ".cs", ".csx" ],\r\n			"aliases": [ "C#", "csharp" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.csharp"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./csharpMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.dockerfile/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.dockerfile",\r\n	"activationEvents": ["textModel:dockerfile"],\r\n	"mainModule": "./dockerfileMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "dockerfile",\r\n			"extensions": [ ".dockerfile" ],\r\n			"filenames": [ "Dockerfile" ],\r\n			"aliases": [ "Dockerfile" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.dockerfile"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./dockerfileMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.objective-c/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.objective-c",\r\n	"activationEvents": ["textModel:objective-c"],\r\n	"mainModule": "./objective-cMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "objective-c",\r\n			"extensions": [ ".m" ],\r\n			"aliases": [ "Objective-C"]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.objective-c"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./objective-cMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.python/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.python",\r\n	"activationEvents": ["textModel:python"],\r\n	"mainModule": "./pythonMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "python",\r\n			"extensions": [ ".py" ],\r\n			"aliases": [ "Python", "py" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.python"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./pythonMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.r/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.r",\r\n	"activationEvents": ["textModel:r"],\r\n	"mainModule": "./rMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "r",\r\n			"extensions": [ ".r", ".rhistory", ".rprofile", ".rt" ],\r\n			"aliases": [ "R", "r" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.r"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./rMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.ruby/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.ruby",\r\n	"activationEvents": ["textModel:ruby"],\r\n	"mainModule": "./rubyMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "ruby",\r\n			"extensions": [ ".rb", ".gemspec", ".pp" ],\r\n			"filenames": [ "rakefile" ],\r\n			"aliases": [ "Ruby", "rb" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.ruby"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./rubyMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.tsql/ticino.plugin.json",function(){return'{\n	"pluginId": "vs.language.tsql",\n	"activationEvents": ["textModel:sql"],\n	"mainModule": "./sqlMain",\n	"contributes": {\n		"language": [{\n			"id": "sql",\n			"extensions": [ ".sql" ],\n			"aliases": [ "SQL" ]\n		}]\n	},\n	"scripts": {\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.tsql"\n	},\n	"_bundling": [\n		{ "name": "./sqlMain" }\n	]\n}'}),define("vs/text!vs/plugins/vs.language.java/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.java",\r\n	"activationEvents": ["textModel:java"],\r\n	"mainModule": "./javaMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "java",\r\n			"extensions": [ ".java", ".jav" ],\r\n			"aliases": [ "Java", "java" ],\r\n			"mimetypes": ["text/x-java-source", "text/x-java"]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.java"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./javaMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.powershell/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.powershell",\r\n	"activationEvents": ["textModel:powershell"],\r\n	"mainModule": "./powershellMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "powershell",\r\n			"extensions": [ ".ps1", ".psm1", ".psd1" ],\r\n			"aliases": [ "PowerShell", "powershell", "ps", "ps1" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.powershell"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./powershellMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.lua/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.lua",\r\n	"activationEvents": ["textModel:lua"],\r\n	"mainModule": "./luaMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "lua",\r\n			"extensions": [ ".lua" ],\r\n			"aliases": [ "Lua", "lua" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.lua"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./luaMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.jade/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.jade",\r\n	"activationEvents": ["textModel:jade"],\r\n	"mainModule": "./jadeMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "jade",\r\n			"extensions": [ ".jade" ],\r\n			"aliases": [ "Jade", "jade" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.jade"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./jadeMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.ini/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.ini",\r\n	"activationEvents": ["textModel:ini"],\r\n	"mainModule": "./iniMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "ini",\r\n			"extensions": [ ".ini", ".properties", ".gitconfig" ],\r\n			"filenames": ["config", ".gitignore", ".gitattributes", ".gitconfig", ".editorconfig"],\r\n			"aliases": [ "Ini", "ini" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.ini"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./iniMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.fsharp/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.fsharp",\r\n	"activationEvents": ["textModel:fsharp"],\r\n	"mainModule": "./fsharpMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "fsharp",\r\n			"extensions": [ ".fs", ".fsi", ".ml", ".mli", ".fsx", ".fsscript" ],\r\n			"aliases": [ "F#", "FSharp", "fsharp" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.fsharp"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./fsharpMain" }\r\n	]\r\n}'
}),define("vs/text!vs/plugins/vs.language.cpp/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.cpp",\r\n	"activationEvents": ["textModel:cpp"],\r\n	"mainModule": "./cppMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "cpp",\r\n			"extensions": [ ".cpp", ".c", ".cc", ".cxx", ".h", ".hpp", ".hh", ".hxx" ],\r\n			"aliases": [ "C++", "Cpp", "cpp", "c" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.cpp"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./cppMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.coffeescript/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.coffeescript",\r\n	"activationEvents": ["textModel:coffeescript"],\r\n	"mainModule": "./coffeeMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "coffeescript",\r\n			"extensions": [ ".coffee" ],\r\n			"aliases": [ "CoffeeScript", "coffeescript", "coffee" ],\r\n			"mimetypes": ["text/x-coffeescript", "text/coffeescript"]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.coffeescript"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./coffeeMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.bat/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.bat",\r\n	"activationEvents": ["textModel:bat"],\r\n	"mainModule": "./batMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "bat",\r\n			"extensions": [ ".bat", ".cmd"],\r\n			"aliases": [ "Batch", "bat" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.bat"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./batMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.xml/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.xml",\r\n	"activationEvents": ["textModel:xml"],\r\n	"mainModule": "./xmlMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "xml",\r\n			"extensions": [ ".xml", ".ascx", ".csproj", ".config", ".wxi", ".wxl", ".wxs", ".xaml", ".svg", ".svgz" ],\r\n			"firstLine" : "(\\\\<\\\\?xml.*)|(\\\\<svg)|(\\\\<\\\\!doctype\\\\s+svg)",\r\n			"aliases": [ "XML", "xml" ],\r\n			"mimetypes": ["text/xml", "application/xml", "application/xaml+xml"]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.xml"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./xmlMain" },\r\n		{ "name": "./xmlWorker" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.vb/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.vb",\r\n	"activationEvents": ["textModel:vb"],\r\n	"mainModule": "./vbMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "vb",\r\n			"extensions": [ ".vb" ],\r\n			"aliases": [ "Visual Basic", "vb" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.vb"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./vbMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.go/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.go",\r\n	"activationEvents": ["textModel:go"],\r\n	"mainModule": "./goMain",\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "go",\r\n			"extensions": [ ".go" ],\r\n			"aliases": [ "Go" ]\r\n		}]\r\n	},\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.go"\r\n	},\r\n	"_bundling": [\r\n		{ "name": "./goMain" }\r\n	]\r\n}'}),define("vs/text!vs/plugins/vs.language.swift/ticino.plugin.json",function(){return'{\r\n	"pluginId": "vs.language.swift",\r\n	"activationEvents": ["textModel:swift"],\r\n	"mainModule": "./swiftMain",\r\n	"scripts": {\r\n		"compile": "node ../../node_modules/gulp/bin/gulp.js --gulpfile ../gulpfile.js compile --dir vs.language.swift"\r\n	},\r\n	"contributes": {\r\n		"language": [{\r\n			"id": "swift",\r\n			"aliases": ["Swift","swift"],\r\n			"extensions": [".swift"],\r\n			"mimetypes": ["text/swift"]\r\n		}]\r\n	},\r\n	"_testing": "./tests/swiftTests",\r\n	"_bundling": [\r\n		{ "name": "./swiftMain" }\r\n	]\r\n}'}),define("vs/languages/languages.compat.common",["require","exports","vs/platform/plugins/common/pluginsRegistry","vs/base/common/json","vs/base/common/paths","vs/base/common/errors","vs/text!vs/plugins/vs.language.csharp/ticino.plugin.json","vs/text!vs/plugins/vs.language.dockerfile/ticino.plugin.json","vs/text!vs/plugins/vs.language.objective-c/ticino.plugin.json","vs/text!vs/plugins/vs.language.python/ticino.plugin.json","vs/text!vs/plugins/vs.language.r/ticino.plugin.json","vs/text!vs/plugins/vs.language.ruby/ticino.plugin.json","vs/text!vs/plugins/vs.language.tsql/ticino.plugin.json","vs/text!vs/plugins/vs.language.java/ticino.plugin.json","vs/text!vs/plugins/vs.language.powershell/ticino.plugin.json","vs/text!vs/plugins/vs.language.lua/ticino.plugin.json","vs/text!vs/plugins/vs.language.jade/ticino.plugin.json","vs/text!vs/plugins/vs.language.ini/ticino.plugin.json","vs/text!vs/plugins/vs.language.fsharp/ticino.plugin.json","vs/text!vs/plugins/vs.language.cpp/ticino.plugin.json","vs/text!vs/plugins/vs.language.coffeescript/ticino.plugin.json","vs/text!vs/plugins/vs.language.bat/ticino.plugin.json","vs/text!vs/plugins/vs.language.xml/ticino.plugin.json","vs/text!vs/plugins/vs.language.vb/ticino.plugin.json","vs/text!vs/plugins/vs.language.go/ticino.plugin.json","vs/text!vs/plugins/vs.language.swift/ticino.plugin.json"],function(e,t,n,o,r,i){function s(e){e.forEach(function(e){try{a(e)}catch(t){i.onUnexpectedError("Error in "+e+":\n"+t.message+"\n\n"+t.stack)}})}function a(t){var i=e("vs/text!"+t),s=o.parse(i);"string"==typeof s.mainModule&&(s.mainModule=r.join(r.dirname(t),s.mainModule)),"string"==typeof s._testing&&(s._testing=r.join(r.dirname(t),s._testing)),n.PluginsRegistry.registerPlugin(s)}s(["vs/plugins/vs.language.csharp/ticino.plugin.json","vs/plugins/vs.language.dockerfile/ticino.plugin.json","vs/plugins/vs.language.objective-c/ticino.plugin.json","vs/plugins/vs.language.python/ticino.plugin.json","vs/plugins/vs.language.r/ticino.plugin.json","vs/plugins/vs.language.ruby/ticino.plugin.json","vs/plugins/vs.language.tsql/ticino.plugin.json","vs/plugins/vs.language.java/ticino.plugin.json","vs/plugins/vs.language.powershell/ticino.plugin.json","vs/plugins/vs.language.lua/ticino.plugin.json","vs/plugins/vs.language.jade/ticino.plugin.json","vs/plugins/vs.language.ini/ticino.plugin.json","vs/plugins/vs.language.fsharp/ticino.plugin.json","vs/plugins/vs.language.cpp/ticino.plugin.json","vs/plugins/vs.language.coffeescript/ticino.plugin.json","vs/plugins/vs.language.bat/ticino.plugin.json","vs/plugins/vs.language.xml/ticino.plugin.json","vs/plugins/vs.language.vb/ticino.plugin.json","vs/plugins/vs.language.go/ticino.plugin.json","vs/plugins/vs.language.swift/ticino.plugin.json"])}),define("vs/editor/editor.main",["vs/editor/browser/editor.all","vs/editor/browser/standalone/standaloneEditor","vs/editor/contrib/quickOpen/browser/quickOutline.contribution","vs/editor/contrib/quickOpen/browser/gotoLine.contribution","vs/editor/contrib/quickOpen/browser/quickCommand.contribution","vs/languages/languages.main","vs/languages/languages.compat.common"],function(){});